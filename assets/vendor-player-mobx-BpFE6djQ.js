function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var iw={exports:{}},Tv={};var vD;function t8(){if(vD)return Tv;vD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Tv.Fragment=e,Tv.jsx=t,Tv.jsxs=t,Tv}var yD;function n8(){return yD||(yD=1,iw.exports=t8()),iw.exports}var fre=n8(),aw={exports:{}},Si={};var ED;function i8(){if(ED)return Si;ED=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function y(De){return De===null||typeof De!="object"?null:(De=p&&De[p]||De["@@iterator"],typeof De=="function"?De:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function M(De,We,ct){this.props=De,this.context=We,this.refs=w,this.updater=ct||E}M.prototype.isReactComponent={},M.prototype.setState=function(De,We){if(typeof De!="object"&&typeof De!="function"&&De!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,De,We,"setState")},M.prototype.forceUpdate=function(De){this.updater.enqueueForceUpdate(this,De,"forceUpdate")};function x(){}x.prototype=M.prototype;function C(De,We,ct){this.props=De,this.context=We,this.refs=w,this.updater=ct||E}var O=C.prototype=new x;O.constructor=C,A(O,M.prototype),O.isPureReactComponent=!0;var z=Array.isArray;function se(){}var F={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function be(De,We,ct){var It=ct.ref;return{$$typeof:n,type:De,key:We,ref:It!==void 0?It:null,props:ct}}function Ae(De,We){return be(De.type,We,De.props)}function Me(De){return typeof De=="object"&&De!==null&&De.$$typeof===n}function Ve(De){var We={"=":"=0",":":"=2"};return"$"+De.replace(/[=:]/g,function(ct){return We[ct]})}var Se=/\/+/g;function He(De,We){return typeof De=="object"&&De!==null&&De.key!=null?Ve(""+De.key):We.toString(36)}function Ue(De){switch(De.status){case"fulfilled":return De.value;case"rejected":throw De.reason;default:switch(typeof De.status=="string"?De.then(se,se):(De.status="pending",De.then(function(We){De.status==="pending"&&(De.status="fulfilled",De.value=We)},function(We){De.status==="pending"&&(De.status="rejected",De.reason=We)})),De.status){case"fulfilled":return De.value;case"rejected":throw De.reason}}throw De}function he(De,We,ct,It,Fe){var ze=typeof De;(ze==="undefined"||ze==="boolean")&&(De=null);var pt=!1;if(De===null)pt=!0;else switch(ze){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(De.$$typeof){case n:case e:pt=!0;break;case g:return pt=De._init,he(pt(De._payload),We,ct,It,Fe)}}if(pt)return Fe=Fe(De),pt=It===""?"."+He(De,0):It,z(Fe)?(ct="",pt!=null&&(ct=pt.replace(Se,"$&/")+"/"),he(Fe,We,ct,"",function(P){return P})):Fe!=null&&(Me(Fe)&&(Fe=Ae(Fe,ct+(Fe.key==null||De&&De.key===Fe.key?"":(""+Fe.key).replace(Se,"$&/")+"/")+pt)),We.push(Fe)),1;pt=0;var re=It===""?".":It+":";if(z(De))for(var ee=0;ee<De.length;ee++)It=De[ee],ze=re+He(It,ee),pt+=he(It,We,ct,ze,Fe);else if(ee=y(De),typeof ee=="function")for(De=ee.call(De),ee=0;!(It=De.next()).done;)It=It.value,ze=re+He(It,ee++),pt+=he(It,We,ct,ze,Fe);else if(ze==="object"){if(typeof De.then=="function")return he(Ue(De),We,ct,It,Fe);throw We=String(De),Error("Objects are not valid as a React child (found: "+(We==="[object Object]"?"object with keys {"+Object.keys(De).join(", ")+"}":We)+"). If you meant to render a collection of children, use an array instead.")}return pt}function $e(De,We,ct){if(De==null)return De;var It=[],Fe=0;return he(De,It,"","",function(ze){return We.call(ct,ze,Fe++)}),It}function Ye(De){if(De._status===-1){var We=De._result;We=We(),We.then(function(ct){(De._status===0||De._status===-1)&&(De._status=1,De._result=ct)},function(ct){(De._status===0||De._status===-1)&&(De._status=2,De._result=ct)}),De._status===-1&&(De._status=0,De._result=We)}if(De._status===1)return De._result.default;throw De._result}var tt=typeof reportError=="function"?reportError:function(De){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var We=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof De=="object"&&De!==null&&typeof De.message=="string"?String(De.message):String(De),error:De});if(!window.dispatchEvent(We))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",De);return}console.error(De)},rt={map:$e,forEach:function(De,We,ct){$e(De,function(){We.apply(this,arguments)},ct)},count:function(De){var We=0;return $e(De,function(){We++}),We},toArray:function(De){return $e(De,function(We){return We})||[]},only:function(De){if(!Me(De))throw Error("React.Children.only expected to receive a single React element child.");return De}};return Si.Activity=m,Si.Children=rt,Si.Component=M,Si.Fragment=t,Si.Profiler=r,Si.PureComponent=C,Si.StrictMode=i,Si.Suspense=f,Si.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Si.__COMPILER_RUNTIME={__proto__:null,c:function(De){return F.H.useMemoCache(De)}},Si.cache=function(De){return function(){return De.apply(null,arguments)}},Si.cacheSignal=function(){return null},Si.cloneElement=function(De,We,ct){if(De==null)throw Error("The argument must be a React element, but you passed "+De+".");var It=A({},De.props),Fe=De.key;if(We!=null)for(ze in We.key!==void 0&&(Fe=""+We.key),We)!H.call(We,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&We.ref===void 0||(It[ze]=We[ze]);var ze=arguments.length-2;if(ze===1)It.children=ct;else if(1<ze){for(var pt=Array(ze),re=0;re<ze;re++)pt[re]=arguments[re+2];It.children=pt}return be(De.type,Fe,It)},Si.createContext=function(De){return De={$$typeof:l,_currentValue:De,_currentValue2:De,_threadCount:0,Provider:null,Consumer:null},De.Provider=De,De.Consumer={$$typeof:o,_context:De},De},Si.createElement=function(De,We,ct){var It,Fe={},ze=null;if(We!=null)for(It in We.key!==void 0&&(ze=""+We.key),We)H.call(We,It)&&It!=="key"&&It!=="__self"&&It!=="__source"&&(Fe[It]=We[It]);var pt=arguments.length-2;if(pt===1)Fe.children=ct;else if(1<pt){for(var re=Array(pt),ee=0;ee<pt;ee++)re[ee]=arguments[ee+2];Fe.children=re}if(De&&De.defaultProps)for(It in pt=De.defaultProps,pt)Fe[It]===void 0&&(Fe[It]=pt[It]);return be(De,ze,Fe)},Si.createRef=function(){return{current:null}},Si.forwardRef=function(De){return{$$typeof:c,render:De}},Si.isValidElement=Me,Si.lazy=function(De){return{$$typeof:g,_payload:{_status:-1,_result:De},_init:Ye}},Si.memo=function(De,We){return{$$typeof:h,type:De,compare:We===void 0?null:We}},Si.startTransition=function(De){var We=F.T,ct={};F.T=ct;try{var It=De(),Fe=F.S;Fe!==null&&Fe(ct,It),typeof It=="object"&&It!==null&&typeof It.then=="function"&&It.then(se,tt)}catch(ze){tt(ze)}finally{We!==null&&ct.types!==null&&(We.types=ct.types),F.T=We}},Si.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Si.use=function(De){return F.H.use(De)},Si.useActionState=function(De,We,ct){return F.H.useActionState(De,We,ct)},Si.useCallback=function(De,We){return F.H.useCallback(De,We)},Si.useContext=function(De){return F.H.useContext(De)},Si.useDebugValue=function(){},Si.useDeferredValue=function(De,We){return F.H.useDeferredValue(De,We)},Si.useEffect=function(De,We){return F.H.useEffect(De,We)},Si.useEffectEvent=function(De){return F.H.useEffectEvent(De)},Si.useId=function(){return F.H.useId()},Si.useImperativeHandle=function(De,We,ct){return F.H.useImperativeHandle(De,We,ct)},Si.useInsertionEffect=function(De,We){return F.H.useInsertionEffect(De,We)},Si.useLayoutEffect=function(De,We){return F.H.useLayoutEffect(De,We)},Si.useMemo=function(De,We){return F.H.useMemo(De,We)},Si.useOptimistic=function(De,We){return F.H.useOptimistic(De,We)},Si.useReducer=function(De,We,ct){return F.H.useReducer(De,We,ct)},Si.useRef=function(De){return F.H.useRef(De)},Si.useState=function(De){return F.H.useState(De)},Si.useSyncExternalStore=function(De,We,ct){return F.H.useSyncExternalStore(De,We,ct)},Si.useTransition=function(){return F.H.useTransition()},Si.version="19.2.3",Si}var bD;function RS(){return bD||(bD=1,aw.exports=i8()),aw.exports}var At=RS();const Gi=rE(At);var rw={exports:{}},Sv={},sw={exports:{}},ow={};var _D;function a8(){return _D||(_D=1,(function(n){function e(he,$e){var Ye=he.length;he.push($e);e:for(;0<Ye;){var tt=Ye-1>>>1,rt=he[tt];if(0<r(rt,$e))he[tt]=$e,he[Ye]=rt,Ye=tt;else break e}}function t(he){return he.length===0?null:he[0]}function i(he){if(he.length===0)return null;var $e=he[0],Ye=he.pop();if(Ye!==$e){he[0]=Ye;e:for(var tt=0,rt=he.length,De=rt>>>1;tt<De;){var We=2*(tt+1)-1,ct=he[We],It=We+1,Fe=he[It];if(0>r(ct,Ye))It<rt&&0>r(Fe,ct)?(he[tt]=Fe,he[It]=Ye,tt=It):(he[tt]=ct,he[We]=Ye,tt=We);else if(It<rt&&0>r(Fe,Ye))he[tt]=Fe,he[It]=Ye,tt=It;else break e}}return $e}function r(he,$e){var Ye=he.sortIndex-$e.sortIndex;return Ye!==0?Ye:he.id-$e.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],h=[],g=1,m=null,p=3,y=!1,E=!1,A=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(he){for(var $e=t(h);$e!==null;){if($e.callback===null)i(h);else if($e.startTime<=he)i(h),$e.sortIndex=$e.expirationTime,e(f,$e);else break;$e=t(h)}}function z(he){if(A=!1,O(he),!E)if(t(f)!==null)E=!0,se||(se=!0,Ve());else{var $e=t(h);$e!==null&&Ue(z,$e.startTime-he)}}var se=!1,F=-1,H=5,be=-1;function Ae(){return w?!0:!(n.unstable_now()-be<H)}function Me(){if(w=!1,se){var he=n.unstable_now();be=he;var $e=!0;try{e:{E=!1,A&&(A=!1,x(F),F=-1),y=!0;var Ye=p;try{t:{for(O(he),m=t(f);m!==null&&!(m.expirationTime>he&&Ae());){var tt=m.callback;if(typeof tt=="function"){m.callback=null,p=m.priorityLevel;var rt=tt(m.expirationTime<=he);if(he=n.unstable_now(),typeof rt=="function"){m.callback=rt,O(he),$e=!0;break t}m===t(f)&&i(f),O(he)}else i(f);m=t(f)}if(m!==null)$e=!0;else{var De=t(h);De!==null&&Ue(z,De.startTime-he),$e=!1}}break e}finally{m=null,p=Ye,y=!1}$e=void 0}}finally{$e?Ve():se=!1}}}var Ve;if(typeof C=="function")Ve=function(){C(Me)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,He=Se.port2;Se.port1.onmessage=Me,Ve=function(){He.postMessage(null)}}else Ve=function(){M(Me,0)};function Ue(he,$e){F=M(function(){he(n.unstable_now())},$e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(he){he.callback=null},n.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<he?Math.floor(1e3/he):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(he){switch(p){case 1:case 2:case 3:var $e=3;break;default:$e=p}var Ye=p;p=$e;try{return he()}finally{p=Ye}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(he,$e){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Ye=p;p=he;try{return $e()}finally{p=Ye}},n.unstable_scheduleCallback=function(he,$e,Ye){var tt=n.unstable_now();switch(typeof Ye=="object"&&Ye!==null?(Ye=Ye.delay,Ye=typeof Ye=="number"&&0<Ye?tt+Ye:tt):Ye=tt,he){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=Ye+rt,he={id:g++,callback:$e,priorityLevel:he,startTime:Ye,expirationTime:rt,sortIndex:-1},Ye>tt?(he.sortIndex=Ye,e(h,he),t(f)===null&&he===t(h)&&(A?(x(F),F=-1):A=!0,Ue(z,Ye-tt))):(he.sortIndex=rt,e(f,he),E||y||(E=!0,se||(se=!0,Ve()))),he},n.unstable_shouldYield=Ae,n.unstable_wrapCallback=function(he){var $e=p;return function(){var Ye=p;p=$e;try{return he.apply(this,arguments)}finally{p=Ye}}}})(ow)),ow}var TD;function r8(){return TD||(TD=1,sw.exports=a8()),sw.exports}var lw={exports:{}},as={};var SD;function s8(){if(SD)return as;SD=1;var n=RS();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,h,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:f,containerInfo:h,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return as.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,as.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},as.flushSync=function(f){var h=l.T,g=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=h,i.p=g,i.d.f()}},as.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},as.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},as.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,m=c(g,h.crossOrigin),p=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:y}):g==="script"&&i.d.X(f,{crossOrigin:m,integrity:p,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},as.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},as.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,m=c(g,h.crossOrigin);i.d.L(f,g,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},as.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},as.requestFormReset=function(f){i.d.r(f)},as.unstable_batchedUpdates=function(f,h){return f(h)},as.useFormState=function(f,h,g){return l.H.useFormState(f,h,g)},as.useFormStatus=function(){return l.H.useHostTransitionStatus()},as.version="19.2.3",as}var AD;function uP(){if(AD)return lw.exports;AD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lw.exports=s8(),lw.exports}var wD;function o8(){if(wD)return Sv;wD=1;var n=r8(),e=RS(),t=uP();function i(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function o(u){var d=u,v=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(v=d.return),u=d.return;while(u)}return d.tag===3?v:null}function l(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function c(u){if(u.tag===31){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function f(u){if(o(u)!==u)throw Error(i(188))}function h(u){var d=u.alternate;if(!d){if(d=o(u),d===null)throw Error(i(188));return d!==u?null:u}for(var v=u,b=d;;){var I=v.return;if(I===null)break;var N=I.alternate;if(N===null){if(b=I.return,b!==null){v=b;continue}break}if(I.child===N.child){for(N=I.child;N;){if(N===v)return f(I),u;if(N===b)return f(I),d;N=N.sibling}throw Error(i(188))}if(v.return!==b.return)v=I,b=N;else{for(var ye=!1,qe=I.child;qe;){if(qe===v){ye=!0,v=I,b=N;break}if(qe===b){ye=!0,b=I,v=N;break}qe=qe.sibling}if(!ye){for(qe=N.child;qe;){if(qe===v){ye=!0,v=N,b=I;break}if(qe===b){ye=!0,b=N,v=I;break}qe=qe.sibling}if(!ye)throw Error(i(189))}}if(v.alternate!==b)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?u:d}function g(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=g(u),d!==null)return d;u=u.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),Ae=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function Ve(u){return u===null||typeof u!="object"?null:(u=Me&&u[Me]||u["@@iterator"],typeof u=="function"?u:null)}var Se=Symbol.for("react.client.reference");function He(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Se?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case A:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case z:return"Suspense";case se:return"SuspenseList";case be:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case E:return"Portal";case C:return u.displayName||"Context";case x:return(u._context.displayName||"Context")+".Consumer";case O:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case F:return d=u.displayName||null,d!==null?d:He(u.type)||"Memo";case H:d=u._payload,u=u._init;try{return He(u(d))}catch{}}return null}var Ue=Array.isArray,he=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ye={pending:!1,data:null,method:null,action:null},tt=[],rt=-1;function De(u){return{current:u}}function We(u){0>rt||(u.current=tt[rt],tt[rt]=null,rt--)}function ct(u,d){rt++,tt[rt]=u.current,u.current=d}var It=De(null),Fe=De(null),ze=De(null),pt=De(null);function re(u,d){switch(ct(ze,d),ct(Fe,u),ct(It,null),d.nodeType){case 9:case 11:u=(u=d.documentElement)&&(u=u.namespaceURI)?zC(u):0;break;default:if(u=d.tagName,d=d.namespaceURI)d=zC(d),u=$C(d,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}We(It),ct(It,u)}function ee(){We(It),We(Fe),We(ze)}function P(u){u.memoizedState!==null&&ct(pt,u);var d=It.current,v=$C(d,u.type);d!==v&&(ct(Fe,u),ct(It,v))}function G(u){Fe.current===u&&(We(It),We(Fe)),pt.current===u&&(We(pt),yv._currentValue=Ye)}var ve,ce;function Qe(u){if(ve===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);ve=d&&d[1]||"",ce=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+u+ce}var ht=!1;function Je(u,d){if(!u||ht)return"";ht=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var hn=function(){throw Error()};if(Object.defineProperty(hn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(hn,[])}catch(Kt){var qt=Kt}Reflect.construct(u,[],hn)}else{try{hn.call()}catch(Kt){qt=Kt}u.call(hn.prototype)}}else{try{throw Error()}catch(Kt){qt=Kt}(hn=u())&&typeof hn.catch=="function"&&hn.catch(function(){})}}catch(Kt){if(Kt&&qt&&typeof Kt.stack=="string")return[Kt.stack,qt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),ye=N[0],qe=N[1];if(ye&&qe){var st=ye.split(`
`),Ft=qe.split(`
`);for(I=b=0;b<st.length&&!st[b].includes("DetermineComponentFrameRoot");)b++;for(;I<Ft.length&&!Ft[I].includes("DetermineComponentFrameRoot");)I++;if(b===st.length||I===Ft.length)for(b=st.length-1,I=Ft.length-1;1<=b&&0<=I&&st[b]!==Ft[I];)I--;for(;1<=b&&0<=I;b--,I--)if(st[b]!==Ft[I]){if(b!==1||I!==1)do if(b--,I--,0>I||st[b]!==Ft[I]){var rn=`
`+st[b].replace(" at new "," at ");return u.displayName&&rn.includes("<anonymous>")&&(rn=rn.replace("<anonymous>",u.displayName)),rn}while(1<=b&&0<=I);break}}}finally{ht=!1,Error.prepareStackTrace=v}return(v=u?u.displayName||u.name:"")?Qe(v):""}function it(u,d){switch(u.tag){case 26:case 27:case 5:return Qe(u.type);case 16:return Qe("Lazy");case 13:return u.child!==d&&d!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return Je(u.type,!1);case 11:return Je(u.type.render,!1);case 1:return Je(u.type,!0);case 31:return Qe("Activity");default:return""}}function Xe(u){try{var d="",v=null;do d+=it(u,v),v=u,u=u.return;while(u);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var lt=Object.prototype.hasOwnProperty,Rt=n.unstable_scheduleCallback,dt=n.unstable_cancelCallback,Bt=n.unstable_shouldYield,wn=n.unstable_requestPaint,Zt=n.unstable_now,gn=n.unstable_getCurrentPriorityLevel,en=n.unstable_ImmediatePriority,Wn=n.unstable_UserBlockingPriority,Ti=n.unstable_NormalPriority,Xi=n.unstable_LowPriority,zi=n.unstable_IdlePriority,ki=n.log,wa=n.unstable_setDisableYieldValue,Gt=null,$t=null;function Lt(u){if(typeof ki=="function"&&wa(u),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Gt,u)}catch{}}var kt=Math.clz32?Math.clz32:pn,dn=Math.log,un=Math.LN2;function pn(u){return u>>>=0,u===0?32:31-(dn(u)/un|0)|0}var Sn=256,Wt=262144,Jt=4194304;function cn(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function bn(u,d,v){var b=u.pendingLanes;if(b===0)return 0;var I=0,N=u.suspendedLanes,ye=u.pingedLanes;u=u.warmLanes;var qe=b&134217727;return qe!==0?(b=qe&~N,b!==0?I=cn(b):(ye&=qe,ye!==0?I=cn(ye):v||(v=qe&~u,v!==0&&(I=cn(v))))):(qe=b&~N,qe!==0?I=cn(qe):ye!==0?I=cn(ye):v||(v=b&~u,v!==0&&(I=cn(v)))),I===0?0:d!==0&&d!==I&&(d&N)===0&&(N=I&-I,v=d&-d,N>=v||N===32&&(v&4194048)!==0)?d:I}function an(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function xn(u,d){switch(u){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(){var u=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),u}function qn(u){for(var d=[],v=0;31>v;v++)d.push(u);return d}function zn(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ai(u,d,v,b,I,N){var ye=u.pendingLanes;u.pendingLanes=v,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=v,u.entangledLanes&=v,u.errorRecoveryDisabledLanes&=v,u.shellSuspendCounter=0;var qe=u.entanglements,st=u.expirationTimes,Ft=u.hiddenUpdates;for(v=ye&~v;0<v;){var rn=31-kt(v),hn=1<<rn;qe[rn]=0,st[rn]=-1;var qt=Ft[rn];if(qt!==null)for(Ft[rn]=null,rn=0;rn<qt.length;rn++){var Kt=qt[rn];Kt!==null&&(Kt.lane&=-536870913)}v&=~hn}b!==0&&En(u,b,0),N!==0&&I===0&&u.tag!==0&&(u.suspendedLanes|=N&~(ye&~d))}function En(u,d,v){u.pendingLanes|=d,u.suspendedLanes&=~d;var b=31-kt(d);u.entangledLanes|=d,u.entanglements[b]=u.entanglements[b]|1073741824|v&261930}function Ut(u,d){var v=u.entangledLanes|=d;for(u=u.entanglements;v;){var b=31-kt(v),I=1<<b;I&d|u[b]&d&&(u[b]|=d),v&=~I}}function vt(u,d){var v=d&-d;return v=(v&42)!==0?1:fn(v),(v&(u.suspendedLanes|d))!==0?0:v}function fn(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function An(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Qn(){var u=$e.p;return u!==0?u:(u=window.event,u===void 0?32:cD(u.type))}function wi(u,d){var v=$e.p;try{return $e.p=u,d()}finally{$e.p=v}}var Ri=Math.random().toString(36).slice(2),Ni="__reactFiber$"+Ri,yi="__reactProps$"+Ri,ua="__reactContainer$"+Ri,xe="__reactEvents$"+Ri,Qa="__reactListeners$"+Ri,Es="__reactHandles$"+Ri,ao="__reactResources$"+Ri,Xa="__reactMarker$"+Ri;function Uo(u){delete u[Ni],delete u[yi],delete u[xe],delete u[Qa],delete u[Es]}function $a(u){var d=u[Ni];if(d)return d;for(var v=u.parentNode;v;){if(d=v[ua]||v[Ni]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(u=YC(u);u!==null;){if(v=u[Ni])return v;u=YC(u)}return d}u=v,v=u.parentNode}return null}function ro(u){if(u=u[Ni]||u[ua]){var d=u.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return u}return null}function wl(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u.stateNode;throw Error(i(33))}function so(u){var d=u[ao];return d||(d=u[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function qa(u){u[Xa]=!0}var yc=new Set,Fo={};function oo(u,d){nn(u,d),nn(u+"Capture",d)}function nn(u,d){for(Fo[u]=d,u=0;u<d.length;u++)yc.add(d[u])}var Rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yn={},vi={};function mi(u){return lt.call(vi,u)?!0:lt.call(Yn,u)?!1:Rn.test(u)?vi[u]=!0:(Yn[u]=!0,!1)}function Oi(u,d,v){if(mi(d))if(v===null)u.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":u.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){u.removeAttribute(d);return}}u.setAttribute(d,""+v)}}function Wi(u,d,v){if(v===null)u.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(d);return}u.setAttribute(d,""+v)}}function Ei(u,d,v,b){if(b===null)u.removeAttribute(v);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(v);return}u.setAttributeNS(d,v,""+b)}}function di(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function xi(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Zi(u,d,v){var b=Object.getOwnPropertyDescriptor(u.constructor.prototype,d);if(!u.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var I=b.get,N=b.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return I.call(this)},set:function(ye){v=""+ye,N.call(this,ye)}}),Object.defineProperty(u,d,{enumerable:b.enumerable}),{getValue:function(){return v},setValue:function(ye){v=""+ye},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function os(u){if(!u._valueTracker){var d=xi(u)?"checked":"value";u._valueTracker=Zi(u,d,""+u[d])}}function bs(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var v=d.getValue(),b="";return u&&(b=xi(u)?u.checked?"true":"false":u.value),u=b,u!==v?(d.setValue(u),!0):!1}function Xr(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Bo=/[\n"\\]/g;function Ur(u){return u.replace(Bo,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function zo(u,d,v,b,I,N,ye,qe){u.name="",ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?u.type=ye:u.removeAttribute("type"),d!=null?ye==="number"?(d===0&&u.value===""||u.value!=d)&&(u.value=""+di(d)):u.value!==""+di(d)&&(u.value=""+di(d)):ye!=="submit"&&ye!=="reset"||u.removeAttribute("value"),d!=null?lo(u,ye,di(d)):v!=null?lo(u,ye,di(v)):b!=null&&u.removeAttribute("value"),I==null&&N!=null&&(u.defaultChecked=!!N),I!=null&&(u.checked=I&&typeof I!="function"&&typeof I!="symbol"),qe!=null&&typeof qe!="function"&&typeof qe!="symbol"&&typeof qe!="boolean"?u.name=""+di(qe):u.removeAttribute("name")}function Fr(u,d,v,b,I,N,ye,qe){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(u.type=N),d!=null||v!=null){if(!(N!=="submit"&&N!=="reset"||d!=null)){os(u);return}v=v!=null?""+di(v):"",d=d!=null?""+di(d):v,qe||d===u.value||(u.value=d),u.defaultValue=d}b=b??I,b=typeof b!="function"&&typeof b!="symbol"&&!!b,u.checked=qe?u.checked:!!b,u.defaultChecked=!!b,ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"&&(u.name=ye),os(u)}function lo(u,d,v){d==="number"&&Xr(u.ownerDocument)===u||u.defaultValue===""+v||(u.defaultValue=""+v)}function Oa(u,d,v,b){if(u=u.options,d){d={};for(var I=0;I<v.length;I++)d["$"+v[I]]=!0;for(v=0;v<u.length;v++)I=d.hasOwnProperty("$"+u[v].value),u[v].selected!==I&&(u[v].selected=I),I&&b&&(u[v].defaultSelected=!0)}else{for(v=""+di(v),d=null,I=0;I<u.length;I++){if(u[I].value===v){u[I].selected=!0,b&&(u[I].defaultSelected=!0);return}d!==null||u[I].disabled||(d=u[I])}d!==null&&(d.selected=!0)}}function Gd(u,d,v){if(d!=null&&(d=""+di(d),d!==u.value&&(u.value=d),v==null)){u.defaultValue!==d&&(u.defaultValue=d);return}u.defaultValue=v!=null?""+di(v):""}function Ji(u,d,v,b){if(d==null){if(b!=null){if(v!=null)throw Error(i(92));if(Ue(b)){if(1<b.length)throw Error(i(93));b=b[0]}v=b}v==null&&(v=""),d=v}v=di(d),u.defaultValue=v,b=u.textContent,b===v&&b!==""&&b!==null&&(u.value=b),os(u)}function uo(u,d){if(d){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=d;return}}u.textContent=d}var Vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(u,d,v){var b=d.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?b?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="":b?u.setProperty(d,v):typeof v!="number"||v===0||Vd.has(d)?d==="float"?u.cssFloat=v:u[d]=(""+v).trim():u[d]=v+"px"}function bc(u,d,v){if(d!=null&&typeof d!="object")throw Error(i(62));if(u=u.style,v!=null){for(var b in v)!v.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?u.setProperty(b,""):b==="float"?u.cssFloat="":u[b]="");for(var I in d)b=d[I],d.hasOwnProperty(I)&&v[I]!==b&&Ec(u,I,b)}else for(var N in d)d.hasOwnProperty(N)&&Ec(u,N,d[N])}function _c(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(u){return yh.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function kr(){}var $o=null;function Zr(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var qo=null,ir=null;function Yd(u){var d=ro(u);if(d&&(u=d.stateNode)){var v=u[yi]||null;e:switch(u=d.stateNode,d.type){case"input":if(zo(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),d=v.name,v.type==="radio"&&d!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Ur(""+d)+'"][type="radio"]'),d=0;d<v.length;d++){var b=v[d];if(b!==u&&b.form===u.form){var I=b[yi]||null;if(!I)throw Error(i(90));zo(b,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(d=0;d<v.length;d++)b=v[d],b.form===u.form&&bs(b)}break e;case"textarea":Gd(u,v.value,v.defaultValue);break e;case"select":d=v.value,d!=null&&Oa(u,!!v.multiple,d,!1)}}}var ls=!1;function Xg(u,d,v){if(ls)return u(d,v);ls=!0;try{var b=u(d);return b}finally{if(ls=!1,(qo!==null||ir!==null)&&(ns(),qo&&(d=qo,u=ir,ir=qo=null,Yd(d),u)))for(d=0;d<u.length;d++)Yd(u[d])}}function Tc(u,d){var v=u.stateNode;if(v===null)return null;var b=v[yi]||null;if(b===null)return null;v=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(i(231,d,typeof v));return v}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=!1;if(Ps)try{var Sc={};Object.defineProperty(Sc,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{Eh=!1}var Us=null,_s=null,Wd=null;function pE(){if(Wd)return Wd;var u,d=_s,v=d.length,b,I="value"in Us?Us.value:Us.textContent,N=I.length;for(u=0;u<v&&d[u]===I[u];u++);var ye=v-u;for(b=1;b<=ye&&d[v-b]===I[N-b];b++);return Wd=I.slice(u,1<b?1-b:void 0)}function Qd(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Xd(){return!0}function bh(){return!1}function xr(u){function d(v,b,I,N,ye){this._reactName=v,this._targetInst=I,this.type=b,this.nativeEvent=N,this.target=ye,this.currentTarget=null;for(var qe in u)u.hasOwnProperty(qe)&&(v=u[qe],this[qe]=v?v(N):N[qe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Xd:bh,this.isPropagationStopped=bh,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),d}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zd=xr(jo),Ac=m({},jo,{view:0,detail:0}),vE=xr(Ac),us,Ra,Ts,Ss=m({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ts&&(Ts&&u.type==="mousemove"?(us=u.screenX-Ts.screenX,Ra=u.screenY-Ts.screenY):Ra=us=0,Ts=u),us)},movementY:function(u){return"movementY"in u?u.movementY:Ra}}),yE=xr(Ss),Zg=m({},Ss,{dataTransfer:0}),EE=xr(Zg),_h=m({},Ac,{relatedTarget:0}),Jd=xr(_h),Th=m({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),gA=xr(Th),bE=m({},jo,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Jg=xr(bE),_E=m({},jo,{data:0}),Sh=xr(_E),pA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SE(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=TE[u])?!!d[u]:!1}function tp(){return SE}var vA=m({},Ac,{key:function(u){if(u.key){var d=pA[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Qd(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?ep[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(u){return u.type==="keypress"?Qd(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Qd(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),AE=xr(vA),yA=m({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wE=xr(yA),co=m({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),RE=xr(co),IE=m({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=xr(IE),xE=m({},Ss,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),CE=xr(xE),ef=m({},jo,{newState:0,oldState:0}),DE=xr(ef),Ah=[9,13,27,32],np=Ps&&"CompositionEvent"in window,tf=null;Ps&&"documentMode"in document&&(tf=document.documentMode);var EA=Ps&&"TextEvent"in window&&!tf,wh=Ps&&(!np||tf&&8<tf&&11>=tf),LE=" ",ip=!1;function ap(u,d){switch(u){case"keyup":return Ah.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Su=!1;function bA(u,d){switch(u){case"compositionend":return Rh(d);case"keypress":return d.which!==32?null:(ip=!0,LE);case"textInput":return u=d.data,u===LE&&ip?null:u;default:return null}}function ME(u,d){if(Su)return u==="compositionend"||!np&&ap(u,d)?(u=pE(),Wd=_s=Us=null,Su=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return wh&&d.locale!=="ko"?null:d.data;default:return null}}var NE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!NE[u.type]:d==="textarea"}function sp(u,d,v,b){qo?ir?ir.push(b):ir=[b]:qo=b,d=Qb(d,"onChange"),0<d.length&&(v=new Zd("onChange","change",null,v,b),u.push({event:v,listeners:d}))}var Au=null,wu=null;function OE(u){NC(u,0)}function Ih(u){var d=wl(u);if(bs(d))return u}function op(u,d){if(u==="change")return d}var lp=!1;if(Ps){var kh;if(Ps){var Rl="oninput"in document;if(!Rl){var PE=document.createElement("div");PE.setAttribute("oninput","return;"),Rl=typeof PE.oninput=="function"}kh=Rl}else kh=!1;lp=kh&&(!document.documentMode||9<document.documentMode)}function UE(){Au&&(Au.detachEvent("onpropertychange",up),wu=Au=null)}function up(u){if(u.propertyName==="value"&&Ih(wu)){var d=[];sp(d,wu,u,Zr(u)),Xg(OE,d)}}function cp(u,d,v){u==="focusin"?(UE(),Au=d,wu=v,Au.attachEvent("onpropertychange",up)):u==="focusout"&&UE()}function FE(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ih(wu)}function _A(u,d){if(u==="click")return Ih(d)}function BE(u,d){if(u==="input"||u==="change")return Ih(d)}function TA(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Jr=typeof Object.is=="function"?Object.is:TA;function nf(u,d){if(Jr(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var v=Object.keys(u),b=Object.keys(d);if(v.length!==b.length)return!1;for(b=0;b<v.length;b++){var I=v[b];if(!lt.call(d,I)||!Jr(u[I],d[I]))return!1}return!0}function xh(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function zE(u,d){var v=xh(u);u=0;for(var b;v;){if(v.nodeType===3){if(b=u+v.textContent.length,u<=d&&b>=d)return{node:v,offset:d-u};u=b}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=xh(v)}}function dp(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?dp(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function $E(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var d=Xr(u.document);d instanceof u.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)u=d.contentWindow;else break;d=Xr(u.document)}return d}function Ru(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}var fp=Ps&&"documentMode"in document&&11>=document.documentMode,Iu=null,wc=null,Rc=null,af=!1;function hp(u,d,v){var b=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;af||Iu==null||Iu!==Xr(b)||(b=Iu,"selectionStart"in b&&Ru(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Rc&&nf(Rc,b)||(Rc=b,b=Qb(wc,"onSelect"),0<b.length&&(d=new Zd("onSelect","select",null,d,v),u.push({event:d,listeners:b}),d.target=Iu)))}function Ho(u,d){var v={};return v[u.toLowerCase()]=d.toLowerCase(),v["Webkit"+u]="webkit"+d,v["Moz"+u]="moz"+d,v}var ku={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionrun:Ho("Transition","TransitionRun"),transitionstart:Ho("Transition","TransitionStart"),transitioncancel:Ho("Transition","TransitionCancel"),transitionend:Ho("Transition","TransitionEnd")},Ch={},qE={};Ps&&(qE=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function Il(u){if(Ch[u])return Ch[u];if(!ku[u])return u;var d=ku[u],v;for(v in d)if(d.hasOwnProperty(v)&&v in qE)return Ch[u]=d[v];return u}var jE=Il("animationend"),HE=Il("animationiteration"),mp=Il("animationstart"),GE=Il("transitionrun"),Ic=Il("transitionstart"),VE=Il("transitioncancel"),gp=Il("transitionend"),pp=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vp.push("scrollEnd");function es(u,d){pp.set(u,d),oo(d,[u])}var rf=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},As=[],kc=0,yp=0;function sf(){for(var u=kc,d=yp=kc=0;d<u;){var v=As[d];As[d++]=null;var b=As[d];As[d++]=null;var I=As[d];As[d++]=null;var N=As[d];if(As[d++]=null,b!==null&&I!==null){var ye=b.pending;ye===null?I.next=I:(I.next=ye.next,ye.next=I),b.pending=I}N!==0&&xu(v,I,N)}}function Dh(u,d,v,b){As[kc++]=u,As[kc++]=d,As[kc++]=v,As[kc++]=b,yp|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function Go(u,d,v,b){return Dh(u,d,v,b),Fs(u)}function Za(u,d){return Dh(u,null,null,d),Fs(u)}function xu(u,d,v){u.lanes|=v;var b=u.alternate;b!==null&&(b.lanes|=v);for(var I=!1,N=u.return;N!==null;)N.childLanes|=v,b=N.alternate,b!==null&&(b.childLanes|=v),N.tag===22&&(u=N.stateNode,u===null||u._visibility&1||(I=!0)),u=N,N=N.return;return u.tag===3?(N=u.stateNode,I&&d!==null&&(I=31-kt(v),u=N.hiddenUpdates,b=u[I],b===null?u[I]=[d]:b.push(d),d.lane=v|536870912),N):null}function Fs(u){if(50<po)throw po=0,tl=null,Error(i(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}var xc={};function KE(u,d,v,b){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(u,d,v,b){return new KE(u,d,v,b)}function fo(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Vo(u,d){var v=u.alternate;return v===null?(v=cs(u.tag,d,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=d,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&65011712,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,d=u.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v.refCleanup=u.refCleanup,v}function Lh(u,d){u.flags&=65011714;var v=u.alternate;return v===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=v.childLanes,u.lanes=v.lanes,u.child=v.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=v.memoizedProps,u.memoizedState=v.memoizedState,u.updateQueue=v.updateQueue,u.type=v.type,d=v.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function of(u,d,v,b,I,N){var ye=0;if(b=u,typeof u=="function")fo(u)&&(ye=1);else if(typeof u=="string")ye=j4(u,v,It.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case be:return u=cs(31,v,d,I),u.elementType=be,u.lanes=N,u;case A:return Ko(v.children,I,N,d);case w:ye=8,I|=24;break;case M:return u=cs(12,v,d,I|2),u.elementType=M,u.lanes=N,u;case z:return u=cs(13,v,d,I),u.elementType=z,u.lanes=N,u;case se:return u=cs(19,v,d,I),u.elementType=se,u.lanes=N,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case C:ye=10;break e;case x:ye=9;break e;case O:ye=11;break e;case F:ye=14;break e;case H:ye=16,b=null;break e}ye=29,v=Error(i(130,u===null?"null":typeof u,"")),b=null}return d=cs(ye,v,d,I),d.elementType=u,d.type=b,d.lanes=N,d}function Ko(u,d,v,b){return u=cs(7,u,b,d),u.lanes=v,u}function Cu(u,d,v){return u=cs(6,u,null,d),u.lanes=v,u}function Mh(u){var d=cs(18,null,null,0);return d.stateNode=u,d}function Cc(u,d,v){return d=cs(4,u.children!==null?u.children:[],u.key,d),d.lanes=v,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}var lf=new WeakMap;function Br(u,d){if(typeof u=="object"&&u!==null){var v=lf.get(u);return v!==void 0?v:(d={value:u,source:d,stack:Xe(d)},lf.set(u,d),d)}return{value:u,source:d,stack:Xe(d)}}var Yo=[],Dc=0,uf=null,Lc=0,ws=[],Rs=0,Wo=null,ho=1,Is="";function sr(u,d){Yo[Dc++]=Lc,Yo[Dc++]=uf,uf=u,Lc=d}function YE(u,d,v){ws[Rs++]=ho,ws[Rs++]=Is,ws[Rs++]=Wo,Wo=u;var b=ho;u=Is;var I=32-kt(b)-1;b&=~(1<<I),v+=1;var N=32-kt(d)+I;if(30<N){var ye=I-I%5;N=(b&(1<<ye)-1).toString(32),b>>=ye,I-=ye,ho=1<<32-kt(d)+I|v<<I|b,Is=N+u}else ho=1<<N|v<<I|b,Is=u}function Ep(u){u.return!==null&&(sr(u,1),YE(u,1,0))}function Mc(u){for(;u===uf;)uf=Yo[--Dc],Yo[Dc]=null,Lc=Yo[--Dc],Yo[Dc]=null;for(;u===Wo;)Wo=ws[--Rs],ws[Rs]=null,Is=ws[--Rs],ws[Rs]=null,ho=ws[--Rs],ws[Rs]=null}function WE(u,d){ws[Rs++]=ho,ws[Rs++]=Is,ws[Rs++]=Wo,ho=d.id,Is=d.overflow,Wo=u}var or=null,_a=null,Fi=!1,kl=null,ks=!1,bp=Error(i(519));function xl(u){var d=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cf(Br(d,u)),bp}function QE(u){var d=u.stateNode,v=u.type,b=u.memoizedProps;switch(d[Ni]=u,d[yi]=b,v){case"dialog":Bi("cancel",d),Bi("close",d);break;case"iframe":case"object":case"embed":Bi("load",d);break;case"video":case"audio":for(v=0;v<hv.length;v++)Bi(hv[v],d);break;case"source":Bi("error",d);break;case"img":case"image":case"link":Bi("error",d),Bi("load",d);break;case"details":Bi("toggle",d);break;case"input":Bi("invalid",d),Fr(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Bi("invalid",d);break;case"textarea":Bi("invalid",d),Ji(d,b.value,b.defaultValue,b.children)}v=b.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||d.textContent===""+v||b.suppressHydrationWarning===!0||FC(d.textContent,v)?(b.popover!=null&&(Bi("beforetoggle",d),Bi("toggle",d)),b.onScroll!=null&&Bi("scroll",d),b.onScrollEnd!=null&&Bi("scrollend",d),b.onClick!=null&&(d.onclick=kr),d=!0):d=!1,d||xl(u,!0)}function XE(u){for(or=u.return;or;)switch(or.tag){case 5:case 31:case 13:ks=!1;return;case 27:case 3:ks=!0;return;default:or=or.return}}function Nc(u){if(u!==or)return!1;if(!Fi)return XE(u),Fi=!0,!1;var d=u.tag,v;if((v=d!==3&&d!==27)&&((v=d===5)&&(v=u.type,v=!(v!=="form"&&v!=="button")||qA(u.type,u.memoizedProps)),v=!v),v&&_a&&xl(u),XE(u),d===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));_a=KC(u)}else if(d===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));_a=KC(u)}else d===27?(d=_a,ad(u.type)?(u=KA,KA=null,_a=u):_a=d):_a=or?vo(u.stateNode.nextSibling):null;return!0}function Du(){_a=or=null,Fi=!1}function _p(){var u=kl;return u!==null&&(ka===null?ka=u:ka.push.apply(ka,u),kl=null),u}function cf(u){kl===null?kl=[u]:kl.push(u)}var Tp=De(null),Cl=null,Qo=null;function zr(u,d,v){ct(Tp,d._currentValue),d._currentValue=v}function Ia(u){u._currentValue=Tp.current,We(Tp)}function Nh(u,d,v){for(;u!==null;){var b=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),u===v)break;u=u.return}}function Sp(u,d,v,b){var I=u.child;for(I!==null&&(I.return=u);I!==null;){var N=I.dependencies;if(N!==null){var ye=I.child;N=N.firstContext;e:for(;N!==null;){var qe=N;N=I;for(var st=0;st<d.length;st++)if(qe.context===d[st]){N.lanes|=v,qe=N.alternate,qe!==null&&(qe.lanes|=v),Nh(N.return,v,u),b||(ye=null);break e}N=qe.next}}else if(I.tag===18){if(ye=I.return,ye===null)throw Error(i(341));ye.lanes|=v,N=ye.alternate,N!==null&&(N.lanes|=v),Nh(ye,v,u),ye=null}else ye=I.child;if(ye!==null)ye.return=I;else for(ye=I;ye!==null;){if(ye===u){ye=null;break}if(I=ye.sibling,I!==null){I.return=ye.return,ye=I;break}ye=ye.return}I=ye}}function Lu(u,d,v,b){u=null;for(var I=d,N=!1;I!==null;){if(!N){if((I.flags&524288)!==0)N=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var ye=I.alternate;if(ye===null)throw Error(i(387));if(ye=ye.memoizedProps,ye!==null){var qe=I.type;Jr(I.pendingProps.value,ye.value)||(u!==null?u.push(qe):u=[qe])}}else if(I===pt.current){if(ye=I.alternate,ye===null)throw Error(i(387));ye.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(u!==null?u.push(yv):u=[yv])}I=I.return}u!==null&&Sp(d,u,v,b),d.flags|=262144}function Oh(u){for(u=u.firstContext;u!==null;){if(!Jr(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Mu(u){Cl=u,Qo=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function lr(u){return Ap(Cl,u)}function Ph(u,d){return Cl===null&&Mu(u),Ap(u,d)}function Ap(u,d){var v=d._currentValue;if(d={context:d,memoizedValue:v,next:null},Qo===null){if(u===null)throw Error(i(308));Qo=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else Qo=Qo.next=d;return v}var ZE=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(v,b){u.push(b)}};this.abort=function(){d.aborted=!0,u.forEach(function(v){return v()})}},SA=n.unstable_scheduleCallback,Oc=n.unstable_NormalPriority,ja={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wp(){return{controller:new ZE,data:new Map,refCount:0}}function Pc(u){u.refCount--,u.refCount===0&&SA(Oc,function(){u.controller.abort()})}var df=null,Uc=0,Nu=0,Fc=null;function JE(u,d){if(df===null){var v=df=[];Uc=0,Nu=MA(),Fc={status:"pending",value:void 0,then:function(b){v.push(b)}}}return Uc++,d.then(eb,eb),d}function eb(){if(--Uc===0&&df!==null){Fc!==null&&(Fc.status="fulfilled");var u=df;df=null,Nu=0,Fc=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function AA(u,d){var v=[],b={status:"pending",value:null,reason:null,then:function(I){v.push(I)}};return u.then(function(){b.status="fulfilled",b.value=d;for(var I=0;I<v.length;I++)(0,v[I])(d)},function(I){for(b.status="rejected",b.reason=I,I=0;I<v.length;I++)(0,v[I])(void 0)}),b}var tb=he.S;he.S=function(u,d){Pl=Zt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&JE(u,d),tb!==null&&tb(u,d)};var Ou=De(null);function Rp(){var u=Ou.current;return u!==null?u:nt.pooledCache}function Uh(u,d){d===null?ct(Ou,Ou.current):ct(Ou,d.pool)}function Pu(){var u=Rp();return u===null?null:{parent:ja._currentValue,pool:u}}var Bc=Error(i(460)),Ip=Error(i(474)),Fh=Error(i(542)),ff={then:function(){}};function nb(u){return u=u.status,u==="fulfilled"||u==="rejected"}function kp(u,d,v){switch(v=u[v],v===void 0?u.push(d):v!==d&&(d.then(kr,kr),d=v),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,xp(u),u;default:if(typeof d.status=="string")d.then(kr,kr);else{if(u=nt,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=d,u.status="pending",u.then(function(b){if(d.status==="pending"){var I=d;I.status="fulfilled",I.value=b}},function(b){if(d.status==="pending"){var I=d;I.status="rejected",I.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,xp(u),u}throw Dl=d,Bc}}function Uu(u){try{var d=u._init;return d(u._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(Dl=v,Bc):v}}var Dl=null;function ib(){if(Dl===null)throw Error(i(459));var u=Dl;return Dl=null,u}function xp(u){if(u===Bc||u===Fh)throw Error(i(483))}var zc=null,$c=0;function hf(u){var d=$c;return $c+=1,zc===null&&(zc=[]),kp(zc,u,d)}function Fu(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function mf(u,d){throw d.$$typeof===p?Error(i(525)):(u=Object.prototype.toString.call(d),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function ab(u){function d(_t,gt){if(u){var Pt=_t.deletions;Pt===null?(_t.deletions=[gt],_t.flags|=16):Pt.push(gt)}}function v(_t,gt){if(!u)return null;for(;gt!==null;)d(_t,gt),gt=gt.sibling;return null}function b(_t){for(var gt=new Map;_t!==null;)_t.key!==null?gt.set(_t.key,_t):gt.set(_t.index,_t),_t=_t.sibling;return gt}function I(_t,gt){return _t=Vo(_t,gt),_t.index=0,_t.sibling=null,_t}function N(_t,gt,Pt){return _t.index=Pt,u?(Pt=_t.alternate,Pt!==null?(Pt=Pt.index,Pt<gt?(_t.flags|=67108866,gt):Pt):(_t.flags|=67108866,gt)):(_t.flags|=1048576,gt)}function ye(_t){return u&&_t.alternate===null&&(_t.flags|=67108866),_t}function qe(_t,gt,Pt,ln){return gt===null||gt.tag!==6?(gt=Cu(Pt,_t.mode,ln),gt.return=_t,gt):(gt=I(gt,Pt),gt.return=_t,gt)}function st(_t,gt,Pt,ln){var si=Pt.type;return si===A?rn(_t,gt,Pt.props.children,ln,Pt.key):gt!==null&&(gt.elementType===si||typeof si=="object"&&si!==null&&si.$$typeof===H&&Uu(si)===gt.type)?(gt=I(gt,Pt.props),Fu(gt,Pt),gt.return=_t,gt):(gt=of(Pt.type,Pt.key,Pt.props,null,_t.mode,ln),Fu(gt,Pt),gt.return=_t,gt)}function Ft(_t,gt,Pt,ln){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Pt.containerInfo||gt.stateNode.implementation!==Pt.implementation?(gt=Cc(Pt,_t.mode,ln),gt.return=_t,gt):(gt=I(gt,Pt.children||[]),gt.return=_t,gt)}function rn(_t,gt,Pt,ln,si){return gt===null||gt.tag!==7?(gt=Ko(Pt,_t.mode,ln,si),gt.return=_t,gt):(gt=I(gt,Pt),gt.return=_t,gt)}function hn(_t,gt,Pt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=Cu(""+gt,_t.mode,Pt),gt.return=_t,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case y:return Pt=of(gt.type,gt.key,gt.props,null,_t.mode,Pt),Fu(Pt,gt),Pt.return=_t,Pt;case E:return gt=Cc(gt,_t.mode,Pt),gt.return=_t,gt;case H:return gt=Uu(gt),hn(_t,gt,Pt)}if(Ue(gt)||Ve(gt))return gt=Ko(gt,_t.mode,Pt,null),gt.return=_t,gt;if(typeof gt.then=="function")return hn(_t,hf(gt),Pt);if(gt.$$typeof===C)return hn(_t,Ph(_t,gt),Pt);mf(_t,gt)}return null}function qt(_t,gt,Pt,ln){var si=gt!==null?gt.key:null;if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return si!==null?null:qe(_t,gt,""+Pt,ln);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case y:return Pt.key===si?st(_t,gt,Pt,ln):null;case E:return Pt.key===si?Ft(_t,gt,Pt,ln):null;case H:return Pt=Uu(Pt),qt(_t,gt,Pt,ln)}if(Ue(Pt)||Ve(Pt))return si!==null?null:rn(_t,gt,Pt,ln,null);if(typeof Pt.then=="function")return qt(_t,gt,hf(Pt),ln);if(Pt.$$typeof===C)return qt(_t,gt,Ph(_t,Pt),ln);mf(_t,Pt)}return null}function Kt(_t,gt,Pt,ln,si){if(typeof ln=="string"&&ln!==""||typeof ln=="number"||typeof ln=="bigint")return _t=_t.get(Pt)||null,qe(gt,_t,""+ln,si);if(typeof ln=="object"&&ln!==null){switch(ln.$$typeof){case y:return _t=_t.get(ln.key===null?Pt:ln.key)||null,st(gt,_t,ln,si);case E:return _t=_t.get(ln.key===null?Pt:ln.key)||null,Ft(gt,_t,ln,si);case H:return ln=Uu(ln),Kt(_t,gt,Pt,ln,si)}if(Ue(ln)||Ve(ln))return _t=_t.get(Pt)||null,rn(gt,_t,ln,si,null);if(typeof ln.then=="function")return Kt(_t,gt,Pt,hf(ln),si);if(ln.$$typeof===C)return Kt(_t,gt,Pt,Ph(gt,ln),si);mf(gt,ln)}return null}function Zn(_t,gt,Pt,ln){for(var si=null,ta=null,ei=gt,Ci=gt=0,$i=null;ei!==null&&Ci<Pt.length;Ci++){ei.index>Ci?($i=ei,ei=null):$i=ei.sibling;var na=qt(_t,ei,Pt[Ci],ln);if(na===null){ei===null&&(ei=$i);break}u&&ei&&na.alternate===null&&d(_t,ei),gt=N(na,gt,Ci),ta===null?si=na:ta.sibling=na,ta=na,ei=$i}if(Ci===Pt.length)return v(_t,ei),Fi&&sr(_t,Ci),si;if(ei===null){for(;Ci<Pt.length;Ci++)ei=hn(_t,Pt[Ci],ln),ei!==null&&(gt=N(ei,gt,Ci),ta===null?si=ei:ta.sibling=ei,ta=ei);return Fi&&sr(_t,Ci),si}for(ei=b(ei);Ci<Pt.length;Ci++)$i=Kt(ei,_t,Ci,Pt[Ci],ln),$i!==null&&(u&&$i.alternate!==null&&ei.delete($i.key===null?Ci:$i.key),gt=N($i,gt,Ci),ta===null?si=$i:ta.sibling=$i,ta=$i);return u&&ei.forEach(function(ud){return d(_t,ud)}),Fi&&sr(_t,Ci),si}function ci(_t,gt,Pt,ln){if(Pt==null)throw Error(i(151));for(var si=null,ta=null,ei=gt,Ci=gt=0,$i=null,na=Pt.next();ei!==null&&!na.done;Ci++,na=Pt.next()){ei.index>Ci?($i=ei,ei=null):$i=ei.sibling;var ud=qt(_t,ei,na.value,ln);if(ud===null){ei===null&&(ei=$i);break}u&&ei&&ud.alternate===null&&d(_t,ei),gt=N(ud,gt,Ci),ta===null?si=ud:ta.sibling=ud,ta=ud,ei=$i}if(na.done)return v(_t,ei),Fi&&sr(_t,Ci),si;if(ei===null){for(;!na.done;Ci++,na=Pt.next())na=hn(_t,na.value,ln),na!==null&&(gt=N(na,gt,Ci),ta===null?si=na:ta.sibling=na,ta=na);return Fi&&sr(_t,Ci),si}for(ei=b(ei);!na.done;Ci++,na=Pt.next())na=Kt(ei,_t,Ci,na.value,ln),na!==null&&(u&&na.alternate!==null&&ei.delete(na.key===null?Ci:na.key),gt=N(na,gt,Ci),ta===null?si=na:ta.sibling=na,ta=na);return u&&ei.forEach(function(e8){return d(_t,e8)}),Fi&&sr(_t,Ci),si}function va(_t,gt,Pt,ln){if(typeof Pt=="object"&&Pt!==null&&Pt.type===A&&Pt.key===null&&(Pt=Pt.props.children),typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case y:e:{for(var si=Pt.key;gt!==null;){if(gt.key===si){if(si=Pt.type,si===A){if(gt.tag===7){v(_t,gt.sibling),ln=I(gt,Pt.props.children),ln.return=_t,_t=ln;break e}}else if(gt.elementType===si||typeof si=="object"&&si!==null&&si.$$typeof===H&&Uu(si)===gt.type){v(_t,gt.sibling),ln=I(gt,Pt.props),Fu(ln,Pt),ln.return=_t,_t=ln;break e}v(_t,gt);break}else d(_t,gt);gt=gt.sibling}Pt.type===A?(ln=Ko(Pt.props.children,_t.mode,ln,Pt.key),ln.return=_t,_t=ln):(ln=of(Pt.type,Pt.key,Pt.props,null,_t.mode,ln),Fu(ln,Pt),ln.return=_t,_t=ln)}return ye(_t);case E:e:{for(si=Pt.key;gt!==null;){if(gt.key===si)if(gt.tag===4&&gt.stateNode.containerInfo===Pt.containerInfo&&gt.stateNode.implementation===Pt.implementation){v(_t,gt.sibling),ln=I(gt,Pt.children||[]),ln.return=_t,_t=ln;break e}else{v(_t,gt);break}else d(_t,gt);gt=gt.sibling}ln=Cc(Pt,_t.mode,ln),ln.return=_t,_t=ln}return ye(_t);case H:return Pt=Uu(Pt),va(_t,gt,Pt,ln)}if(Ue(Pt))return Zn(_t,gt,Pt,ln);if(Ve(Pt)){if(si=Ve(Pt),typeof si!="function")throw Error(i(150));return Pt=si.call(Pt),ci(_t,gt,Pt,ln)}if(typeof Pt.then=="function")return va(_t,gt,hf(Pt),ln);if(Pt.$$typeof===C)return va(_t,gt,Ph(_t,Pt),ln);mf(_t,Pt)}return typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint"?(Pt=""+Pt,gt!==null&&gt.tag===6?(v(_t,gt.sibling),ln=I(gt,Pt),ln.return=_t,_t=ln):(v(_t,gt),ln=Cu(Pt,_t.mode,ln),ln.return=_t,_t=ln),ye(_t)):v(_t,gt)}return function(_t,gt,Pt,ln){try{$c=0;var si=va(_t,gt,Pt,ln);return zc=null,si}catch(ei){if(ei===Bc||ei===Fh)throw ei;var ta=cs(29,ei,null,_t.mode);return ta.lanes=ln,ta.return=_t,ta}}}var Ll=ab(!0),rb=ab(!1),Xo=!1;function Cp(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function mo(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Zo(u,d,v){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(Et&2)!==0){var I=b.pending;return I===null?d.next=d:(d.next=I.next,I.next=d),b.pending=d,d=Fs(u),xu(u,null,v),d}return Dh(u,b,d,v),Fs(u)}function gf(u,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194048)!==0)){var b=d.lanes;b&=u.pendingLanes,v|=b,d.lanes=v,Ut(u,v)}}function zh(u,d){var v=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,v===b)){var I=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var ye={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};N===null?I=N=ye:N=N.next=ye,v=v.next}while(v!==null);N===null?I=N=d:N=N.next=d}else I=N=d;v={baseState:b.baseState,firstBaseUpdate:I,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=d:u.next=d,v.lastBaseUpdate=d}var $h=!1;function qc(){if($h){var u=Fc;if(u!==null)throw u}}function pf(u,d,v,b){$h=!1;var I=u.updateQueue;Xo=!1;var N=I.firstBaseUpdate,ye=I.lastBaseUpdate,qe=I.shared.pending;if(qe!==null){I.shared.pending=null;var st=qe,Ft=st.next;st.next=null,ye===null?N=Ft:ye.next=Ft,ye=st;var rn=u.alternate;rn!==null&&(rn=rn.updateQueue,qe=rn.lastBaseUpdate,qe!==ye&&(qe===null?rn.firstBaseUpdate=Ft:qe.next=Ft,rn.lastBaseUpdate=st))}if(N!==null){var hn=I.baseState;ye=0,rn=Ft=st=null,qe=N;do{var qt=qe.lane&-536870913,Kt=qt!==qe.lane;if(Kt?(Nt&qt)===qt:(b&qt)===qt){qt!==0&&qt===Nu&&($h=!0),rn!==null&&(rn=rn.next={lane:0,tag:qe.tag,payload:qe.payload,callback:null,next:null});e:{var Zn=u,ci=qe;qt=d;var va=v;switch(ci.tag){case 1:if(Zn=ci.payload,typeof Zn=="function"){hn=Zn.call(va,hn,qt);break e}hn=Zn;break e;case 3:Zn.flags=Zn.flags&-65537|128;case 0:if(Zn=ci.payload,qt=typeof Zn=="function"?Zn.call(va,hn,qt):Zn,qt==null)break e;hn=m({},hn,qt);break e;case 2:Xo=!0}}qt=qe.callback,qt!==null&&(u.flags|=64,Kt&&(u.flags|=8192),Kt=I.callbacks,Kt===null?I.callbacks=[qt]:Kt.push(qt))}else Kt={lane:qt,tag:qe.tag,payload:qe.payload,callback:qe.callback,next:null},rn===null?(Ft=rn=Kt,st=hn):rn=rn.next=Kt,ye|=qt;if(qe=qe.next,qe===null){if(qe=I.shared.pending,qe===null)break;Kt=qe,qe=Kt.next,Kt.next=null,I.lastBaseUpdate=Kt,I.shared.pending=null}}while(!0);rn===null&&(st=hn),I.baseState=st,I.firstBaseUpdate=Ft,I.lastBaseUpdate=rn,N===null&&(I.shared.lanes=0),Mn|=ye,u.lanes=ye,u.memoizedState=hn}}function Dp(u,d){if(typeof u!="function")throw Error(i(191,u));u.call(d)}function sb(u,d){var v=u.callbacks;if(v!==null)for(u.callbacks=null,u=0;u<v.length;u++)Dp(v[u],d)}var jc=De(null),vf=De(0);function Lp(u,d){u=Tt,ct(vf,u),ct(jc,d),Tt=u|d.baseLanes}function qh(){ct(vf,Tt),ct(jc,jc.current)}function Mp(){Tt=vf.current,We(jc),We(vf)}var ds=De(null),fs=null;function Ml(u){var d=u.alternate;ct(Ba,Ba.current&1),ct(ds,u),fs===null&&(d===null||jc.current!==null||d.memoizedState!==null)&&(fs=u)}function Np(u){ct(Ba,Ba.current),ct(ds,u),fs===null&&(fs=u)}function ob(u){u.tag===22?(ct(Ba,Ba.current),ct(ds,u),fs===null&&(fs=u)):Jo()}function Jo(){ct(Ba,Ba.current),ct(ds,ds.current)}function hs(u){We(ds),fs===u&&(fs=null),We(Ba)}var Ba=De(0);function jh(u){for(var d=u;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||GA(v)||VA(v)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var yr=0,bi=null,sa=null,Ha=null,Hh=!1,Bu=!1,el=!1,Hc=0,Gc=0,zu=null,wA=0;function Pa(){throw Error(i(321))}function Gh(u,d){if(d===null)return!1;for(var v=0;v<d.length&&v<u.length;v++)if(!Jr(u[v],d[v]))return!1;return!0}function Op(u,d,v,b,I,N){return yr=N,bi=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,he.H=u===null||u.memoizedState===null?kb:tv,el=!1,N=v(b,I),el=!1,Bu&&(N=lb(d,v,b,I)),Pp(u),N}function Pp(u){he.H=Ef;var d=sa!==null&&sa.next!==null;if(yr=0,Ha=sa=bi=null,Hh=!1,Gc=0,zu=null,d)throw Error(i(300));u===null||Ga||(u=u.dependencies,u!==null&&Oh(u)&&(Ga=!0))}function lb(u,d,v,b){bi=u;var I=0;do{if(Bu&&(zu=null),Gc=0,Bu=!1,25<=I)throw Error(i(301));if(I+=1,Ha=sa=null,u.updateQueue!=null){var N=u.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}he.H=bf,N=d(v,b)}while(Bu);return N}function RA(){var u=he.H,d=u.useState()[0];return d=typeof d.then=="function"?Vc(d):d,u=u.useState()[0],(sa!==null?sa.memoizedState:null)!==u&&(bi.flags|=1024),d}function Up(){var u=Hc!==0;return Hc=0,u}function Vh(u,d,v){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~v}function Kh(u){if(Hh){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Hh=!1}yr=0,Ha=sa=bi=null,Bu=!1,Gc=Hc=0,zu=null}function Cr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ha===null?bi.memoizedState=Ha=u:Ha=Ha.next=u,Ha}function za(){if(sa===null){var u=bi.alternate;u=u!==null?u.memoizedState:null}else u=sa.next;var d=Ha===null?bi.memoizedState:Ha.next;if(d!==null)Ha=d,sa=u;else{if(u===null)throw bi.alternate===null?Error(i(467)):Error(i(310));sa=u,u={memoizedState:sa.memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},Ha===null?bi.memoizedState=Ha=u:Ha=Ha.next=u}return Ha}function Nl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(u){var d=Gc;return Gc+=1,zu===null&&(zu=[]),u=kp(zu,u,d),d=bi,(Ha===null?d.memoizedState:Ha.next)===null&&(d=d.alternate,he.H=d===null||d.memoizedState===null?kb:tv),u}function Kc(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Vc(u);if(u.$$typeof===C)return lr(u)}throw Error(i(438,String(u)))}function yf(u){var d=null,v=bi.updateQueue;if(v!==null&&(d=v.memoCache),d==null){var b=bi.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(I){return I.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),v===null&&(v=Nl(),bi.updateQueue=v),v.memoCache=d,v=d.data[d.index],v===void 0)for(v=d.data[d.index]=Array(u),b=0;b<u;b++)v[b]=Ae;return d.index++,v}function go(u,d){return typeof d=="function"?d(u):d}function Yh(u){var d=za();return Wh(d,sa,u)}function Wh(u,d,v){var b=u.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=v;var I=u.baseQueue,N=b.pending;if(N!==null){if(I!==null){var ye=I.next;I.next=N.next,N.next=ye}d.baseQueue=I=N,b.pending=null}if(N=u.baseState,I===null)u.memoizedState=N;else{d=I.next;var qe=ye=null,st=null,Ft=d,rn=!1;do{var hn=Ft.lane&-536870913;if(hn!==Ft.lane?(Nt&hn)===hn:(yr&hn)===hn){var qt=Ft.revertLane;if(qt===0)st!==null&&(st=st.next={lane:0,revertLane:0,gesture:null,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null}),hn===Nu&&(rn=!0);else if((yr&qt)===qt){Ft=Ft.next,qt===Nu&&(rn=!0);continue}else hn={lane:0,revertLane:Ft.revertLane,gesture:null,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null},st===null?(qe=st=hn,ye=N):st=st.next=hn,bi.lanes|=qt,Mn|=qt;hn=Ft.action,el&&v(N,hn),N=Ft.hasEagerState?Ft.eagerState:v(N,hn)}else qt={lane:hn,revertLane:Ft.revertLane,gesture:Ft.gesture,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null},st===null?(qe=st=qt,ye=N):st=st.next=qt,bi.lanes|=hn,Mn|=hn;Ft=Ft.next}while(Ft!==null&&Ft!==d);if(st===null?ye=N:st.next=qe,!Jr(N,u.memoizedState)&&(Ga=!0,rn&&(v=Fc,v!==null)))throw v;u.memoizedState=N,u.baseState=ye,u.baseQueue=st,b.lastRenderedState=N}return I===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function Qh(u){var d=za(),v=d.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=u;var b=v.dispatch,I=v.pending,N=d.memoizedState;if(I!==null){v.pending=null;var ye=I=I.next;do N=u(N,ye.action),ye=ye.next;while(ye!==I);Jr(N,d.memoizedState)||(Ga=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),v.lastRenderedState=N}return[N,b]}function Fp(u,d,v){var b=bi,I=za(),N=Fi;if(N){if(v===void 0)throw Error(i(407));v=v()}else v=d();var ye=!Jr((sa||I).memoizedState,v);if(ye&&(I.memoizedState=v,Ga=!0),I=I.queue,Gp(cb.bind(null,b,I,u),[u]),I.getSnapshot!==d||ye||Ha!==null&&Ha.memoizedState.tag&1){if(b.flags|=2048,Yc(9,{destroy:void 0},Bp.bind(null,b,I,v,d),null),nt===null)throw Error(i(349));N||(yr&127)!==0||ub(b,d,v)}return v}function ub(u,d,v){u.flags|=16384,u={getSnapshot:d,value:v},d=bi.updateQueue,d===null?(d=Nl(),bi.updateQueue=d,d.stores=[u]):(v=d.stores,v===null?d.stores=[u]:v.push(u))}function Bp(u,d,v,b){d.value=v,d.getSnapshot=b,zp(d)&&db(u)}function cb(u,d,v){return v(function(){zp(d)&&db(u)})}function zp(u){var d=u.getSnapshot;u=u.value;try{var v=d();return!Jr(u,v)}catch{return!0}}function db(u){var d=Za(u,2);d!==null&&Tn(d,u,2)}function Xh(u){var d=Cr();if(typeof u=="function"){var v=u;if(u=v(),el){Lt(!0);try{v()}finally{Lt(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:u},d}function fb(u,d,v,b){return u.baseState=v,Wh(u,sa,typeof b=="function"?b:go)}function hb(u,d,v,b,I){if(im(u))throw Error(i(485));if(u=d.action,u!==null){var N={payload:I,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ye){N.listeners.push(ye)}};he.T!==null?v(!0):N.isTransition=!1,b(N),v=d.pending,v===null?(N.next=d.pending=N,$p(d,N)):(N.next=v.next,d.pending=v.next=N)}}function $p(u,d){var v=d.action,b=d.payload,I=u.state;if(d.isTransition){var N=he.T,ye={};he.T=ye;try{var qe=v(I,b),st=he.S;st!==null&&st(ye,qe),qp(u,d,qe)}catch(Ft){Zh(u,d,Ft)}finally{N!==null&&ye.types!==null&&(N.types=ye.types),he.T=N}}else try{N=v(I,b),qp(u,d,N)}catch(Ft){Zh(u,d,Ft)}}function qp(u,d,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(b){mb(u,d,b)},function(b){return Zh(u,d,b)}):mb(u,d,v)}function mb(u,d,v){d.status="fulfilled",d.value=v,gb(d),u.state=v,d=u.pending,d!==null&&(v=d.next,v===d?u.pending=null:(v=v.next,d.next=v,$p(u,v)))}function Zh(u,d,v){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=v,gb(d),d=d.next;while(d!==b)}u.action=null}function gb(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function pb(u,d){return d}function vb(u,d){if(Fi){var v=nt.formState;if(v!==null){e:{var b=bi;if(Fi){if(_a){t:{for(var I=_a,N=ks;I.nodeType!==8;){if(!N){I=null;break t}if(I=vo(I.nextSibling),I===null){I=null;break t}}N=I.data,I=N==="F!"||N==="F"?I:null}if(I){_a=vo(I.nextSibling),b=I.data==="F!";break e}}xl(b)}b=!1}b&&(d=v[0])}}return v=Cr(),v.memoizedState=v.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pb,lastRenderedState:d},v.queue=b,v=nm.bind(null,bi,b),b.dispatch=v,b=Xh(!1),N=ev.bind(null,bi,!1,b.queue),b=Cr(),I={state:d,dispatch:null,action:u,pending:null},b.queue=I,v=hb.bind(null,bi,I,N,v),I.dispatch=v,b.memoizedState=u,[d,v,!1]}function jp(u){var d=za();return yb(d,sa,u)}function yb(u,d,v){if(d=Wh(u,d,pb)[0],u=Yh(go)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=Vc(d)}catch(ye){throw ye===Bc?Fh:ye}else b=d;d=za();var I=d.queue,N=I.dispatch;return v!==d.memoizedState&&(bi.flags|=2048,Yc(9,{destroy:void 0},Eb.bind(null,I,v),null)),[b,N,u]}function Eb(u,d){u.action=d}function bb(u){var d=za(),v=sa;if(v!==null)return yb(d,v,u);za(),d=d.memoizedState,v=za();var b=v.queue.dispatch;return v.memoizedState=u,[d,b,!1]}function Yc(u,d,v,b){return u={tag:u,create:v,deps:b,inst:d,next:null},d=bi.updateQueue,d===null&&(d=Nl(),bi.updateQueue=d),v=d.lastEffect,v===null?d.lastEffect=u.next=u:(b=v.next,v.next=u,u.next=b,d.lastEffect=u),u}function Hp(){return za().memoizedState}function Jh(u,d,v,b){var I=Cr();bi.flags|=u,I.memoizedState=Yc(1|d,{destroy:void 0},v,b===void 0?null:b)}function Wc(u,d,v,b){var I=za();b=b===void 0?null:b;var N=I.memoizedState.inst;sa!==null&&b!==null&&Gh(b,sa.memoizedState.deps)?I.memoizedState=Yc(d,N,v,b):(bi.flags|=u,I.memoizedState=Yc(1|d,N,v,b))}function em(u,d){Jh(8390656,8,u,d)}function Gp(u,d){Wc(2048,8,u,d)}function _b(u){bi.flags|=4;var d=bi.updateQueue;if(d===null)d=Nl(),bi.updateQueue=d,d.events=[u];else{var v=d.events;v===null?d.events=[u]:v.push(u)}}function Tb(u){var d=za().memoizedState;return _b({ref:d,nextImpl:u}),function(){if((Et&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}function Vp(u,d){return Wc(4,2,u,d)}function Sb(u,d){return Wc(4,4,u,d)}function $u(u,d){if(typeof d=="function"){u=u();var v=d(u);return function(){typeof v=="function"?v():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function Kp(u,d,v){v=v!=null?v.concat([u]):null,Wc(4,4,$u.bind(null,d,u),v)}function tm(){}function Yp(u,d){var v=za();d=d===void 0?null:d;var b=v.memoizedState;return d!==null&&Gh(d,b[1])?b[0]:(v.memoizedState=[u,d],u)}function Wp(u,d){var v=za();d=d===void 0?null:d;var b=v.memoizedState;if(d!==null&&Gh(d,b[1]))return b[0];if(b=u(),el){Lt(!0);try{u()}finally{Lt(!1)}}return v.memoizedState=[b,d],b}function Qp(u,d,v){return v===void 0||(yr&1073741824)!==0&&(Nt&261930)===0?u.memoizedState=d:(u.memoizedState=v,u=Yt(),bi.lanes|=u,Mn|=u,v)}function Ab(u,d,v,b){return Jr(v,d)?v:jc.current!==null?(u=Qp(u,v,b),Jr(u,d)||(Ga=!0),u):(yr&42)===0||(yr&1073741824)!==0&&(Nt&261930)===0?(Ga=!0,u.memoizedState=v):(u=Yt(),bi.lanes|=u,Mn|=u,d)}function Xp(u,d,v,b,I){var N=$e.p;$e.p=N!==0&&8>N?N:8;var ye=he.T,qe={};he.T=qe,ev(u,!1,d,v);try{var st=I(),Ft=he.S;if(Ft!==null&&Ft(qe,st),st!==null&&typeof st=="object"&&typeof st.then=="function"){var rn=AA(st,b);Xc(u,d,rn,ot(u))}else Xc(u,d,b,ot(u))}catch(hn){Xc(u,d,{then:function(){},status:"rejected",reason:hn},ot())}finally{$e.p=N,ye!==null&&qe.types!==null&&(ye.types=qe.types),he.T=ye}}function IA(){}function Qc(u,d,v,b){if(u.tag!==5)throw Error(i(476));var I=Zp(u).queue;Xp(u,I,d,Ye,v===null?IA:function(){return wb(u),v(b)})}function Zp(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:Ye,baseState:Ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:Ye},next:null};var v={};return d.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:v},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function wb(u){var d=Zp(u);d.next===null&&(d=u.alternate.memoizedState),Xc(u,d.next.queue,{},ot())}function Bs(){return lr(yv)}function Rb(){return za().memoizedState}function Jp(){return za().memoizedState}function kA(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var v=ot();u=mo(v);var b=Zo(d,u,v);b!==null&&(Tn(b,d,v),gf(b,d,v)),d={cache:wp()},u.payload=d;return}d=d.return}}function qu(u,d,v){var b=ot();v={lane:b,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},im(u)?Ol(d,v):(v=Go(u,d,v,b),v!==null&&(Tn(v,u,b),Ib(v,d,b)))}function nm(u,d,v){var b=ot();Xc(u,d,v,b)}function Xc(u,d,v,b){var I={lane:b,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(im(u))Ol(d,I);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var ye=d.lastRenderedState,qe=N(ye,v);if(I.hasEagerState=!0,I.eagerState=qe,Jr(qe,ye))return Dh(u,d,I,0),nt===null&&sf(),!1}catch{}if(v=Go(u,d,I,b),v!==null)return Tn(v,u,b),Ib(v,d,b),!0}return!1}function ev(u,d,v,b){if(b={lane:2,revertLane:MA(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},im(u)){if(d)throw Error(i(479))}else d=Go(u,v,b,2),d!==null&&Tn(d,u,2)}function im(u){var d=u.alternate;return u===bi||d!==null&&d===bi}function Ol(u,d){Bu=Hh=!0;var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}function Ib(u,d,v){if((v&4194048)!==0){var b=d.lanes;b&=u.pendingLanes,v|=b,d.lanes=v,Ut(u,v)}}var Ef={readContext:lr,use:Kc,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useLayoutEffect:Pa,useInsertionEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useSyncExternalStore:Pa,useId:Pa,useHostTransitionStatus:Pa,useFormState:Pa,useActionState:Pa,useOptimistic:Pa,useMemoCache:Pa,useCacheRefresh:Pa};Ef.useEffectEvent=Pa;var kb={readContext:lr,use:Kc,useCallback:function(u,d){return Cr().memoizedState=[u,d===void 0?null:d],u},useContext:lr,useEffect:em,useImperativeHandle:function(u,d,v){v=v!=null?v.concat([u]):null,Jh(4194308,4,$u.bind(null,d,u),v)},useLayoutEffect:function(u,d){return Jh(4194308,4,u,d)},useInsertionEffect:function(u,d){Jh(4,2,u,d)},useMemo:function(u,d){var v=Cr();d=d===void 0?null:d;var b=u();if(el){Lt(!0);try{u()}finally{Lt(!1)}}return v.memoizedState=[b,d],b},useReducer:function(u,d,v){var b=Cr();if(v!==void 0){var I=v(d);if(el){Lt(!0);try{v(d)}finally{Lt(!1)}}}else I=d;return b.memoizedState=b.baseState=I,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:I},b.queue=u,u=u.dispatch=qu.bind(null,bi,u),[b.memoizedState,u]},useRef:function(u){var d=Cr();return u={current:u},d.memoizedState=u},useState:function(u){u=Xh(u);var d=u.queue,v=nm.bind(null,bi,d);return d.dispatch=v,[u.memoizedState,v]},useDebugValue:tm,useDeferredValue:function(u,d){var v=Cr();return Qp(v,u,d)},useTransition:function(){var u=Xh(!1);return u=Xp.bind(null,bi,u.queue,!0,!1),Cr().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,v){var b=bi,I=Cr();if(Fi){if(v===void 0)throw Error(i(407));v=v()}else{if(v=d(),nt===null)throw Error(i(349));(Nt&127)!==0||ub(b,d,v)}I.memoizedState=v;var N={value:v,getSnapshot:d};return I.queue=N,em(cb.bind(null,b,N,u),[u]),b.flags|=2048,Yc(9,{destroy:void 0},Bp.bind(null,b,N,v,d),null),v},useId:function(){var u=Cr(),d=nt.identifierPrefix;if(Fi){var v=Is,b=ho;v=(b&~(1<<32-kt(b)-1)).toString(32)+v,d="_"+d+"R_"+v,v=Hc++,0<v&&(d+="H"+v.toString(32)),d+="_"}else v=wA++,d="_"+d+"r_"+v.toString(32)+"_";return u.memoizedState=d},useHostTransitionStatus:Bs,useFormState:vb,useActionState:vb,useOptimistic:function(u){var d=Cr();d.memoizedState=d.baseState=u;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=v,d=ev.bind(null,bi,!0,v),v.dispatch=d,[u,d]},useMemoCache:yf,useCacheRefresh:function(){return Cr().memoizedState=kA.bind(null,bi)},useEffectEvent:function(u){var d=Cr(),v={impl:u};return d.memoizedState=v,function(){if((Et&2)!==0)throw Error(i(440));return v.impl.apply(void 0,arguments)}}},tv={readContext:lr,use:Kc,useCallback:Yp,useContext:lr,useEffect:Gp,useImperativeHandle:Kp,useInsertionEffect:Vp,useLayoutEffect:Sb,useMemo:Wp,useReducer:Yh,useRef:Hp,useState:function(){return Yh(go)},useDebugValue:tm,useDeferredValue:function(u,d){var v=za();return Ab(v,sa.memoizedState,u,d)},useTransition:function(){var u=Yh(go)[0],d=za().memoizedState;return[typeof u=="boolean"?u:Vc(u),d]},useSyncExternalStore:Fp,useId:Rb,useHostTransitionStatus:Bs,useFormState:jp,useActionState:jp,useOptimistic:function(u,d){var v=za();return fb(v,sa,u,d)},useMemoCache:yf,useCacheRefresh:Jp};tv.useEffectEvent=Tb;var bf={readContext:lr,use:Kc,useCallback:Yp,useContext:lr,useEffect:Gp,useImperativeHandle:Kp,useInsertionEffect:Vp,useLayoutEffect:Sb,useMemo:Wp,useReducer:Qh,useRef:Hp,useState:function(){return Qh(go)},useDebugValue:tm,useDeferredValue:function(u,d){var v=za();return sa===null?Qp(v,u,d):Ab(v,sa.memoizedState,u,d)},useTransition:function(){var u=Qh(go)[0],d=za().memoizedState;return[typeof u=="boolean"?u:Vc(u),d]},useSyncExternalStore:Fp,useId:Rb,useHostTransitionStatus:Bs,useFormState:bb,useActionState:bb,useOptimistic:function(u,d){var v=za();return sa!==null?fb(v,sa,u,d):(v.baseState=u,[u,v.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Jp};bf.useEffectEvent=Tb;function am(u,d,v,b){d=u.memoizedState,v=v(b,d),v=v==null?d:m({},d,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var nv={enqueueSetState:function(u,d,v){u=u._reactInternals;var b=ot(),I=mo(b);I.payload=d,v!=null&&(I.callback=v),d=Zo(u,I,b),d!==null&&(Tn(d,u,b),gf(d,u,b))},enqueueReplaceState:function(u,d,v){u=u._reactInternals;var b=ot(),I=mo(b);I.tag=1,I.payload=d,v!=null&&(I.callback=v),d=Zo(u,I,b),d!==null&&(Tn(d,u,b),gf(d,u,b))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var v=ot(),b=mo(v);b.tag=2,d!=null&&(b.callback=d),d=Zo(u,b,v),d!==null&&(Tn(d,u,v),gf(d,u,v))}};function xb(u,d,v,b,I,N,ye){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,N,ye):d.prototype&&d.prototype.isPureReactComponent?!nf(v,b)||!nf(I,N):!0}function Cb(u,d,v,b){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,b),d.state!==u&&nv.enqueueReplaceState(d,d.state,null)}function ju(u,d){var v=d;if("ref"in d){v={};for(var b in d)b!=="ref"&&(v[b]=d[b])}if(u=u.defaultProps){v===d&&(v=m({},v));for(var I in u)v[I]===void 0&&(v[I]=u[I])}return v}function Db(u){rf(u)}function iv(u){console.error(u)}function Lb(u){rf(u)}function rm(u,d){try{var v=u.onUncaughtError;v(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function sm(u,d,v){try{var b=u.onCaughtError;b(v.value,{componentStack:v.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function om(u,d,v){return v=mo(v),v.tag=3,v.payload={element:null},v.callback=function(){rm(u,d)},v}function av(u){return u=mo(u),u.tag=3,u}function Mb(u,d,v,b){var I=v.type.getDerivedStateFromError;if(typeof I=="function"){var N=b.value;u.payload=function(){return I(N)},u.callback=function(){sm(d,v,b)}}var ye=v.stateNode;ye!==null&&typeof ye.componentDidCatch=="function"&&(u.callback=function(){sm(d,v,b),typeof I!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var qe=b.stack;this.componentDidCatch(b.value,{componentStack:qe!==null?qe:""})})}function Nb(u,d,v,b,I){if(v.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=v.alternate,d!==null&&Lu(d,v,I,!0),v=ds.current,v!==null){switch(v.tag){case 31:case 13:return fs===null?Hb():v.alternate===null&&Xt===0&&(Xt=3),v.flags&=-257,v.flags|=65536,v.lanes=I,b===ff?v.flags|=16384:(d=v.updateQueue,d===null?v.updateQueue=new Set([b]):d.add(b),CA(u,b,I)),!1;case 22:return v.flags|=65536,b===ff?v.flags|=16384:(d=v.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},v.updateQueue=d):(v=d.retryQueue,v===null?d.retryQueue=new Set([b]):v.add(b)),CA(u,b,I)),!1}throw Error(i(435,v.tag))}return CA(u,b,I),Hb(),!1}if(Fi)return d=ds.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=I,b!==bp&&(u=Error(i(422),{cause:b}),cf(Br(u,v)))):(b!==bp&&(d=Error(i(423),{cause:b}),cf(Br(d,v))),u=u.current.alternate,u.flags|=65536,I&=-I,u.lanes|=I,b=Br(b,v),I=om(u.stateNode,b,I),zh(u,I),Xt!==4&&(Xt=2)),!1;var N=Error(i(520),{cause:b});if(N=Br(N,v),Ki===null?Ki=[N]:Ki.push(N),Xt!==4&&(Xt=2),d===null)return!0;b=Br(b,v),v=d;do{switch(v.tag){case 3:return v.flags|=65536,u=I&-I,v.lanes|=u,u=om(v.stateNode,b,u),zh(v,u),!1;case 1:if(d=v.type,N=v.stateNode,(v.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(qr===null||!qr.has(N))))return v.flags|=65536,I&=-I,v.lanes|=I,I=av(I),Mb(I,u,v,b),zh(v,I),!1}v=v.return}while(v!==null);return!1}var rv=Error(i(461)),Ga=!1;function Er(u,d,v,b){d.child=u===null?rb(d,null,v,b):Ll(d,u.child,v,b)}function sv(u,d,v,b,I){v=v.render;var N=d.ref;if("ref"in b){var ye={};for(var qe in b)qe!=="ref"&&(ye[qe]=b[qe])}else ye=b;return Mu(d),b=Op(u,d,v,ye,N,I),qe=Up(),u!==null&&!Ga?(Vh(u,d,I),S(u,d,I)):(Fi&&qe&&Ep(d),d.flags|=1,Er(u,d,b,I),d.child)}function Ob(u,d,v,b,I){if(u===null){var N=v.type;return typeof N=="function"&&!fo(N)&&N.defaultProps===void 0&&v.compare===null?(d.tag=15,d.type=N,ov(u,d,N,b,I)):(u=of(v.type,null,b,d,d.mode,I),u.ref=d.ref,u.return=d,d.child=u)}if(N=u.child,!R(u,I)){var ye=N.memoizedProps;if(v=v.compare,v=v!==null?v:nf,v(ye,b)&&u.ref===d.ref)return S(u,d,I)}return d.flags|=1,u=Vo(N,b),u.ref=d.ref,u.return=d,d.child=u}function ov(u,d,v,b,I){if(u!==null){var N=u.memoizedProps;if(nf(N,b)&&u.ref===d.ref)if(Ga=!1,d.pendingProps=b=N,R(u,I))(u.flags&131072)!==0&&(Ga=!0);else return d.lanes=u.lanes,S(u,d,I)}return um(u,d,v,b,I)}function Pb(u,d,v,b){var I=b.children,N=u!==null?u.memoizedState:null;if(u===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(N=N!==null?N.baseLanes|v:v,u!==null){for(b=d.child=u.child,I=0;b!==null;)I=I|b.lanes|b.childLanes,b=b.sibling;b=I&~N}else b=0,d.child=null;return Ub(u,d,N,v,b)}if((v&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&Uh(d,N!==null?N.cachePool:null),N!==null?Lp(d,N):qh(),ob(d);else return b=d.lanes=536870912,Ub(u,d,N!==null?N.baseLanes|v:v,v,b)}else N!==null?(Uh(d,N.cachePool),Lp(d,N),Jo(),d.memoizedState=null):(u!==null&&Uh(d,null),qh(),Jo());return Er(u,d,I,v),d.child}function Zc(u,d){return u!==null&&u.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function Ub(u,d,v,b,I){var N=Rp();return N=N===null?null:{parent:ja._currentValue,pool:N},d.memoizedState={baseLanes:v,cachePool:N},u!==null&&Uh(d,null),qh(),ob(d),u!==null&&Lu(u,d,b,!0),d.childLanes=I,null}function _f(u,d){return d=Jc({mode:d.mode,children:d.children},u.mode),d.ref=u.ref,u.child=d,d.return=u,d}function Fb(u,d,v){return Ll(d,u.child,null,v),u=_f(d,d.pendingProps),u.flags|=2,hs(d),d.memoizedState=null,u}function Bb(u,d,v){var b=d.pendingProps,I=(d.flags&128)!==0;if(d.flags&=-129,u===null){if(Fi){if(b.mode==="hidden")return u=_f(d,b),d.lanes=536870912,Zc(null,u);if(Np(d),(u=_a)?(u=VC(u,ks),u=u!==null&&u.data==="&"?u:null,u!==null&&(d.memoizedState={dehydrated:u,treeContext:Wo!==null?{id:ho,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},v=Mh(u),v.return=d,d.child=v,or=d,_a=null)):u=null,u===null)throw xl(d);return d.lanes=536870912,null}return _f(d,b)}var N=u.memoizedState;if(N!==null){var ye=N.dehydrated;if(Np(d),I)if(d.flags&256)d.flags&=-257,d=Fb(u,d,v);else if(d.memoizedState!==null)d.child=u.child,d.flags|=128,d=null;else throw Error(i(558));else if(Ga||Lu(u,d,v,!1),I=(v&u.childLanes)!==0,Ga||I){if(b=nt,b!==null&&(ye=vt(b,v),ye!==0&&ye!==N.retryLane))throw N.retryLane=ye,Za(u,ye),Tn(b,u,ye),rv;Hb(),d=Fb(u,d,v)}else u=N.treeContext,_a=vo(ye.nextSibling),or=d,Fi=!0,kl=null,ks=!1,u!==null&&WE(d,u),d=_f(d,b),d.flags|=4096;return d}return u=Vo(u.child,{mode:b.mode,children:b.children}),u.ref=d.ref,d.child=u,u.return=d,u}function lm(u,d){var v=d.ref;if(v===null)u!==null&&u.ref!==null&&(d.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(u===null||u.ref!==v)&&(d.flags|=4194816)}}function um(u,d,v,b,I){return Mu(d),v=Op(u,d,v,b,void 0,I),b=Up(),u!==null&&!Ga?(Vh(u,d,I),S(u,d,I)):(Fi&&b&&Ep(d),d.flags|=1,Er(u,d,v,I),d.child)}function zb(u,d,v,b,I,N){return Mu(d),d.updateQueue=null,v=lb(d,b,v,I),Pp(u),b=Up(),u!==null&&!Ga?(Vh(u,d,N),S(u,d,N)):(Fi&&b&&Ep(d),d.flags|=1,Er(u,d,v,N),d.child)}function $b(u,d,v,b,I){if(Mu(d),d.stateNode===null){var N=xc,ye=v.contextType;typeof ye=="object"&&ye!==null&&(N=lr(ye)),N=new v(b,N),d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=nv,d.stateNode=N,N._reactInternals=d,N=d.stateNode,N.props=b,N.state=d.memoizedState,N.refs={},Cp(d),ye=v.contextType,N.context=typeof ye=="object"&&ye!==null?lr(ye):xc,N.state=d.memoizedState,ye=v.getDerivedStateFromProps,typeof ye=="function"&&(am(d,v,ye,b),N.state=d.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(ye=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),ye!==N.state&&nv.enqueueReplaceState(N,N.state,null),pf(d,b,N,I),qc(),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(u===null){N=d.stateNode;var qe=d.memoizedProps,st=ju(v,qe);N.props=st;var Ft=N.context,rn=v.contextType;ye=xc,typeof rn=="object"&&rn!==null&&(ye=lr(rn));var hn=v.getDerivedStateFromProps;rn=typeof hn=="function"||typeof N.getSnapshotBeforeUpdate=="function",qe=d.pendingProps!==qe,rn||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(qe||Ft!==ye)&&Cb(d,N,b,ye),Xo=!1;var qt=d.memoizedState;N.state=qt,pf(d,b,N,I),qc(),Ft=d.memoizedState,qe||qt!==Ft||Xo?(typeof hn=="function"&&(am(d,v,hn,b),Ft=d.memoizedState),(st=Xo||xb(d,v,st,b,qt,Ft,ye))?(rn||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=Ft),N.props=b,N.state=Ft,N.context=ye,b=st):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{N=d.stateNode,Bh(u,d),ye=d.memoizedProps,rn=ju(v,ye),N.props=rn,hn=d.pendingProps,qt=N.context,Ft=v.contextType,st=xc,typeof Ft=="object"&&Ft!==null&&(st=lr(Ft)),qe=v.getDerivedStateFromProps,(Ft=typeof qe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ye!==hn||qt!==st)&&Cb(d,N,b,st),Xo=!1,qt=d.memoizedState,N.state=qt,pf(d,b,N,I),qc();var Kt=d.memoizedState;ye!==hn||qt!==Kt||Xo||u!==null&&u.dependencies!==null&&Oh(u.dependencies)?(typeof qe=="function"&&(am(d,v,qe,b),Kt=d.memoizedState),(rn=Xo||xb(d,v,rn,b,qt,Kt,st)||u!==null&&u.dependencies!==null&&Oh(u.dependencies))?(Ft||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,Kt,st),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,Kt,st)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||ye===u.memoizedProps&&qt===u.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&qt===u.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=Kt),N.props=b,N.state=Kt,N.context=st,b=rn):(typeof N.componentDidUpdate!="function"||ye===u.memoizedProps&&qt===u.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&qt===u.memoizedState||(d.flags|=1024),b=!1)}return N=b,lm(u,d),b=(d.flags&128)!==0,N||b?(N=d.stateNode,v=b&&typeof v.getDerivedStateFromError!="function"?null:N.render(),d.flags|=1,u!==null&&b?(d.child=Ll(d,u.child,null,I),d.child=Ll(d,null,v,I)):Er(u,d,v,I),d.memoizedState=N.state,u=d.child):u=S(u,d,I),u}function lv(u,d,v,b){return Du(),d.flags|=256,Er(u,d,v,b),d.child}var uv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cv(u){return{baseLanes:u,cachePool:Pu()}}function cm(u,d,v){return u=u!==null?u.childLanes&~v:0,d&&(u|=Cn),u}function qb(u,d,v){var b=d.pendingProps,I=!1,N=(d.flags&128)!==0,ye;if((ye=N)||(ye=u!==null&&u.memoizedState===null?!1:(Ba.current&2)!==0),ye&&(I=!0,d.flags&=-129),ye=(d.flags&32)!==0,d.flags&=-33,u===null){if(Fi){if(I?Ml(d):Jo(),(u=_a)?(u=VC(u,ks),u=u!==null&&u.data!=="&"?u:null,u!==null&&(d.memoizedState={dehydrated:u,treeContext:Wo!==null?{id:ho,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},v=Mh(u),v.return=d,d.child=v,or=d,_a=null)):u=null,u===null)throw xl(d);return VA(u)?d.lanes=32:d.lanes=536870912,null}var qe=b.children;return b=b.fallback,I?(Jo(),I=d.mode,qe=Jc({mode:"hidden",children:qe},I),b=Ko(b,I,v,null),qe.return=d,b.return=d,qe.sibling=b,d.child=qe,b=d.child,b.memoizedState=cv(v),b.childLanes=cm(u,ye,v),d.memoizedState=uv,Zc(null,b)):(Ml(d),dv(d,qe))}var st=u.memoizedState;if(st!==null&&(qe=st.dehydrated,qe!==null)){if(N)d.flags&256?(Ml(d),d.flags&=-257,d=ed(u,d,v)):d.memoizedState!==null?(Jo(),d.child=u.child,d.flags|=128,d=null):(Jo(),qe=b.fallback,I=d.mode,b=Jc({mode:"visible",children:b.children},I),qe=Ko(qe,I,v,null),qe.flags|=2,b.return=d,qe.return=d,b.sibling=qe,d.child=b,Ll(d,u.child,null,v),b=d.child,b.memoizedState=cv(v),b.childLanes=cm(u,ye,v),d.memoizedState=uv,d=Zc(null,b));else if(Ml(d),VA(qe)){if(ye=qe.nextSibling&&qe.nextSibling.dataset,ye)var Ft=ye.dgst;ye=Ft,b=Error(i(419)),b.stack="",b.digest=ye,cf({value:b,source:null,stack:null}),d=ed(u,d,v)}else if(Ga||Lu(u,d,v,!1),ye=(v&u.childLanes)!==0,Ga||ye){if(ye=nt,ye!==null&&(b=vt(ye,v),b!==0&&b!==st.retryLane))throw st.retryLane=b,Za(u,b),Tn(ye,u,b),rv;GA(qe)||Hb(),d=ed(u,d,v)}else GA(qe)?(d.flags|=192,d.child=u.child,d=null):(u=st.treeContext,_a=vo(qe.nextSibling),or=d,Fi=!0,kl=null,ks=!1,u!==null&&WE(d,u),d=dv(d,b.children),d.flags|=4096);return d}return I?(Jo(),qe=b.fallback,I=d.mode,st=u.child,Ft=st.sibling,b=Vo(st,{mode:"hidden",children:b.children}),b.subtreeFlags=st.subtreeFlags&65011712,Ft!==null?qe=Vo(Ft,qe):(qe=Ko(qe,I,v,null),qe.flags|=2),qe.return=d,b.return=d,b.sibling=qe,d.child=b,Zc(null,b),b=d.child,qe=u.child.memoizedState,qe===null?qe=cv(v):(I=qe.cachePool,I!==null?(st=ja._currentValue,I=I.parent!==st?{parent:st,pool:st}:I):I=Pu(),qe={baseLanes:qe.baseLanes|v,cachePool:I}),b.memoizedState=qe,b.childLanes=cm(u,ye,v),d.memoizedState=uv,Zc(u.child,b)):(Ml(d),v=u.child,u=v.sibling,v=Vo(v,{mode:"visible",children:b.children}),v.return=d,v.sibling=null,u!==null&&(ye=d.deletions,ye===null?(d.deletions=[u],d.flags|=16):ye.push(u)),d.child=v,d.memoizedState=null,v)}function dv(u,d){return d=Jc({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function Jc(u,d){return u=cs(22,u,null,d),u.lanes=0,u}function ed(u,d,v){return Ll(d,u.child,null,v),u=dv(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function jb(u,d,v){u.lanes|=d;var b=u.alternate;b!==null&&(b.lanes|=d),Nh(u.return,d,v)}function T(u,d,v,b,I,N){var ye=u.memoizedState;ye===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:v,tailMode:I,treeForkCount:N}:(ye.isBackwards=d,ye.rendering=null,ye.renderingStartTime=0,ye.last=b,ye.tail=v,ye.tailMode=I,ye.treeForkCount=N)}function _(u,d,v){var b=d.pendingProps,I=b.revealOrder,N=b.tail;b=b.children;var ye=Ba.current,qe=(ye&2)!==0;if(qe?(ye=ye&1|2,d.flags|=128):ye&=1,ct(Ba,ye),Er(u,d,b,v),b=Fi?Lc:0,!qe&&u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&jb(u,v,d);else if(u.tag===19)jb(u,v,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(I){case"forwards":for(v=d.child,I=null;v!==null;)u=v.alternate,u!==null&&jh(u)===null&&(I=v),v=v.sibling;v=I,v===null?(I=d.child,d.child=null):(I=v.sibling,v.sibling=null),T(d,!1,I,v,N,b);break;case"backwards":case"unstable_legacy-backwards":for(v=null,I=d.child,d.child=null;I!==null;){if(u=I.alternate,u!==null&&jh(u)===null){d.child=I;break}u=I.sibling,I.sibling=v,v=I,I=u}T(d,!0,v,null,N,b);break;case"together":T(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function S(u,d,v){if(u!==null&&(d.dependencies=u.dependencies),Mn|=d.lanes,(v&d.childLanes)===0)if(u!==null){if(Lu(u,d,v,!1),(v&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(i(153));if(d.child!==null){for(u=d.child,v=Vo(u,u.pendingProps),d.child=v,v.return=d;u.sibling!==null;)u=u.sibling,v=v.sibling=Vo(u,u.pendingProps),v.return=d;v.sibling=null}return d.child}function R(u,d){return(u.lanes&d)!==0?!0:(u=u.dependencies,!!(u!==null&&Oh(u)))}function k(u,d,v){switch(d.tag){case 3:re(d,d.stateNode.containerInfo),zr(d,ja,u.memoizedState.cache),Du();break;case 27:case 5:P(d);break;case 4:re(d,d.stateNode.containerInfo);break;case 10:zr(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,Np(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(Ml(d),d.flags|=128,null):(v&d.child.childLanes)!==0?qb(u,d,v):(Ml(d),u=S(u,d,v),u!==null?u.sibling:null);Ml(d);break;case 19:var I=(u.flags&128)!==0;if(b=(v&d.childLanes)!==0,b||(Lu(u,d,v,!1),b=(v&d.childLanes)!==0),I){if(b)return _(u,d,v);d.flags|=128}if(I=d.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),ct(Ba,Ba.current),b)break;return null;case 22:return d.lanes=0,Pb(u,d,v,d.pendingProps);case 24:zr(d,ja,u.memoizedState.cache)}return S(u,d,v)}function L(u,d,v){if(u!==null)if(u.memoizedProps!==d.pendingProps)Ga=!0;else{if(!R(u,v)&&(d.flags&128)===0)return Ga=!1,k(u,d,v);Ga=(u.flags&131072)!==0}else Ga=!1,Fi&&(d.flags&1048576)!==0&&YE(d,Lc,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(u=Uu(d.elementType),d.type=u,typeof u=="function")fo(u)?(b=ju(u,b),d.tag=1,d=$b(null,d,u,b,v)):(d.tag=0,d=um(null,d,u,b,v));else{if(u!=null){var I=u.$$typeof;if(I===O){d.tag=11,d=sv(null,d,u,b,v);break e}else if(I===F){d.tag=14,d=Ob(null,d,u,b,v);break e}}throw d=He(u)||u,Error(i(306,d,""))}}return d;case 0:return um(u,d,d.type,d.pendingProps,v);case 1:return b=d.type,I=ju(b,d.pendingProps),$b(u,d,b,I,v);case 3:e:{if(re(d,d.stateNode.containerInfo),u===null)throw Error(i(387));b=d.pendingProps;var N=d.memoizedState;I=N.element,Bh(u,d),pf(d,b,null,v);var ye=d.memoizedState;if(b=ye.cache,zr(d,ja,b),b!==N.cache&&Sp(d,[ja],v,!0),qc(),b=ye.element,N.isDehydrated)if(N={element:b,isDehydrated:!1,cache:ye.cache},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){d=lv(u,d,b,v);break e}else if(b!==I){I=Br(Error(i(424)),d),cf(I),d=lv(u,d,b,v);break e}else for(u=d.stateNode.containerInfo,u.nodeType===9?u=u.body:u=u.nodeName==="HTML"?u.ownerDocument.body:u,_a=vo(u.firstChild),or=d,Fi=!0,kl=null,ks=!0,v=rb(d,null,b,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Du(),b===I){d=S(u,d,v);break e}Er(u,d,b,v)}d=d.child}return d;case 26:return lm(u,d),u===null?(v=ZC(d.type,null,d.pendingProps,null))?d.memoizedState=v:Fi||(v=d.type,u=d.pendingProps,b=Xb(ze.current).createElement(v),b[Ni]=d,b[yi]=u,Hr(b,v,u),qa(b),d.stateNode=b):d.memoizedState=ZC(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:return P(d),u===null&&Fi&&(b=d.stateNode=WC(d.type,d.pendingProps,ze.current),or=d,ks=!0,I=_a,ad(d.type)?(KA=I,_a=vo(b.firstChild)):_a=I),Er(u,d,d.pendingProps.children,v),lm(u,d),u===null&&(d.flags|=4194304),d.child;case 5:return u===null&&Fi&&((I=b=_a)&&(b=C4(b,d.type,d.pendingProps,ks),b!==null?(d.stateNode=b,or=d,_a=vo(b.firstChild),ks=!1,I=!0):I=!1),I||xl(d)),P(d),I=d.type,N=d.pendingProps,ye=u!==null?u.memoizedProps:null,b=N.children,qA(I,N)?b=null:ye!==null&&qA(I,ye)&&(d.flags|=32),d.memoizedState!==null&&(I=Op(u,d,RA,null,null,v),yv._currentValue=I),lm(u,d),Er(u,d,b,v),d.child;case 6:return u===null&&Fi&&((u=v=_a)&&(v=D4(v,d.pendingProps,ks),v!==null?(d.stateNode=v,or=d,_a=null,u=!0):u=!1),u||xl(d)),null;case 13:return qb(u,d,v);case 4:return re(d,d.stateNode.containerInfo),b=d.pendingProps,u===null?d.child=Ll(d,null,b,v):Er(u,d,b,v),d.child;case 11:return sv(u,d,d.type,d.pendingProps,v);case 7:return Er(u,d,d.pendingProps,v),d.child;case 8:return Er(u,d,d.pendingProps.children,v),d.child;case 12:return Er(u,d,d.pendingProps.children,v),d.child;case 10:return b=d.pendingProps,zr(d,d.type,b.value),Er(u,d,b.children,v),d.child;case 9:return I=d.type._context,b=d.pendingProps.children,Mu(d),I=lr(I),b=b(I),d.flags|=1,Er(u,d,b,v),d.child;case 14:return Ob(u,d,d.type,d.pendingProps,v);case 15:return ov(u,d,d.type,d.pendingProps,v);case 19:return _(u,d,v);case 31:return Bb(u,d,v);case 22:return Pb(u,d,v,d.pendingProps);case 24:return Mu(d),b=lr(ja),u===null?(I=Rp(),I===null&&(I=nt,N=wp(),I.pooledCache=N,N.refCount++,N!==null&&(I.pooledCacheLanes|=v),I=N),d.memoizedState={parent:b,cache:I},Cp(d),zr(d,ja,I)):((u.lanes&v)!==0&&(Bh(u,d),pf(d,null,null,v),qc()),I=u.memoizedState,N=d.memoizedState,I.parent!==b?(I={parent:b,cache:b},d.memoizedState=I,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=I),zr(d,ja,b)):(b=N.cache,zr(d,ja,b),b!==I.cache&&Sp(d,[ja],v,!0))),Er(u,d,d.pendingProps.children,v),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function $(u){u.flags|=4}function B(u,d,v,b,I){if((d=(u.mode&32)!==0)&&(d=!1),d){if(u.flags|=16777216,(I&335544128)===I)if(u.stateNode.complete)u.flags|=8192;else if(mC())u.flags|=8192;else throw Dl=ff,Ip}else u.flags&=-16777217}function U(u,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!iD(d))if(mC())u.flags|=8192;else throw Dl=ff,Ip}function K(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?ni():536870912,u.lanes|=d,Ii|=d)}function Y(u,d){if(!Fi)switch(u.tailMode){case"hidden":d=u.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function D(u){var d=u.alternate!==null&&u.alternate.child===u.child,v=0,b=0;if(d)for(var I=u.child;I!==null;)v|=I.lanes|I.childLanes,b|=I.subtreeFlags&65011712,b|=I.flags&65011712,I.return=u,I=I.sibling;else for(I=u.child;I!==null;)v|=I.lanes|I.childLanes,b|=I.subtreeFlags,b|=I.flags,I.return=u,I=I.sibling;return u.subtreeFlags|=b,u.childLanes=v,d}function q(u,d,v){var b=d.pendingProps;switch(Mc(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return D(d),null;case 1:return D(d),null;case 3:return v=d.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),Ia(ja),ee(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(Nc(d)?$(d):u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,_p())),D(d),null;case 26:var I=d.type,N=d.memoizedState;return u===null?($(d),N!==null?(D(d),U(d,N)):(D(d),B(d,I,null,b,v))):N?N!==u.memoizedState?($(d),D(d),U(d,N)):(D(d),d.flags&=-16777217):(u=u.memoizedProps,u!==b&&$(d),D(d),B(d,I,u,b,v)),null;case 27:if(G(d),v=ze.current,I=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==b&&$(d);else{if(!b){if(d.stateNode===null)throw Error(i(166));return D(d),null}u=It.current,Nc(d)?QE(d):(u=WC(I,b,v),d.stateNode=u,$(d))}return D(d),null;case 5:if(G(d),I=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==b&&$(d);else{if(!b){if(d.stateNode===null)throw Error(i(166));return D(d),null}if(N=It.current,Nc(d))QE(d);else{var ye=Xb(ze.current);switch(N){case 1:N=ye.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:N=ye.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":N=ye.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":N=ye.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":N=ye.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof b.is=="string"?ye.createElement("select",{is:b.is}):ye.createElement("select"),b.multiple?N.multiple=!0:b.size&&(N.size=b.size);break;default:N=typeof b.is=="string"?ye.createElement(I,{is:b.is}):ye.createElement(I)}}N[Ni]=d,N[yi]=b;e:for(ye=d.child;ye!==null;){if(ye.tag===5||ye.tag===6)N.appendChild(ye.stateNode);else if(ye.tag!==4&&ye.tag!==27&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===d)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===d)break e;ye=ye.return}ye.sibling.return=ye.return,ye=ye.sibling}d.stateNode=N;e:switch(Hr(N,I,b),I){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&$(d)}}return D(d),B(d,d.type,u===null?null:u.memoizedProps,d.pendingProps,v),null;case 6:if(u&&d.stateNode!=null)u.memoizedProps!==b&&$(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(i(166));if(u=ze.current,Nc(d)){if(u=d.stateNode,v=d.memoizedProps,b=null,I=or,I!==null)switch(I.tag){case 27:case 5:b=I.memoizedProps}u[Ni]=d,u=!!(u.nodeValue===v||b!==null&&b.suppressHydrationWarning===!0||FC(u.nodeValue,v)),u||xl(d,!0)}else u=Xb(u).createTextNode(b),u[Ni]=d,d.stateNode=u}return D(d),null;case 31:if(v=d.memoizedState,u===null||u.memoizedState!==null){if(b=Nc(d),v!==null){if(u===null){if(!b)throw Error(i(318));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(557));u[Ni]=d}else Du(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;D(d),u=!1}else v=_p(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=v),u=!0;if(!u)return d.flags&256?(hs(d),d):(hs(d),null);if((d.flags&128)!==0)throw Error(i(558))}return D(d),null;case 13:if(b=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(I=Nc(d),b!==null&&b.dehydrated!==null){if(u===null){if(!I)throw Error(i(318));if(I=d.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(i(317));I[Ni]=d}else Du(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;D(d),I=!1}else I=_p(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=I),I=!0;if(!I)return d.flags&256?(hs(d),d):(hs(d),null)}return hs(d),(d.flags&128)!==0?(d.lanes=v,d):(v=b!==null,u=u!==null&&u.memoizedState!==null,v&&(b=d.child,I=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(I=b.alternate.memoizedState.cachePool.pool),N=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==I&&(b.flags|=2048)),v!==u&&v&&(d.child.flags|=8192),K(d,d.updateQueue),D(d),null);case 4:return ee(),u===null&&UA(d.stateNode.containerInfo),D(d),null;case 10:return Ia(d.type),D(d),null;case 19:if(We(Ba),b=d.memoizedState,b===null)return D(d),null;if(I=(d.flags&128)!==0,N=b.rendering,N===null)if(I)Y(b,!1);else{if(Xt!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(N=jh(u),N!==null){for(d.flags|=128,Y(b,!1),u=N.updateQueue,d.updateQueue=u,K(d,u),d.subtreeFlags=0,u=v,v=d.child;v!==null;)Lh(v,u),v=v.sibling;return ct(Ba,Ba.current&1|2),Fi&&sr(d,b.treeForkCount),d.child}u=u.sibling}b.tail!==null&&Zt()>zs&&(d.flags|=128,I=!0,Y(b,!1),d.lanes=4194304)}else{if(!I)if(u=jh(N),u!==null){if(d.flags|=128,I=!0,u=u.updateQueue,d.updateQueue=u,K(d,u),Y(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!Fi)return D(d),null}else 2*Zt()-b.renderingStartTime>zs&&v!==536870912&&(d.flags|=128,I=!0,Y(b,!1),d.lanes=4194304);b.isBackwards?(N.sibling=d.child,d.child=N):(u=b.last,u!==null?u.sibling=N:d.child=N,b.last=N)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=Zt(),u.sibling=null,v=Ba.current,ct(Ba,I?v&1|2:v&1),Fi&&sr(d,b.treeForkCount),u):(D(d),null);case 22:case 23:return hs(d),Mp(),b=d.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(v&536870912)!==0&&(d.flags&128)===0&&(D(d),d.subtreeFlags&6&&(d.flags|=8192)):D(d),v=d.updateQueue,v!==null&&K(d,v.retryQueue),v=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048),u!==null&&We(Ou),null;case 24:return v=null,u!==null&&(v=u.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),Ia(ja),D(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function j(u,d){switch(Mc(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Ia(ja),ee(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return G(d),null;case 31:if(d.memoizedState!==null){if(hs(d),d.alternate===null)throw Error(i(340));Du()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 13:if(hs(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(i(340));Du()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return We(Ba),null;case 4:return ee(),null;case 10:return Ia(d.type),null;case 22:case 23:return hs(d),Mp(),u!==null&&We(Ou),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return Ia(ja),null;case 25:return null;default:return null}}function Z(u,d){switch(Mc(d),d.tag){case 3:Ia(ja),ee();break;case 26:case 27:case 5:G(d);break;case 4:ee();break;case 31:d.memoizedState!==null&&hs(d);break;case 13:hs(d);break;case 19:We(Ba);break;case 10:Ia(d.type);break;case 22:case 23:hs(d),Mp(),u!==null&&We(Ou);break;case 24:Ia(ja)}}function ie(u,d){try{var v=d.updateQueue,b=v!==null?v.lastEffect:null;if(b!==null){var I=b.next;v=I;do{if((v.tag&u)===u){b=void 0;var N=v.create,ye=v.inst;b=N(),ye.destroy=b}v=v.next}while(v!==I)}}catch(qe){fa(d,d.return,qe)}}function ae(u,d,v){try{var b=d.updateQueue,I=b!==null?b.lastEffect:null;if(I!==null){var N=I.next;b=N;do{if((b.tag&u)===u){var ye=b.inst,qe=ye.destroy;if(qe!==void 0){ye.destroy=void 0,I=d;var st=v,Ft=qe;try{Ft()}catch(rn){fa(I,st,rn)}}}b=b.next}while(b!==N)}}catch(rn){fa(d,d.return,rn)}}function J(u){var d=u.updateQueue;if(d!==null){var v=u.stateNode;try{sb(d,v)}catch(b){fa(u,u.return,b)}}}function fe(u,d,v){v.props=ju(u.type,u.memoizedProps),v.state=u.memoizedState;try{v.componentWillUnmount()}catch(b){fa(u,d,b)}}function me(u,d){try{var v=u.ref;if(v!==null){switch(u.tag){case 26:case 27:case 5:var b=u.stateNode;break;case 30:b=u.stateNode;break;default:b=u.stateNode}typeof v=="function"?u.refCleanup=v(b):v.current=b}}catch(I){fa(u,d,I)}}function pe(u,d){var v=u.ref,b=u.refCleanup;if(v!==null)if(typeof b=="function")try{b()}catch(I){fa(u,d,I)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(I){fa(u,d,I)}else v.current=null}function Re(u){var d=u.type,v=u.memoizedProps,b=u.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":v.autoFocus&&b.focus();break e;case"img":v.src?b.src=v.src:v.srcSet&&(b.srcset=v.srcSet)}}catch(I){fa(u,u.return,I)}}function ne(u,d,v){try{var b=u.stateNode;A4(b,u.type,v,d),b[yi]=d}catch(I){fa(u,u.return,I)}}function Q(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&ad(u.type)||u.tag===4}function V(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Q(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&ad(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function W(u,d,v){var b=u.tag;if(b===5||b===6)u=u.stateNode,d?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(u,d):(d=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,d.appendChild(u),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=kr));else if(b!==4&&(b===27&&ad(u.type)&&(v=u.stateNode,d=null),u=u.child,u!==null))for(W(u,d,v),u=u.sibling;u!==null;)W(u,d,v),u=u.sibling}function Ie(u,d,v){var b=u.tag;if(b===5||b===6)u=u.stateNode,d?v.insertBefore(u,d):v.appendChild(u);else if(b!==4&&(b===27&&ad(u.type)&&(v=u.stateNode),u=u.child,u!==null))for(Ie(u,d,v),u=u.sibling;u!==null;)Ie(u,d,v),u=u.sibling}function le(u){var d=u.stateNode,v=u.memoizedProps;try{for(var b=u.type,I=d.attributes;I.length;)d.removeAttributeNode(I[0]);Hr(d,b,v),d[Ni]=u,d[yi]=v}catch(N){fa(u,u.return,N)}}var Ce=!1,we=!1,Le=!1,Ge=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function te(u,d){if(u=u.containerInfo,zA=a0,u=$E(u),Ru(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var b=v.getSelection&&v.getSelection();if(b&&b.rangeCount!==0){v=b.anchorNode;var I=b.anchorOffset,N=b.focusNode;b=b.focusOffset;try{v.nodeType,N.nodeType}catch{v=null;break e}var ye=0,qe=-1,st=-1,Ft=0,rn=0,hn=u,qt=null;t:for(;;){for(var Kt;hn!==v||I!==0&&hn.nodeType!==3||(qe=ye+I),hn!==N||b!==0&&hn.nodeType!==3||(st=ye+b),hn.nodeType===3&&(ye+=hn.nodeValue.length),(Kt=hn.firstChild)!==null;)qt=hn,hn=Kt;for(;;){if(hn===u)break t;if(qt===v&&++Ft===I&&(qe=ye),qt===N&&++rn===b&&(st=ye),(Kt=hn.nextSibling)!==null)break;hn=qt,qt=hn.parentNode}hn=Kt}v=qe===-1||st===-1?null:{start:qe,end:st}}else v=null}v=v||{start:0,end:0}}else v=null;for($A={focusedElem:u,selectionRange:v},a0=!1,Pe=d;Pe!==null;)if(d=Pe,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,Pe=u;else for(;Pe!==null;){switch(d=Pe,N=d.alternate,u=d.flags,d.tag){case 0:if((u&4)!==0&&(u=d.updateQueue,u=u!==null?u.events:null,u!==null))for(v=0;v<u.length;v++)I=u[v],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&N!==null){u=void 0,v=d,I=N.memoizedProps,N=N.memoizedState,b=v.stateNode;try{var Zn=ju(v.type,I);u=b.getSnapshotBeforeUpdate(Zn,N),b.__reactInternalSnapshotBeforeUpdate=u}catch(ci){fa(v,v.return,ci)}}break;case 3:if((u&1024)!==0){if(u=d.stateNode.containerInfo,v=u.nodeType,v===9)HA(u);else if(v===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":HA(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=d.sibling,u!==null){u.return=d.return,Pe=u;break}Pe=d.return}}function oe(u,d,v){var b=v.flags;switch(v.tag){case 0:case 11:case 15:vn(u,v),b&4&&ie(5,v);break;case 1:if(vn(u,v),b&4)if(u=v.stateNode,d===null)try{u.componentDidMount()}catch(ye){fa(v,v.return,ye)}else{var I=ju(v.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(I,d,u.__reactInternalSnapshotBeforeUpdate)}catch(ye){fa(v,v.return,ye)}}b&64&&J(v),b&512&&me(v,v.return);break;case 3:if(vn(u,v),b&64&&(u=v.updateQueue,u!==null)){if(d=null,v.child!==null)switch(v.child.tag){case 27:case 5:d=v.child.stateNode;break;case 1:d=v.child.stateNode}try{sb(u,d)}catch(ye){fa(v,v.return,ye)}}break;case 27:d===null&&b&4&&le(v);case 26:case 5:vn(u,v),d===null&&b&4&&Re(v),b&512&&me(v,v.return);break;case 12:vn(u,v);break;case 31:vn(u,v),b&4&&_e(u,v);break;case 13:vn(u,v),b&4&&ke(u,v),b&64&&(u=v.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(v=f4.bind(null,v),L4(u,v))));break;case 22:if(b=v.memoizedState!==null||Ce,!b){d=d!==null&&d.memoizedState!==null||we,I=Ce;var N=we;Ce=b,(we=d)&&!N?mn(u,v,(v.subtreeFlags&8772)!==0):vn(u,v),Ce=I,we=N}break;case 30:break;default:vn(u,v)}}function ge(u){var d=u.alternate;d!==null&&(u.alternate=null,ge(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&Uo(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var ue=null,de=!1;function Ee(u,d,v){for(v=v.child;v!==null;)X(u,d,v),v=v.sibling}function X(u,d,v){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Gt,v)}catch{}switch(v.tag){case 26:we||pe(v,d),Ee(u,d,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:we||pe(v,d);var b=ue,I=de;ad(v.type)&&(ue=v.stateNode,de=!1),Ee(u,d,v),gv(v.stateNode),ue=b,de=I;break;case 5:we||pe(v,d);case 6:if(b=ue,I=de,ue=null,Ee(u,d,v),ue=b,de=I,ue!==null)if(de)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(v.stateNode)}catch(N){fa(v,d,N)}else try{ue.removeChild(v.stateNode)}catch(N){fa(v,d,N)}break;case 18:ue!==null&&(de?(u=ue,HC(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,v.stateNode),vm(u)):HC(ue,v.stateNode));break;case 4:b=ue,I=de,ue=v.stateNode.containerInfo,de=!0,Ee(u,d,v),ue=b,de=I;break;case 0:case 11:case 14:case 15:ae(2,v,d),we||ae(4,v,d),Ee(u,d,v);break;case 1:we||(pe(v,d),b=v.stateNode,typeof b.componentWillUnmount=="function"&&fe(v,d,b)),Ee(u,d,v);break;case 21:Ee(u,d,v);break;case 22:we=(b=we)||v.memoizedState!==null,Ee(u,d,v),we=b;break;default:Ee(u,d,v)}}function _e(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{vm(u)}catch(v){fa(d,d.return,v)}}}function ke(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{vm(u)}catch(v){fa(d,d.return,v)}}function Oe(u){switch(u.tag){case 31:case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new Ge),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new Ge),d;default:throw Error(i(435,u.tag))}}function je(u,d){var v=Oe(u);d.forEach(function(b){if(!v.has(b)){v.add(b);var I=h4.bind(null,u,b);b.then(I,I)}})}function Be(u,d){var v=d.deletions;if(v!==null)for(var b=0;b<v.length;b++){var I=v[b],N=u,ye=d,qe=ye;e:for(;qe!==null;){switch(qe.tag){case 27:if(ad(qe.type)){ue=qe.stateNode,de=!1;break e}break;case 5:ue=qe.stateNode,de=!1;break e;case 3:case 4:ue=qe.stateNode.containerInfo,de=!0;break e}qe=qe.return}if(ue===null)throw Error(i(160));X(N,ye,I),ue=null,de=!1,N=I.alternate,N!==null&&(N.return=null),I.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)mt(d,u),d=d.sibling}var Ze=null;function mt(u,d){var v=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Be(d,u),St(u),b&4&&(ae(3,u,u.return),ie(3,u),ae(5,u,u.return));break;case 1:Be(d,u),St(u),b&512&&(we||v===null||pe(v,v.return)),b&64&&Ce&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(v=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=v===null?b:v.concat(b))));break;case 26:var I=Ze;if(Be(d,u),St(u),b&512&&(we||v===null||pe(v,v.return)),b&4){var N=v!==null?v.memoizedState:null;if(b=u.memoizedState,v===null)if(b===null)if(u.stateNode===null){e:{b=u.type,v=u.memoizedProps,I=I.ownerDocument||I;t:switch(b){case"title":N=I.getElementsByTagName("title")[0],(!N||N[Xa]||N[Ni]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=I.createElement(b),I.head.insertBefore(N,I.querySelector("head > title"))),Hr(N,b,v),N[Ni]=u,qa(N),b=N;break e;case"link":var ye=tD("link","href",I).get(b+(v.href||""));if(ye){for(var qe=0;qe<ye.length;qe++)if(N=ye[qe],N.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&N.getAttribute("rel")===(v.rel==null?null:v.rel)&&N.getAttribute("title")===(v.title==null?null:v.title)&&N.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){ye.splice(qe,1);break t}}N=I.createElement(b),Hr(N,b,v),I.head.appendChild(N);break;case"meta":if(ye=tD("meta","content",I).get(b+(v.content||""))){for(qe=0;qe<ye.length;qe++)if(N=ye[qe],N.getAttribute("content")===(v.content==null?null:""+v.content)&&N.getAttribute("name")===(v.name==null?null:v.name)&&N.getAttribute("property")===(v.property==null?null:v.property)&&N.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&N.getAttribute("charset")===(v.charSet==null?null:v.charSet)){ye.splice(qe,1);break t}}N=I.createElement(b),Hr(N,b,v),I.head.appendChild(N);break;default:throw Error(i(468,b))}N[Ni]=u,qa(N),b=N}u.stateNode=b}else nD(I,u.type,u.stateNode);else u.stateNode=eD(I,b,u.memoizedProps);else N!==b?(N===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):N.count--,b===null?nD(I,u.type,u.stateNode):eD(I,b,u.memoizedProps)):b===null&&u.stateNode!==null&&ne(u,u.memoizedProps,v.memoizedProps)}break;case 27:Be(d,u),St(u),b&512&&(we||v===null||pe(v,v.return)),v!==null&&b&4&&ne(u,u.memoizedProps,v.memoizedProps);break;case 5:if(Be(d,u),St(u),b&512&&(we||v===null||pe(v,v.return)),u.flags&32){I=u.stateNode;try{uo(I,"")}catch(Zn){fa(u,u.return,Zn)}}b&4&&u.stateNode!=null&&(I=u.memoizedProps,ne(u,I,v!==null?v.memoizedProps:I)),b&1024&&(Le=!0);break;case 6:if(Be(d,u),St(u),b&4){if(u.stateNode===null)throw Error(i(162));b=u.memoizedProps,v=u.stateNode;try{v.nodeValue=b}catch(Zn){fa(u,u.return,Zn)}}break;case 3:if(e0=null,I=Ze,Ze=Zb(d.containerInfo),Be(d,u),Ze=I,St(u),b&4&&v!==null&&v.memoizedState.isDehydrated)try{vm(d.containerInfo)}catch(Zn){fa(u,u.return,Zn)}Le&&(Le=!1,Ht(u));break;case 4:b=Ze,Ze=Zb(u.stateNode.containerInfo),Be(d,u),St(u),Ze=b;break;case 12:Be(d,u),St(u);break;case 31:Be(d,u),St(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,je(u,b)));break;case 13:Be(d,u),St(u),u.child.flags&8192&&u.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(gs=Zt()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,je(u,b)));break;case 22:I=u.memoizedState!==null;var st=v!==null&&v.memoizedState!==null,Ft=Ce,rn=we;if(Ce=Ft||I,we=rn||st,Be(d,u),we=rn,Ce=Ft,St(u),b&8192)e:for(d=u.stateNode,d._visibility=I?d._visibility&-2:d._visibility|1,I&&(v===null||st||Ce||we||zt(u)),v=null,d=u;;){if(d.tag===5||d.tag===26){if(v===null){st=v=d;try{if(N=st.stateNode,I)ye=N.style,typeof ye.setProperty=="function"?ye.setProperty("display","none","important"):ye.display="none";else{qe=st.stateNode;var hn=st.memoizedProps.style,qt=hn!=null&&hn.hasOwnProperty("display")?hn.display:null;qe.style.display=qt==null||typeof qt=="boolean"?"":(""+qt).trim()}}catch(Zn){fa(st,st.return,Zn)}}}else if(d.tag===6){if(v===null){st=d;try{st.stateNode.nodeValue=I?"":st.memoizedProps}catch(Zn){fa(st,st.return,Zn)}}}else if(d.tag===18){if(v===null){st=d;try{var Kt=st.stateNode;I?GC(Kt,!0):GC(st.stateNode,!1)}catch(Zn){fa(st,st.return,Zn)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=u.updateQueue,b!==null&&(v=b.retryQueue,v!==null&&(b.retryQueue=null,je(u,v))));break;case 19:Be(d,u),St(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,je(u,b)));break;case 30:break;case 21:break;default:Be(d,u),St(u)}}function St(u){var d=u.flags;if(d&2){try{for(var v,b=u.return;b!==null;){if(Q(b)){v=b;break}b=b.return}if(v==null)throw Error(i(160));switch(v.tag){case 27:var I=v.stateNode,N=V(u);Ie(u,N,I);break;case 5:var ye=v.stateNode;v.flags&32&&(uo(ye,""),v.flags&=-33);var qe=V(u);Ie(u,qe,ye);break;case 3:case 4:var st=v.stateNode.containerInfo,Ft=V(u);W(u,Ft,st);break;default:throw Error(i(161))}}catch(rn){fa(u,u.return,rn)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function Ht(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;Ht(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),u=u.sibling}}function vn(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)oe(u,d.alternate,d),d=d.sibling}function zt(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:ae(4,d,d.return),zt(d);break;case 1:pe(d,d.return);var v=d.stateNode;typeof v.componentWillUnmount=="function"&&fe(d,d.return,v),zt(d);break;case 27:gv(d.stateNode);case 26:case 5:pe(d,d.return),zt(d);break;case 22:d.memoizedState===null&&zt(d);break;case 30:zt(d);break;default:zt(d)}u=u.sibling}}function mn(u,d,v){for(v=v&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,I=u,N=d,ye=N.flags;switch(N.tag){case 0:case 11:case 15:mn(I,N,v),ie(4,N);break;case 1:if(mn(I,N,v),b=N,I=b.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Ft){fa(b,b.return,Ft)}if(b=N,I=b.updateQueue,I!==null){var qe=b.stateNode;try{var st=I.shared.hiddenCallbacks;if(st!==null)for(I.shared.hiddenCallbacks=null,I=0;I<st.length;I++)Dp(st[I],qe)}catch(Ft){fa(b,b.return,Ft)}}v&&ye&64&&J(N),me(N,N.return);break;case 27:le(N);case 26:case 5:mn(I,N,v),v&&b===null&&ye&4&&Re(N),me(N,N.return);break;case 12:mn(I,N,v);break;case 31:mn(I,N,v),v&&ye&4&&_e(I,N);break;case 13:mn(I,N,v),v&&ye&4&&ke(I,N);break;case 22:N.memoizedState===null&&mn(I,N,v),me(N,N.return);break;case 30:break;default:mn(I,N,v)}d=d.sibling}}function Nn(u,d){var v=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==v&&(u!=null&&u.refCount++,v!=null&&Pc(v))}function ri(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&Pc(u))}function jn(u,d,v,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Bn(u,d,v,b),d=d.sibling}function Bn(u,d,v,b){var I=d.flags;switch(d.tag){case 0:case 11:case 15:jn(u,d,v,b),I&2048&&ie(9,d);break;case 1:jn(u,d,v,b);break;case 3:jn(u,d,v,b),I&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&Pc(u)));break;case 12:if(I&2048){jn(u,d,v,b),u=d.stateNode;try{var N=d.memoizedProps,ye=N.id,qe=N.onPostCommit;typeof qe=="function"&&qe(ye,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(st){fa(d,d.return,st)}}else jn(u,d,v,b);break;case 31:jn(u,d,v,b);break;case 13:jn(u,d,v,b);break;case 23:break;case 22:N=d.stateNode,ye=d.alternate,d.memoizedState!==null?N._visibility&2?jn(u,d,v,b):at(u,d):N._visibility&2?jn(u,d,v,b):(N._visibility|=2,Hn(u,d,v,b,(d.subtreeFlags&10256)!==0||!1)),I&2048&&Nn(ye,d);break;case 24:jn(u,d,v,b),I&2048&&ri(d.alternate,d);break;default:jn(u,d,v,b)}}function Hn(u,d,v,b,I){for(I=I&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var N=u,ye=d,qe=v,st=b,Ft=ye.flags;switch(ye.tag){case 0:case 11:case 15:Hn(N,ye,qe,st,I),ie(8,ye);break;case 23:break;case 22:var rn=ye.stateNode;ye.memoizedState!==null?rn._visibility&2?Hn(N,ye,qe,st,I):at(N,ye):(rn._visibility|=2,Hn(N,ye,qe,st,I)),I&&Ft&2048&&Nn(ye.alternate,ye);break;case 24:Hn(N,ye,qe,st,I),I&&Ft&2048&&ri(ye.alternate,ye);break;default:Hn(N,ye,qe,st,I)}d=d.sibling}}function at(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var v=u,b=d,I=b.flags;switch(b.tag){case 22:at(v,b),I&2048&&Nn(b.alternate,b);break;case 24:at(v,b),I&2048&&ri(b.alternate,b);break;default:at(v,b)}d=d.sibling}}var Ot=8192;function Mt(u,d,v){if(u.subtreeFlags&Ot)for(u=u.child;u!==null;)Vt(u,d,v),u=u.sibling}function Vt(u,d,v){switch(u.tag){case 26:Mt(u,d,v),u.flags&Ot&&u.memoizedState!==null&&H4(v,Ze,u.memoizedState,u.memoizedProps);break;case 5:Mt(u,d,v);break;case 3:case 4:var b=Ze;Ze=Zb(u.stateNode.containerInfo),Mt(u,d,v),Ze=b;break;case 22:u.memoizedState===null&&(b=u.alternate,b!==null&&b.memoizedState!==null?(b=Ot,Ot=16777216,Mt(u,d,v),Ot=b):Mt(u,d,v));break;default:Mt(u,d,v)}}function yn(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function $n(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];Pe=b,sn(b,u)}yn(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)yt(u),u=u.sibling}function yt(u){switch(u.tag){case 0:case 11:case 15:$n(u),u.flags&2048&&ae(9,u,u.return);break;case 3:$n(u);break;case 12:$n(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&2&&(u.return===null||u.return.tag!==13)?(d._visibility&=-3,jt(u)):$n(u);break;default:$n(u)}}function jt(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];Pe=b,sn(b,u)}yn(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:ae(8,d,d.return),jt(d);break;case 22:v=d.stateNode,v._visibility&2&&(v._visibility&=-3,jt(d));break;default:jt(d)}u=u.sibling}}function sn(u,d){for(;Pe!==null;){var v=Pe;switch(v.tag){case 0:case 11:case 15:ae(8,v,d);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var b=v.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Pc(v.memoizedState.cache)}if(b=v.child,b!==null)b.return=v,Pe=b;else e:for(v=u;Pe!==null;){b=Pe;var I=b.sibling,N=b.return;if(ge(b),b===v){Pe=null;break e}if(I!==null){I.return=N,Pe=I;break e}Pe=N}}}var et={getCacheForType:function(u){var d=lr(ja),v=d.data.get(u);return v===void 0&&(v=u(),d.data.set(u,v)),v},cacheSignal:function(){return lr(ja).controller.signal}},ut=typeof WeakMap=="function"?WeakMap:Map,Et=0,nt=null,wt=null,Nt=0,Ne=0,ft=null,Qt=!1,tn=!1,Xn=!1,Tt=0,Xt=0,Mn=0,Dn=0,Jn=0,Cn=0,Ii=0,Ki=null,ka=null,ms=!1,gs=0,Pl=0,zs=1/0,$r=null,qr=null,ea=0,ur=null,br=null,ts=0,td=0,nd=null,jr=null,po=0,tl=null;function ot(){return(Et&2)!==0&&Nt!==0?Nt&-Nt:he.T!==null?MA():Qn()}function Yt(){if(Cn===0)if((Nt&536870912)===0||Fi){var u=Wt;Wt<<=1,(Wt&3932160)===0&&(Wt=262144),Cn=u}else Cn=536870912;return u=ds.current,u!==null&&(u.flags|=32),Cn}function Tn(u,d,v){(u===nt&&(Ne===2||Ne===9)||u.cancelPendingCommit!==null)&&($s(u,0),Pi(u,Nt,Cn,!1)),zn(u,v),((Et&2)===0||u!==nt)&&(u===nt&&((Et&2)===0&&(Dn|=v),Xt===4&&Pi(u,Nt,Cn,!1)),Ul(u))}function On(u,d,v){if((Et&6)!==0)throw Error(i(327));var b=!v&&(d&127)===0&&(d&u.expiredLanes)===0||an(u,d),I=b?u4(u,d):xA(u,d,!0),N=b;do{if(I===0){tn&&!b&&Pi(u,d,0,!1);break}else{if(v=u.current.alternate,N&&!fi(v)){I=xA(u,d,!1),N=!1;continue}if(I===2){if(N=d,u.errorRecoveryDisabledLanes&N)var ye=0;else ye=u.pendingLanes&-536870913,ye=ye!==0?ye:ye&536870912?536870912:0;if(ye!==0){d=ye;e:{var qe=u;I=Ki;var st=qe.current.memoizedState.isDehydrated;if(st&&($s(qe,ye).flags|=256),ye=xA(qe,ye,!1),ye!==2){if(Xn&&!st){qe.errorRecoveryDisabledLanes|=N,Dn|=N,I=4;break e}N=ka,ka=I,N!==null&&(ka===null?ka=N:ka.push.apply(ka,N))}I=ye}if(N=!1,I!==2)continue}}if(I===1){$s(u,0),Pi(u,d,0,!0);break}e:{switch(b=u,N=I,N){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:Pi(b,d,Cn,!Qt);break e;case 2:ka=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(I=gs+300-Zt(),10<I)){if(Pi(b,d,Cn,!Qt),bn(b,0,!0)!==0)break e;ts=d,b.timeoutHandle=qC(ii.bind(null,b,v,ka,$r,ms,d,Cn,Dn,Ii,Qt,N,"Throttled",-0,0),I);break e}ii(b,v,ka,$r,ms,d,Cn,Dn,Ii,Qt,N,null,-0,0)}}break}while(!0);Ul(u)}function ii(u,d,v,b,I,N,ye,qe,st,Ft,rn,hn,qt,Kt){if(u.timeoutHandle=-1,hn=d.subtreeFlags,hn&8192||(hn&16785408)===16785408){hn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kr},Vt(d,N,hn);var Zn=(N&62914560)===N?gs-Zt():(N&4194048)===N?Pl-Zt():0;if(Zn=G4(hn,Zn),Zn!==null){ts=N,u.cancelPendingCommit=Zn(bC.bind(null,u,d,N,v,b,I,ye,qe,st,rn,hn,null,qt,Kt)),Pi(u,N,ye,!Ft);return}}bC(u,d,N,v,b,I,ye,qe,st)}function fi(u){for(var d=u;;){var v=d.tag;if((v===0||v===11||v===15)&&d.flags&16384&&(v=d.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var b=0;b<v.length;b++){var I=v[b],N=I.getSnapshot;I=I.value;try{if(!Jr(N(),I))return!1}catch{return!1}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Pi(u,d,v,b){d&=~Jn,d&=~Dn,u.suspendedLanes|=d,u.pingedLanes&=~d,b&&(u.warmLanes|=d),b=u.expirationTimes;for(var I=d;0<I;){var N=31-kt(I),ye=1<<N;b[N]=-1,I&=~ye}v!==0&&En(u,v,d)}function ns(){return(Et&6)===0?(fv(0),!1):!0}function is(){if(wt!==null){if(Ne===0)var u=wt.return;else u=wt,Qo=Cl=null,Kh(u),zc=null,$c=0,u=wt;for(;u!==null;)Z(u.alternate,u),u=u.return;wt=null}}function $s(u,d){var v=u.timeoutHandle;v!==-1&&(u.timeoutHandle=-1,I4(v)),v=u.cancelPendingCommit,v!==null&&(u.cancelPendingCommit=null,v()),ts=0,is(),nt=u,wt=v=Vo(u.current,null),Nt=d,Ne=0,ft=null,Qt=!1,tn=an(u,d),Xn=!1,Ii=Cn=Jn=Dn=Mn=Xt=0,ka=Ki=null,ms=!1,(d&8)!==0&&(d|=d&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=d;0<b;){var I=31-kt(b),N=1<<I;d|=u[I],b&=~N}return Tt=d,sf(),v}function dm(u,d){bi=null,he.H=Ef,d===Bc||d===Fh?(d=ib(),Ne=3):d===Ip?(d=ib(),Ne=4):Ne=d===rv?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ft=d,wt===null&&(Xt=1,rm(u,Br(d,u.current)))}function mC(){var u=ds.current;return u===null?!0:(Nt&4194048)===Nt?fs===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?u===fs:!1}function gC(){var u=he.H;return he.H=Ef,u===null?Ef:u}function pC(){var u=he.A;return he.A=et,u}function Hb(){Xt=4,Qt||(Nt&4194048)!==Nt&&ds.current!==null||(tn=!0),(Mn&134217727)===0&&(Dn&134217727)===0||nt===null||Pi(nt,Nt,Cn,!1)}function xA(u,d,v){var b=Et;Et|=2;var I=gC(),N=pC();(nt!==u||Nt!==d)&&($r=null,$s(u,d)),d=!1;var ye=Xt;e:do try{if(Ne!==0&&wt!==null){var qe=wt,st=ft;switch(Ne){case 8:is(),ye=6;break e;case 3:case 2:case 9:case 6:ds.current===null&&(d=!0);var Ft=Ne;if(Ne=0,ft=null,fm(u,qe,st,Ft),v&&tn){ye=0;break e}break;default:Ft=Ne,Ne=0,ft=null,fm(u,qe,st,Ft)}}l4(),ye=Xt;break}catch(rn){dm(u,rn)}while(!0);return d&&u.shellSuspendCounter++,Qo=Cl=null,Et=b,he.H=I,he.A=N,wt===null&&(nt=null,Nt=0,sf()),ye}function l4(){for(;wt!==null;)vC(wt)}function u4(u,d){var v=Et;Et|=2;var b=gC(),I=pC();nt!==u||Nt!==d?($r=null,zs=Zt()+500,$s(u,d)):tn=an(u,d);e:do try{if(Ne!==0&&wt!==null){d=wt;var N=ft;t:switch(Ne){case 1:Ne=0,ft=null,fm(u,d,N,1);break;case 2:case 9:if(nb(N)){Ne=0,ft=null,yC(d);break}d=function(){Ne!==2&&Ne!==9||nt!==u||(Ne=7),Ul(u)},N.then(d,d);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:nb(N)?(Ne=0,ft=null,yC(d)):(Ne=0,ft=null,fm(u,d,N,7));break;case 5:var ye=null;switch(wt.tag){case 26:ye=wt.memoizedState;case 5:case 27:var qe=wt;if(ye?iD(ye):qe.stateNode.complete){Ne=0,ft=null;var st=qe.sibling;if(st!==null)wt=st;else{var Ft=qe.return;Ft!==null?(wt=Ft,Gb(Ft)):wt=null}break t}}Ne=0,ft=null,fm(u,d,N,5);break;case 6:Ne=0,ft=null,fm(u,d,N,6);break;case 8:is(),Xt=6;break e;default:throw Error(i(462))}}c4();break}catch(rn){dm(u,rn)}while(!0);return Qo=Cl=null,he.H=b,he.A=I,Et=v,wt!==null?0:(nt=null,Nt=0,sf(),Xt)}function c4(){for(;wt!==null&&!Bt();)vC(wt)}function vC(u){var d=L(u.alternate,u,Tt);u.memoizedProps=u.pendingProps,d===null?Gb(u):wt=d}function yC(u){var d=u,v=d.alternate;switch(d.tag){case 15:case 0:d=zb(v,d,d.pendingProps,d.type,void 0,Nt);break;case 11:d=zb(v,d,d.pendingProps,d.type.render,d.ref,Nt);break;case 5:Kh(d);default:Z(v,d),d=wt=Lh(d,Tt),d=L(v,d,Tt)}u.memoizedProps=u.pendingProps,d===null?Gb(u):wt=d}function fm(u,d,v,b){Qo=Cl=null,Kh(d),zc=null,$c=0;var I=d.return;try{if(Nb(u,I,d,v,Nt)){Xt=1,rm(u,Br(v,u.current)),wt=null;return}}catch(N){if(I!==null)throw wt=I,N;Xt=1,rm(u,Br(v,u.current)),wt=null;return}d.flags&32768?(Fi||b===1?u=!0:tn||(Nt&536870912)!==0?u=!1:(Qt=u=!0,(b===2||b===9||b===3||b===6)&&(b=ds.current,b!==null&&b.tag===13&&(b.flags|=16384))),EC(d,u)):Gb(d)}function Gb(u){var d=u;do{if((d.flags&32768)!==0){EC(d,Qt);return}u=d.return;var v=q(d.alternate,d,Tt);if(v!==null){wt=v;return}if(d=d.sibling,d!==null){wt=d;return}wt=d=u}while(d!==null);Xt===0&&(Xt=5)}function EC(u,d){do{var v=j(u.alternate,u);if(v!==null){v.flags&=32767,wt=v;return}if(v=u.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!d&&(u=u.sibling,u!==null)){wt=u;return}wt=u=v}while(u!==null);Xt=6,wt=null}function bC(u,d,v,b,I,N,ye,qe,st){u.cancelPendingCommit=null;do Vb();while(ea!==0);if((Et&6)!==0)throw Error(i(327));if(d!==null){if(d===u.current)throw Error(i(177));if(N=d.lanes|d.childLanes,N|=yp,Ai(u,v,N,ye,qe,st),u===nt&&(wt=nt=null,Nt=0),br=d,ur=u,ts=v,td=N,nd=I,jr=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,m4(Ti,function(){return wC(),null})):(u.callbackNode=null,u.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=he.T,he.T=null,I=$e.p,$e.p=2,ye=Et,Et|=4;try{te(u,d,v)}finally{Et=ye,$e.p=I,he.T=b}}ea=1,_C(),TC(),SC()}}function _C(){if(ea===1){ea=0;var u=ur,d=br,v=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||v){v=he.T,he.T=null;var b=$e.p;$e.p=2;var I=Et;Et|=4;try{mt(d,u);var N=$A,ye=$E(u.containerInfo),qe=N.focusedElem,st=N.selectionRange;if(ye!==qe&&qe&&qe.ownerDocument&&dp(qe.ownerDocument.documentElement,qe)){if(st!==null&&Ru(qe)){var Ft=st.start,rn=st.end;if(rn===void 0&&(rn=Ft),"selectionStart"in qe)qe.selectionStart=Ft,qe.selectionEnd=Math.min(rn,qe.value.length);else{var hn=qe.ownerDocument||document,qt=hn&&hn.defaultView||window;if(qt.getSelection){var Kt=qt.getSelection(),Zn=qe.textContent.length,ci=Math.min(st.start,Zn),va=st.end===void 0?ci:Math.min(st.end,Zn);!Kt.extend&&ci>va&&(ye=va,va=ci,ci=ye);var _t=zE(qe,ci),gt=zE(qe,va);if(_t&&gt&&(Kt.rangeCount!==1||Kt.anchorNode!==_t.node||Kt.anchorOffset!==_t.offset||Kt.focusNode!==gt.node||Kt.focusOffset!==gt.offset)){var Pt=hn.createRange();Pt.setStart(_t.node,_t.offset),Kt.removeAllRanges(),ci>va?(Kt.addRange(Pt),Kt.extend(gt.node,gt.offset)):(Pt.setEnd(gt.node,gt.offset),Kt.addRange(Pt))}}}}for(hn=[],Kt=qe;Kt=Kt.parentNode;)Kt.nodeType===1&&hn.push({element:Kt,left:Kt.scrollLeft,top:Kt.scrollTop});for(typeof qe.focus=="function"&&qe.focus(),qe=0;qe<hn.length;qe++){var ln=hn[qe];ln.element.scrollLeft=ln.left,ln.element.scrollTop=ln.top}}a0=!!zA,$A=zA=null}finally{Et=I,$e.p=b,he.T=v}}u.current=d,ea=2}}function TC(){if(ea===2){ea=0;var u=ur,d=br,v=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||v){v=he.T,he.T=null;var b=$e.p;$e.p=2;var I=Et;Et|=4;try{oe(u,d.alternate,d)}finally{Et=I,$e.p=b,he.T=v}}ea=3}}function SC(){if(ea===4||ea===3){ea=0,wn();var u=ur,d=br,v=ts,b=jr;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ea=5:(ea=0,br=ur=null,AC(u,u.pendingLanes));var I=u.pendingLanes;if(I===0&&(qr=null),An(v),d=d.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Gt,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=he.T,I=$e.p,$e.p=2,he.T=null;try{for(var N=u.onRecoverableError,ye=0;ye<b.length;ye++){var qe=b[ye];N(qe.value,{componentStack:qe.stack})}}finally{he.T=d,$e.p=I}}(ts&3)!==0&&Vb(),Ul(u),I=u.pendingLanes,(v&261930)!==0&&(I&42)!==0?u===tl?po++:(po=0,tl=u):po=0,fv(0)}}function AC(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,Pc(d)))}function Vb(){return _C(),TC(),SC(),wC()}function wC(){if(ea!==5)return!1;var u=ur,d=td;td=0;var v=An(ts),b=he.T,I=$e.p;try{$e.p=32>v?32:v,he.T=null,v=nd,nd=null;var N=ur,ye=ts;if(ea=0,br=ur=null,ts=0,(Et&6)!==0)throw Error(i(331));var qe=Et;if(Et|=4,yt(N.current),Bn(N,N.current,ye,v),Et=qe,fv(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Gt,N)}catch{}return!0}finally{$e.p=I,he.T=b,AC(u,d)}}function RC(u,d,v){d=Br(v,d),d=om(u.stateNode,d,2),u=Zo(u,d,2),u!==null&&(zn(u,2),Ul(u))}function fa(u,d,v){if(u.tag===3)RC(u,u,v);else for(;d!==null;){if(d.tag===3){RC(d,u,v);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(qr===null||!qr.has(b))){u=Br(v,u),v=av(2),b=Zo(d,v,2),b!==null&&(Mb(v,b,d,u),zn(b,2),Ul(b));break}}d=d.return}}function CA(u,d,v){var b=u.pingCache;if(b===null){b=u.pingCache=new ut;var I=new Set;b.set(d,I)}else I=b.get(d),I===void 0&&(I=new Set,b.set(d,I));I.has(v)||(Xn=!0,I.add(v),u=d4.bind(null,u,d,v),d.then(u,u))}function d4(u,d,v){var b=u.pingCache;b!==null&&b.delete(d),u.pingedLanes|=u.suspendedLanes&v,u.warmLanes&=~v,nt===u&&(Nt&v)===v&&(Xt===4||Xt===3&&(Nt&62914560)===Nt&&300>Zt()-gs?(Et&2)===0&&$s(u,0):Jn|=v,Ii===Nt&&(Ii=0)),Ul(u)}function IC(u,d){d===0&&(d=ni()),u=Za(u,d),u!==null&&(zn(u,d),Ul(u))}function f4(u){var d=u.memoizedState,v=0;d!==null&&(v=d.retryLane),IC(u,v)}function h4(u,d){var v=0;switch(u.tag){case 31:case 13:var b=u.stateNode,I=u.memoizedState;I!==null&&(v=I.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(d),IC(u,v)}function m4(u,d){return Rt(u,d)}var Kb=null,hm=null,DA=!1,Yb=!1,LA=!1,id=0;function Ul(u){u!==hm&&u.next===null&&(hm===null?Kb=hm=u:hm=hm.next=u),Yb=!0,DA||(DA=!0,p4())}function fv(u,d){if(!LA&&Yb){LA=!0;do for(var v=!1,b=Kb;b!==null;){if(u!==0){var I=b.pendingLanes;if(I===0)var N=0;else{var ye=b.suspendedLanes,qe=b.pingedLanes;N=(1<<31-kt(42|u)+1)-1,N&=I&~(ye&~qe),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(v=!0,DC(b,N))}else N=Nt,N=bn(b,b===nt?N:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(N&3)===0||an(b,N)||(v=!0,DC(b,N));b=b.next}while(v);LA=!1}}function g4(){kC()}function kC(){Yb=DA=!1;var u=0;id!==0&&R4()&&(u=id);for(var d=Zt(),v=null,b=Kb;b!==null;){var I=b.next,N=xC(b,d);N===0?(b.next=null,v===null?Kb=I:v.next=I,I===null&&(hm=v)):(v=b,(u!==0||(N&3)!==0)&&(Yb=!0)),b=I}ea!==0&&ea!==5||fv(u),id!==0&&(id=0)}function xC(u,d){for(var v=u.suspendedLanes,b=u.pingedLanes,I=u.expirationTimes,N=u.pendingLanes&-62914561;0<N;){var ye=31-kt(N),qe=1<<ye,st=I[ye];st===-1?((qe&v)===0||(qe&b)!==0)&&(I[ye]=xn(qe,d)):st<=d&&(u.expiredLanes|=qe),N&=~qe}if(d=nt,v=Nt,v=bn(u,u===d?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b=u.callbackNode,v===0||u===d&&(Ne===2||Ne===9)||u.cancelPendingCommit!==null)return b!==null&&b!==null&&dt(b),u.callbackNode=null,u.callbackPriority=0;if((v&3)===0||an(u,v)){if(d=v&-v,d===u.callbackPriority)return d;switch(b!==null&&dt(b),An(v)){case 2:case 8:v=Wn;break;case 32:v=Ti;break;case 268435456:v=zi;break;default:v=Ti}return b=CC.bind(null,u),v=Rt(v,b),u.callbackPriority=d,u.callbackNode=v,d}return b!==null&&b!==null&&dt(b),u.callbackPriority=2,u.callbackNode=null,2}function CC(u,d){if(ea!==0&&ea!==5)return u.callbackNode=null,u.callbackPriority=0,null;var v=u.callbackNode;if(Vb()&&u.callbackNode!==v)return null;var b=Nt;return b=bn(u,u===nt?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b===0?null:(On(u,b,d),xC(u,Zt()),u.callbackNode!=null&&u.callbackNode===v?CC.bind(null,u):null)}function DC(u,d){if(Vb())return null;On(u,d,!0)}function p4(){k4(function(){(Et&6)!==0?Rt(en,g4):kC()})}function MA(){if(id===0){var u=Nu;u===0&&(u=Sn,Sn<<=1,(Sn&261888)===0&&(Sn=256)),id=u}return id}function LC(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Vi(""+u)}function MC(u,d){var v=d.ownerDocument.createElement("input");return v.name=d.name,v.value=d.value,u.id&&v.setAttribute("form",u.id),d.parentNode.insertBefore(v,d),u=new FormData(u),v.parentNode.removeChild(v),u}function v4(u,d,v,b,I){if(d==="submit"&&v&&v.stateNode===I){var N=LC((I[yi]||null).action),ye=b.submitter;ye&&(d=(d=ye[yi]||null)?LC(d.formAction):ye.getAttribute("formAction"),d!==null&&(N=d,ye=null));var qe=new Zd("action","action",null,b,I);u.push({event:qe,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(id!==0){var st=ye?MC(I,ye):new FormData(I);Qc(v,{pending:!0,data:st,method:I.method,action:N},null,st)}}else typeof N=="function"&&(qe.preventDefault(),st=ye?MC(I,ye):new FormData(I),Qc(v,{pending:!0,data:st,method:I.method,action:N},N,st))},currentTarget:I}]})}}for(var NA=0;NA<vp.length;NA++){var OA=vp[NA],y4=OA.toLowerCase(),E4=OA[0].toUpperCase()+OA.slice(1);es(y4,"on"+E4)}es(jE,"onAnimationEnd"),es(HE,"onAnimationIteration"),es(mp,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(GE,"onTransitionRun"),es(Ic,"onTransitionStart"),es(VE,"onTransitionCancel"),es(gp,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hv));function NC(u,d){d=(d&4)!==0;for(var v=0;v<u.length;v++){var b=u[v],I=b.event;b=b.listeners;e:{var N=void 0;if(d)for(var ye=b.length-1;0<=ye;ye--){var qe=b[ye],st=qe.instance,Ft=qe.currentTarget;if(qe=qe.listener,st!==N&&I.isPropagationStopped())break e;N=qe,I.currentTarget=Ft;try{N(I)}catch(rn){rf(rn)}I.currentTarget=null,N=st}else for(ye=0;ye<b.length;ye++){if(qe=b[ye],st=qe.instance,Ft=qe.currentTarget,qe=qe.listener,st!==N&&I.isPropagationStopped())break e;N=qe,I.currentTarget=Ft;try{N(I)}catch(rn){rf(rn)}I.currentTarget=null,N=st}}}}function Bi(u,d){var v=d[xe];v===void 0&&(v=d[xe]=new Set);var b=u+"__bubble";v.has(b)||(OC(d,u,2,!1),v.add(b))}function PA(u,d,v){var b=0;d&&(b|=4),OC(v,u,b,d)}var Wb="_reactListening"+Math.random().toString(36).slice(2);function UA(u){if(!u[Wb]){u[Wb]=!0,yc.forEach(function(v){v!=="selectionchange"&&(b4.has(v)||PA(v,!1,u),PA(v,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[Wb]||(d[Wb]=!0,PA("selectionchange",!1,d))}}function OC(u,d,v,b){switch(cD(d)){case 2:var I=Y4;break;case 8:I=W4;break;default:I=ZA}v=I.bind(null,d,v,u),I=void 0,!Eh||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(I=!0),b?I!==void 0?u.addEventListener(d,v,{capture:!0,passive:I}):u.addEventListener(d,v,!0):I!==void 0?u.addEventListener(d,v,{passive:I}):u.addEventListener(d,v,!1)}function FA(u,d,v,b,I){var N=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var ye=b.tag;if(ye===3||ye===4){var qe=b.stateNode.containerInfo;if(qe===I)break;if(ye===4)for(ye=b.return;ye!==null;){var st=ye.tag;if((st===3||st===4)&&ye.stateNode.containerInfo===I)return;ye=ye.return}for(;qe!==null;){if(ye=$a(qe),ye===null)return;if(st=ye.tag,st===5||st===6||st===26||st===27){b=N=ye;continue e}qe=qe.parentNode}}b=b.return}Xg(function(){var Ft=N,rn=Zr(v),hn=[];e:{var qt=pp.get(u);if(qt!==void 0){var Kt=Zd,Zn=u;switch(u){case"keypress":if(Qd(v)===0)break e;case"keydown":case"keyup":Kt=AE;break;case"focusin":Zn="focus",Kt=Jd;break;case"focusout":Zn="blur",Kt=Jd;break;case"beforeblur":case"afterblur":Kt=Jd;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Kt=yE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Kt=EE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Kt=RE;break;case jE:case HE:case mp:Kt=gA;break;case gp:Kt=kE;break;case"scroll":case"scrollend":Kt=vE;break;case"wheel":Kt=CE;break;case"copy":case"cut":case"paste":Kt=Jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Kt=wE;break;case"toggle":case"beforetoggle":Kt=DE}var ci=(d&4)!==0,va=!ci&&(u==="scroll"||u==="scrollend"),_t=ci?qt!==null?qt+"Capture":null:qt;ci=[];for(var gt=Ft,Pt;gt!==null;){var ln=gt;if(Pt=ln.stateNode,ln=ln.tag,ln!==5&&ln!==26&&ln!==27||Pt===null||_t===null||(ln=Tc(gt,_t),ln!=null&&ci.push(mv(gt,ln,Pt))),va)break;gt=gt.return}0<ci.length&&(qt=new Kt(qt,Zn,null,v,rn),hn.push({event:qt,listeners:ci}))}}if((d&7)===0){e:{if(qt=u==="mouseover"||u==="pointerover",Kt=u==="mouseout"||u==="pointerout",qt&&v!==$o&&(Zn=v.relatedTarget||v.fromElement)&&($a(Zn)||Zn[ua]))break e;if((Kt||qt)&&(qt=rn.window===rn?rn:(qt=rn.ownerDocument)?qt.defaultView||qt.parentWindow:window,Kt?(Zn=v.relatedTarget||v.toElement,Kt=Ft,Zn=Zn?$a(Zn):null,Zn!==null&&(va=o(Zn),ci=Zn.tag,Zn!==va||ci!==5&&ci!==27&&ci!==6)&&(Zn=null)):(Kt=null,Zn=Ft),Kt!==Zn)){if(ci=yE,ln="onMouseLeave",_t="onMouseEnter",gt="mouse",(u==="pointerout"||u==="pointerover")&&(ci=wE,ln="onPointerLeave",_t="onPointerEnter",gt="pointer"),va=Kt==null?qt:wl(Kt),Pt=Zn==null?qt:wl(Zn),qt=new ci(ln,gt+"leave",Kt,v,rn),qt.target=va,qt.relatedTarget=Pt,ln=null,$a(rn)===Ft&&(ci=new ci(_t,gt+"enter",Zn,v,rn),ci.target=Pt,ci.relatedTarget=va,ln=ci),va=ln,Kt&&Zn)t:{for(ci=_4,_t=Kt,gt=Zn,Pt=0,ln=_t;ln;ln=ci(ln))Pt++;ln=0;for(var si=gt;si;si=ci(si))ln++;for(;0<Pt-ln;)_t=ci(_t),Pt--;for(;0<ln-Pt;)gt=ci(gt),ln--;for(;Pt--;){if(_t===gt||gt!==null&&_t===gt.alternate){ci=_t;break t}_t=ci(_t),gt=ci(gt)}ci=null}else ci=null;Kt!==null&&PC(hn,qt,Kt,ci,!1),Zn!==null&&va!==null&&PC(hn,va,Zn,ci,!0)}}e:{if(qt=Ft?wl(Ft):window,Kt=qt.nodeName&&qt.nodeName.toLowerCase(),Kt==="select"||Kt==="input"&&qt.type==="file")var ta=op;else if(rp(qt))if(lp)ta=BE;else{ta=FE;var ei=cp}else Kt=qt.nodeName,!Kt||Kt.toLowerCase()!=="input"||qt.type!=="checkbox"&&qt.type!=="radio"?Ft&&_c(Ft.elementType)&&(ta=op):ta=_A;if(ta&&(ta=ta(u,Ft))){sp(hn,ta,v,rn);break e}ei&&ei(u,qt,Ft),u==="focusout"&&Ft&&qt.type==="number"&&Ft.memoizedProps.value!=null&&lo(qt,"number",qt.value)}switch(ei=Ft?wl(Ft):window,u){case"focusin":(rp(ei)||ei.contentEditable==="true")&&(Iu=ei,wc=Ft,Rc=null);break;case"focusout":Rc=wc=Iu=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,hp(hn,v,rn);break;case"selectionchange":if(fp)break;case"keydown":case"keyup":hp(hn,v,rn)}var Ci;if(np)e:{switch(u){case"compositionstart":var $i="onCompositionStart";break e;case"compositionend":$i="onCompositionEnd";break e;case"compositionupdate":$i="onCompositionUpdate";break e}$i=void 0}else Su?ap(u,v)&&($i="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&($i="onCompositionStart");$i&&(wh&&v.locale!=="ko"&&(Su||$i!=="onCompositionStart"?$i==="onCompositionEnd"&&Su&&(Ci=pE()):(Us=rn,_s="value"in Us?Us.value:Us.textContent,Su=!0)),ei=Qb(Ft,$i),0<ei.length&&($i=new Sh($i,u,null,v,rn),hn.push({event:$i,listeners:ei}),Ci?$i.data=Ci:(Ci=Rh(v),Ci!==null&&($i.data=Ci)))),(Ci=EA?bA(u,v):ME(u,v))&&($i=Qb(Ft,"onBeforeInput"),0<$i.length&&(ei=new Sh("onBeforeInput","beforeinput",null,v,rn),hn.push({event:ei,listeners:$i}),ei.data=Ci)),v4(hn,u,Ft,v,rn)}NC(hn,d)})}function mv(u,d,v){return{instance:u,listener:d,currentTarget:v}}function Qb(u,d){for(var v=d+"Capture",b=[];u!==null;){var I=u,N=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||N===null||(I=Tc(u,v),I!=null&&b.unshift(mv(u,I,N)),I=Tc(u,d),I!=null&&b.push(mv(u,I,N))),u.tag===3)return b;u=u.return}return[]}function _4(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function PC(u,d,v,b,I){for(var N=d._reactName,ye=[];v!==null&&v!==b;){var qe=v,st=qe.alternate,Ft=qe.stateNode;if(qe=qe.tag,st!==null&&st===b)break;qe!==5&&qe!==26&&qe!==27||Ft===null||(st=Ft,I?(Ft=Tc(v,N),Ft!=null&&ye.unshift(mv(v,Ft,st))):I||(Ft=Tc(v,N),Ft!=null&&ye.push(mv(v,Ft,st)))),v=v.return}ye.length!==0&&u.push({event:d,listeners:ye})}var T4=/\r\n?/g,S4=/\u0000|\uFFFD/g;function UC(u){return(typeof u=="string"?u:""+u).replace(T4,`
`).replace(S4,"")}function FC(u,d){return d=UC(d),UC(u)===d}function pa(u,d,v,b,I,N){switch(v){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||uo(u,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&uo(u,""+b);break;case"className":Wi(u,"class",b);break;case"tabIndex":Wi(u,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(u,v,b);break;case"style":bc(u,b,N);break;case"data":if(d!=="object"){Wi(u,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||v!=="href")){u.removeAttribute(v);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(v);break}b=Vi(""+b),u.setAttribute(v,b);break;case"action":case"formAction":if(typeof b=="function"){u.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(v==="formAction"?(d!=="input"&&pa(u,d,"name",I.name,I,null),pa(u,d,"formEncType",I.formEncType,I,null),pa(u,d,"formMethod",I.formMethod,I,null),pa(u,d,"formTarget",I.formTarget,I,null)):(pa(u,d,"encType",I.encType,I,null),pa(u,d,"method",I.method,I,null),pa(u,d,"target",I.target,I,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(v);break}b=Vi(""+b),u.setAttribute(v,b);break;case"onClick":b!=null&&(u.onclick=kr);break;case"onScroll":b!=null&&Bi("scroll",u);break;case"onScrollEnd":b!=null&&Bi("scrollend",u);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(v=b.__html,v!=null){if(I.children!=null)throw Error(i(60));u.innerHTML=v}}break;case"multiple":u.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":u.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){u.removeAttribute("xlink:href");break}v=Vi(""+b),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(v,""+b):u.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(v,""):u.removeAttribute(v);break;case"capture":case"download":b===!0?u.setAttribute(v,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(v,b):u.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?u.setAttribute(v,b):u.removeAttribute(v);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?u.removeAttribute(v):u.setAttribute(v,b);break;case"popover":Bi("beforetoggle",u),Bi("toggle",u),Oi(u,"popover",b);break;case"xlinkActuate":Ei(u,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Ei(u,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Ei(u,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Ei(u,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Ei(u,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Ei(u,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Ei(u,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Ei(u,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Ei(u,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Oi(u,"is",b);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=Kd.get(v)||v,Oi(u,v,b))}}function BA(u,d,v,b,I,N){switch(v){case"style":bc(u,b,N);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(v=b.__html,v!=null){if(I.children!=null)throw Error(i(60));u.innerHTML=v}}break;case"children":typeof b=="string"?uo(u,b):(typeof b=="number"||typeof b=="bigint")&&uo(u,""+b);break;case"onScroll":b!=null&&Bi("scroll",u);break;case"onScrollEnd":b!=null&&Bi("scrollend",u);break;case"onClick":b!=null&&(u.onclick=kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(I=v.endsWith("Capture"),d=v.slice(2,I?v.length-7:void 0),N=u[yi]||null,N=N!=null?N[v]:null,typeof N=="function"&&u.removeEventListener(d,N,I),typeof b=="function")){typeof N!="function"&&N!==null&&(v in u?u[v]=null:u.hasAttribute(v)&&u.removeAttribute(v)),u.addEventListener(d,b,I);break e}v in u?u[v]=b:b===!0?u.setAttribute(v,""):Oi(u,v,b)}}}function Hr(u,d,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bi("error",u),Bi("load",u);var b=!1,I=!1,N;for(N in v)if(v.hasOwnProperty(N)){var ye=v[N];if(ye!=null)switch(N){case"src":b=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:pa(u,d,N,ye,v,null)}}I&&pa(u,d,"srcSet",v.srcSet,v,null),b&&pa(u,d,"src",v.src,v,null);return;case"input":Bi("invalid",u);var qe=N=ye=I=null,st=null,Ft=null;for(b in v)if(v.hasOwnProperty(b)){var rn=v[b];if(rn!=null)switch(b){case"name":I=rn;break;case"type":ye=rn;break;case"checked":st=rn;break;case"defaultChecked":Ft=rn;break;case"value":N=rn;break;case"defaultValue":qe=rn;break;case"children":case"dangerouslySetInnerHTML":if(rn!=null)throw Error(i(137,d));break;default:pa(u,d,b,rn,v,null)}}Fr(u,N,qe,st,Ft,ye,I,!1);return;case"select":Bi("invalid",u),b=ye=N=null;for(I in v)if(v.hasOwnProperty(I)&&(qe=v[I],qe!=null))switch(I){case"value":N=qe;break;case"defaultValue":ye=qe;break;case"multiple":b=qe;default:pa(u,d,I,qe,v,null)}d=N,v=ye,u.multiple=!!b,d!=null?Oa(u,!!b,d,!1):v!=null&&Oa(u,!!b,v,!0);return;case"textarea":Bi("invalid",u),N=I=b=null;for(ye in v)if(v.hasOwnProperty(ye)&&(qe=v[ye],qe!=null))switch(ye){case"value":b=qe;break;case"defaultValue":I=qe;break;case"children":N=qe;break;case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(91));break;default:pa(u,d,ye,qe,v,null)}Ji(u,b,I,N);return;case"option":for(st in v)v.hasOwnProperty(st)&&(b=v[st],b!=null)&&(st==="selected"?u.selected=b&&typeof b!="function"&&typeof b!="symbol":pa(u,d,st,b,v,null));return;case"dialog":Bi("beforetoggle",u),Bi("toggle",u),Bi("cancel",u),Bi("close",u);break;case"iframe":case"object":Bi("load",u);break;case"video":case"audio":for(b=0;b<hv.length;b++)Bi(hv[b],u);break;case"image":Bi("error",u),Bi("load",u);break;case"details":Bi("toggle",u);break;case"embed":case"source":case"link":Bi("error",u),Bi("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ft in v)if(v.hasOwnProperty(Ft)&&(b=v[Ft],b!=null))switch(Ft){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:pa(u,d,Ft,b,v,null)}return;default:if(_c(d)){for(rn in v)v.hasOwnProperty(rn)&&(b=v[rn],b!==void 0&&BA(u,d,rn,b,v,void 0));return}}for(qe in v)v.hasOwnProperty(qe)&&(b=v[qe],b!=null&&pa(u,d,qe,b,v,null))}function A4(u,d,v,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,N=null,ye=null,qe=null,st=null,Ft=null,rn=null;for(Kt in v){var hn=v[Kt];if(v.hasOwnProperty(Kt)&&hn!=null)switch(Kt){case"checked":break;case"value":break;case"defaultValue":st=hn;default:b.hasOwnProperty(Kt)||pa(u,d,Kt,null,b,hn)}}for(var qt in b){var Kt=b[qt];if(hn=v[qt],b.hasOwnProperty(qt)&&(Kt!=null||hn!=null))switch(qt){case"type":N=Kt;break;case"name":I=Kt;break;case"checked":Ft=Kt;break;case"defaultChecked":rn=Kt;break;case"value":ye=Kt;break;case"defaultValue":qe=Kt;break;case"children":case"dangerouslySetInnerHTML":if(Kt!=null)throw Error(i(137,d));break;default:Kt!==hn&&pa(u,d,qt,Kt,b,hn)}}zo(u,ye,qe,st,Ft,rn,N,I);return;case"select":Kt=ye=qe=qt=null;for(N in v)if(st=v[N],v.hasOwnProperty(N)&&st!=null)switch(N){case"value":break;case"multiple":Kt=st;default:b.hasOwnProperty(N)||pa(u,d,N,null,b,st)}for(I in b)if(N=b[I],st=v[I],b.hasOwnProperty(I)&&(N!=null||st!=null))switch(I){case"value":qt=N;break;case"defaultValue":qe=N;break;case"multiple":ye=N;default:N!==st&&pa(u,d,I,N,b,st)}d=qe,v=ye,b=Kt,qt!=null?Oa(u,!!v,qt,!1):!!b!=!!v&&(d!=null?Oa(u,!!v,d,!0):Oa(u,!!v,v?[]:"",!1));return;case"textarea":Kt=qt=null;for(qe in v)if(I=v[qe],v.hasOwnProperty(qe)&&I!=null&&!b.hasOwnProperty(qe))switch(qe){case"value":break;case"children":break;default:pa(u,d,qe,null,b,I)}for(ye in b)if(I=b[ye],N=v[ye],b.hasOwnProperty(ye)&&(I!=null||N!=null))switch(ye){case"value":qt=I;break;case"defaultValue":Kt=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:I!==N&&pa(u,d,ye,I,b,N)}Gd(u,qt,Kt);return;case"option":for(var Zn in v)qt=v[Zn],v.hasOwnProperty(Zn)&&qt!=null&&!b.hasOwnProperty(Zn)&&(Zn==="selected"?u.selected=!1:pa(u,d,Zn,null,b,qt));for(st in b)qt=b[st],Kt=v[st],b.hasOwnProperty(st)&&qt!==Kt&&(qt!=null||Kt!=null)&&(st==="selected"?u.selected=qt&&typeof qt!="function"&&typeof qt!="symbol":pa(u,d,st,qt,b,Kt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ci in v)qt=v[ci],v.hasOwnProperty(ci)&&qt!=null&&!b.hasOwnProperty(ci)&&pa(u,d,ci,null,b,qt);for(Ft in b)if(qt=b[Ft],Kt=v[Ft],b.hasOwnProperty(Ft)&&qt!==Kt&&(qt!=null||Kt!=null))switch(Ft){case"children":case"dangerouslySetInnerHTML":if(qt!=null)throw Error(i(137,d));break;default:pa(u,d,Ft,qt,b,Kt)}return;default:if(_c(d)){for(var va in v)qt=v[va],v.hasOwnProperty(va)&&qt!==void 0&&!b.hasOwnProperty(va)&&BA(u,d,va,void 0,b,qt);for(rn in b)qt=b[rn],Kt=v[rn],!b.hasOwnProperty(rn)||qt===Kt||qt===void 0&&Kt===void 0||BA(u,d,rn,qt,b,Kt);return}}for(var _t in v)qt=v[_t],v.hasOwnProperty(_t)&&qt!=null&&!b.hasOwnProperty(_t)&&pa(u,d,_t,null,b,qt);for(hn in b)qt=b[hn],Kt=v[hn],!b.hasOwnProperty(hn)||qt===Kt||qt==null&&Kt==null||pa(u,d,hn,qt,b,Kt)}function BC(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w4(){if(typeof performance.getEntriesByType=="function"){for(var u=0,d=0,v=performance.getEntriesByType("resource"),b=0;b<v.length;b++){var I=v[b],N=I.transferSize,ye=I.initiatorType,qe=I.duration;if(N&&qe&&BC(ye)){for(ye=0,qe=I.responseEnd,b+=1;b<v.length;b++){var st=v[b],Ft=st.startTime;if(Ft>qe)break;var rn=st.transferSize,hn=st.initiatorType;rn&&BC(hn)&&(st=st.responseEnd,ye+=rn*(st<qe?1:(qe-Ft)/(st-Ft)))}if(--b,d+=8*(N+ye)/(I.duration/1e3),u++,10<u)break}}if(0<u)return d/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var zA=null,$A=null;function Xb(u){return u.nodeType===9?u:u.ownerDocument}function zC(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(u,d){if(u===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&d==="foreignObject"?0:u}function qA(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var jA=null;function R4(){var u=window.event;return u&&u.type==="popstate"?u===jA?!1:(jA=u,!0):(jA=null,!1)}var qC=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,jC=typeof Promise=="function"?Promise:void 0,k4=typeof queueMicrotask=="function"?queueMicrotask:typeof jC<"u"?function(u){return jC.resolve(null).then(u).catch(x4)}:qC;function x4(u){setTimeout(function(){throw u})}function ad(u){return u==="head"}function HC(u,d){var v=d,b=0;do{var I=v.nextSibling;if(u.removeChild(v),I&&I.nodeType===8)if(v=I.data,v==="/$"||v==="/&"){if(b===0){u.removeChild(I),vm(d);return}b--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")b++;else if(v==="html")gv(u.ownerDocument.documentElement);else if(v==="head"){v=u.ownerDocument.head,gv(v);for(var N=v.firstChild;N;){var ye=N.nextSibling,qe=N.nodeName;N[Xa]||qe==="SCRIPT"||qe==="STYLE"||qe==="LINK"&&N.rel.toLowerCase()==="stylesheet"||v.removeChild(N),N=ye}}else v==="body"&&gv(u.ownerDocument.body);v=I}while(v);vm(d)}function GC(u,d){var v=u;u=0;do{var b=v.nextSibling;if(v.nodeType===1?d?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(d?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),b&&b.nodeType===8)if(v=b.data,v==="/$"){if(u===0)break;u--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||u++;v=b}while(v)}function HA(u){var d=u.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var v=d;switch(d=d.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":HA(v),Uo(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}u.removeChild(v)}}function C4(u,d,v,b){for(;u.nodeType===1;){var I=v;if(u.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(b){if(!u[Xa])switch(d){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(N=u.getAttribute("rel"),N==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(N!==I.rel||u.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||u.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||u.getAttribute("title")!==(I.title==null?null:I.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(N=u.getAttribute("src"),(N!==(I.src==null?null:I.src)||u.getAttribute("type")!==(I.type==null?null:I.type)||u.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&N&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(d==="input"&&u.type==="hidden"){var N=I.name==null?null:""+I.name;if(I.type==="hidden"&&u.getAttribute("name")===N)return u}else return u;if(u=vo(u.nextSibling),u===null)break}return null}function D4(u,d,v){if(d==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!v||(u=vo(u.nextSibling),u===null))return null;return u}function VC(u,d){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!d||(u=vo(u.nextSibling),u===null))return null;return u}function GA(u){return u.data==="$?"||u.data==="$~"}function VA(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function L4(u,d){var v=u.ownerDocument;if(u.data==="$~")u._reactRetry=d;else if(u.data!=="$?"||v.readyState!=="loading")d();else{var b=function(){d(),v.removeEventListener("DOMContentLoaded",b)};v.addEventListener("DOMContentLoaded",b),u._reactRetry=b}}function vo(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return u}var KA=null;function KC(u){u=u.nextSibling;for(var d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"||v==="/&"){if(d===0)return vo(u.nextSibling);d--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||d++}u=u.nextSibling}return null}function YC(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(d===0)return u;d--}else v!=="/$"&&v!=="/&"||d++}u=u.previousSibling}return null}function WC(u,d,v){switch(d=Xb(v),u){case"html":if(u=d.documentElement,!u)throw Error(i(452));return u;case"head":if(u=d.head,!u)throw Error(i(453));return u;case"body":if(u=d.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function gv(u){for(var d=u.attributes;d.length;)u.removeAttributeNode(d[0]);Uo(u)}var yo=new Map,QC=new Set;function Zb(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Hu=$e.d;$e.d={f:M4,r:N4,D:O4,C:P4,L:U4,m:F4,X:z4,S:B4,M:$4};function M4(){var u=Hu.f(),d=ns();return u||d}function N4(u){var d=ro(u);d!==null&&d.tag===5&&d.type==="form"?wb(d):Hu.r(u)}var mm=typeof document>"u"?null:document;function XC(u,d,v){var b=mm;if(b&&typeof d=="string"&&d){var I=Ur(d);I='link[rel="'+u+'"][href="'+I+'"]',typeof v=="string"&&(I+='[crossorigin="'+v+'"]'),QC.has(I)||(QC.add(I),u={rel:u,crossOrigin:v,href:d},b.querySelector(I)===null&&(d=b.createElement("link"),Hr(d,"link",u),qa(d),b.head.appendChild(d)))}}function O4(u){Hu.D(u),XC("dns-prefetch",u,null)}function P4(u,d){Hu.C(u,d),XC("preconnect",u,d)}function U4(u,d,v){Hu.L(u,d,v);var b=mm;if(b&&u&&d){var I='link[rel="preload"][as="'+Ur(d)+'"]';d==="image"&&v&&v.imageSrcSet?(I+='[imagesrcset="'+Ur(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(I+='[imagesizes="'+Ur(v.imageSizes)+'"]')):I+='[href="'+Ur(u)+'"]';var N=I;switch(d){case"style":N=gm(u);break;case"script":N=pm(u)}yo.has(N)||(u=m({rel:"preload",href:d==="image"&&v&&v.imageSrcSet?void 0:u,as:d},v),yo.set(N,u),b.querySelector(I)!==null||d==="style"&&b.querySelector(pv(N))||d==="script"&&b.querySelector(vv(N))||(d=b.createElement("link"),Hr(d,"link",u),qa(d),b.head.appendChild(d)))}}function F4(u,d){Hu.m(u,d);var v=mm;if(v&&u){var b=d&&typeof d.as=="string"?d.as:"script",I='link[rel="modulepreload"][as="'+Ur(b)+'"][href="'+Ur(u)+'"]',N=I;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=pm(u)}if(!yo.has(N)&&(u=m({rel:"modulepreload",href:u},d),yo.set(N,u),v.querySelector(I)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(vv(N)))return}b=v.createElement("link"),Hr(b,"link",u),qa(b),v.head.appendChild(b)}}}function B4(u,d,v){Hu.S(u,d,v);var b=mm;if(b&&u){var I=so(b).hoistableStyles,N=gm(u);d=d||"default";var ye=I.get(N);if(!ye){var qe={loading:0,preload:null};if(ye=b.querySelector(pv(N)))qe.loading=5;else{u=m({rel:"stylesheet",href:u,"data-precedence":d},v),(v=yo.get(N))&&YA(u,v);var st=ye=b.createElement("link");qa(st),Hr(st,"link",u),st._p=new Promise(function(Ft,rn){st.onload=Ft,st.onerror=rn}),st.addEventListener("load",function(){qe.loading|=1}),st.addEventListener("error",function(){qe.loading|=2}),qe.loading|=4,Jb(ye,d,b)}ye={type:"stylesheet",instance:ye,count:1,state:qe},I.set(N,ye)}}}function z4(u,d){Hu.X(u,d);var v=mm;if(v&&u){var b=so(v).hoistableScripts,I=pm(u),N=b.get(I);N||(N=v.querySelector(vv(I)),N||(u=m({src:u,async:!0},d),(d=yo.get(I))&&WA(u,d),N=v.createElement("script"),qa(N),Hr(N,"link",u),v.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(I,N))}}function $4(u,d){Hu.M(u,d);var v=mm;if(v&&u){var b=so(v).hoistableScripts,I=pm(u),N=b.get(I);N||(N=v.querySelector(vv(I)),N||(u=m({src:u,async:!0,type:"module"},d),(d=yo.get(I))&&WA(u,d),N=v.createElement("script"),qa(N),Hr(N,"link",u),v.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(I,N))}}function ZC(u,d,v,b){var I=(I=ze.current)?Zb(I):null;if(!I)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(d=gm(v.href),v=so(I).hoistableStyles,b=v.get(d),b||(b={type:"style",instance:null,count:0,state:null},v.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){u=gm(v.href);var N=so(I).hoistableStyles,ye=N.get(u);if(ye||(I=I.ownerDocument||I,ye={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(u,ye),(N=I.querySelector(pv(u)))&&!N._p&&(ye.instance=N,ye.state.loading=5),yo.has(u)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},yo.set(u,v),N||q4(I,u,v,ye.state))),d&&b===null)throw Error(i(528,""));return ye}if(d&&b!==null)throw Error(i(529,""));return null;case"script":return d=v.async,v=v.src,typeof v=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=pm(v),v=so(I).hoistableScripts,b=v.get(d),b||(b={type:"script",instance:null,count:0,state:null},v.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function gm(u){return'href="'+Ur(u)+'"'}function pv(u){return'link[rel="stylesheet"]['+u+"]"}function JC(u){return m({},u,{"data-precedence":u.precedence,precedence:null})}function q4(u,d,v,b){u.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=u.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Hr(d,"link",v),qa(d),u.head.appendChild(d))}function pm(u){return'[src="'+Ur(u)+'"]'}function vv(u){return"script[async]"+u}function eD(u,d,v){if(d.count++,d.instance===null)switch(d.type){case"style":var b=u.querySelector('style[data-href~="'+Ur(v.href)+'"]');if(b)return d.instance=b,qa(b),b;var I=m({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return b=(u.ownerDocument||u).createElement("style"),qa(b),Hr(b,"style",I),Jb(b,v.precedence,u),d.instance=b;case"stylesheet":I=gm(v.href);var N=u.querySelector(pv(I));if(N)return d.state.loading|=4,d.instance=N,qa(N),N;b=JC(v),(I=yo.get(I))&&YA(b,I),N=(u.ownerDocument||u).createElement("link"),qa(N);var ye=N;return ye._p=new Promise(function(qe,st){ye.onload=qe,ye.onerror=st}),Hr(N,"link",b),d.state.loading|=4,Jb(N,v.precedence,u),d.instance=N;case"script":return N=pm(v.src),(I=u.querySelector(vv(N)))?(d.instance=I,qa(I),I):(b=v,(I=yo.get(N))&&(b=m({},v),WA(b,I)),u=u.ownerDocument||u,I=u.createElement("script"),qa(I),Hr(I,"link",b),u.head.appendChild(I),d.instance=I);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,Jb(b,v.precedence,u));return d.instance}function Jb(u,d,v){for(var b=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=b.length?b[b.length-1]:null,N=I,ye=0;ye<b.length;ye++){var qe=b[ye];if(qe.dataset.precedence===d)N=qe;else if(N!==I)break}N?N.parentNode.insertBefore(u,N.nextSibling):(d=v.nodeType===9?v.head:v,d.insertBefore(u,d.firstChild))}function YA(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.title==null&&(u.title=d.title)}function WA(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.integrity==null&&(u.integrity=d.integrity)}var e0=null;function tD(u,d,v){if(e0===null){var b=new Map,I=e0=new Map;I.set(v,b)}else I=e0,b=I.get(v),b||(b=new Map,I.set(v,b));if(b.has(u))return b;for(b.set(u,null),v=v.getElementsByTagName(u),I=0;I<v.length;I++){var N=v[I];if(!(N[Xa]||N[Ni]||u==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var ye=N.getAttribute(d)||"";ye=u+ye;var qe=b.get(ye);qe?qe.push(N):b.set(ye,[N])}}return b}function nD(u,d,v){u=u.ownerDocument||u,u.head.insertBefore(v,d==="title"?u.querySelector("head > title"):null)}function j4(u,d,v){if(v===1||d.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(u=d.disabled,typeof d.precedence=="string"&&u==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function iD(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function H4(u,d,v,b){if(v.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var I=gm(b.href),N=d.querySelector(pv(I));if(N){d=N._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(u.count++,u=t0.bind(u),d.then(u,u)),v.state.loading|=4,v.instance=N,qa(N);return}N=d.ownerDocument||d,b=JC(b),(I=yo.get(I))&&YA(b,I),N=N.createElement("link"),qa(N);var ye=N;ye._p=new Promise(function(qe,st){ye.onload=qe,ye.onerror=st}),Hr(N,"link",b),v.instance=N}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(v,d),(d=v.state.preload)&&(v.state.loading&3)===0&&(u.count++,v=t0.bind(u),d.addEventListener("load",v),d.addEventListener("error",v))}}var QA=0;function G4(u,d){return u.stylesheets&&u.count===0&&i0(u,u.stylesheets),0<u.count||0<u.imgCount?function(v){var b=setTimeout(function(){if(u.stylesheets&&i0(u,u.stylesheets),u.unsuspend){var N=u.unsuspend;u.unsuspend=null,N()}},6e4+d);0<u.imgBytes&&QA===0&&(QA=62500*w4());var I=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&i0(u,u.stylesheets),u.unsuspend)){var N=u.unsuspend;u.unsuspend=null,N()}},(u.imgBytes>QA?50:800)+d);return u.unsuspend=v,function(){u.unsuspend=null,clearTimeout(b),clearTimeout(I)}}:null}function t0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)i0(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var n0=null;function i0(u,d){u.stylesheets=null,u.unsuspend!==null&&(u.count++,n0=new Map,d.forEach(V4,u),n0=null,t0.call(u))}function V4(u,d){if(!(d.state.loading&4)){var v=n0.get(u);if(v)var b=v.get(null);else{v=new Map,n0.set(u,v);for(var I=u.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<I.length;N++){var ye=I[N];(ye.nodeName==="LINK"||ye.getAttribute("media")!=="not all")&&(v.set(ye.dataset.precedence,ye),b=ye)}b&&v.set(null,b)}I=d.instance,ye=I.getAttribute("data-precedence"),N=v.get(ye)||b,N===b&&v.set(null,I),v.set(ye,I),this.count++,b=t0.bind(this),I.addEventListener("load",b),I.addEventListener("error",b),N?N.parentNode.insertBefore(I,N.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(I,u.firstChild)),d.state.loading|=4}}var yv={$$typeof:C,Provider:null,Consumer:null,_currentValue:Ye,_currentValue2:Ye,_threadCount:0};function K4(u,d,v,b,I,N,ye,qe,st){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=b,this.onUncaughtError=I,this.onCaughtError=N,this.onRecoverableError=ye,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function aD(u,d,v,b,I,N,ye,qe,st,Ft,rn,hn){return u=new K4(u,d,v,ye,st,Ft,rn,hn,qe),d=1,N===!0&&(d|=24),N=cs(3,null,null,d),u.current=N,N.stateNode=u,d=wp(),d.refCount++,u.pooledCache=d,d.refCount++,N.memoizedState={element:b,isDehydrated:v,cache:d},Cp(N),u}function rD(u){return u?(u=xc,u):xc}function sD(u,d,v,b,I,N){I=rD(I),b.context===null?b.context=I:b.pendingContext=I,b=mo(d),b.payload={element:v},N=N===void 0?null:N,N!==null&&(b.callback=N),v=Zo(u,b,d),v!==null&&(Tn(v,u,d),gf(v,u,d))}function oD(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<d?v:d}}function XA(u,d){oD(u,d),(u=u.alternate)&&oD(u,d)}function lD(u){if(u.tag===13||u.tag===31){var d=Za(u,67108864);d!==null&&Tn(d,u,67108864),XA(u,67108864)}}function uD(u){if(u.tag===13||u.tag===31){var d=ot();d=fn(d);var v=Za(u,d);v!==null&&Tn(v,u,d),XA(u,d)}}var a0=!0;function Y4(u,d,v,b){var I=he.T;he.T=null;var N=$e.p;try{$e.p=2,ZA(u,d,v,b)}finally{$e.p=N,he.T=I}}function W4(u,d,v,b){var I=he.T;he.T=null;var N=$e.p;try{$e.p=8,ZA(u,d,v,b)}finally{$e.p=N,he.T=I}}function ZA(u,d,v,b){if(a0){var I=JA(b);if(I===null)FA(u,d,b,r0,v),dD(u,b);else if(X4(I,u,d,v,b))b.stopPropagation();else if(dD(u,b),d&4&&-1<Q4.indexOf(u)){for(;I!==null;){var N=ro(I);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var ye=cn(N.pendingLanes);if(ye!==0){var qe=N;for(qe.pendingLanes|=2,qe.entangledLanes|=2;ye;){var st=1<<31-kt(ye);qe.entanglements[1]|=st,ye&=~st}Ul(N),(Et&6)===0&&(zs=Zt()+500,fv(0))}}break;case 31:case 13:qe=Za(N,2),qe!==null&&Tn(qe,N,2),ns(),XA(N,2)}if(N=JA(b),N===null&&FA(u,d,b,r0,v),N===I)break;I=N}I!==null&&b.stopPropagation()}else FA(u,d,b,null,v)}}function JA(u){return u=Zr(u),ew(u)}var r0=null;function ew(u){if(r0=null,u=$a(u),u!==null){var d=o(u);if(d===null)u=null;else{var v=d.tag;if(v===13){if(u=l(d),u!==null)return u;u=null}else if(v===31){if(u=c(d),u!==null)return u;u=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null)}}return r0=u,null}function cD(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case en:return 2;case Wn:return 8;case Ti:case Xi:return 32;case zi:return 268435456;default:return 32}default:return 32}}var tw=!1,rd=null,sd=null,od=null,Ev=new Map,bv=new Map,ld=[],Q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dD(u,d){switch(u){case"focusin":case"focusout":rd=null;break;case"dragenter":case"dragleave":sd=null;break;case"mouseover":case"mouseout":od=null;break;case"pointerover":case"pointerout":Ev.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":bv.delete(d.pointerId)}}function _v(u,d,v,b,I,N){return u===null||u.nativeEvent!==N?(u={blockedOn:d,domEventName:v,eventSystemFlags:b,nativeEvent:N,targetContainers:[I]},d!==null&&(d=ro(d),d!==null&&lD(d)),u):(u.eventSystemFlags|=b,d=u.targetContainers,I!==null&&d.indexOf(I)===-1&&d.push(I),u)}function X4(u,d,v,b,I){switch(d){case"focusin":return rd=_v(rd,u,d,v,b,I),!0;case"dragenter":return sd=_v(sd,u,d,v,b,I),!0;case"mouseover":return od=_v(od,u,d,v,b,I),!0;case"pointerover":var N=I.pointerId;return Ev.set(N,_v(Ev.get(N)||null,u,d,v,b,I)),!0;case"gotpointercapture":return N=I.pointerId,bv.set(N,_v(bv.get(N)||null,u,d,v,b,I)),!0}return!1}function fD(u){var d=$a(u.target);if(d!==null){var v=o(d);if(v!==null){if(d=v.tag,d===13){if(d=l(v),d!==null){u.blockedOn=d,wi(u.priority,function(){uD(v)});return}}else if(d===31){if(d=c(v),d!==null){u.blockedOn=d,wi(u.priority,function(){uD(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function s0(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var v=JA(u.nativeEvent);if(v===null){v=u.nativeEvent;var b=new v.constructor(v.type,v);$o=b,v.target.dispatchEvent(b),$o=null}else return d=ro(v),d!==null&&lD(d),u.blockedOn=v,!1;d.shift()}return!0}function hD(u,d,v){s0(u)&&v.delete(d)}function Z4(){tw=!1,rd!==null&&s0(rd)&&(rd=null),sd!==null&&s0(sd)&&(sd=null),od!==null&&s0(od)&&(od=null),Ev.forEach(hD),bv.forEach(hD)}function o0(u,d){u.blockedOn===d&&(u.blockedOn=null,tw||(tw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Z4)))}var l0=null;function mD(u){l0!==u&&(l0=u,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){l0===u&&(l0=null);for(var d=0;d<u.length;d+=3){var v=u[d],b=u[d+1],I=u[d+2];if(typeof b!="function"){if(ew(b||v)===null)continue;break}var N=ro(v);N!==null&&(u.splice(d,3),d-=3,Qc(N,{pending:!0,data:I,method:v.method,action:b},b,I))}}))}function vm(u){function d(st){return o0(st,u)}rd!==null&&o0(rd,u),sd!==null&&o0(sd,u),od!==null&&o0(od,u),Ev.forEach(d),bv.forEach(d);for(var v=0;v<ld.length;v++){var b=ld[v];b.blockedOn===u&&(b.blockedOn=null)}for(;0<ld.length&&(v=ld[0],v.blockedOn===null);)fD(v),v.blockedOn===null&&ld.shift();if(v=(u.ownerDocument||u).$$reactFormReplay,v!=null)for(b=0;b<v.length;b+=3){var I=v[b],N=v[b+1],ye=I[yi]||null;if(typeof N=="function")ye||mD(v);else if(ye){var qe=null;if(N&&N.hasAttribute("formAction")){if(I=N,ye=N[yi]||null)qe=ye.formAction;else if(ew(I)!==null)continue}else qe=ye.action;typeof qe=="function"?v[b+1]=qe:(v.splice(b,3),b-=3),mD(v)}}}function gD(){function u(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(ye){return I=ye})},focusReset:"manual",scroll:"manual"})}function d(){I!==null&&(I(),I=null),b||setTimeout(v,20)}function v(){if(!b&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,I=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(v,100),function(){b=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),I!==null&&(I(),I=null)}}}function nw(u){this._internalRoot=u}u0.prototype.render=nw.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(i(409));var v=d.current,b=ot();sD(v,b,u,d,null,null)},u0.prototype.unmount=nw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;sD(u.current,2,null,u,null,null),ns(),d[ua]=null}};function u0(u){this._internalRoot=u}u0.prototype.unstable_scheduleHydration=function(u){if(u){var d=Qn();u={blockedOn:null,target:u,priority:d};for(var v=0;v<ld.length&&d!==0&&d<ld[v].priority;v++);ld.splice(v,0,u),v===0&&fD(u)}};var pD=e.version;if(pD!=="19.2.3")throw Error(i(527,pD,"19.2.3"));$e.findDOMNode=function(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=h(d),u=u!==null?g(u):null,u=u===null?null:u.stateNode,u};var J4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c0.isDisabled&&c0.supportsFiber)try{Gt=c0.inject(J4),$t=c0}catch{}}return Sv.createRoot=function(u,d){if(!r(u))throw Error(i(299));var v=!1,b="",I=Db,N=iv,ye=Lb;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(I=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(ye=d.onRecoverableError)),d=aD(u,1,!1,null,null,v,b,null,I,N,ye,gD),u[ua]=d.current,UA(u),new nw(d)},Sv.hydrateRoot=function(u,d,v){if(!r(u))throw Error(i(299));var b=!1,I="",N=Db,ye=iv,qe=Lb,st=null;return v!=null&&(v.unstable_strictMode===!0&&(b=!0),v.identifierPrefix!==void 0&&(I=v.identifierPrefix),v.onUncaughtError!==void 0&&(N=v.onUncaughtError),v.onCaughtError!==void 0&&(ye=v.onCaughtError),v.onRecoverableError!==void 0&&(qe=v.onRecoverableError),v.formState!==void 0&&(st=v.formState)),d=aD(u,1,!0,d,v??null,b,I,st,N,ye,qe,gD),d.context=rD(null),v=d.current,b=ot(),b=fn(b),I=mo(b),I.callback=null,Zo(v,I,b),v=b,d.current.lanes=v,zn(d,v),Ul(d),u[ua]=d.current,UA(u),new u0(d)},Sv.version="19.2.3",Sv}var RD;function l8(){if(RD)return rw.exports;RD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rw.exports=o8(),rw.exports}var hre=l8();var ID="popstate";function u8(n={}){function e(i,r){let{pathname:o,search:l,hash:c}=i.location;return B1("",{pathname:o,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Cy(r)}return d8(e,t,null,n)}function Wa(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function El(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c8(){return Math.random().toString(36).substring(2,10)}function kD(n,e){return{usr:n.state,key:n.key,idx:e}}function B1(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$g(e):e,state:t,key:e&&e.key||i||c8()}}function Cy({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $g(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function d8(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function m(){c="POP";let w=g(),M=w==null?null:w-h;h=w,f&&f({action:c,location:A.location,delta:M})}function p(w,M){c="PUSH";let x=B1(A.location,w,M);h=g()+1;let C=kD(x,h),O=A.createHref(x);try{l.pushState(C,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(O)}o&&f&&f({action:c,location:A.location,delta:1})}function y(w,M){c="REPLACE";let x=B1(A.location,w,M);h=g();let C=kD(x,h),O=A.createHref(x);l.replaceState(C,"",O),o&&f&&f({action:c,location:A.location,delta:0})}function E(w){return f8(w)}let A={get action(){return c},get location(){return n(r,l)},listen(w){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(ID,m),f=w,()=>{r.removeEventListener(ID,m),f=null}},createHref(w){return e(r,w)},createURL:E,encodeLocation(w){let M=E(w);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:p,replace:y,go(w){return l.go(w)}};return A}function f8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Wa(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Cy(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function cP(n,e,t="/"){return h8(n,e,t,!1)}function h8(n,e,t,i){let r=typeof e=="string"?$g(e):e,o=dc(r.pathname||"/",t);if(o==null)return null;let l=dP(n);m8(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=w8(o);c=S8(l[f],h,i)}return c}function dP(n,e=[],t=[],i="",r=!1){let o=(l,c,f=r,h)=>{let g={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Wa(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let m=rc([i,g.relativePath]),p=t.concat(g);l.children&&l.children.length>0&&(Wa(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),dP(l.children,e,p,m,f)),!(l.path==null&&!l.index)&&e.push({path:m,score:_8(m,l.index),routesMeta:p})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let f of fP(l.path))o(l,c,!0,f)}),e}function fP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=fP(i.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),r&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function m8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:T8(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var g8=/^:[\w-]+$/,p8=3,v8=2,y8=1,E8=10,b8=-2,xD=n=>n==="*";function _8(n,e){let t=n.split("/"),i=t.length;return t.some(xD)&&(i+=b8),e&&(i+=v8),t.filter(r=>!xD(r)).reduce((r,o)=>r+(g8.test(o)?p8:o===""?y8:E8),i)}function T8(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function S8(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],h=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",m=RT({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),p=f.route;if(!m&&h&&t&&!i[i.length-1].route.index&&(m=RT({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:rc([o,m.pathname]),pathnameBase:x8(rc([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=rc([o,m.pathnameBase]))}return l}function RT(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=A8(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,{paramName:g,isOptional:m},p)=>{if(g==="*"){let E=c[p]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const y=c[p];return m&&!y?h[g]=void 0:h[g]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function A8(n,e=!1,t=!0){El(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function w8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return El(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function dc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var hP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R8=n=>hP.test(n);function I8(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?$g(n):n,o;if(t)if(R8(t))o=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),El(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?o=CD(t.substring(1),"/"):o=CD(t,e)}else o=e;return{pathname:o,search:C8(i),hash:D8(r)}}function CD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function uw(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mP(n){let e=k8(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function gP(n,e,t,i=!1){let r;typeof n=="string"?r=$g(n):(r={...n},Wa(!r.pathname||!r.pathname.includes("?"),uw("?","pathname","search",r)),Wa(!r.pathname||!r.pathname.includes("#"),uw("#","pathname","hash",r)),Wa(!r.search||!r.search.includes("#"),uw("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}c=m>=0?e[m]:"/"}let f=I8(r,c),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var rc=n=>n.join("/").replace(/\/\/+/g,"/"),x8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),C8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,D8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,L8=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function M8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function N8(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vP(n,e){let t=n;if(typeof t!="string"||!hP.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(pP)try{let o=new URL(window.location.href),l=t.startsWith("//")?new URL(o.protocol+t):new URL(t),c=dc(l.pathname,e);l.origin===o.origin&&c!=null?t=c+l.search+l.hash:r=!0}catch{El(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yP=["POST","PUT","PATCH","DELETE"];new Set(yP);var O8=["GET",...yP];new Set(O8);var qg=At.createContext(null);qg.displayName="DataRouter";var IS=At.createContext(null);IS.displayName="DataRouterState";var P8=At.createContext(!1),EP=At.createContext({isTransitioning:!1});EP.displayName="ViewTransition";var U8=At.createContext(new Map);U8.displayName="Fetchers";var F8=At.createContext(null);F8.displayName="Await";var No=At.createContext(null);No.displayName="Navigation";var sE=At.createContext(null);sE.displayName="Location";var Tl=At.createContext({outlet:null,matches:[],isDataRoute:!1});Tl.displayName="Route";var nk=At.createContext(null);nk.displayName="RouteError";var bP="REACT_ROUTER_ERROR",B8="REDIRECT",z8="ROUTE_ERROR_RESPONSE";function $8(n){if(n.startsWith(`${bP}:${B8}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function q8(n){if(n.startsWith(`${bP}:${z8}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new L8(e.status,e.statusText,e.data)}catch{}}function j8(n,{relative:e}={}){Wa(oE(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=At.useContext(No),{hash:r,pathname:o,search:l}=lE(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:rc([t,o])),i.createHref({pathname:c,search:l,hash:r})}function oE(){return At.useContext(sE)!=null}function dh(){return Wa(oE(),"useLocation() may be used only in the context of a <Router> component."),At.useContext(sE).location}var _P="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TP(n){At.useContext(No).static||At.useLayoutEffect(n)}function H8(){let{isDataRoute:n}=At.useContext(Tl);return n?r5():G8()}function G8(){Wa(oE(),"useNavigate() may be used only in the context of a <Router> component.");let n=At.useContext(qg),{basename:e,navigator:t}=At.useContext(No),{matches:i}=At.useContext(Tl),{pathname:r}=dh(),o=JSON.stringify(mP(i)),l=At.useRef(!1);return TP(()=>{l.current=!0}),At.useCallback((f,h={})=>{if(El(l.current,_P),!l.current)return;if(typeof f=="number"){t.go(f);return}let g=gP(f,JSON.parse(o),r,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:rc([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,r,n])}var V8=At.createContext(null);function K8(n){let e=At.useContext(Tl).outlet;return At.useMemo(()=>e&&At.createElement(V8.Provider,{value:n},e),[e,n])}function mre(){let{matches:n}=At.useContext(Tl),e=n[n.length-1];return e?e.params:{}}function lE(n,{relative:e}={}){let{matches:t}=At.useContext(Tl),{pathname:i}=dh(),r=JSON.stringify(mP(t));return At.useMemo(()=>gP(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Y8(n,e){return SP(n,e)}function SP(n,e,t,i,r){Wa(oE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=At.useContext(No),{matches:l}=At.useContext(Tl),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",g=c?c.pathnameBase:"/",m=c&&c.route;{let x=m&&m.path||"";wP(h,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=dh(),y;if(e){let x=typeof e=="string"?$g(e):e;Wa(g==="/"||x.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${x.pathname}" was given in the \`location\` prop.`),y=x}else y=p;let E=y.pathname||"/",A=E;if(g!=="/"){let x=g.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=cP(n,{pathname:A});El(m||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),El(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=J8(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},f,x.params),pathname:rc([g,o.encodeLocation?o.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?g:rc([g,o.encodeLocation?o.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),l,t,i,r);return e&&M?At.createElement(sE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},M):M}function W8(){let n=a5(),e=M8(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=At.createElement(At.Fragment,null,At.createElement("p",null," Hey developer "),At.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",At.createElement("code",{style:o},"ErrorBoundary")," or"," ",At.createElement("code",{style:o},"errorElement")," prop on your route.")),At.createElement(At.Fragment,null,At.createElement("h2",null,"Unexpected Application Error!"),At.createElement("h3",{style:{fontStyle:"italic"}},e),t?At.createElement("pre",{style:r},t):null,l)}var Q8=At.createElement(W8,null),AP=class extends At.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=q8(n.digest);t&&(n=t)}let e=n!==void 0?At.createElement(Tl.Provider,{value:this.props.routeContext},At.createElement(nk.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?At.createElement(X8,{error:n},e):e}};AP.contextType=P8;var cw=new WeakMap;function X8({children:n,error:e}){let{basename:t}=At.useContext(No);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=$8(e.digest);if(i){let r=cw.get(e);if(r)throw r;let o=vP(i.location,t);if(pP&&!cw.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw cw.set(e,l),l}return At.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function Z8({routeContext:n,match:e,children:t}){let i=At.useContext(qg);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),At.createElement(Tl.Provider,{value:n},t)}function J8(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let g=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Wa(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let m=o[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=g),m.route.id){let{loaderData:p,errors:y}=t,E=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||E){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let h=t&&i?(g,m)=>{i(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:N8(t.matches),errorInfo:m})}:void 0;return o.reduceRight((g,m,p)=>{let y,E=!1,A=null,w=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||Q8,c&&(f<0&&p===0?(wP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):f===p&&(E=!0,w=m.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,p+1)),x=()=>{let C;return y?C=A:E?C=w:m.route.Component?C=At.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=g,At.createElement(Z8,{match:m,routeContext:{outlet:g,matches:M,isDataRoute:t!=null},children:C})};return t&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?At.createElement(AP,{location:t.location,revalidation:t.revalidation,component:A,error:y,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:h}):x()},null)}function ik(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e5(n){let e=At.useContext(qg);return Wa(e,ik(n)),e}function t5(n){let e=At.useContext(IS);return Wa(e,ik(n)),e}function n5(n){let e=At.useContext(Tl);return Wa(e,ik(n)),e}function ak(n){let e=n5(n),t=e.matches[e.matches.length-1];return Wa(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function i5(){return ak("useRouteId")}function a5(){let n=At.useContext(nk),e=t5("useRouteError"),t=ak("useRouteError");return n!==void 0?n:e.errors?.[t]}function r5(){let{router:n}=e5("useNavigate"),e=ak("useNavigate"),t=At.useRef(!1);return TP(()=>{t.current=!0}),At.useCallback(async(r,o={})=>{El(t.current,_P),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var DD={};function wP(n,e,t){!e&&!DD[n]&&(DD[n]=!0,El(!1,t))}At.memo(s5);function s5({routes:n,future:e,state:t,onError:i}){return SP(n,void 0,t,i,e)}function gre(n){return K8(n.context)}function o5(n){Wa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l5({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){Wa(!oE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=At.useMemo(()=>({basename:c,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[c,r,o,l]);typeof t=="string"&&(t=$g(t));let{pathname:h="/",search:g="",hash:m="",state:p=null,key:y="default"}=t,E=At.useMemo(()=>{let A=dc(h,c);return A==null?null:{location:{pathname:A,search:g,hash:m,state:p,key:y},navigationType:i}},[c,h,g,m,p,y,i]);return El(E!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:At.createElement(No.Provider,{value:f},At.createElement(sE.Provider,{children:e,value:E}))}function pre({children:n,location:e}){return Y8(z1(n),e)}function z1(n,e=[]){let t=[];return At.Children.forEach(n,(i,r)=>{if(!At.isValidElement(i))return;let o=[...e,r];if(i.type===At.Fragment){t.push.apply(t,z1(i.props.children,o));return}Wa(i.type===o5,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wa(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=z1(i.props.children,o)),t.push(l)}),t}var Q0="get",X0="application/x-www-form-urlencoded";function kS(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function u5(n){return kS(n)&&n.tagName.toLowerCase()==="button"}function c5(n){return kS(n)&&n.tagName.toLowerCase()==="form"}function d5(n){return kS(n)&&n.tagName.toLowerCase()==="input"}function f5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function h5(n,e){return n.button===0&&(!e||e==="_self")&&!f5(n)}var d0=null;function m5(){if(d0===null)try{new FormData(document.createElement("form"),0),d0=!1}catch{d0=!0}return d0}var g5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dw(n){return n!=null&&!g5.has(n)?(El(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${X0}"`),null):n}function p5(n,e){let t,i,r,o,l;if(c5(n)){let c=n.getAttribute("action");i=c?dc(c,e):null,t=n.getAttribute("method")||Q0,r=dw(n.getAttribute("enctype"))||X0,o=new FormData(n)}else if(u5(n)||d5(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(i=f?dc(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Q0,r=dw(n.getAttribute("formenctype"))||dw(c.getAttribute("enctype"))||X0,o=new FormData(c,n),!m5()){let{name:h,type:g,value:m}=n;if(g==="image"){let p=h?`${h}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else h&&o.append(h,m)}}else{if(kS(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Q0,i=null,r=X0,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rk(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function v5(n,e,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&dc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function y5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function b5(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await y5(o,t);return l.links?l.links():[]}return[]}));return A5(i.flat(1).filter(E5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function LD(n,e,t,i,r,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>t[h].pathname!==f.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let m=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function _5(n,e,{includeHydrateFallback:t}={}){return T5(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function T5(n){return[...new Set(n)]}function S5(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function A5(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(S5(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function RP(){let n=At.useContext(qg);return rk(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function w5(){let n=At.useContext(IS);return rk(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sk=At.createContext(void 0);sk.displayName="FrameworkContext";function IP(){let n=At.useContext(sk);return rk(n,"You must render this element inside a <HydratedRouter> element"),n}function R5(n,e){let t=At.useContext(sk),[i,r]=At.useState(!1),[o,l]=At.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:m}=e,p=At.useRef(null);At.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=M=>{M.forEach(x=>{l(x.isIntersecting)})},w=new IntersectionObserver(A,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[n]),At.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let y=()=>{r(!0)},E=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,p,{}]:[o,p,{onFocus:Av(c,y),onBlur:Av(f,E),onMouseEnter:Av(h,y),onMouseLeave:Av(g,E),onTouchStart:Av(m,y)}]:[!1,p,{}]}function Av(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function I5({page:n,...e}){let{router:t}=RP(),i=At.useMemo(()=>cP(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?At.createElement(x5,{page:n,matches:i,...e}):null}function k5(n){let{manifest:e,routeModules:t}=IP(),[i,r]=At.useState([]);return At.useEffect(()=>{let o=!1;return b5(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function x5({page:n,matches:e,...t}){let i=dh(),{future:r,manifest:o,routeModules:l}=IP(),{basename:c}=RP(),{loaderData:f,matches:h}=w5(),g=At.useMemo(()=>LD(n,e,h,o,i,"data"),[n,e,h,o,i]),m=At.useMemo(()=>LD(n,e,h,o,i,"assets"),[n,e,h,o,i]),p=At.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,w=!1;if(e.forEach(x=>{let C=o.routes[x.route.id];!C||!C.hasLoader||(!g.some(O=>O.route.id===x.route.id)&&x.route.id in f&&l[x.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:A.add(x.route.id))}),A.size===0)return[];let M=v5(n,c,r.unstable_trailingSlashAwareDataRequests,"data");return w&&A.size>0&&M.searchParams.set("_routes",e.filter(x=>A.has(x.route.id)).map(x=>x.route.id).join(",")),[M.pathname+M.search]},[c,r.unstable_trailingSlashAwareDataRequests,f,i,o,g,e,n,l]),y=At.useMemo(()=>_5(m,o),[m,o]),E=k5(m);return At.createElement(At.Fragment,null,p.map(A=>At.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),y.map(A=>At.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:w})=>At.createElement("link",{key:A,nonce:t.nonce,...w})))}function C5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D5&&(window.__reactRouterVersion="7.12.0")}catch{}function vre({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=At.useRef();r.current==null&&(r.current=u8({window:i,v5Compat:!0}));let o=r.current,[l,c]=At.useState({action:o.action,location:o.location}),f=At.useCallback(h=>{t===!1?c(h):At.startTransition(()=>c(h))},[t]);return At.useLayoutEffect(()=>o.listen(f),[o,f]),At.createElement(l5,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t})}var kP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xP=At.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},E){let{basename:A,unstable_useTransitions:w}=At.useContext(No),M=typeof h=="string"&&kP.test(h),x=vP(h,A);h=x.to;let C=j8(h,{relative:r}),[O,z,se]=R5(i,y),F=O5(h,{replace:l,state:c,target:f,preventScrollReset:g,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:w});function H(Ae){e&&e(Ae),Ae.defaultPrevented||F(Ae)}let be=At.createElement("a",{...y,...se,href:x.absoluteURL||C,onClick:x.isExternal||o?e:H,ref:C5(E,z),target:f,"data-discover":!M&&t==="render"?"true":void 0});return O&&!M?At.createElement(At.Fragment,null,be,At.createElement(I5,{page:C})):be});xP.displayName="Link";var L5=At.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:c,children:f,...h},g){let m=lE(l,{relative:h.relative}),p=dh(),y=At.useContext(IS),{navigator:E,basename:A}=At.useContext(No),w=y!=null&&z5(m)&&c===!0,M=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,x=p.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(x=x.toLowerCase(),C=C?C.toLowerCase():null,M=M.toLowerCase()),C&&A&&(C=dc(C,A)||C);const O=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let z=x===M||!r&&x.startsWith(M)&&x.charAt(O)==="/",se=C!=null&&(C===M||!r&&C.startsWith(M)&&C.charAt(M.length)==="/"),F={isActive:z,isPending:se,isTransitioning:w},H=z?e:void 0,be;typeof i=="function"?be=i(F):be=[i,z?"active":null,se?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Ae=typeof o=="function"?o(F):o;return At.createElement(xP,{...h,"aria-current":H,className:be,ref:g,style:Ae,to:l,viewTransition:c},typeof f=="function"?f(F):f)});L5.displayName="NavLink";var M5=At.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=Q0,action:c,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},E)=>{let{unstable_useTransitions:A}=At.useContext(No),w=F5(),M=B5(c,{relative:h}),x=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&kP.test(c),O=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let se=z.nativeEvent.submitter,F=se?.getAttribute("formmethod")||l,H=()=>w(se||z.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:r,state:o,relative:h,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:p});A&&t!==!1?At.startTransition(()=>H()):H()};return At.createElement("form",{ref:E,method:x,action:M,onSubmit:i?f:O,...y,"data-discover":!C&&n==="render"?"true":void 0})});M5.displayName="Form";function N5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CP(n){let e=At.useContext(qg);return Wa(e,N5(n)),e}function O5(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let h=H8(),g=dh(),m=lE(n,{relative:o});return At.useCallback(p=>{if(h5(p,e)){p.preventDefault();let y=t!==void 0?t:Cy(g)===Cy(m),E=()=>h(n,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c});f?At.startTransition(()=>E()):E()}},[g,h,m,t,i,e,n,r,o,l,c,f])}var P5=0,U5=()=>`__${String(++P5)}__`;function F5(){let{router:n}=CP("useSubmit"),{basename:e}=At.useContext(No),t=i5(),i=n.fetch,r=n.navigate;return At.useCallback(async(o,l={})=>{let{action:c,method:f,encType:h,formData:g,body:m}=p5(o,e);if(l.navigate===!1){let p=l.fetcherKey||U5();await i(p,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await r(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,e,t])}function B5(n,{relative:e}={}){let{basename:t}=At.useContext(No),i=At.useContext(Tl);Wa(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...lE(n||".",{relative:e})},l=dh();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:rc([t,o.pathname])),Cy(o)}function z5(n,{relative:e}={}){let t=At.useContext(EP);Wa(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=CP("useViewTransitionState"),r=lE(n,{relative:e});if(!t.isTransitioning)return!1;let o=dc(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=dc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return RT(r.pathname,l)!=null||RT(r.pathname,o)!=null}var $5=uP();const q5="modulepreload",j5=function(n){return"/brain-games/"+n},MD={},ol=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");r=f(t.map(h=>{if(h=j5(h),h in MD)return;MD[h]=!0;const g=h.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const p=document.createElement("link");if(p.rel=g?"stylesheet":q5,g||(p.as="script"),p.crossOrigin="",p.href=h,c&&p.setAttribute("nonce",c),document.head.appendChild(p),g)return new Promise((y,E)=>{p.addEventListener("load",y),p.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return r.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function ND(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function fy(){return fy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fy.apply(null,arguments)}function OD(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $1(n,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},$1(n,e)}function H5(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,$1(n,e)}var fw={exports:{}},ca={};var PD;function G5(){if(PD)return ca;PD=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,E=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,M=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function C(z){if(typeof z=="object"&&z!==null){var se=z.$$typeof;switch(se){case e:switch(z=z.type,z){case f:case h:case i:case o:case r:case m:return z;default:switch(z=z&&z.$$typeof,z){case c:case g:case E:case y:case l:return z;default:return se}}case t:return se}}}function O(z){return C(z)===h}return ca.AsyncMode=f,ca.ConcurrentMode=h,ca.ContextConsumer=c,ca.ContextProvider=l,ca.Element=e,ca.ForwardRef=g,ca.Fragment=i,ca.Lazy=E,ca.Memo=y,ca.Portal=t,ca.Profiler=o,ca.StrictMode=r,ca.Suspense=m,ca.isAsyncMode=function(z){return O(z)||C(z)===f},ca.isConcurrentMode=O,ca.isContextConsumer=function(z){return C(z)===c},ca.isContextProvider=function(z){return C(z)===l},ca.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===e},ca.isForwardRef=function(z){return C(z)===g},ca.isFragment=function(z){return C(z)===i},ca.isLazy=function(z){return C(z)===E},ca.isMemo=function(z){return C(z)===y},ca.isPortal=function(z){return C(z)===t},ca.isProfiler=function(z){return C(z)===o},ca.isStrictMode=function(z){return C(z)===r},ca.isSuspense=function(z){return C(z)===m},ca.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===i||z===h||z===o||z===r||z===m||z===p||typeof z=="object"&&z!==null&&(z.$$typeof===E||z.$$typeof===y||z.$$typeof===l||z.$$typeof===c||z.$$typeof===g||z.$$typeof===w||z.$$typeof===M||z.$$typeof===x||z.$$typeof===A)},ca.typeOf=C,ca}var UD;function V5(){return UD||(UD=1,fw.exports=G5()),fw.exports}var hw,FD;function K5(){if(FD)return hw;FD=1;var n=V5(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=r;function l(E){return n.isMemo(E)?r:o[E.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;function y(E,A,w){if(typeof A!="string"){if(p){var M=m(A);M&&M!==p&&y(E,M,w)}var x=f(A);h&&(x=x.concat(h(A)));for(var C=l(E),O=l(A),z=0;z<x.length;++z){var se=x[z];if(!t[se]&&!(w&&w[se])&&!(O&&O[se])&&!(C&&C[se])){var F=g(A,se);try{c(E,se,F)}catch{}}}}return E}return hw=y,hw}var Y5=K5();const W5=rE(Y5);function Q5(n,e){if(!n){var t=new Error("loadable: "+e);throw t.framesToPop=1,t.name="Invariant Violation",t}}var X5=Gi.createContext(),Z5={initialChunks:{}},BD="PENDING",J5="RESOLVED",mw="REJECTED";function e6(n){return typeof n=="function"?{requireAsync:n,resolve:function(){},chunkName:function(){}}:n}var t6=function(e){var t=function(r){return Gi.createElement(X5.Consumer,null,function(o){return Gi.createElement(e,Object.assign({__chunkExtractor:o},r))})};return e.displayName&&(t.displayName=e.displayName+"WithChunkExtractor"),t},n6=function(e){return e};function DP(n){var e=n.defaultResolveComponent,t=e===void 0?n6:e,i=n.render,r=n.onLoad;function o(c,f){f===void 0&&(f={});var h=e6(c),g={};function m(M){return f.cacheKey?f.cacheKey(M):h.resolve?h.resolve(M):"static"}function p(M,x,C){var O=f.resolveComponent?f.resolveComponent(M,x):t(M);return W5(C,O,{preload:!0}),O}var y=function(x){var C=m(x),O=g[C];return(!O||O.status===mw)&&(O=h.requireAsync(x),O.status=BD,g[C]=O,O.then(function(){O.status=J5},function(z){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(x),chunkName:h.chunkName(x),error:z&&z.message}),O.status=mw})),O},E=(function(M){H5(x,M),x.getDerivedStateFromProps=function(z,se){var F=m(z);return fy({},se,{cacheKey:F,loading:se.loading||se.cacheKey!==F})};function x(O){var z;return z=M.call(this,O)||this,z.state={result:null,error:null,loading:!0,cacheKey:m(O)},Q5(!O.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),O.__chunkExtractor?(f.ssr===!1||(h.requireAsync(O).catch(function(){return null}),z.loadSync(),O.__chunkExtractor.addChunk(h.chunkName(O))),OD(z)):(f.ssr!==!1&&(h.isReady&&h.isReady(O)||h.chunkName&&Z5.initialChunks[h.chunkName(O)])&&z.loadSync(),z)}var C=x.prototype;return C.componentDidMount=function(){this.mounted=!0;var z=this.getCache();z&&z.status===mw&&this.setCache(),this.state.loading&&this.loadAsync()},C.componentDidUpdate=function(z,se){se.cacheKey!==this.state.cacheKey&&this.loadAsync()},C.componentWillUnmount=function(){this.mounted=!1},C.safeSetState=function(z,se){this.mounted&&this.setState(z,se)},C.getCacheKey=function(){return m(this.props)},C.getCache=function(){return g[this.getCacheKey()]},C.setCache=function(z){z===void 0&&(z=void 0),g[this.getCacheKey()]=z},C.triggerOnLoad=function(){var z=this;r&&setTimeout(function(){r(z.state.result,z.props)})},C.loadSync=function(){if(this.state.loading)try{var z=h.requireSync(this.props),se=p(z,this.props,w);this.state.result=se,this.state.loading=!1}catch(F){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:F&&F.message}),this.state.error=F}},C.loadAsync=function(){var z=this,se=this.resolveAsync();return se.then(function(F){var H=p(F,z.props,w);z.safeSetState({result:H,loading:!1},function(){return z.triggerOnLoad()})}).catch(function(F){return z.safeSetState({error:F,loading:!1})}),se},C.resolveAsync=function(){var z=this.props;z.__chunkExtractor,z.forwardedRef;var se=ND(z,["__chunkExtractor","forwardedRef"]);return y(se)},C.render=function(){var z=this.props,se=z.forwardedRef,F=z.fallback;z.__chunkExtractor;var H=ND(z,["forwardedRef","fallback","__chunkExtractor"]),be=this.state,Ae=be.error,Me=be.loading,Ve=be.result;if(f.suspense){var Se=this.getCache()||this.loadAsync();if(Se.status===BD)throw this.loadAsync()}if(Ae)throw Ae;var He=F||f.fallback||null;return Me?He:i({fallback:He,result:Ve,options:f,props:fy({},H,{ref:se})})},x})(Gi.Component),A=t6(E),w=Gi.forwardRef(function(M,x){return Gi.createElement(A,Object.assign({forwardedRef:x},M))});return w.displayName="Loadable",w.preload=function(M){w.load(M)},w.load=function(M){return y(M)},w}function l(c,f){return o(c,fy({},f,{suspense:!0}))}return{loadable:o,lazy:l}}function i6(n){return n.__esModule?n.default:n.default||n}var LP=DP({defaultResolveComponent:i6,render:function(e){var t=e.result,i=e.props;return Gi.createElement(t,i)}}),a6=LP.loadable,r6=LP.lazy,MP=DP({onLoad:function(e,t){e&&t.forwardedRef&&(typeof t.forwardedRef=="function"?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,i=e.props;return i.children?i.children(t):null}}),s6=MP.loadable,o6=MP.lazy,l6=a6;l6.lib=s6;var u6=r6;u6.lib=o6;const c6=At.createContext(null),gw={didCatch:!1,error:null};let yre=class extends At.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=gw}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(...e){const{error:t}=this.state;t!==null&&(this.props.onReset?.({args:e,reason:"imperative-api"}),this.setState(gw))}componentDidCatch(e,t){this.props.onError?.(e,t)}componentDidUpdate(e,t){const{didCatch:i}=this.state,{resetKeys:r}=this.props;i&&t.error!==null&&d6(e.resetKeys,r)&&(this.props.onReset?.({next:r,prev:e.resetKeys,reason:"keys"}),this.setState(gw))}render(){const{children:e,fallbackRender:t,FallbackComponent:i,fallback:r}=this.props,{didCatch:o,error:l}=this.state;let c=e;if(o){const f={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")c=t(f);else if(i)c=At.createElement(i,f);else if(r!==void 0)c=r;else throw l}return At.createElement(c6.Provider,{value:{didCatch:o,error:l,resetErrorBoundary:this.resetErrorBoundary}},c)}};function d6(n=[],e=[]){return n.length!==e.length||n.some((t,i)=>!Object.is(t,e[i]))}var zD=function(){return zD=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zD.apply(this,arguments)};function bre(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}var Fa="-ms-",hy="-moz-",oa="-webkit-",NP="comm",ok="rule",lk="decl",f6="@import",h6="@namespace",OP="@keyframes",m6="@layer",PP=Math.abs,uk=String.fromCharCode,q1=Object.assign;function g6(n,e){return wr(n,0)^45?(((e<<2^wr(n,0))<<2^wr(n,1))<<2^wr(n,2))<<2^wr(n,3):0}function UP(n){return n.trim()}function Xu(n,e){return(n=e.exec(n))?n[0]:n}function Di(n,e,t){return n.replace(e,t)}function Z0(n,e,t){return n.indexOf(e,t)}function wr(n,e){return n.charCodeAt(e)|0}function ih(n,e,t){return n.slice(e,t)}function dl(n){return n.length}function FP(n){return n.length}function $v(n,e){return e.push(n),n}function p6(n,e){return n.map(e).join("")}function $D(n,e){return n.filter(function(t){return!Xu(t,e)})}var xS=1,kg=1,BP=0,Do=0,mr=0,jg="";function CS(n,e,t,i,r,o,l,c){return{value:n,root:e,parent:t,type:i,props:r,children:o,line:xS,column:kg,length:l,return:"",siblings:c}}function pd(n,e){return q1(CS("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function ym(n){for(;n.root;)n=pd(n.root,{children:[n]});$v(n,n.siblings)}function v6(){return mr}function y6(){return mr=Do>0?wr(jg,--Do):0,kg--,mr===10&&(kg=1,xS--),mr}function gl(){return mr=Do<BP?wr(jg,Do++):0,kg++,mr===10&&(kg=1,xS++),mr}function Dd(){return wr(jg,Do)}function J0(){return Do}function DS(n,e){return ih(jg,n,e)}function Dy(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function E6(n){return xS=kg=1,BP=dl(jg=n),Do=0,[]}function b6(n){return jg="",n}function pw(n){return UP(DS(Do-1,j1(n===91?n+2:n===40?n+1:n)))}function _6(n){for(;(mr=Dd())&&mr<33;)gl();return Dy(n)>2||Dy(mr)>3?"":" "}function T6(n,e){for(;--e&&gl()&&!(mr<48||mr>102||mr>57&&mr<65||mr>70&&mr<97););return DS(n,J0()+(e<6&&Dd()==32&&gl()==32))}function j1(n){for(;gl();)switch(mr){case n:return Do;case 34:case 39:n!==34&&n!==39&&j1(mr);break;case 40:n===41&&j1(n);break;case 92:gl();break}return Do}function S6(n,e){for(;gl()&&n+mr!==57;)if(n+mr===84&&Dd()===47)break;return"/*"+DS(e,Do-1)+"*"+uk(n===47?n:gl())}function A6(n){for(;!Dy(Dd());)gl();return DS(n,Do)}function _re(n){return b6(e_("",null,null,null,[""],n=E6(n),0,[0],n))}function e_(n,e,t,i,r,o,l,c,f){for(var h=0,g=0,m=l,p=0,y=0,E=0,A=1,w=1,M=1,x=0,C="",O=r,z=o,se=i,F=C;w;)switch(E=x,x=gl()){case 40:if(E!=108&&wr(F,m-1)==58){Z0(F+=Di(pw(x),"&","&\f"),"&\f",PP(h?c[h-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:F+=pw(x);break;case 9:case 10:case 13:case 32:F+=_6(E);break;case 92:F+=T6(J0()-1,7);continue;case 47:switch(Dd()){case 42:case 47:$v(w6(S6(gl(),J0()),e,t,f),f),(Dy(E||1)==5||Dy(Dd()||1)==5)&&dl(F)&&ih(F,-1,void 0)!==" "&&(F+=" ");break;default:F+="/"}break;case 123*A:c[h++]=dl(F)*M;case 125*A:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+g:M==-1&&(F=Di(F,/\f/g,"")),y>0&&(dl(F)-m||A===0&&E===47)&&$v(y>32?jD(F+";",i,t,m-1,f):jD(Di(F," ","")+";",i,t,m-2,f),f);break;case 59:F+=";";default:if($v(se=qD(F,e,t,h,g,r,c,C,O=[],z=[],m,o),o),x===123)if(g===0)e_(F,e,se,se,O,o,m,c,z);else{switch(p){case 99:if(wr(F,3)===110)break;case 108:if(wr(F,2)===97)break;default:g=0;case 100:case 109:case 115:}g?e_(n,se,se,i&&$v(qD(n,se,se,0,0,r,c,C,r,O=[],m,z),z),r,z,m,c,i?O:z):e_(F,se,se,se,[""],z,0,c,z)}}h=g=y=0,A=M=1,C=F="",m=l;break;case 58:m=1+dl(F),y=E;default:if(A<1){if(x==123)--A;else if(x==125&&A++==0&&y6()==125)continue}switch(F+=uk(x),x*A){case 38:M=g>0?1:(F+="\f",-1);break;case 44:c[h++]=(dl(F)-1)*M,M=1;break;case 64:Dd()===45&&(F+=pw(gl())),p=Dd(),g=m=dl(C=F+=A6(J0())),x++;break;case 45:E===45&&dl(F)==2&&(A=0)}}return o}function qD(n,e,t,i,r,o,l,c,f,h,g,m){for(var p=r-1,y=r===0?o:[""],E=FP(y),A=0,w=0,M=0;A<i;++A)for(var x=0,C=ih(n,p+1,p=PP(w=l[A])),O=n;x<E;++x)(O=UP(w>0?y[x]+" "+C:Di(C,/&\f/g,y[x])))&&(f[M++]=O);return CS(n,e,t,r===0?ok:c,f,h,g,m)}function w6(n,e,t,i){return CS(n,e,t,NP,uk(v6()),ih(n,2,-2),0,i)}function jD(n,e,t,i,r){return CS(n,e,t,lk,ih(n,0,i),ih(n,i+1,-1),i,r)}function zP(n,e,t){switch(g6(n,e)){case 5103:return oa+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return oa+n+n;case 4855:return oa+n.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+n;case 4789:return hy+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return oa+n+hy+n+Fa+n+n;case 5936:switch(wr(n,e+11)){case 114:return oa+n+Fa+Di(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return oa+n+Fa+Di(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return oa+n+Fa+Di(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return oa+n+Fa+n+n;case 6165:return oa+n+Fa+"flex-"+n+n;case 5187:return oa+n+Di(n,/(\w+).+(:[^]+)/,oa+"box-$1$2"+Fa+"flex-$1$2")+n;case 5443:return oa+n+Fa+"flex-item-"+Di(n,/flex-|-self/g,"")+(Xu(n,/flex-|baseline/)?"":Fa+"grid-row-"+Di(n,/flex-|-self/g,""))+n;case 4675:return oa+n+Fa+"flex-line-pack"+Di(n,/align-content|flex-|-self/g,"")+n;case 5548:return oa+n+Fa+Di(n,"shrink","negative")+n;case 5292:return oa+n+Fa+Di(n,"basis","preferred-size")+n;case 6060:return oa+"box-"+Di(n,"-grow","")+oa+n+Fa+Di(n,"grow","positive")+n;case 4554:return oa+Di(n,/([^-])(transform)/g,"$1"+oa+"$2")+n;case 6187:return Di(Di(Di(n,/(zoom-|grab)/,oa+"$1"),/(image-set)/,oa+"$1"),n,"")+n;case 5495:case 3959:return Di(n,/(image-set\([^]*)/,oa+"$1$`$1");case 4968:return Di(Di(n,/(.+:)(flex-)?(.*)/,oa+"box-pack:$3"+Fa+"flex-pack:$3"),/space-between/,"justify")+oa+n+n;case 4200:if(!Xu(n,/flex-|baseline/))return Fa+"grid-column-align"+ih(n,e)+n;break;case 2592:case 3360:return Fa+Di(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,r){return e=r,Xu(i.props,/grid-\w+-end/)})?~Z0(n+(t=t[e].value),"span",0)?n:Fa+Di(n,"-start","")+n+Fa+"grid-row-span:"+(~Z0(t,"span",0)?Xu(t,/\d+/):+Xu(t,/\d+/)-+Xu(n,/\d+/))+";":Fa+Di(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return Xu(i.props,/grid-\w+-start/)})?n:Fa+Di(Di(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Di(n,/(.+)-inline(.+)/,oa+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(dl(n)-1-e>6)switch(wr(n,e+1)){case 109:if(wr(n,e+4)!==45)break;case 102:return Di(n,/(.+:)(.+)-([^]+)/,"$1"+oa+"$2-$3$1"+hy+(wr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Z0(n,"stretch",0)?zP(Di(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Di(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,o,l,c,f,h){return Fa+r+":"+o+h+(l?Fa+r+"-span:"+(c?f:+f-+o)+h:"")+n});case 4949:if(wr(n,e+6)===121)return Di(n,":",":"+oa)+n;break;case 6444:switch(wr(n,wr(n,14)===45?18:11)){case 120:return Di(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+oa+(wr(n,14)===45?"inline-":"")+"box$3$1"+oa+"$2$3$1"+Fa+"$2box$3")+n;case 100:return Di(n,":",":"+Fa)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Di(n,"scroll-","scroll-snap-")+n}return n}function H1(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function Tre(n,e,t,i){switch(n.type){case m6:if(n.children.length)break;case f6:case h6:case lk:return n.return=n.return||n.value;case NP:return"";case OP:return n.return=n.value+"{"+H1(n.children,i)+"}";case ok:if(!dl(n.value=n.props.join(",")))return""}return dl(t=H1(n.children,i))?n.return=n.value+"{"+t+"}":""}function Sre(n){var e=FP(n);return function(t,i,r,o){for(var l="",c=0;c<e;c++)l+=n[c](t,i,r,o)||"";return l}}function Are(n){return function(e){e.root||(e=e.return)&&n(e)}}function wre(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case lk:n.return=zP(n.value,n.length,t);return;case OP:return H1([pd(n,{value:Di(n.value,"@","@"+oa)})],i);case ok:if(n.length)return p6(t=n.props,function(r){switch(Xu(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ym(pd(n,{props:[Di(r,/:(read-\w+)/,":"+hy+"$1")]})),ym(pd(n,{props:[r]})),q1(n,{props:$D(t,i)});break;case"::placeholder":ym(pd(n,{props:[Di(r,/:(plac\w+)/,":"+oa+"input-$1")]})),ym(pd(n,{props:[Di(r,/:(plac\w+)/,":"+hy+"$1")]})),ym(pd(n,{props:[Di(r,/:(plac\w+)/,Fa+"input-$1")]})),ym(pd(n,{props:[r]})),q1(n,{props:$D(t,i)});break}return""})}}var Rre={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Qi(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var R6={};function LS(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:R6}var $P=Object.assign,IT=Object.getOwnPropertyDescriptor,gu=Object.defineProperty,MS=Object.prototype,G1=[];Object.freeze(G1);var qP={};Object.freeze(qP);var I6=typeof Proxy<"u",k6=Object.toString();function jP(){I6||Qi("Proxy not available")}function HP(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var rg=function(){};function bl(n){return typeof n=="function"}function ah(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function NS(n){return n!==null&&typeof n=="object"}function fc(n){if(!NS(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===k6}function GP(n){var e=n?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function uE(n,e,t){gu(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function VP(n,e,t){gu(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function fh(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(i){return NS(i)&&i[t]===!0}}function Hg(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function x6(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),i=Object.getPrototypeOf(t);return i===null}function nc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var KP=typeof Object.getOwnPropertySymbols<"u";function C6(n){var e=Object.keys(n);if(!KP)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(i){return MS.propertyIsEnumerable.call(n,i)})):e}var xg=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:KP?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function YP(n){return n===null?null:typeof n=="object"?""+n:n}function sc(n,e){return MS.hasOwnProperty.call(n,e)}var D6=Object.getOwnPropertyDescriptors||function(e){var t={};return xg(e).forEach(function(i){t[i]=IT(e,i)}),t};function Zs(n,e){return!!(n&e)}function Js(n,e,t){return t?n|=e:n&=~e,n}function HD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function L6(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,N6(i.key),i)}}function Gg(n,e,t){return e&&L6(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function sg(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=O6(n))||e){t&&(n=t);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rh(){return rh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rh.apply(null,arguments)}function WP(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,V1(n,e)}function V1(n,e){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},V1(n,e)}function M6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function N6(n){var e=M6(n,"string");return typeof e=="symbol"?e:e+""}function O6(n,e){if(n){if(typeof n=="string")return HD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?HD(n,e):void 0}}var uu=Symbol("mobx-stored-annotations");function pu(n){function e(t,i){if(dE(i))return n.decorate_20223_(t,i);cE(t,i,n)}return Object.assign(e,n)}function cE(n,e,t){sc(n,uu)||uE(n,uu,rh({},n[uu])),q6(t)||(n[uu][e]=t)}function P6(n){return sc(n,uu)||uE(n,uu,rh({},n[uu])),n[uu]}function dE(n){return typeof n=="object"&&typeof n.kind=="string"}var hi=Symbol("mobx administration"),$d=(function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=aa.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return d2(this)},e.reportChanged=function(){xo(),f2(this),Co()},e.toString=function(){return this.name_},Gg(n,[{key:"isBeingObserved",get:function(){return Zs(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=Js(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Zs(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=Js(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Zs(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=Js(this.flags_,n.diffValueMask_,i===1)}}])})();$d.isBeingObservedMask_=1;$d.isPendingUnobservationMask_=2;$d.diffValueMask_=4;var ck=fh("Atom",$d);function QP(n,e,t){e===void 0&&(e=rg),t===void 0&&(t=rg);var i=new $d(n);return e!==rg&&V$(i,e),t!==rg&&v2(i,t),i}function U6(n,e){return C2(n,e)}function F6(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var kT={structural:U6,default:F6};function sh(n,e,t){return T2(n)?n:Array.isArray(n)?Qr.array(n,{name:t}):fc(n)?Qr.object(n,void 0,{name:t}):Hg(n)?Qr.map(n,{name:t}):nc(n)?Qr.set(n,{name:t}):typeof n=="function"&&!Cg(n)&&!My(n)?GP(n)?Dg(n):Ly(t,n):n}function B6(n,e,t){if(n==null||zS(n)||BS(n)||mh(n)||su(n))return n;if(Array.isArray(n))return Qr.array(n,{name:t,deep:!1});if(fc(n))return Qr.object(n,void 0,{name:t,deep:!1});if(Hg(n))return Qr.map(n,{name:t,deep:!1});if(nc(n))return Qr.set(n,{name:t,deep:!1})}function OS(n){return n}function z6(n,e){return C2(n,e)?e:n}var $6="override";function q6(n){return n.annotationType_===$6}function fE(n,e){return{annotationType_:n,options_:e,make_:j6,extend_:H6,decorate_20223_:G6}}function j6(n,e,t,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(n,e,t,!1)===null?0:1;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(Cg(t.value))return 1;var o=XP(n,this,e,t,!1);return gu(i,e,o),2}function H6(n,e,t,i){var r=XP(n,this,e,t);return n.defineProperty_(e,r,i)}function G6(n,e){var t=e.kind,i=e.name,r=e.addInitializer,o=this,l=function(h){var g,m,p,y;return oh((g=(m=o.options_)==null?void 0:m.name)!=null?g:i.toString(),h,(p=(y=o.options_)==null?void 0:y.autoAction)!=null?p:!1)};if(t=="field")return function(f){var h,g=f;return Cg(g)||(g=l(g)),(h=o.options_)!=null&&h.bound&&(g=g.bind(this),g.isMobxAction=!0),g};if(t=="method"){var c;return Cg(n)||(n=l(n)),(c=this.options_)!=null&&c.bound&&r(function(){var f=this,h=f[i].bind(f);h.isMobxAction=!0,f[i]=h}),n}Qi("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+t+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function V6(n,e,t,i){e.annotationType_,i.value}function XP(n,e,t,i,r){var o,l,c,f,h,g,m;r===void 0&&(r=Ln.safeDescriptors),V6(n,e,t,i);var p=i.value;if((o=e.options_)!=null&&o.bound){var y;p=p.bind((y=n.proxy_)!=null?y:n.target_)}return{value:oh((l=(c=e.options_)==null?void 0:c.name)!=null?l:t.toString(),p,(f=(h=e.options_)==null?void 0:h.autoAction)!=null?f:!1,(g=e.options_)!=null&&g.bound?(m=n.proxy_)!=null?m:n.target_:void 0),configurable:r?n.isPlainObject_:!0,enumerable:!1,writable:!r}}function ZP(n,e){return{annotationType_:n,options_:e,make_:K6,extend_:Y6,decorate_20223_:W6}}function K6(n,e,t,i){var r;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!sc(n.target_,e)||!My(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(My(t.value))return 1;var o=JP(n,this,e,t,!1,!1);return gu(i,e,o),2}function Y6(n,e,t,i){var r,o=JP(n,this,e,t,(r=this.options_)==null?void 0:r.bound);return n.defineProperty_(e,o,i)}function W6(n,e){var t,i=e.name,r=e.addInitializer;return My(n)||(n=Dg(n)),(t=this.options_)!=null&&t.bound&&r(function(){var o=this,l=o[i].bind(o);l.isMobXFlow=!0,o[i]=l}),n}function Q6(n,e,t,i){e.annotationType_,i.value}function JP(n,e,t,i,r,o){o===void 0&&(o=Ln.safeDescriptors),Q6(n,e,t,i);var l=i.value;if(My(l)||(l=Dg(l)),r){var c;l=l.bind((c=n.proxy_)!=null?c:n.target_),l.isMobXFlow=!0}return{value:l,configurable:o?n.isPlainObject_:!0,enumerable:!1,writable:!o}}function dk(n,e){return{annotationType_:n,options_:e,make_:X6,extend_:Z6,decorate_20223_:J6}}function X6(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function Z6(n,e,t,i){return e$(n,this,e,t),n.defineComputedProperty_(e,rh({},this.options_,{get:t.get,set:t.set}),i)}function J6(n,e){var t=this,i=e.name,r=e.addInitializer;return r(function(){var o=gh(this)[hi],l=rh({},t.options_,{get:n,context:this});l.name||(l.name="ObservableObject."+i.toString()),o.values_.set(i,new _l(l))}),function(){return this[hi].getObservablePropValue_(i)}}function e$(n,e,t,i){e.annotationType_,i.get}function PS(n,e){return{annotationType_:n,options_:e,make_:t$,extend_:n$,decorate_20223_:i$}}function t$(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function n$(n,e,t,i){var r,o;return a$(n,this),n.defineObservableProperty_(e,t.value,(r=(o=this.options_)==null?void 0:o.enhancer)!=null?r:sh,i)}function i$(n,e){var t=this,i=e.kind,r=e.name,o=new WeakSet;function l(c,f){var h,g,m=gh(c)[hi],p=new Yf(f,(h=(g=t.options_)==null?void 0:g.enhancer)!=null?h:sh,"ObservableObject."+r.toString(),!1);m.values_.set(r,p),o.add(c)}if(i=="accessor")return{get:function(){return o.has(this)||l(this,n.get.call(this)),this[hi].getObservablePropValue_(r)},set:function(f){return o.has(this)||l(this,f),this[hi].setObservablePropValue_(r,f)},init:function(f){return o.has(this)||l(this,f),f}}}function a$(n,e,t,i){e.annotationType_}var r$="true",s$=e2();function e2(n){return{annotationType_:r$,options_:n,make_:o$,extend_:l$,decorate_20223_:u$}}function o$(n,e,t,i){var r,o;if(t.get)return US.make_(n,e,t,i);if(t.set){var l=Cg(t.set)?t.set:oh(e.toString(),t.set);return i===n.target_?n.defineProperty_(e,{configurable:Ln.safeDescriptors?n.isPlainObject_:!0,set:l})===null?0:2:(gu(i,e,{configurable:!0,set:l}),2)}if(i!==n.target_&&typeof t.value=="function"){var c;if(GP(t.value)){var f,h=(f=this.options_)!=null&&f.autoBind?Dg.bound:Dg;return h.make_(n,e,t,i)}var g=(c=this.options_)!=null&&c.autoBind?Ly.bound:Ly;return g.make_(n,e,t,i)}var m=((r=this.options_)==null?void 0:r.deep)===!1?Qr.ref:Qr;if(typeof t.value=="function"&&(o=this.options_)!=null&&o.autoBind){var p;t.value=t.value.bind((p=n.proxy_)!=null?p:n.target_)}return m.make_(n,e,t,i)}function l$(n,e,t,i){var r,o;if(t.get)return US.extend_(n,e,t,i);if(t.set)return n.defineProperty_(e,{configurable:Ln.safeDescriptors?n.isPlainObject_:!0,set:oh(e.toString(),t.set)},i);if(typeof t.value=="function"&&(r=this.options_)!=null&&r.autoBind){var l;t.value=t.value.bind((l=n.proxy_)!=null?l:n.target_)}var c=((o=this.options_)==null?void 0:o.deep)===!1?Qr.ref:Qr;return c.extend_(n,e,t,i)}function u$(n,e){Qi("'"+this.annotationType_+"' cannot be used as a decorator")}var c$="observable",d$="observable.ref",f$="observable.shallow",h$="observable.struct",t2={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(t2);function f0(n){return n||t2}var K1=PS(c$),m$=PS(d$,{enhancer:OS}),g$=PS(f$,{enhancer:B6}),p$=PS(h$,{enhancer:z6}),n2=pu(K1);function h0(n){return n.deep===!0?sh:n.deep===!1?OS:y$(n.defaultDecorator)}function v$(n){var e;return n?(e=n.defaultDecorator)!=null?e:e2(n):void 0}function y$(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:sh}function i2(n,e,t){if(dE(e))return K1.decorate_20223_(n,e);if(ah(e)){cE(n,e,K1);return}return T2(n)?n:fc(n)?Qr.object(n,e,t):Array.isArray(n)?Qr.array(n,e):Hg(n)?Qr.map(n,e):nc(n)?Qr.set(n,e):typeof n=="object"&&n!==null?n:Qr.box(n,e)}$P(i2,n2);var E$={box:function(e,t){var i=f0(t);return new Yf(e,h0(i),i.name,!0,i.equals)},array:function(e,t){var i=f0(t);return(Ln.useProxies===!1||i.proxy===!1?p9:s9)(e,h0(i),i.name)},map:function(e,t){var i=f0(t);return new A2(e,h0(i),i.name)},set:function(e,t){var i=f0(t);return new w2(e,h0(i),i.name)},object:function(e,t,i){return qd(function(){return E2(Ln.useProxies===!1||i?.proxy===!1?gh({},i):n9({},i),e,t)})},ref:pu(m$),shallow:pu(g$),deep:n2,struct:pu(p$)},Qr=$P(i2,E$),a2="computed",b$="computed.struct",Y1=dk(a2),_$=dk(b$,{equals:kT.structural}),US=function(e,t){if(dE(t))return Y1.decorate_20223_(e,t);if(ah(t))return cE(e,t,Y1);if(fc(e))return pu(dk(a2,e));var i=fc(t)?t:{};return i.get=e,i.name||(i.name=e.name||""),new _l(i)};Object.assign(US,Y1);US.struct=pu(_$);var GD,VD,xT=0,T$=1,S$=(GD=(VD=IT(function(){},"name"))==null?void 0:VD.configurable)!=null?GD:!1,KD={value:"action",configurable:!0,writable:!1,enumerable:!1};function oh(n,e,t,i){t===void 0&&(t=!1);function r(){return A$(n,t,e,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},S$&&(KD.value=n,gu(r,"name",KD)),r}function A$(n,e,t,i,r){var o=w$(n,e);try{return t.apply(i,r)}catch(l){throw o.error_=l,l}finally{R$(o)}}function w$(n,e,t,i){var r=!1,o=0,l=Ln.trackingDerivation,c=!e||!l;xo();var f=Ln.allowStateChanges;c&&(hh(),f=fk(!0));var h=mk(!0),g={runAsAction_:c,prevDerivation_:l,prevAllowStateChanges_:f,prevAllowStateReads_:h,notifySpy_:r,startTime_:o,actionId_:T$++,parentActionId_:xT};return xT=g.actionId_,g}function R$(n){xT!==n.actionId_&&Qi(30),xT=n.parentActionId_,n.error_!==void 0&&(Ln.suppressReactionErrors=!0),hk(n.prevAllowStateChanges_),my(n.prevAllowStateReads_),Co(),n.runAsAction_&&oc(n.prevDerivation_),Ln.suppressReactionErrors=!1}function fk(n){var e=Ln.allowStateChanges;return Ln.allowStateChanges=n,e}function hk(n){Ln.allowStateChanges=n}var Yf=(function(n){function e(i,r,o,l,c){var f;return o===void 0&&(o="ObservableValue"),c===void 0&&(c=kT.default),f=n.call(this,o)||this,f.enhancer=void 0,f.name_=void 0,f.equals=void 0,f.hasUnreportedChange_=!1,f.interceptors_=void 0,f.changeListeners_=void 0,f.value_=void 0,f.dehancer=void 0,f.enhancer=r,f.name_=o,f.equals=c,f.value_=r(i,void 0,o),f}WP(e,n);var t=e.prototype;return t.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==Ln.UNCHANGED&&this.setNewValue_(r)},t.prepareNewValue_=function(r){if(Ro(this)){var o=Io(this,{object:this,type:vu,newValue:r});if(!o)return Ln.UNCHANGED;r=o.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?Ln.UNCHANGED:r},t.setNewValue_=function(r){var o=this.value_;this.value_=r,this.reportChanged(),pl(this)&&vl(this,{type:vu,object:this,newValue:r,oldValue:o})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(r){return hE(this,r)},t.observe_=function(r,o){return o&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:vu,newValue:this.value_,oldValue:void 0}),mE(this,r)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return YP(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e})($d),_l=(function(){function n(t){this.dependenciesState_=aa.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=aa.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new DT(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=CT.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||Qi(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=oh("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?kT.structural:kT.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){D$(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Qi(32,this.name_,this.derivation),Ln.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)W1(this)&&(this.warnAboutUntrackedRead_(),xo(),this.value_=this.computeValue_(!1),Co());else if(d2(this),W1(this)){var i=Ln.trackingContext;this.keepAlive_&&!i&&(Ln.trackingContext=this),this.trackAndCompute()&&C$(this),Ln.trackingContext=i}var r=this.value_;if(t_(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter&&Qi(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Qi(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===aa.NOT_TRACKING_,o=this.computeValue_(!0),l=r||t_(i)||t_(o)||!this.equals_(i,o);return l&&(this.value_=o),l},e.computeValue_=function(i){this.isComputing=!0;var r=fk(!1),o;if(i)o=r2(this,this.derivation,this.scope_);else if(Ln.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(l){o=new DT(l)}return hk(r),this.isComputing=!1,o},e.suspend_=function(){this.keepAlive_||(Q1(this),this.value_=void 0)},e.observe_=function(i,r){var o=this,l=!0,c=void 0;return $$(function(){var f=o.get();if(!l||r){var h=hh();i({observableKind:"computed",debugObjectName:o.name_,type:vu,object:o,newValue:f,oldValue:c}),oc(h)}l=!1,c=f})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return YP(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Gg(n,[{key:"isComputing",get:function(){return Zs(this.flags_,n.isComputingMask_)},set:function(i){this.flags_=Js(this.flags_,n.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return Zs(this.flags_,n.isRunningSetterMask_)},set:function(i){this.flags_=Js(this.flags_,n.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return Zs(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=Js(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Zs(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=Js(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Zs(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=Js(this.flags_,n.diffValueMask_,i===1)}}])})();_l.isComputingMask_=1;_l.isRunningSetterMask_=2;_l.isBeingObservedMask_=4;_l.isPendingUnobservationMask_=8;_l.diffValueMask_=16;var FS=fh("ComputedValue",_l),aa;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(aa||(aa={}));var CT;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(CT||(CT={}));var DT=function(e){this.cause=void 0,this.cause=e};function t_(n){return n instanceof DT}function W1(n){switch(n.dependenciesState_){case aa.UP_TO_DATE_:return!1;case aa.NOT_TRACKING_:case aa.STALE_:return!0;case aa.POSSIBLY_STALE_:{for(var e=mk(!0),t=hh(),i=n.observing_,r=i.length,o=0;o<r;o++){var l=i[o];if(FS(l)){if(Ln.disableErrorBoundaries)l.get();else try{l.get()}catch{return oc(t),my(e),!0}if(n.dependenciesState_===aa.STALE_)return oc(t),my(e),!0}}return o2(n),oc(t),my(e),!1}}}function r2(n,e,t){var i=mk(!0);o2(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++Ln.runId;var r=Ln.trackingDerivation;Ln.trackingDerivation=n,Ln.inBatch++;var o;if(Ln.disableErrorBoundaries===!0)o=e.call(t);else try{o=e.call(t)}catch(l){o=new DT(l)}return Ln.inBatch--,Ln.trackingDerivation=r,I$(n),my(i),o}function I$(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,i=aa.UP_TO_DATE_,r=0,o=n.unboundDepsCount_,l=0;l<o;l++){var c=t[l];c.diffValue===0&&(c.diffValue=1,r!==l&&(t[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(t.length=r,n.newObserving_=null,o=e.length;o--;){var f=e[o];f.diffValue===0&&u2(f,n),f.diffValue=0}for(;r--;){var h=t[r];h.diffValue===1&&(h.diffValue=0,x$(h,n))}i!==aa.UP_TO_DATE_&&(n.dependenciesState_=i,n.onBecomeStale_())}function Q1(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)u2(e[t],n);n.dependenciesState_=aa.NOT_TRACKING_}function s2(n){var e=hh();try{return n()}finally{oc(e)}}function hh(){var n=Ln.trackingDerivation;return Ln.trackingDerivation=null,n}function oc(n){Ln.trackingDerivation=n}function mk(n){var e=Ln.allowStateReads;return Ln.allowStateReads=n,e}function my(n){Ln.allowStateReads=n}function o2(n){if(n.dependenciesState_!==aa.UP_TO_DATE_){n.dependenciesState_=aa.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=aa.UP_TO_DATE_}}var n_=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},i_=!0,l2=!1,Ln=(function(){var n=LS();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(i_=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new n_().version&&(i_=!1),i_?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new n_):(setTimeout(function(){l2||Qi(35)},1),new n_)})();function k$(){if((Ln.pendingReactions.length||Ln.inBatch||Ln.isRunningReactions)&&Qi(36),l2=!0,i_){var n=LS();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),Ln=new n_}}function x$(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function u2(n,e){n.observers_.delete(e),n.observers_.size===0&&c2(n)}function c2(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,Ln.pendingUnobservations.push(n))}function xo(){Ln.inBatch++}function Co(){if(--Ln.inBatch===0){h2();for(var n=Ln.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof _l&&t.suspend_())}Ln.pendingUnobservations=[]}}function d2(n){var e=Ln.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&Ln.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&Ln.inBatch>0&&c2(n),!1)}function f2(n){n.lowestObserverState_!==aa.STALE_&&(n.lowestObserverState_=aa.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===aa.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=aa.STALE_}))}function C$(n){n.lowestObserverState_!==aa.STALE_&&(n.lowestObserverState_=aa.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===aa.POSSIBLY_STALE_?e.dependenciesState_=aa.STALE_:e.dependenciesState_===aa.UP_TO_DATE_&&(n.lowestObserverState_=aa.UP_TO_DATE_)}))}function D$(n){n.lowestObserverState_===aa.UP_TO_DATE_&&(n.lowestObserverState_=aa.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===aa.UP_TO_DATE_&&(e.dependenciesState_=aa.POSSIBLY_STALE_,e.onBecomeStale_())}))}var hc=(function(){function n(t,i,r,o){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=aa.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=CT.NONE,this.name_=t,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=o}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ln.pendingReactions.push(this),h2())},e.runReaction_=function(){if(!this.isDisposed){xo(),this.isScheduled=!1;var i=Ln.trackingContext;if(Ln.trackingContext=this,W1(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}Ln.trackingContext=i,Co()}},e.track=function(i){if(!this.isDisposed){xo(),this.isRunning=!0;var r=Ln.trackingContext;Ln.trackingContext=this;var o=r2(this,i,void 0);Ln.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Q1(this),t_(o)&&this.reportExceptionInDerivation_(o.cause),Co()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(Ln.disableErrorBoundaries)throw i;var o="[mobx] uncaught error in '"+this+"'";Ln.suppressReactionErrors||console.error(o,i),Ln.globalReactionErrorHandlers.forEach(function(l){return l(i,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(xo(),Q1(this),Co()))},e.getDisposer_=function(i){var r=this,o=function l(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",l)};return i==null||i.addEventListener==null||i.addEventListener("abort",o),o[hi]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(o[Symbol.dispose]=o),o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},Gg(n,[{key:"isDisposed",get:function(){return Zs(this.flags_,n.isDisposedMask_)},set:function(i){this.flags_=Js(this.flags_,n.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return Zs(this.flags_,n.isScheduledMask_)},set:function(i){this.flags_=Js(this.flags_,n.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return Zs(this.flags_,n.isTrackPendingMask_)},set:function(i){this.flags_=Js(this.flags_,n.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return Zs(this.flags_,n.isRunningMask_)},set:function(i){this.flags_=Js(this.flags_,n.isRunningMask_,i)}},{key:"diffValue",get:function(){return Zs(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=Js(this.flags_,n.diffValueMask_,i===1)}}])})();hc.isDisposedMask_=1;hc.isScheduledMask_=2;hc.isTrackPendingMask_=4;hc.isRunningMask_=8;hc.diffValueMask_=16;var L$=100,X1=function(e){return e()};function h2(){Ln.inBatch>0||Ln.isRunningReactions||X1(M$)}function M$(){Ln.isRunningReactions=!0;for(var n=Ln.pendingReactions,e=0;n.length>0;){++e===L$&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),i=0,r=t.length;i<r;i++)t[i].runReaction_()}Ln.isRunningReactions=!1}var LT=fh("Reaction",hc);function N$(n){var e=X1;X1=function(i){return n(function(){return e(i)})}}function gy(){return!1}function O$(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var m2="action",P$="action.bound",g2="autoAction",U$="autoAction.bound",F$="<unnamed action>",Z1=fE(m2),B$=fE(P$,{bound:!0}),J1=fE(g2,{autoAction:!0}),z$=fE(U$,{autoAction:!0,bound:!0});function p2(n){var e=function(i,r){if(bl(i))return oh(i.name||F$,i,n);if(bl(r))return oh(i,r,n);if(dE(r))return(n?J1:Z1).decorate_20223_(i,r);if(ah(r))return cE(i,r,n?J1:Z1);if(ah(i))return pu(fE(n?g2:m2,{name:i,autoAction:n}))};return e}var og=p2(!1);Object.assign(og,Z1);var Ly=p2(!0);Object.assign(Ly,J1);og.bound=pu(B$);Ly.bound=pu(z$);function Cg(n){return bl(n)&&n.isMobxAction===!0}function $$(n,e){var t,i,r,o;e===void 0&&(e=qP);var l=(t=(i=e)==null?void 0:i.name)!=null?t:"Autorun",c=!e.scheduler&&!e.delay,f;if(c)f=new hc(l,function(){this.track(m)},e.onError,e.requiresObservable);else{var h=j$(e),g=!1;f=new hc(l,function(){g||(g=!0,h(function(){g=!1,f.isDisposed||f.track(m)}))},e.onError,e.requiresObservable)}function m(){n(f)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||f.schedule_(),f.getDisposer_((o=e)==null?void 0:o.signal)}var q$=function(e){return e()};function j$(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:q$}var H$="onBO",G$="onBUO";function V$(n,e,t){return y2(H$,n,e,t)}function v2(n,e,t){return y2(G$,n,e,t)}function y2(n,e,t,i){var r=OT(e),o=bl(i)?i:t,l=n+"L";return r[l]?r[l].add(o):r[l]=new Set([o]),function(){var c=r[l];c&&(c.delete(o),c.size===0&&delete r[l])}}var K$="never",m0="always",Y$="observed";function W$(n){n.isolateGlobalState===!0&&k$();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(Ln.useProxies=e===m0?!0:e===K$?!1:typeof Proxy<"u"),e==="ifavailable"&&(Ln.verifyProxies=!0),t!==void 0){var i=t===m0?m0:t===Y$;Ln.enforceActions=i,Ln.allowStateChanges=!(i===!0||i===m0)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in n&&(Ln[r]=!!n[r])}),Ln.allowStateReads=!Ln.observableRequiresReaction,n.reactionScheduler&&N$(n.reactionScheduler)}function E2(n,e,t,i){var r=D6(e);return qd(function(){var o=gh(n,i)[hi];xg(r).forEach(function(l){o.extend_(l,r[l],t&&l in t?t[l]:!0)})}),n}function Q$(n,e){return b2(OT(n,e))}function b2(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=X$(n.observing_).map(b2)),e}function X$(n){return Array.from(new Set(n))}var Z$=0;function _2(){this.message="FLOW_CANCELLED"}_2.prototype=Object.create(Error.prototype);var vw=ZP("flow"),J$=ZP("flow.bound",{bound:!0}),Dg=Object.assign(function(e,t){if(dE(t))return vw.decorate_20223_(e,t);if(ah(t))return cE(e,t,vw);var i=e,r=i.name||"<unnamed flow>",o=function(){var c=this,f=arguments,h=++Z$,g=og(r+" - runid: "+h+" - init",i).apply(c,f),m,p=void 0,y=new Promise(function(E,A){var w=0;m=A;function M(O){p=void 0;var z;try{z=og(r+" - runid: "+h+" - yield "+w++,g.next).call(g,O)}catch(se){return A(se)}C(z)}function x(O){p=void 0;var z;try{z=og(r+" - runid: "+h+" - yield "+w++,g.throw).call(g,O)}catch(se){return A(se)}C(z)}function C(O){if(bl(O?.then)){O.then(C,A);return}return O.done?E(O.value):(p=Promise.resolve(O.value),p.then(M,x))}M(void 0)});return y.cancel=og(r+" - runid: "+h+" - cancel",function(){try{p&&YD(p);var E=g.return(void 0),A=Promise.resolve(E.value);A.then(rg,rg),YD(A),m(new _2)}catch(w){m(w)}}),y};return o.isMobXFlow=!0,o},vw);Dg.bound=pu(J$);function YD(n){bl(n.cancel)&&n.cancel()}function My(n){return n?.isMobXFlow===!0}function e9(n,e){return n?zS(n)||!!n[hi]||ck(n)||LT(n)||FS(n):!1}function T2(n){return e9(n)}function ic(n,e){e===void 0&&(e=void 0),xo();try{return n.apply(e)}finally{Co()}}function Em(n){return n[hi]}var t9={has:function(e,t){return Em(e).has_(t)},get:function(e,t){return Em(e).get_(t)},set:function(e,t,i){var r;return ah(t)?(r=Em(e).set_(t,i,!0))!=null?r:!0:!1},deleteProperty:function(e,t){var i;return ah(t)?(i=Em(e).delete_(t,!0))!=null?i:!0:!1},defineProperty:function(e,t,i){var r;return(r=Em(e).defineProperty_(t,i))!=null?r:!0},ownKeys:function(e){return Em(e).ownKeys_()},preventExtensions:function(e){Qi(13)}};function n9(n,e){var t,i;return jP(),n=gh(n,e),(i=(t=n[hi]).proxy_)!=null?i:t.proxy_=new Proxy(n,t9)}function Ro(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function hE(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),HP(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function Io(n,e){var t=hh();try{for(var i=[].concat(n.interceptors_||[]),r=0,o=i.length;r<o&&(e=i[r](e),e&&!e.type&&Qi(14),!!e);r++);return e}finally{oc(t)}}function pl(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function mE(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),HP(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function vl(n,e){var t=hh(),i=n.changeListeners_;if(i){i=i.slice();for(var r=0,o=i.length;r<o;r++)i[r](e);oc(t)}}function i9(n,e,t){return qd(function(){var i,r=gh(n,t)[hi];(i=e)!=null||(e=P6(n)),xg(e).forEach(function(o){return r.make_(o,e[o])})}),n}var yw=Symbol("mobx-keys");function Ire(n,e,t){return fc(n)?E2(n,n,e,t):(qd(function(){var i=gh(n,t)[hi];if(!n[yw]){var r=Object.getPrototypeOf(n),o=new Set([].concat(xg(n),xg(r)));o.delete("constructor"),o.delete(hi),uE(r,yw,o)}n[yw].forEach(function(l){return i.make_(l,e&&l in e?e[l]:!0)})}),n)}var WD="splice",vu="update",a9=1e4,r9={get:function(e,t){var i=e[hi];return t===hi?i:t==="length"?i.getArrayLength_():typeof t=="string"&&!isNaN(t)?i.get_(parseInt(t)):sc(MT,t)?MT[t]:e[t]},set:function(e,t,i){var r=e[hi];return t==="length"&&r.setArrayLength_(i),typeof t=="symbol"||isNaN(t)?e[t]=i:r.set_(parseInt(t),i),!0},preventExtensions:function(){Qi(15)}},gk=(function(){function n(t,i,r,o){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=o,this.atom_=new $d(t),this.enhancer_=function(l,c){return i(l,c,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return hE(this,i)},e.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),mE(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Qi("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var o=new Array(i-r),l=0;l<i-r;l++)o[l]=void 0;this.spliceWithArray_(r,0,o)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&Qi(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&x2(i+r+1)},e.spliceWithArray_=function(i,r,o){var l=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),o===void 0&&(o=G1),Ro(this)){var f=Io(this,{object:this.proxy_,type:WD,index:i,removedCount:r,added:o});if(!f)return G1;r=f.removedCount,o=f.added}if(o=o.length===0?o:o.map(function(m){return l.enhancer_(m,void 0)}),this.legacyMode_){var h=o.length-r;this.updateArrayLength_(c,h)}var g=this.spliceItemsIntoValues_(i,r,o);return(r!==0||o.length!==0)&&this.notifyArraySplice_(i,o,g),this.dehanceValues_(g)},e.spliceItemsIntoValues_=function(i,r,o){if(o.length<a9){var l;return(l=this.values_).splice.apply(l,[i,r].concat(o))}else{var c=this.values_.slice(i,i+r),f=this.values_.slice(i+r);this.values_.length+=o.length-r;for(var h=0;h<o.length;h++)this.values_[i+h]=o[h];for(var g=0;g<f.length;g++)this.values_[i+o.length+g]=f[g];return c}},e.notifyArrayChildUpdate_=function(i,r,o){var l=!this.owned_&&gy(),c=pl(this),f=c||l?{observableKind:"array",object:this.proxy_,type:vu,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:o}:null;this.atom_.reportChanged(),c&&vl(this,f)},e.notifyArraySplice_=function(i,r,o){var l=!this.owned_&&gy(),c=pl(this),f=c||l?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:WD,index:i,removed:o,added:r,removedCount:o.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&vl(this,f)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,r){var o=this.values_;if(this.legacyMode_&&i>o.length&&Qi(17,i,o.length),i<o.length){this.atom_;var l=o[i];if(Ro(this)){var c=Io(this,{type:vu,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,l);var f=r!==l;f&&(o[i]=r,this.notifyArrayChildUpdate_(i,r,l))}else{for(var h=new Array(i+1-o.length),g=0;g<h.length-1;g++)h[g]=void 0;h[h.length-1]=r,this.spliceWithArray_(o.length,0,h)}},n})();function s9(n,e,t,i){return t===void 0&&(t="ObservableArray"),i===void 0&&(i=!1),jP(),qd(function(){var r=new gk(t,e,i,!1);VP(r.values_,hi,r);var o=new Proxy(r.values_,r9);return r.proxy_=o,n&&n.length&&r.spliceWithArray_(0,0,n),o})}var MT={clear:function(){return this.splice(0)},replace:function(e){var t=this[hi];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var l=this[hi];switch(arguments.length){case 0:return[];case 1:return l.spliceWithArray_(e);case 2:return l.spliceWithArray_(e,t)}return l.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,i){return this[hi].spliceWithArray_(e,t,i)},push:function(){for(var e=this[hi],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[hi].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[hi],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return Ln.trackingDerivation&&Qi(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ln.trackingDerivation&&Qi(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[hi],i=t.dehanceValues_(t.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};Ma("at",to);Ma("concat",to);Ma("flat",to);Ma("includes",to);Ma("indexOf",to);Ma("join",to);Ma("lastIndexOf",to);Ma("slice",to);Ma("toString",to);Ma("toLocaleString",to);Ma("toSorted",to);Ma("toSpliced",to);Ma("with",to);Ma("every",Sl);Ma("filter",Sl);Ma("find",Sl);Ma("findIndex",Sl);Ma("findLast",Sl);Ma("findLastIndex",Sl);Ma("flatMap",Sl);Ma("forEach",Sl);Ma("map",Sl);Ma("some",Sl);Ma("toReversed",Sl);Ma("reduce",S2);Ma("reduceRight",S2);function Ma(n,e){typeof Array.prototype[n]=="function"&&(MT[n]=e(n))}function to(n){return function(){var e=this[hi];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function Sl(n){return function(e,t){var i=this,r=this[hi];r.atom_.reportObserved();var o=r.dehanceValues_(r.values_);return o[n](function(l,c){return e.call(t,l,c,i)})}}function S2(n){return function(){var e=this,t=this[hi];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_),r=arguments[0];return arguments[0]=function(o,l,c){return r(o,l,c,e)},i[n].apply(i,arguments)}}var o9=fh("ObservableArrayAdministration",gk);function BS(n){return NS(n)&&o9(n[hi])}var l9={},Ld="add",NT="delete",A2=(function(){function n(t,i,r){var o=this;i===void 0&&(i=sh),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[hi]=l9,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,bl(Map)||Qi(18),qd(function(){o.keysAtom_=QP("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,t&&o.merge(t)})}var e=n.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!Ln.trackingDerivation)return this.has_(i);var o=this.hasMap_.get(i);if(!o){var l=o=new Yf(this.has_(i),OS,"ObservableMap.key?",!1);this.hasMap_.set(i,l),v2(l,function(){return r.hasMap_.delete(i)})}return o.get()},e.set=function(i,r){var o=this.has_(i);if(Ro(this)){var l=Io(this,{type:o?vu:Ld,object:this,newValue:r,name:i});if(!l)return this;r=l.newValue}return o?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(this.keysAtom_,Ro(this)){var o=Io(this,{type:NT,object:this,name:i});if(!o)return!1}if(this.has_(i)){var l=gy(),c=pl(this),f=c||l?{observableKind:"map",debugObjectName:this.name_,type:NT,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return ic(function(){var h;r.keysAtom_.reportChanged(),(h=r.hasMap_.get(i))==null||h.setNewValue_(!1);var g=r.data_.get(i);g.setNewValue_(void 0),r.data_.delete(i)}),c&&vl(this,f),!0}return!1},e.updateValue_=function(i,r){var o=this.data_.get(i);if(r=o.prepareNewValue_(r),r!==Ln.UNCHANGED){var l=gy(),c=pl(this),f=c||l?{observableKind:"map",debugObjectName:this.name_,type:vu,object:this,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&vl(this,f)}},e.addValue_=function(i,r){var o=this;this.keysAtom_,ic(function(){var h,g=new Yf(r,o.enhancer_,"ObservableMap.key",!1);o.data_.set(i,g),r=g.value_,(h=o.hasMap_.get(i))==null||h.setNewValue_(!0),o.keysAtom_.reportChanged()});var l=gy(),c=pl(this),f=c||l?{observableKind:"map",debugObjectName:this.name_,type:Ld,object:this,name:i,newValue:r}:null;c&&vl(this,f)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return QD({next:function(){var l=r.next(),c=l.done,f=l.value;return{done:c,value:c?void 0:i.get(f)}}})},e.entries=function(){var i=this,r=this.keys();return QD({next:function(){var l=r.next(),c=l.done,f=l.value;return{done:c,value:c?void 0:[f,i.get(f)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,r){for(var o=sg(this),l;!(l=o()).done;){var c=l.value,f=c[0],h=c[1];i.call(r,h,f,this)}},e.merge=function(i){var r=this;return mh(i)&&(i=new Map(i)),ic(function(){fc(i)?C6(i).forEach(function(o){return r.set(o,i[o])}):Array.isArray(i)?i.forEach(function(o){var l=o[0],c=o[1];return r.set(l,c)}):Hg(i)?(x6(i)||Qi(19,i),i.forEach(function(o,l){return r.set(l,o)})):i!=null&&Qi(20,i)}),this},e.clear=function(){var i=this;ic(function(){s2(function(){for(var r=sg(i.keys()),o;!(o=r()).done;){var l=o.value;i.delete(l)}})})},e.replace=function(i){var r=this;return ic(function(){for(var o=u9(i),l=new Map,c=!1,f=sg(r.data_.keys()),h;!(h=f()).done;){var g=h.value;if(!o.has(g)){var m=r.delete(g);if(m)c=!0;else{var p=r.data_.get(g);l.set(g,p)}}}for(var y=sg(o.entries()),E;!(E=y()).done;){var A=E.value,w=A[0],M=A[1],x=r.data_.has(w);if(r.set(w,M),r.data_.has(w)){var C=r.data_.get(w);l.set(w,C),x||(c=!0)}}if(!c)if(r.data_.size!==l.size)r.keysAtom_.reportChanged();else for(var O=r.data_.keys(),z=l.keys(),se=O.next(),F=z.next();!se.done;){if(se.value!==F.value){r.keysAtom_.reportChanged();break}se=O.next(),F=z.next()}r.data_=l}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return mE(this,i)},e.intercept_=function(i){return hE(this,i)},Gg(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),mh=fh("ObservableMap",A2);function QD(n){return n[Symbol.toStringTag]="MapIterator",vk(n)}function u9(n){if(Hg(n)||mh(n))return n;if(Array.isArray(n))return new Map(n);if(fc(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return Qi(21,n)}var c9={},w2=(function(){function n(t,i,r){var o=this;i===void 0&&(i=sh),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[hi]=c9,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,bl(Set)||Qi(22),this.enhancer_=function(l,c){return i(l,c,r)},qd(function(){o.atom_=QP(o.name_),t&&o.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;ic(function(){s2(function(){for(var r=sg(i.data_.values()),o;!(o=r()).done;){var l=o.value;i.delete(l)}})})},e.forEach=function(i,r){for(var o=sg(this),l;!(l=o()).done;){var c=l.value;i.call(r,c,c,this)}},e.add=function(i){var r=this;if(this.atom_,Ro(this)){var o=Io(this,{type:Ld,object:this,newValue:i});if(!o)return this;i=o.newValue}if(!this.has(i)){ic(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var l=!1,c=pl(this),f=c||l?{observableKind:"set",debugObjectName:this.name_,type:Ld,object:this,newValue:i}:null;c&&vl(this,f)}return this},e.delete=function(i){var r=this;if(Ro(this)){var o=Io(this,{type:NT,object:this,oldValue:i});if(!o)return!1}if(this.has(i)){var l=!1,c=pl(this),f=c||l?{observableKind:"set",debugObjectName:this.name_,type:NT,object:this,oldValue:i}:null;return ic(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&vl(this,f),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return XD({next:function(){var o=i.next(),l=o.value,c=o.done;return c?{value:void 0,done:c}:{value:[l,l],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=this.data_.values();return XD({next:function(){var l=r.next(),c=l.value,f=l.done;return f?{value:void 0,done:f}:{value:i.dehanceValue_(c),done:f}}})},e.intersection=function(i){if(nc(i)&&!su(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},e.union=function(i){if(nc(i)&&!su(i))return i.union(this);var r=new Set(this);return r.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(nc(i)&&!su(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(nc(i)&&!su(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},e.replace=function(i){var r=this;return su(i)&&(i=new Set(i)),ic(function(){Array.isArray(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):nc(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):i!=null&&Qi("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return mE(this,i)},e.intercept_=function(i){return hE(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Gg(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),su=fh("ObservableSet",w2);function XD(n){return n[Symbol.toStringTag]="SetIterator",vk(n)}var ZD=Object.create(null),JD="remove",R2=(function(){function n(t,i,r,o){i===void 0&&(i=new Map),o===void 0&&(o=s$),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=i,this.name_=r,this.defaultAnnotation_=o,this.keysAtom_=new $d("ObservableObject.keys"),this.isPlainObject_=fc(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var o=this.values_.get(i);if(o instanceof _l)return o.set(r),!0;if(Ro(this)){var l=Io(this,{type:vu,object:this.proxy_||this.target_,name:i,newValue:r});if(!l)return null;r=l.newValue}if(r=o.prepareNewValue_(r),r!==Ln.UNCHANGED){var c=pl(this),f=!1,h=c||f?{type:vu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&vl(this,h)}return!0},e.get_=function(i){return Ln.trackingDerivation&&!sc(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,o){return o===void 0&&(o=!1),sc(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):o?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(i){if(!Ln.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new Yf(i in this.target_,OS,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var o;if((o=this.target_[uu])!=null&&o[i])return;Qi(1,r.annotationType_,this.name_+"."+i.toString())}for(var l=this.target_;l&&l!==MS;){var c=IT(l,i);if(c){var f=r.make_(this,i,c,l);if(f===0)return;if(f===1)break}l=Object.getPrototypeOf(l)}tL(this,r,i)}},e.extend_=function(i,r,o,l){if(l===void 0&&(l=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(i,r,l);var c=o.extend_(this,i,r,l);return c&&tL(this,o,i),c},e.defineProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{xo();var l=this.delete_(i);if(!l)return l;if(Ro(this)){var c=Io(this,{object:this.proxy_||this.target_,name:i,type:Ld,newValue:r.value});if(!c)return null;var f=c.newValue;r.value!==f&&(r=rh({},r,{value:f}))}if(o){if(!Reflect.defineProperty(this.target_,i,r))return!1}else gu(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{Co()}return!0},e.defineObservableProperty_=function(i,r,o,l){l===void 0&&(l=!1),this.keysAtom_;try{xo();var c=this.delete_(i);if(!c)return c;if(Ro(this)){var f=Io(this,{object:this.proxy_||this.target_,name:i,type:Ld,newValue:r});if(!f)return null;r=f.newValue}var h=eL(i),g={configurable:Ln.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:h.get,set:h.set};if(l){if(!Reflect.defineProperty(this.target_,i,g))return!1}else gu(this.target_,i,g);var m=new Yf(r,o,"ObservableObject.key",!1);this.values_.set(i,m),this.notifyPropertyAddition_(i,m.value_)}finally{Co()}return!0},e.defineComputedProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{xo();var l=this.delete_(i);if(!l)return l;if(Ro(this)){var c=Io(this,{object:this.proxy_||this.target_,name:i,type:Ld,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var f=eL(i),h={configurable:Ln.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:f.get,set:f.set};if(o){if(!Reflect.defineProperty(this.target_,i,h))return!1}else gu(this.target_,i,h);this.values_.set(i,new _l(r)),this.notifyPropertyAddition_(i,void 0)}finally{Co()}return!0},e.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!sc(this.target_,i))return!0;if(Ro(this)){var o=Io(this,{object:this.proxy_||this.target_,name:i,type:JD});if(!o)return null}try{var l;xo();var c=pl(this),f=!1,h=this.values_.get(i),g=void 0;if(!h&&(c||f)){var m;g=(m=IT(this.target_,i))==null?void 0:m.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(h&&(this.values_.delete(i),h instanceof Yf&&(g=h.value_),f2(h)),this.keysAtom_.reportChanged(),(l=this.pendingKeys_)==null||(l=l.get(i))==null||l.set(i in this.target_),c||f){var p={type:JD,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:g,name:i};c&&vl(this,p)}}finally{Co()}return!0},e.observe_=function(i,r){return mE(this,i)},e.intercept_=function(i){return hE(this,i)},e.notifyPropertyAddition_=function(i,r){var o,l=pl(this),c=!1;if(l||c){var f=l||c?{type:Ld,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;l&&vl(this,f)}(o=this.pendingKeys_)==null||(o=o.get(i))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),xg(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n})();function gh(n,e){var t;if(sc(n,hi))return n;var i=(t=e?.name)!=null?t:"ObservableObject",r=new R2(n,new Map,String(i),v$(e));return uE(n,hi,r),n}var d9=fh("ObservableObjectAdministration",R2);function eL(n){return ZD[n]||(ZD[n]={get:function(){return this[hi].getObservablePropValue_(n)},set:function(t){return this[hi].setObservablePropValue_(n,t)}})}function zS(n){return NS(n)?d9(n[hi]):!1}function tL(n,e,t){var i;(i=n.target_[uu])==null||delete i[t]}var f9=k2(0),h9=(function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1})(),Ew=0,I2=function(){};function m9(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}m9(I2,Array.prototype);var pk=(function(n){function e(i,r,o,l){var c;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),c=n.call(this)||this,qd(function(){var f=new gk(o,r,l,!0);f.proxy_=c,VP(c,hi,f),i&&i.length&&c.spliceWithArray(0,0,i),h9&&Object.defineProperty(c,"0",f9)}),c}WP(e,n);var t=e.prototype;return t.concat=function(){this[hi].atom_.reportObserved();for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return BS(c)?c.slice():c}))},t[Symbol.iterator]=function(){var i=this,r=0;return vk({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},Gg(e,[{key:"length",get:function(){return this[hi].getArrayLength_()},set:function(r){this[hi].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(I2);Object.entries(MT).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&uE(pk.prototype,e,t)});function k2(n){return{enumerable:!1,configurable:!0,get:function(){return this[hi].get_(n)},set:function(t){this[hi].set_(n,t)}}}function g9(n){gu(pk.prototype,""+n,k2(n))}function x2(n){if(n>Ew){for(var e=Ew;e<n+100;e++)g9(e);Ew=n}}x2(1e3);function p9(n,e,t){return new pk(n,e,t)}function OT(n,e){if(typeof n=="object"&&n!==null){if(BS(n))return e!==void 0&&Qi(23),n[hi].atom_;if(su(n))return n.atom_;if(mh(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||Qi(25,e,eR(n)),t}if(zS(n)){if(!e)return Qi(26);var i=n[hi].values_.get(e);return i||Qi(27,e,eR(n)),i}if(ck(n)||FS(n)||LT(n))return n}else if(bl(n)&&LT(n[hi]))return n[hi];Qi(28)}function v9(n,e){if(n||Qi(29),ck(n)||FS(n)||LT(n)||mh(n)||su(n))return n;if(n[hi])return n[hi];Qi(24,n)}function eR(n,e){var t;if(e!==void 0)t=OT(n,e);else{if(Cg(n))return n.name;zS(n)||mh(n)||su(n)?t=v9(n):t=OT(n)}return t.name_}function qd(n){var e=hh(),t=fk(!0);xo();try{return n()}finally{Co(),hk(t),oc(e)}}var nL=MS.toString;function C2(n,e,t){return t===void 0&&(t=-1),tR(n,e,t)}function tR(n,e,t,i,r){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var o=typeof n;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var l=nL.call(n);if(l!==nL.call(e))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=iL(n),e=iL(e);var c=l==="[object Array]";if(!c){if(typeof n!="object"||typeof e!="object")return!1;var f=n.constructor,h=e.constructor;if(f!==h&&!(bl(f)&&f instanceof f&&bl(h)&&h instanceof h)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),i=i||[],r=r||[];for(var g=i.length;g--;)if(i[g]===n)return r[g]===e;if(i.push(n),r.push(e),c){if(g=n.length,g!==e.length)return!1;for(;g--;)if(!tR(n[g],e[g],t-1,i,r))return!1}else{var m=Object.keys(n),p=m.length;if(Object.keys(e).length!==p)return!1;for(var y=0;y<p;y++){var E=m[y];if(!(sc(e,E)&&tR(n[E],e[E],t-1,i,r)))return!1}}return i.pop(),r.pop(),!0}function iL(n){return BS(n)?n.slice():Hg(n)||mh(n)||nc(n)||su(n)?Array.from(n.entries()):n}var aL,y9=((aL=LS().Iterator)==null?void 0:aL.prototype)||{};function vk(n){return n[Symbol.iterator]=E9,Object.assign(Object.create(y9),n)}function E9(){return this}["Symbol","Map","Set"].forEach(function(n){var e=LS();typeof e[n]>"u"&&Qi("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:O$,extras:{getDebugName:eR},$mobx:hi});if(!At.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i9)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function b9(n){n()}function _9(n){n||(n=b9),W$({reactionScheduler:n})}function T9(n){return Q$(n)}var S9=1e4,A9=1e4,w9=(function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=S9),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var r=Date.now();t.registrations.forEach(function(o,l){r-o.registeredAt>=i&&(t.finalize(o.value),t.registrations.delete(l))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.registrations.set(i,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,A9))}}),n})(),R9=typeof FinalizationRegistry<"u"?FinalizationRegistry:w9,nR=new R9(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),bw={exports:{}},_w={};var rL;function I9(){if(rL)return _w;rL=1;var n=RS();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(m,p){var y=p(),E=i({inst:{value:y,getSnapshot:p}}),A=E[0].inst,w=E[1];return o(function(){A.value=y,A.getSnapshot=p,f(A)&&w({inst:A})},[m,y,p]),r(function(){return f(A)&&w({inst:A}),m(function(){f(A)&&w({inst:A})})},[m]),l(y),y}function f(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!t(m,y)}catch{return!0}}function h(m,p){return p()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return _w.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,_w}var sL;function k9(){return sL||(sL=1,bw.exports=I9()),bw.exports}var x9=k9();function oL(n){n.reaction=new hc("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function C9(n,e){e===void 0&&(e="observed");var t=Gi.useRef(null);if(!t.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return nR.unregister(i),i.onStoreChange=c,i.reaction||(oL(i),i.stateVersion=Symbol()),function(){var f;i.onStoreChange=null,(f=i.reaction)===null||f===void 0||f.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};t.current=i}var r=t.current;r.reaction||(oL(r),nR.register(t,r,r)),Gi.useDebugValue(r.reaction,T9),x9.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var o,l;if(r.reaction.track(function(){try{o=n()}catch(c){l=c}}),l)throw l;return o}var Tw,Sw,D2=typeof Symbol=="function"&&Symbol.for,D9=(Sw=(Tw=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Tw===void 0?void 0:Tw.configurable)!==null&&Sw!==void 0?Sw:!1,lL=D2?Symbol.for("react.forward_ref"):typeof At.forwardRef=="function"&&At.forwardRef(function(n){return null}).$$typeof,uL=D2?Symbol.for("react.memo"):typeof At.memo=="function"&&At.memo(function(n){return null}).$$typeof;function kre(n,e){var t;if(uL&&n.$$typeof===uL)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(t=void 0)!==null&&t!==void 0?t:!1,r=n,o=n.displayName||n.name;if(lL&&n.$$typeof===lL&&(i=!0,r=n.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var l=function(c,f){return C9(function(){return r(c,f)},o)};return l.displayName=n.displayName,D9&&Object.defineProperty(l,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(l.contextTypes=n.contextTypes),i&&(l=At.forwardRef(l)),l=At.memo(l),M9(n,l),l}var L9={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function M9(n,e){Object.keys(n).forEach(function(t){L9[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var Aw;_9($5.unstable_batchedUpdates);Aw=nR.finalizeAllImmediately;var g0={},cL;function N9(){if(cL)return g0;cL=1,g0.match=o,g0.parse=l;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,r=/(dpi|dpcm|dppx)?$/;function o(g,m){return l(g).some(function(p){var y=p.inverse,E=p.type==="all"||m.type===p.type;if(E&&y||!(E||y))return!1;var A=p.expressions.every(function(w){var M=w.feature,x=w.modifier,C=w.value,O=m[M];if(!O)return!1;switch(M){case"orientation":case"scan":return O.toLowerCase()===C.toLowerCase();case"width":case"height":case"device-width":case"device-height":C=h(C),O=h(O);break;case"resolution":C=f(C),O=f(O);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":C=c(C),O=c(O);break;case"grid":case"color":case"color-index":case"monochrome":C=parseInt(C,10)||1,O=parseInt(O,10)||0;break}switch(x){case"min":return O>=C;case"max":return O<=C;default:return O===C}});return A&&!y||!A&&y})}function l(g){return g.split(",").map(function(m){m=m.trim();var p=m.match(n),y=p[1],E=p[2],A=p[3]||"",w={};return w.inverse=!!y&&y.toLowerCase()==="not",w.type=E?E.toLowerCase():"all",A=A.match(/\([^\)]+\)/g)||[],w.expressions=A.map(function(M){var x=M.match(e),C=x[1].toLowerCase().match(t);return{modifier:C[1],feature:C[2],value:x[2]}}),w})}function c(g){var m=Number(g),p;return m||(p=g.match(/^(\d+)\s*\/\s*(\d+)$/),m=p[1]/p[2]),m}function f(g){var m=parseFloat(g),p=String(g).match(r)[1];switch(p){case"dpcm":return m/2.54;case"dppx":return m*96;default:return m}}function h(g){var m=parseFloat(g),p=String(g).match(i)[1];switch(p){case"em":return m*16;case"rem":return m*16;case"cm":return m*96/2.54;case"mm":return m*96/2.54/10;case"in":return m*96;case"pt":return m*72;case"pc":return m*72/12;default:return m}}return g0}var ww,dL;function O9(){if(dL)return ww;dL=1;var n=N9().match,e=typeof window<"u"?window.matchMedia:null;function t(r,o,l){var c=this,f;e&&!l&&(f=e.call(window,r)),f?(this.matches=f.matches,this.media=f.media,f.addListener(m)):(this.matches=n(r,o),this.media=r),this.addListener=h,this.removeListener=g,this.dispose=p;function h(y){f&&f.addListener(y)}function g(y){f&&f.removeListener(y)}function m(y){c.matches=y.matches,c.media=y.media}function p(){f&&f.removeListener(m)}}function i(r,o,l){return new t(r,o,l)}return ww=i,ww}var P9=O9();const U9=rE(P9);var F9=/[A-Z]/g,B9=/^ms-/,Rw={};function z9(n){return"-"+n.toLowerCase()}function L2(n){if(Rw.hasOwnProperty(n))return Rw[n];var e=n.replace(F9,z9);return Rw[n]=B9.test(e)?"-"+e:e}function $9(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),i=Object.keys(e),r=t.length;if(i.length!==r)return!1;for(let o=0;o<r;o++){const l=t[o];if(n[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}var Iw={exports:{}},kw,fL;function q9(){if(fL)return kw;fL=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kw=n,kw}var xw,hL;function j9(){if(hL)return xw;hL=1;var n=q9();function e(){}function t(){}return t.resetWarningCache=e,xw=function(){function i(l,c,f,h,g,m){if(m!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},xw}var mL;function H9(){return mL||(mL=1,Iw.exports=j9()()),Iw.exports}var G9=H9();const la=rE(G9),vs=la.oneOfType([la.string,la.number]),M2={all:la.bool,grid:la.bool,aural:la.bool,braille:la.bool,handheld:la.bool,print:la.bool,projection:la.bool,screen:la.bool,tty:la.bool,tv:la.bool,embossed:la.bool},V9={orientation:la.oneOf(["portrait","landscape"]),scan:la.oneOf(["progressive","interlace"]),aspectRatio:la.string,deviceAspectRatio:la.string,height:vs,deviceHeight:vs,width:vs,deviceWidth:vs,color:la.bool,colorIndex:la.bool,monochrome:la.bool,resolution:vs,type:Object.keys(M2)},{type:xre,...K9}=V9,Y9={minAspectRatio:la.string,maxAspectRatio:la.string,minDeviceAspectRatio:la.string,maxDeviceAspectRatio:la.string,minHeight:vs,maxHeight:vs,minDeviceHeight:vs,maxDeviceHeight:vs,minWidth:vs,maxWidth:vs,minDeviceWidth:vs,maxDeviceWidth:vs,minColor:la.number,maxColor:la.number,minColorIndex:la.number,maxColorIndex:la.number,minMonochrome:la.number,maxMonochrome:la.number,minResolution:vs,maxResolution:vs,...K9},W9={...M2,...Y9};var Q9={all:W9};const X9=n=>`not ${n}`,Z9=(n,e)=>{const t=L2(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?X9(t):`(${t}: ${e})`},J9=n=>n.join(" and "),eq=n=>{const e=[];return Object.keys(Q9.all).forEach(t=>{const i=n[t];i!=null&&e.push(Z9(t,i))}),J9(e)},tq=At.createContext(void 0),nq=n=>n.query||eq(n),gL=n=>n?Object.keys(n).reduce((t,i)=>(t[L2(i)]=n[i],t),{}):void 0,N2=()=>{const n=At.useRef(!1);return At.useEffect(()=>{n.current=!0},[]),n.current},iq=n=>{const e=At.useContext(tq),t=()=>gL(n)||gL(e),[i,r]=At.useState(t);return At.useEffect(()=>{const o=t();$9(i,o)||r(o)},[n,e]),i},aq=n=>{const e=()=>nq(n),[t,i]=At.useState(e);return At.useEffect(()=>{const r=e();t!==r&&i(r)},[n]),t},rq=(n,e)=>{const t=()=>U9(n,e||{},!!e),[i,r]=At.useState(t),o=N2();return At.useEffect(()=>{if(o){const l=t();return r(l),()=>{l&&l.dispose()}}},[n,e]),i},sq=n=>{const[e,t]=At.useState(n.matches);return At.useEffect(()=>{const i=r=>{t(r.matches)};return n.addListener(i),t(n.matches),()=>{n.removeListener(i)}},[n]),e},Cre=(n,e,t)=>{const i=iq(e),r=aq(n);if(!r)throw new Error("Invalid or missing MediaQuery!");const o=rq(r,i),l=sq(o);return N2(),At.useEffect(()=>{},[l]),At.useEffect(()=>()=>{o&&o.dispose()},[]),l};var a_={exports:{}},oq=a_.exports,pL;function lq(){return pL||(pL=1,(function(n,e){(function(t,i){n.exports=i()})(oq,(function(){var t=1e3,i=6e4,r=36e5,o="millisecond",l="second",c="minute",f="hour",h="day",g="week",m="month",p="quarter",y="year",E="date",A="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(He){var Ue=["th","st","nd","rd"],he=He%100;return"["+He+(Ue[(he-20)%10]||Ue[he]||Ue[0])+"]"}},C=function(He,Ue,he){var $e=String(He);return!$e||$e.length>=Ue?He:""+Array(Ue+1-$e.length).join(he)+He},O={s:C,z:function(He){var Ue=-He.utcOffset(),he=Math.abs(Ue),$e=Math.floor(he/60),Ye=he%60;return(Ue<=0?"+":"-")+C($e,2,"0")+":"+C(Ye,2,"0")},m:function He(Ue,he){if(Ue.date()<he.date())return-He(he,Ue);var $e=12*(he.year()-Ue.year())+(he.month()-Ue.month()),Ye=Ue.clone().add($e,m),tt=he-Ye<0,rt=Ue.clone().add($e+(tt?-1:1),m);return+(-($e+(he-Ye)/(tt?Ye-rt:rt-Ye))||0)},a:function(He){return He<0?Math.ceil(He)||0:Math.floor(He)},p:function(He){return{M:m,y,w:g,d:h,D:E,h:f,m:c,s:l,ms:o,Q:p}[He]||String(He||"").toLowerCase().replace(/s$/,"")},u:function(He){return He===void 0}},z="en",se={};se[z]=x;var F="$isDayjsObject",H=function(He){return He instanceof Ve||!(!He||!He[F])},be=function He(Ue,he,$e){var Ye;if(!Ue)return z;if(typeof Ue=="string"){var tt=Ue.toLowerCase();se[tt]&&(Ye=tt),he&&(se[tt]=he,Ye=tt);var rt=Ue.split("-");if(!Ye&&rt.length>1)return He(rt[0])}else{var De=Ue.name;se[De]=Ue,Ye=De}return!$e&&Ye&&(z=Ye),Ye||!$e&&z},Ae=function(He,Ue){if(H(He))return He.clone();var he=typeof Ue=="object"?Ue:{};return he.date=He,he.args=arguments,new Ve(he)},Me=O;Me.l=be,Me.i=H,Me.w=function(He,Ue){return Ae(He,{locale:Ue.$L,utc:Ue.$u,x:Ue.$x,$offset:Ue.$offset})};var Ve=(function(){function He(he){this.$L=be(he.locale,null,!0),this.parse(he),this.$x=this.$x||he.x||{},this[F]=!0}var Ue=He.prototype;return Ue.parse=function(he){this.$d=(function($e){var Ye=$e.date,tt=$e.utc;if(Ye===null)return new Date(NaN);if(Me.u(Ye))return new Date;if(Ye instanceof Date)return new Date(Ye);if(typeof Ye=="string"&&!/Z$/i.test(Ye)){var rt=Ye.match(w);if(rt){var De=rt[2]-1||0,We=(rt[7]||"0").substring(0,3);return tt?new Date(Date.UTC(rt[1],De,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,We)):new Date(rt[1],De,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,We)}}return new Date(Ye)})(he),this.init()},Ue.init=function(){var he=this.$d;this.$y=he.getFullYear(),this.$M=he.getMonth(),this.$D=he.getDate(),this.$W=he.getDay(),this.$H=he.getHours(),this.$m=he.getMinutes(),this.$s=he.getSeconds(),this.$ms=he.getMilliseconds()},Ue.$utils=function(){return Me},Ue.isValid=function(){return this.$d.toString()!==A},Ue.isSame=function(he,$e){var Ye=Ae(he);return this.startOf($e)<=Ye&&Ye<=this.endOf($e)},Ue.isAfter=function(he,$e){return Ae(he)<this.startOf($e)},Ue.isBefore=function(he,$e){return this.endOf($e)<Ae(he)},Ue.$g=function(he,$e,Ye){return Me.u(he)?this[$e]:this.set(Ye,he)},Ue.unix=function(){return Math.floor(this.valueOf()/1e3)},Ue.valueOf=function(){return this.$d.getTime()},Ue.startOf=function(he,$e){var Ye=this,tt=!!Me.u($e)||$e,rt=Me.p(he),De=function(ee,P){var G=Me.w(Ye.$u?Date.UTC(Ye.$y,P,ee):new Date(Ye.$y,P,ee),Ye);return tt?G:G.endOf(h)},We=function(ee,P){return Me.w(Ye.toDate()[ee].apply(Ye.toDate("s"),(tt?[0,0,0,0]:[23,59,59,999]).slice(P)),Ye)},ct=this.$W,It=this.$M,Fe=this.$D,ze="set"+(this.$u?"UTC":"");switch(rt){case y:return tt?De(1,0):De(31,11);case m:return tt?De(1,It):De(0,It+1);case g:var pt=this.$locale().weekStart||0,re=(ct<pt?ct+7:ct)-pt;return De(tt?Fe-re:Fe+(6-re),It);case h:case E:return We(ze+"Hours",0);case f:return We(ze+"Minutes",1);case c:return We(ze+"Seconds",2);case l:return We(ze+"Milliseconds",3);default:return this.clone()}},Ue.endOf=function(he){return this.startOf(he,!1)},Ue.$set=function(he,$e){var Ye,tt=Me.p(he),rt="set"+(this.$u?"UTC":""),De=(Ye={},Ye[h]=rt+"Date",Ye[E]=rt+"Date",Ye[m]=rt+"Month",Ye[y]=rt+"FullYear",Ye[f]=rt+"Hours",Ye[c]=rt+"Minutes",Ye[l]=rt+"Seconds",Ye[o]=rt+"Milliseconds",Ye)[tt],We=tt===h?this.$D+($e-this.$W):$e;if(tt===m||tt===y){var ct=this.clone().set(E,1);ct.$d[De](We),ct.init(),this.$d=ct.set(E,Math.min(this.$D,ct.daysInMonth())).$d}else De&&this.$d[De](We);return this.init(),this},Ue.set=function(he,$e){return this.clone().$set(he,$e)},Ue.get=function(he){return this[Me.p(he)]()},Ue.add=function(he,$e){var Ye,tt=this;he=Number(he);var rt=Me.p($e),De=function(It){var Fe=Ae(tt);return Me.w(Fe.date(Fe.date()+Math.round(It*he)),tt)};if(rt===m)return this.set(m,this.$M+he);if(rt===y)return this.set(y,this.$y+he);if(rt===h)return De(1);if(rt===g)return De(7);var We=(Ye={},Ye[c]=i,Ye[f]=r,Ye[l]=t,Ye)[rt]||1,ct=this.$d.getTime()+he*We;return Me.w(ct,this)},Ue.subtract=function(he,$e){return this.add(-1*he,$e)},Ue.format=function(he){var $e=this,Ye=this.$locale();if(!this.isValid())return Ye.invalidDate||A;var tt=he||"YYYY-MM-DDTHH:mm:ssZ",rt=Me.z(this),De=this.$H,We=this.$m,ct=this.$M,It=Ye.weekdays,Fe=Ye.months,ze=Ye.meridiem,pt=function(P,G,ve,ce){return P&&(P[G]||P($e,tt))||ve[G].slice(0,ce)},re=function(P){return Me.s(De%12||12,P,"0")},ee=ze||function(P,G,ve){var ce=P<12?"AM":"PM";return ve?ce.toLowerCase():ce};return tt.replace(M,(function(P,G){return G||(function(ve){switch(ve){case"YY":return String($e.$y).slice(-2);case"YYYY":return Me.s($e.$y,4,"0");case"M":return ct+1;case"MM":return Me.s(ct+1,2,"0");case"MMM":return pt(Ye.monthsShort,ct,Fe,3);case"MMMM":return pt(Fe,ct);case"D":return $e.$D;case"DD":return Me.s($e.$D,2,"0");case"d":return String($e.$W);case"dd":return pt(Ye.weekdaysMin,$e.$W,It,2);case"ddd":return pt(Ye.weekdaysShort,$e.$W,It,3);case"dddd":return It[$e.$W];case"H":return String(De);case"HH":return Me.s(De,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return ee(De,We,!0);case"A":return ee(De,We,!1);case"m":return String(We);case"mm":return Me.s(We,2,"0");case"s":return String($e.$s);case"ss":return Me.s($e.$s,2,"0");case"SSS":return Me.s($e.$ms,3,"0");case"Z":return rt}return null})(P)||rt.replace(":","")}))},Ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ue.diff=function(he,$e,Ye){var tt,rt=this,De=Me.p($e),We=Ae(he),ct=(We.utcOffset()-this.utcOffset())*i,It=this-We,Fe=function(){return Me.m(rt,We)};switch(De){case y:tt=Fe()/12;break;case m:tt=Fe();break;case p:tt=Fe()/3;break;case g:tt=(It-ct)/6048e5;break;case h:tt=(It-ct)/864e5;break;case f:tt=It/r;break;case c:tt=It/i;break;case l:tt=It/t;break;default:tt=It}return Ye?tt:Me.a(tt)},Ue.daysInMonth=function(){return this.endOf(m).$D},Ue.$locale=function(){return se[this.$L]},Ue.locale=function(he,$e){if(!he)return this.$L;var Ye=this.clone(),tt=be(he,$e,!0);return tt&&(Ye.$L=tt),Ye},Ue.clone=function(){return Me.w(this.$d,this)},Ue.toDate=function(){return new Date(this.valueOf())},Ue.toJSON=function(){return this.isValid()?this.toISOString():null},Ue.toISOString=function(){return this.$d.toISOString()},Ue.toString=function(){return this.$d.toUTCString()},He})(),Se=Ve.prototype;return Ae.prototype=Se,[["$ms",o],["$s",l],["$m",c],["$H",f],["$W",h],["$M",m],["$y",y],["$D",E]].forEach((function(He){Se[He[1]]=function(Ue){return this.$g(Ue,He[0],He[1])}})),Ae.extend=function(He,Ue){return He.$i||(He(Ue,Ve,Ae),He.$i=!0),Ae},Ae.locale=be,Ae.isDayjs=H,Ae.unix=function(He){return Ae(1e3*He)},Ae.en=se[z],Ae.Ls=se,Ae.p={},Ae}))})(a_)),a_.exports}var uq=lq();const Dre=rE(uq);const O2=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();const cq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const dq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());const vL=n=>{const e=dq(n);return e.charAt(0).toUpperCase()+e.slice(1)};var fq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hq=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const mq=At.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...c},f)=>At.createElement("svg",{ref:f,...fq,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:O2("lucide",r),...!o&&!hq(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,g])=>At.createElement(h,g)),...Array.isArray(o)?o:[o]]));const Na=(n,e)=>{const t=At.forwardRef(({className:i,...r},o)=>At.createElement(mq,{ref:o,iconNode:e,className:O2(`lucide-${cq(vL(n))}`,`lucide-${n}`,i),...r}));return t.displayName=vL(n),t};const gq=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]],Lre=Na("alarm-clock",gq);const pq=[["path",{d:"M13 9a1 1 0 0 1-1-1V5.061a1 1 0 0 0-1.811-.75l-6.835 6.836a1.207 1.207 0 0 0 0 1.707l6.835 6.835a1 1 0 0 0 1.811-.75V16a1 1 0 0 1 1-1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1z",key:"aztept"}]],Mre=Na("arrow-big-left",pq);const vq=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nre=Na("badge-check",vq);const yq=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]],Ore=Na("badge-question-mark",yq);const Eq=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],Pre=Na("binary",Eq);const bq=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m8 13 4-7 4 7",key:"4rari8"}],["path",{d:"M9.1 11h5.7",key:"1gkovt"}]],Ure=Na("book-a",bq);const _q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fre=Na("circle-x",_q);const Tq=[["path",{d:"M21.66 17.67a1.08 1.08 0 0 1-.04 1.6A12 12 0 0 1 4.73 2.38a1.1 1.1 0 0 1 1.61-.04z",key:"4ite01"}],["path",{d:"M19.65 15.66A8 8 0 0 1 8.35 4.34",key:"1gxipu"}],["path",{d:"m14 10-5.5 5.5",key:"92pfem"}],["path",{d:"M14 17.85V10H6.15",key:"xqmtsk"}]],Bre=Na("citrus",Tq);const Sq=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],zre=Na("clipboard-list",Sq);const Aq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$re=Na("disc",Aq);const wq=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],qre=Na("fast-forward",wq);const Rq=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],jre=Na("fish",Rq);const Iq=[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]],Hre=Na("flower-2",Iq);const kq=[["path",{d:"M11.146 15.854a1.207 1.207 0 0 1 1.708 0l1.56 1.56A2 2 0 0 1 15 18.828V21a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2.172a2 2 0 0 1 .586-1.414z",key:"1re2og"}],["path",{d:"M18.828 15a2 2 0 0 1-1.414-.586l-1.56-1.56a1.207 1.207 0 0 1 0-1.708l1.56-1.56A2 2 0 0 1 18.828 9H21a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1z",key:"1pchrj"}],["path",{d:"M6.586 14.414A2 2 0 0 1 5.172 15H3a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h2.172a2 2 0 0 1 1.414.586l1.56 1.56a1.207 1.207 0 0 1 0 1.708z",key:"16mt4c"}],["path",{d:"M9 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2.172a2 2 0 0 1-.586 1.414l-1.56 1.56a1.207 1.207 0 0 1-1.708 0l-1.56-1.56A2 2 0 0 1 9 5.172z",key:"19ox6c"}]],Gre=Na("gamepad-directional",kq);const xq=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],Vre=Na("grid-2x2-check",xq);const Cq=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],Kre=Na("notebook-text",Cq);const Dq=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Yre=Na("pause",Dq);const Lq=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Wre=Na("play",Lq);const Mq=[["path",{d:"M12 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 12 18z",key:"2a1g8i"}],["path",{d:"M22 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 22 18z",key:"rg3s36"}]],Qre=Na("rewind",Mq);const Nq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xre=Na("shopping-cart",Nq);const Oq=[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]],Zre=Na("smile-plus",Oq);const Pq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Jre=Na("smile",Pq);const Uq=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],ese=Na("snail",Uq);const Fq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tse=Na("square-check",Fq);const Bq=[["path",{d:"M15.236 22a3 3 0 0 0-2.2-5",key:"21bitc"}],["path",{d:"M16 20a3 3 0 0 1 3-3h1a2 2 0 0 0 2-2v-2a4 4 0 0 0-4-4V4",key:"oh0fg0"}],["path",{d:"M18 13h.01",key:"9veqaj"}],["path",{d:"M18 6a4 4 0 0 0-4 4 7 7 0 0 0-7 7c0-5 4-5 4-10.5a4.5 4.5 0 1 0-9 0 2.5 2.5 0 0 0 5 0C7 10 3 11 3 17c0 2.8 2.2 5 5 5h10",key:"980v8a"}]],nse=Na("squirrel",Bq);const zq=[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]],ise=Na("tree-deciduous",zq),P2=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,yL=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,EL=/\.(m3u8)($|\?)/i,$q=/\.(mpd)($|\?)/i,qq=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,jq=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,Hq=/vimeo\.com\/(?!progressive_redirect).+/,Gq=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,Vq=/open\.spotify\.com\/(\w+)\/(\w+)/i,Kq=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,Yq=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,py=(n,e)=>{if(Array.isArray(n)){for(const t of n)if(typeof t=="string"&&py(t,e)||py(t.src,e))return!0;return!1}return e(n)},Fl={html:n=>py(n,e=>P2.test(e)||yL.test(e)),hls:n=>py(n,e=>EL.test(e)),dash:n=>py(n,e=>$q.test(e)),mux:n=>qq.test(n),youtube:n=>jq.test(n),vimeo:n=>Hq.test(n)&&!yL.test(n)&&!EL.test(n),wistia:n=>Gq.test(n),spotify:n=>Vq.test(n),twitch:n=>Kq.test(n),tiktok:n=>Yq.test(n)},Wq=Gi.forwardRef((n,e)=>{const t=P2.test(`${n.src}`)?"audio":"video";return Gi.createElement(t,{...n,ref:e},n.children)});var Qq=Wq;const Xq=[{key:"hls",name:"hls.js",canPlay:Fl.hls,canEnablePIP:()=>!0,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>CK),[]))},{key:"dash",name:"dash.js",canPlay:Fl.dash,canEnablePIP:()=>!0,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>zK),void 0))},{key:"mux",name:"Mux",canPlay:Fl.mux,canEnablePIP:()=>!0,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>Qne),void 0))},{key:"youtube",name:"YouTube",canPlay:Fl.youtube,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>gie),void 0))},{key:"vimeo",name:"Vimeo",canPlay:Fl.vimeo,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>Xie),void 0))},{key:"wistia",name:"Wistia",canPlay:Fl.wistia,canEnablePIP:()=>!0,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>lae),void 0))},{key:"spotify",name:"Spotify",canPlay:Fl.spotify,canEnablePIP:()=>!1,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>Sae),void 0))},{key:"twitch",name:"Twitch",canPlay:Fl.twitch,canEnablePIP:()=>!1,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>Oae),void 0))},{key:"tiktok",name:"TikTok",canPlay:Fl.tiktok,canEnablePIP:()=>!1,player:At.lazy(()=>ol(()=>Promise.resolve().then(()=>Yae),void 0))},{key:"html",name:"html",canPlay:Fl.html,canEnablePIP:()=>!0,player:Qq}];var iR=Xq;const Zq={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},U2=Gi.forwardRef((n,e)=>{const{playing:t,pip:i}=n,r=n.activePlayer,o=At.useRef(null),l=At.useRef(!0);At.useEffect(()=>{var m,p;o.current&&(o.current.paused&&t===!0&&o.current.play(),!o.current.paused&&t===!1&&o.current.pause(),o.current.playbackRate=(m=n.playbackRate)!=null?m:1,o.current.volume=(p=n.volume)!=null?p:1)}),At.useEffect(()=>{var m,p,y,E,A;if(!(!o.current||!globalThis.document)){if(i&&!document.pictureInPictureElement)try{(p=(m=o.current).requestPictureInPicture)==null||p.call(m)}catch{}if(!i&&document.pictureInPictureElement)try{(E=(y=o.current).exitPictureInPicture)==null||E.call(y),(A=document.exitPictureInPicture)==null||A.call(document)}catch{}}},[i]);const c=m=>{var p,y;l.current=!0,(p=n.onReady)==null||p.call(n),(y=n.onLoadStart)==null||y.call(n,m)},f=m=>{var p,y;l.current&&(l.current=!1,(p=n.onStart)==null||p.call(n,m)),(y=n.onPlay)==null||y.call(n,m)};if(!r)return null;const h={},g=["onReady","onStart"];for(const m in n)m.startsWith("on")&&!g.includes(m)&&(h[m]=n[m]);return Gi.createElement(r,{...h,style:n.style,className:n.className,slot:n.slot,ref:At.useCallback(m=>{o.current=m,typeof e=="function"?e(m):e!==null&&(e.current=m)},[e]),src:n.src,crossOrigin:n.crossOrigin,preload:n.preload,controls:n.controls,muted:n.muted,autoPlay:n.autoPlay,loop:n.loop,playsInline:n.playsInline,disableRemotePlayback:n.disableRemotePlayback,config:n.config,onLoadStart:c,onPlay:f},n.children)});U2.displayName="Player";var Jq=U2;const ej=At.lazy(()=>ol(()=>Promise.resolve().then(()=>Xae),void 0)),wv=[],tj=(n,e)=>{const t=r=>{for(const o of[...wv,...n])if(r&&o.canPlay(r))return o;return e||null},i=Gi.forwardRef((r,o)=>{const l={...Zq,...r},{src:c,slot:f,className:h,style:g,width:m,height:p,fallback:y,wrapper:E}=l,[A,w]=At.useState(!!l.light);At.useEffect(()=>{l.light?w(!0):w(!1)},[l.light]);const M=se=>{var F;w(!1),(F=l.onClickPreview)==null||F.call(l,se)},x=se=>{if(!se)return null;const{light:F,playIcon:H,previewTabIndex:be,oEmbedUrl:Ae,previewAriaLabel:Me}=l;return Gi.createElement(ej,{src:se,light:F,playIcon:H,previewTabIndex:be,previewAriaLabel:Me,oEmbedUrl:Ae,onClickPreview:M})},C=se=>{var F,H;const be=t(se);if(!be)return null;const{style:Ae,width:Me,height:Ve,wrapper:Se}=l,He=(F=l.config)==null?void 0:F[be.key];return Gi.createElement(Jq,{...l,ref:o,activePlayer:(H=be.player)!=null?H:be,slot:Se?void 0:f,className:Se?void 0:h,style:Se?{display:"block",width:"100%",height:"100%"}:{display:"block",width:Me,height:Ve,...Ae},config:He})},O=E??bL,z=y===!1?bL:At.Suspense;return Gi.createElement(O,{slot:f,className:h,style:{width:m,height:p,...g}},Gi.createElement(z,{fallback:y},A?x(c):C(c)))});return i.displayName="ReactPlayer",i.addCustomPlayer=r=>{wv.push(r)},i.removeCustomPlayers=()=>{wv.length=0},i.canPlay=r=>{if(r){for(const o of[...wv,...n])if(o.canPlay(r))return!0}return!1},i.canEnablePIP=r=>{var o;if(r){for(const l of[...wv,...n])if(l.canPlay(r)&&((o=l.canEnablePIP)!=null&&o.call(l)))return!0}return!1},i},bL=({children:n})=>n,nj=iR[iR.length-1];var ase=tj(iR,nj);const ij=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],F2=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function aj(n){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${z2(n)}></audio>
    </slot>
    <slot></slot>
  `}function rj(n){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${z2(n)}></video>
    </slot>
    <slot></slot>
  `}function B2(n,{tag:e,is:t}){const i=globalThis.document?.createElement?.(e,{is:t}),r=i?sj(i):[];return class aR extends n{static getTemplateHTML=e.endsWith("audio")?aj:rj;static shadowRootOptions={mode:"open"};static Events=ij;static#e=!1;static get observedAttributes(){return aR.#a(),[...i?.constructor?.observedAttributes??[],...F2]}static#a(){if(this.#e)return;this.#e=!0;const l=new Set(this.observedAttributes);l.delete("muted");for(const c of r)if(!(c in this.prototype))if(typeof i[c]=="function")this.prototype[c]=function(...f){return this.#r(),this.call?this.call(c,...f):this.nativeEl?.[c]?.apply(this.nativeEl,f)};else{const f={get(){this.#r();const h=c.toLowerCase();if(l.has(h)){const g=this.getAttribute(h);return g===null?!1:g===""?!0:g}return this.get?.(c)??this.nativeEl?.[c]}};c!==c.toUpperCase()&&(f.set=function(h){this.#r();const g=c.toLowerCase();if(l.has(g)){h===!0||h===!1||h==null?this.toggleAttribute(g,!!h):this.setAttribute(g,h);return}if(this.set){this.set(c,h);return}this.nativeEl&&(this.nativeEl[c]=h)}),Object.defineProperty(this.prototype,c,f)}}#i=!1;#t=null;#n=new Map;#o;get;set;call;get nativeEl(){return this.#r(),this.#t??this.querySelector(":scope > [slot=media]")??this.querySelector(e)??this.shadowRoot?.querySelector(e)??null}set nativeEl(l){this.#t=l}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(l){this.toggleAttribute("muted",l)}get src(){return this.getAttribute("src")}set src(l){this.setAttribute("src",`${l}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(l){this.setAttribute("preload",`${l}`)}#r(){this.#i||(this.#i=!0,this.init())}init(){if(!this.shadowRoot){this.attachShadow({mode:"open"});const l=oj(this.attributes);t&&(l.is=t),e&&(l.part=e),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(l)}this.nativeEl.muted=this.hasAttribute("muted");for(const l of r)this.#c(l);this.#o=new MutationObserver(this.#s.bind(this)),this.shadowRoot.addEventListener("slotchange",()=>this.#l()),this.#l();for(const l of this.constructor.Events)this.shadowRoot.addEventListener(l,this,!0)}handleEvent(l){l.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(l.type,{detail:l.detail}))}#l(){const l=new Map(this.#n);(this.shadowRoot?.querySelector("slot:not([name])")?.assignedElements({flatten:!0}).filter(h=>["track","source"].includes(h.localName))).forEach(h=>{l.delete(h);let g=this.#n.get(h);g||(g=h.cloneNode(),this.#n.set(h,g),this.#o?.observe(h,{attributes:!0})),this.nativeEl?.append(g),this.#u(g)}),l.forEach((h,g)=>{h.remove(),this.#n.delete(g)})}#s(l){for(const c of l)if(c.type==="attributes"){const{target:f,attributeName:h}=c,g=this.#n.get(f);g&&h&&(g.setAttribute(h,f.getAttribute(h)??""),this.#u(g))}}#u(l){l&&l.localName==="track"&&l.default&&(l.kind==="chapters"||l.kind==="metadata")&&l.track.mode==="disabled"&&(l.track.mode="hidden")}#c(l){if(Object.prototype.hasOwnProperty.call(this,l)){const c=this[l];delete this[l],this[l]=c}}attributeChangedCallback(l,c,f){this.#r(),this.#d(l,c,f)}#d(l,c,f){["id","class"].includes(l)||!aR.observedAttributes.includes(l)&&this.constructor.observedAttributes.includes(l)||(f===null?this.nativeEl?.removeAttribute(l):this.nativeEl?.getAttribute(l)!==f&&this.nativeEl?.setAttribute(l,f))}connectedCallback(){this.#r()}}}function sj(n){const e=[];for(let t=Object.getPrototypeOf(n);t&&t!==HTMLElement.prototype;t=Object.getPrototypeOf(t)){const i=Object.getOwnPropertyNames(t);e.push(...i)}return e}function z2(n){let e="";for(const t in n){if(!F2.includes(t))continue;const i=n[t];i===""?e+=` ${t}`:e+=` ${t}="${i}"`}return e}function oj(n){const e={};for(const t of n)e[t.name]=t.value;return e}const Md=B2(globalThis.HTMLElement??class{},{tag:"video"});B2(globalThis.HTMLElement??class{},{tag:"audio"});class $S extends Event{track;constructor(e,t){super(e),this.track=t.track}}const rR=new WeakMap;function Vn(n){return rR.get(n)??lj(n,{})}function lj(n,e){let t=rR.get(n);return t||rR.set(n,t={}),Object.assign(t,e)}function sR(n,e){const t=n.videoTracks;Vn(e).media=n,Vn(e).renditionSet||(Vn(e).renditionSet=new Set);const i=Vn(t).trackSet;i.add(e);const r=i.size-1;r in lR.prototype||Object.defineProperty(lR.prototype,r,{get(){return[...Vn(this).trackSet][r]}}),queueMicrotask(()=>{t.dispatchEvent(new $S("addtrack",{track:e}))})}function oR(n){const e=Vn(n).media?.videoTracks;if(!e)return;Vn(e).trackSet.delete(n),queueMicrotask(()=>{e.dispatchEvent(new $S("removetrack",{track:n}))})}function uj(n){const e=Vn(n).media.videoTracks??[];let t=!1;for(const i of e)i!==n&&(i.selected=!1,t=!0);if(t){if(Vn(e).changeRequested)return;Vn(e).changeRequested=!0,queueMicrotask(()=>{delete Vn(e).changeRequested,e.dispatchEvent(new Event("change"))})}}class lR extends EventTarget{#e;#a;#i;constructor(){super(),Vn(this).trackSet=new Set}get#t(){return Vn(this).trackSet}[Symbol.iterator](){return this.#t.values()}get length(){return this.#t.size}getTrackById(e){return[...this.#t].find(t=>t.id===e)??null}get selectedIndex(){return[...this.#t].findIndex(e=>e.selected)}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#a}set onremovetrack(e){this.#a&&(this.removeEventListener("removetrack",this.#a),this.#a=void 0),typeof e=="function"&&(this.#a=e,this.addEventListener("removetrack",e))}get onchange(){return this.#i}set onchange(e){this.#i&&(this.removeEventListener("change",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("change",e))}}class qS extends Event{rendition;constructor(e,t){super(e),this.rendition=t.rendition}}function cj(n,e){const t=Vn(n).media.videoRenditions;Vn(e).media=Vn(n).media,Vn(e).track=n;const i=Vn(n).renditionSet;i.add(e);const r=i.size-1;r in uR.prototype||Object.defineProperty(uR.prototype,r,{get(){return Mm(this)[r]}}),queueMicrotask(()=>{n.selected&&t.dispatchEvent(new qS("addrendition",{rendition:e}))})}function dj(n){const e=Vn(n).media.videoRenditions,t=Vn(n).track;Vn(t).renditionSet.delete(n),queueMicrotask(()=>{Vn(n).track.selected&&e.dispatchEvent(new qS("removerendition",{rendition:n}))})}function fj(n){const e=Vn(n).media.videoRenditions;!e||Vn(e).changeRequested||(Vn(e).changeRequested=!0,queueMicrotask(()=>{delete Vn(e).changeRequested,Vn(n).track.selected&&e.dispatchEvent(new Event("change"))}))}function Mm(n){return[...Vn(n).media.videoTracks].filter(t=>t.selected).flatMap(t=>[...Vn(t).renditionSet])}class uR extends EventTarget{#e;#a;#i;[Symbol.iterator](){return Mm(this).values()}get length(){return Mm(this).length}getRenditionById(e){return Mm(this).find(t=>`${t.id}`==`${e}`)??null}get selectedIndex(){return Mm(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[t,i]of Mm(this).entries())i.selected=t===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#a}set onremoverendition(e){this.#a&&(this.removeEventListener("removerendition",this.#a),this.#a=void 0),typeof e=="function"&&(this.#a=e,this.addEventListener("removerendition",e))}get onchange(){return this.#i}set onchange(e){this.#i&&(this.removeEventListener("change",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("change",e))}}class hj{src;id;width;height;bitrate;frameRate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,fj(this))}}class $2{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,t,i,r,o,l){const c=new hj;return c.src=e,c.width=t,c.height=i,c.frameRate=l,c.bitrate=o,c.codec=r,cj(this,c),c}removeRendition(e){dj(e)}get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,e===!0&&uj(this))}}function mj(n,e){const t=Vn(n).media.audioRenditions;Vn(e).media=Vn(n).media,Vn(e).track=n;const i=Vn(n).renditionSet;i.add(e);const r=i.size-1;r in cR.prototype||Object.defineProperty(cR.prototype,r,{get(){return Nm(this)[r]}}),queueMicrotask(()=>{n.enabled&&t.dispatchEvent(new qS("addrendition",{rendition:e}))})}function gj(n){const e=Vn(n).media.audioRenditions,t=Vn(n).track;Vn(t).renditionSet.delete(n),queueMicrotask(()=>{Vn(n).track.enabled&&e.dispatchEvent(new qS("removerendition",{rendition:n}))})}function pj(n){const e=Vn(n).media.audioRenditions;!e||Vn(e).changeRequested||(Vn(e).changeRequested=!0,queueMicrotask(()=>{delete Vn(e).changeRequested,Vn(n).track.enabled&&e.dispatchEvent(new Event("change"))}))}function Nm(n){return[...Vn(n).media.audioTracks].filter(t=>t.enabled).flatMap(t=>[...Vn(t).renditionSet])}class cR extends EventTarget{#e;#a;#i;[Symbol.iterator](){return Nm(this).values()}get length(){return Nm(this).length}getRenditionById(e){return Nm(this).find(t=>`${t.id}`==`${e}`)??null}get selectedIndex(){return Nm(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[t,i]of Nm(this).entries())i.selected=t===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#a}set onremoverendition(e){this.#a&&(this.removeEventListener("removerendition",this.#a),this.#a=void 0),typeof e=="function"&&(this.#a=e,this.addEventListener("removerendition",e))}get onchange(){return this.#i}set onchange(e){this.#i&&(this.removeEventListener("change",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("change",e))}}class vj{src;id;bitrate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,pj(this))}}function dR(n,e){const t=n.audioTracks;Vn(e).media=n,Vn(e).renditionSet||(Vn(e).renditionSet=new Set);const i=Vn(t).trackSet;i.add(e);const r=i.size-1;r in hR.prototype||Object.defineProperty(hR.prototype,r,{get(){return[...Vn(this).trackSet][r]}}),queueMicrotask(()=>{t.dispatchEvent(new $S("addtrack",{track:e}))})}function fR(n){const e=Vn(n).media?.audioTracks;if(!e)return;Vn(e).trackSet.delete(n),queueMicrotask(()=>{e.dispatchEvent(new $S("removetrack",{track:n}))})}function yj(n){const e=Vn(n).media.audioTracks;!e||Vn(e).changeRequested||(Vn(e).changeRequested=!0,queueMicrotask(()=>{delete Vn(e).changeRequested,e.dispatchEvent(new Event("change"))}))}class hR extends EventTarget{#e;#a;#i;constructor(){super(),Vn(this).trackSet=new Set}get#t(){return Vn(this).trackSet}[Symbol.iterator](){return this.#t.values()}get length(){return this.#t.size}getTrackById(e){return[...this.#t].find(t=>t.id===e)??null}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#a}set onremovetrack(e){this.#a&&(this.removeEventListener("removetrack",this.#a),this.#a=void 0),typeof e=="function"&&(this.#a=e,this.addEventListener("removetrack",e))}get onchange(){return this.#i}set onchange(e){this.#i&&(this.removeEventListener("change",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("change",e))}}class q2{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,t,i){const r=new vj;return r.src=e,r.codec=t,r.bitrate=i,mj(this,r),r}removeRendition(e){gj(e)}get enabled(){return this.#e}set enabled(e){this.#e!==e&&(this.#e=e,yj(this))}}const _L=PT(globalThis.HTMLMediaElement,"video"),TL=PT(globalThis.HTMLMediaElement,"audio");function yk(n){if(!n?.prototype)return n;const e=PT(n,"video");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(n.prototype,"videoTracks",{get(){return Ej(this)}});const t=PT(n,"audio");(!t||`${t}`.includes("[native code]"))&&Object.defineProperty(n.prototype,"audioTracks",{get(){return bj(this)}}),"addVideoTrack"in n.prototype||(n.prototype.addVideoTrack=function(o,l="",c=""){const f=new $2;return f.kind=o,f.label=l,f.language=c,sR(this,f),f}),"removeVideoTrack"in n.prototype||(n.prototype.removeVideoTrack=oR),"addAudioTrack"in n.prototype||(n.prototype.addAudioTrack=function(o,l="",c=""){const f=new q2;return f.kind=o,f.label=l,f.language=c,dR(this,f),f}),"removeAudioTrack"in n.prototype||(n.prototype.removeAudioTrack=fR),"videoRenditions"in n.prototype||Object.defineProperty(n.prototype,"videoRenditions",{get(){return i(this)}});const i=o=>{let l=Vn(o).videoRenditions;return l||(l=new uR,Vn(l).media=o,Vn(o).videoRenditions=l),l};"audioRenditions"in n.prototype||Object.defineProperty(n.prototype,"audioRenditions",{get(){return r(this)}});const r=o=>{let l=Vn(o).audioRenditions;return l||(l=new cR,Vn(l).media=o,Vn(o).audioRenditions=l),l};return n}function PT(n,e){if(n?.prototype)return Object.getOwnPropertyDescriptor(n.prototype,`${e}Tracks`)?.get}function Ej(n){let e=Vn(n).videoTracks;if(!e&&(e=new lR,Vn(n).videoTracks=e,_L)){const t=_L.call(n.nativeEl??n);for(const i of t)sR(n,i);t.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),t.addEventListener("addtrack",i=>{if([...e].some(r=>r instanceof $2)){for(const r of t)oR(r);return}sR(n,i.track)}),t.addEventListener("removetrack",i=>{oR(i.track)})}return e}function bj(n){let e=Vn(n).audioTracks;if(!e&&(e=new hR,Vn(n).audioTracks=e,TL)){const t=TL.call(n.nativeEl??n);for(const i of t)dR(n,i);t.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),t.addEventListener("addtrack",i=>{if([...e].some(r=>r instanceof q2)){for(const r of t)fR(r);return}dR(n,i.track)}),t.addEventListener("removetrack",i=>{fR(i.track)})}return e}const Un=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},_j=Number.isSafeInteger||function(n){return typeof n=="number"&&Math.abs(n)<=Tj},Tj=Number.MAX_SAFE_INTEGER||9007199254740991;let ti=(function(n){return n.NETWORK_ERROR="networkError",n.MEDIA_ERROR="mediaError",n.KEY_SYSTEM_ERROR="keySystemError",n.MUX_ERROR="muxError",n.OTHER_ERROR="otherError",n})({}),Dt=(function(n){return n.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",n.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",n.KEY_SYSTEM_NO_SESSION="keySystemNoSession",n.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",n.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",n.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",n.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",n.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",n.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",n.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",n.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",n.MANIFEST_LOAD_ERROR="manifestLoadError",n.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",n.MANIFEST_PARSING_ERROR="manifestParsingError",n.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",n.LEVEL_EMPTY_ERROR="levelEmptyError",n.LEVEL_LOAD_ERROR="levelLoadError",n.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",n.LEVEL_PARSING_ERROR="levelParsingError",n.LEVEL_SWITCH_ERROR="levelSwitchError",n.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",n.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",n.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",n.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",n.FRAG_LOAD_ERROR="fragLoadError",n.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",n.FRAG_DECRYPT_ERROR="fragDecryptError",n.FRAG_PARSING_ERROR="fragParsingError",n.FRAG_GAP="fragGap",n.REMUX_ALLOC_ERROR="remuxAllocError",n.KEY_LOAD_ERROR="keyLoadError",n.KEY_LOAD_TIMEOUT="keyLoadTimeOut",n.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",n.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",n.BUFFER_APPEND_ERROR="bufferAppendError",n.BUFFER_APPENDING_ERROR="bufferAppendingError",n.BUFFER_STALLED_ERROR="bufferStalledError",n.BUFFER_FULL_ERROR="bufferFullError",n.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",n.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",n.ASSET_LIST_LOAD_ERROR="assetListLoadError",n.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",n.ASSET_LIST_PARSING_ERROR="assetListParsingError",n.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",n.INTERNAL_EXCEPTION="internalException",n.INTERNAL_ABORTED="aborted",n.ATTACH_MEDIA_ERROR="attachMediaError",n.UNKNOWN="unknown",n})({}),Te=(function(n){return n.MEDIA_ATTACHING="hlsMediaAttaching",n.MEDIA_ATTACHED="hlsMediaAttached",n.MEDIA_DETACHING="hlsMediaDetaching",n.MEDIA_DETACHED="hlsMediaDetached",n.MEDIA_ENDED="hlsMediaEnded",n.STALL_RESOLVED="hlsStallResolved",n.BUFFER_RESET="hlsBufferReset",n.BUFFER_CODECS="hlsBufferCodecs",n.BUFFER_CREATED="hlsBufferCreated",n.BUFFER_APPENDING="hlsBufferAppending",n.BUFFER_APPENDED="hlsBufferAppended",n.BUFFER_EOS="hlsBufferEos",n.BUFFERED_TO_END="hlsBufferedToEnd",n.BUFFER_FLUSHING="hlsBufferFlushing",n.BUFFER_FLUSHED="hlsBufferFlushed",n.MANIFEST_LOADING="hlsManifestLoading",n.MANIFEST_LOADED="hlsManifestLoaded",n.MANIFEST_PARSED="hlsManifestParsed",n.LEVEL_SWITCHING="hlsLevelSwitching",n.LEVEL_SWITCHED="hlsLevelSwitched",n.LEVEL_LOADING="hlsLevelLoading",n.LEVEL_LOADED="hlsLevelLoaded",n.LEVEL_UPDATED="hlsLevelUpdated",n.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",n.LEVELS_UPDATED="hlsLevelsUpdated",n.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",n.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",n.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",n.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",n.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",n.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",n.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",n.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",n.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",n.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",n.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",n.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",n.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",n.CUES_PARSED="hlsCuesParsed",n.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",n.INIT_PTS_FOUND="hlsInitPtsFound",n.FRAG_LOADING="hlsFragLoading",n.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",n.FRAG_LOADED="hlsFragLoaded",n.FRAG_DECRYPTED="hlsFragDecrypted",n.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",n.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",n.FRAG_PARSING_METADATA="hlsFragParsingMetadata",n.FRAG_PARSED="hlsFragParsed",n.FRAG_BUFFERED="hlsFragBuffered",n.FRAG_CHANGED="hlsFragChanged",n.FPS_DROP="hlsFpsDrop",n.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",n.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",n.ERROR="hlsError",n.DESTROYING="hlsDestroying",n.KEY_LOADING="hlsKeyLoading",n.KEY_LOADED="hlsKeyLoaded",n.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",n.BACK_BUFFER_REACHED="hlsBackBufferReached",n.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",n.ASSET_LIST_LOADING="hlsAssetListLoading",n.ASSET_LIST_LOADED="hlsAssetListLoaded",n.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",n.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",n.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",n.INTERSTITIAL_STARTED="hlsInterstitialStarted",n.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",n.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",n.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",n.INTERSTITIAL_ENDED="hlsInterstitialEnded",n.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",n.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",n.EVENT_CUE_ENTER="hlsEventCueEnter",n})({});var Ui={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Gn={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class bm{constructor(e,t=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=i}sample(e,t){const i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Sj{constructor(e,t,i,r=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new bm(e),this.fast_=new bm(t),this.defaultTTFB_=r,this.ttfb_=new bm(e)}update(e,t){const{slow_:i,fast_:r,ttfb_:o}=this;i.halfLife!==e&&(this.slow_=new bm(e,i.getEstimate(),i.getTotalWeight())),r.halfLife!==t&&(this.fast_=new bm(t,r.getEstimate(),r.getTotalWeight())),o.halfLife!==e&&(this.ttfb_=new bm(e,o.getEstimate(),o.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const i=8*t,r=e/1e3,o=i/r;this.fast_.sample(r,o),this.slow_.sample(r,o)}sampleTTFB(e){const t=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(i,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function Aj(n,e,t){return(e=Rj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ba(){return ba=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ba.apply(null,arguments)}function SL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ma(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(t),!0).forEach(function(i){Aj(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rj(n){var e=wj(n,"string");return typeof e=="symbol"?e:e+""}class Oo{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const i=`[${e}]:`;this.trace=wd,this.debug=t.debug.bind(null,i),this.log=t.log.bind(null,i),this.warn=t.warn.bind(null,i),this.info=t.info.bind(null,i),this.error=t.error.bind(null,i)}}const wd=function(){},Ij={trace:wd,debug:wd,log:wd,warn:wd,info:wd,error:wd};function mR(){return ba({},Ij)}function kj(n,e){const t=self.console[n];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${n}] >`):wd}function AL(n,e,t){return e[n]?e[n].bind(e):kj(n,t)}const gR=mR();function xj(n,e,t){const i=mR();if(typeof console=="object"&&n===!0||typeof n=="object"){const r=["debug","log","info","warn","error"];r.forEach(o=>{i[o]=AL(o,n,t)});try{i.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return mR()}r.forEach(o=>{gR[o]=AL(o,n)})}else ba(gR,i);return i}const ga=gR;function Fd(n=!0){return typeof self>"u"?void 0:(n||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Cj(n){return typeof self<"u"&&n===self.ManagedMediaSource}function j2(n,e){const t=Object.keys(n),i=Object.keys(e),r=t.length,o=i.length;return!r||!o||r===o&&!t.some(l=>i.indexOf(l)===-1)}function eo(n,e=!1){if(typeof TextDecoder<"u"){const h=new TextDecoder("utf-8").decode(n);if(e){const g=h.indexOf("\0");return g!==-1?h.substring(0,g):h}return h.replace(/\0/g,"")}const t=n.length;let i,r,o,l="",c=0;for(;c<t;){if(i=n[c++],i===0&&e)return l;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(i);break;case 12:case 13:r=n[c++],l+=String.fromCharCode((i&31)<<6|r&63);break;case 14:r=n[c++],o=n[c++],l+=String.fromCharCode((i&15)<<12|(r&63)<<6|(o&63)<<0);break}}return l}function Yr(n){let e="";for(let t=0;t<n.length;t++){let i=n[t].toString(16);i.length<2&&(i="0"+i),e+=i}return e}function H2(n){return Uint8Array.from(n.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function Dj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cw={exports:{}},wL;function Lj(){return wL||(wL=1,(function(n,e){(function(t){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,l=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(f,h,g){if(g=g||{},f=f.trim(),h=h.trim(),!h){if(!g.alwaysNormalize)return f;var m=c.parseURL(f);if(!m)throw new Error("Error trying to parse base URL.");return m.path=c.normalizePath(m.path),c.buildURLFromParts(m)}var p=c.parseURL(h);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return g.alwaysNormalize?(p.path=c.normalizePath(p.path),c.buildURLFromParts(p)):h;var y=c.parseURL(f);if(!y)throw new Error("Error trying to parse base URL.");if(!y.netLoc&&y.path&&y.path[0]!=="/"){var E=r.exec(y.path);y.netLoc=E[1],y.path=E[2]}y.netLoc&&!y.path&&(y.path="/");var A={scheme:y.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(A.netLoc=y.netLoc,p.path[0]!=="/"))if(!p.path)A.path=y.path,p.params||(A.params=y.params,p.query||(A.query=y.query));else{var w=y.path,M=w.substring(0,w.lastIndexOf("/")+1)+p.path;A.path=c.normalizePath(M)}return A.path===null&&(A.path=g.alwaysNormalize?c.normalizePath(p.path):p.path),c.buildURLFromParts(A)},parseURL:function(f){var h=i.exec(f);return h?{scheme:h[1]||"",netLoc:h[2]||"",path:h[3]||"",params:h[4]||"",query:h[5]||"",fragment:h[6]||""}:null},normalizePath:function(f){for(f=f.split("").reverse().join("").replace(o,"");f.length!==(f=f.replace(l,"")).length;);return f.split("").reverse().join("")},buildURLFromParts:function(f){return f.scheme+f.netLoc+f.path+f.params+f.query+f.fragment}};n.exports=c})()})(Cw)),Cw.exports}var Ek=Lj();class bk{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Sa={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class G2{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,Nj(this,"stats")}setByteRange(e,t){const i=e.split("@",2);let r;i.length===1?r=t?.byteRangeEndOffset||0:r=parseInt(i[1]),this._byteRange=[r,parseInt(i[0])+r]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Sa.AUDIO]:null,[Sa.VIDEO]:null,[Sa.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new bk),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Ek.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Sa.AUDIO]=null,e[Sa.VIDEO]=null,e[Sa.AUDIOVIDEO]=null}}function rr(n){return n.sn!=="initSegment"}class Dw extends G2{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],t=this.byteRange[1];if(Un(e)&&Un(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:t}=this;if(!t||t.NONE)return null;if(t.identity)this._decryptdata||(this._decryptdata=t.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const i=Object.keys(t);if(i.length===1){const r=this._decryptdata=t[i[0]]||null;r&&(this._decryptdata=r.getDecryptData(this.sn,t))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Un(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var t;const i=Object.keys(this.levelkeys),r=i.length;if(r>1||r===1&&(t=this.levelkeys[i[0]])!=null&&t.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Un(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return rr(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const t=this.levelkeys;if(t){var i;const r=t[e];r&&!((i=this._decryptdata)!=null&&i.keyId)&&(this._decryptdata=r.getDecryptData(this.sn,t))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,i,r,o,l=!1){const{elementaryStreams:c}=this,f=c[e];if(!f){c[e]={startPTS:t,endPTS:i,startDTS:r,endDTS:o,partial:l};return}f.startPTS=Math.min(f.startPTS,t),f.endPTS=Math.max(f.endPTS,i),f.startDTS=Math.min(f.startDTS,r),f.endDTS=Math.max(f.endDTS,o)}}let Mj=class extends G2{constructor(e,t,i,r,o){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=r;const l=e.enumeratedString("BYTERANGE");l&&this.setByteRange(l,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};function V2(n,e){const t=Object.getPrototypeOf(n);if(t){const i=Object.getOwnPropertyDescriptor(t,e);return i||V2(t,e)}}function Nj(n,e){const t=V2(n,e);t&&(t.enumerable=!0,Object.defineProperty(n,e,t))}const RL=Math.pow(2,32)-1,Oj=[].push,K2={video:1,audio:2,id3:3,text:4};function Sr(n){return String.fromCharCode.apply(null,n)}function Y2(n,e){const t=n[e]<<8|n[e+1];return t<0?65536+t:t}function pi(n,e){const t=W2(n,e);return t<0?4294967296+t:t}function IL(n,e){let t=pi(n,e);return t*=Math.pow(2,32),t+=pi(n,e+4),t}function W2(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}function Pj(n){const e=n.byteLength;for(let t=0;t<e;){const i=pi(n,t);if(i>8&&n[t+4]===109&&n[t+5]===111&&n[t+6]===111&&n[t+7]===102)return!0;t=i>1?t+i:e}return!1}function Mi(n,e){const t=[];if(!e.length)return t;const i=n.byteLength;for(let r=0;r<i;){const o=pi(n,r),l=Sr(n.subarray(r+4,r+8)),c=o>1?r+o:i;if(l===e[0])if(e.length===1)t.push(n.subarray(r+8,c));else{const f=Mi(n.subarray(r+8,c),e.slice(1));f.length&&Oj.apply(t,f)}r=c}return t}function Uj(n){const e=[],t=n[0];let i=8;const r=pi(n,i);i+=4;let o=0,l=0;t===0?(o=pi(n,i),l=pi(n,i+4),i+=8):(o=IL(n,i),l=IL(n,i+8),i+=16),i+=2;let c=n.length+l;const f=Y2(n,i);i+=2;for(let h=0;h<f;h++){let g=i;const m=pi(n,g);g+=4;const p=m&2147483647;if((m&2147483648)>>>31===1)return ga.warn("SIDX has hierarchical references (not supported)"),null;const E=pi(n,g);g+=4,e.push({referenceSize:p,subsegmentDuration:E,info:{duration:E/r,start:c,end:c+p-1}}),c+=p,g+=4,i=g}return{earliestPresentationTime:o,timescale:r,version:t,referencesCount:f,references:e}}function Q2(n){const e=[],t=Mi(n,["moov","trak"]);for(let r=0;r<t.length;r++){const o=t[r],l=Mi(o,["tkhd"])[0];if(l){let c=l[0];const f=pi(l,c===0?12:20),h=Mi(o,["mdia","mdhd"])[0];if(h){c=h[0];const g=pi(h,c===0?12:20),m=Mi(o,["mdia","hdlr"])[0];if(m){const p=Sr(m.subarray(8,12)),y={soun:Sa.AUDIO,vide:Sa.VIDEO}[p],E=Mi(o,["mdia","minf","stbl","stsd"])[0],A=Fj(E);y?(e[f]={timescale:g,type:y,stsd:A},e[y]=ma({timescale:g,id:f},A)):e[f]={timescale:g,type:p,stsd:A}}}}}return Mi(n,["moov","mvex","trex"]).forEach(r=>{const o=pi(r,4),l=e[o];l&&(l.default={duration:pi(r,12),flags:pi(r,20)})}),e}function Fj(n){const e=n.subarray(8),t=e.subarray(86),i=Sr(e.subarray(4,8));let r=i,o;const l=i==="enca"||i==="encv";if(l){const h=Mi(e,[i])[0].subarray(i==="enca"?28:78);Mi(h,["sinf"]).forEach(m=>{const p=Mi(m,["schm"])[0];if(p){const y=Sr(p.subarray(4,8));if(y==="cbcs"||y==="cenc"){const E=Mi(m,["frma"])[0];E&&(r=Sr(E))}}})}const c=r;switch(r){case"avc1":case"avc2":case"avc3":case"avc4":{const f=Mi(t,["avcC"])[0];f&&f.length>3&&(r+="."+v0(f[1])+v0(f[2])+v0(f[3]),o=p0(c==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const f=Mi(e,[i])[0],h=Mi(f.subarray(28),["esds"])[0];if(h&&h.length>7){let g=4;if(h[g++]!==3)break;g=Lw(h,g),g+=2;const m=h[g++];if(m&128&&(g+=2),m&64&&(g+=h[g++]),h[g++]!==4)break;g=Lw(h,g);const p=h[g++];if(p===64)r+="."+v0(p);else break;if(g+=12,h[g++]!==5)break;g=Lw(h,g);const y=h[g++];let E=(y&248)>>3;E===31&&(E+=1+((y&7)<<3)+((h[g]&224)>>5)),r+="."+E}break}case"hvc1":case"hev1":{const f=Mi(t,["hvcC"])[0];if(f&&f.length>12){const h=f[1],g=["","A","B","C"][h>>6],m=h&31,p=pi(f,2),y=(h&32)>>5?"H":"L",E=f[12],A=f.subarray(6,12);r+="."+g+m,r+="."+Bj(p).toString(16).toUpperCase(),r+="."+y+E;let w="";for(let M=A.length;M--;){const x=A[M];(x||w)&&(w="."+x.toString(16).toUpperCase()+w)}r+=w}o=p0(c=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{r=p0(r,t)||r;break}case"vp09":{const f=Mi(t,["vpcC"])[0];if(f&&f.length>6){const h=f[4],g=f[5],m=f[6]>>4&15;r+="."+nu(h)+"."+nu(g)+"."+nu(m)}break}case"av01":{const f=Mi(t,["av1C"])[0];if(f&&f.length>2){const h=f[1]>>>5,g=f[1]&31,m=f[2]>>>7?"H":"M",p=(f[2]&64)>>6,y=(f[2]&32)>>5,E=h===2&&p?y?12:10:p?10:8,A=(f[2]&16)>>4,w=(f[2]&8)>>3,M=(f[2]&4)>>2,x=f[2]&3;r+="."+h+"."+nu(g)+m+"."+nu(E)+"."+A+"."+w+M+x+"."+nu(1)+"."+nu(1)+"."+nu(1)+"."+0,o=p0("dav1",t)}break}}return{codec:r,encrypted:l,supplemental:o}}function p0(n,e){const t=Mi(e,["dvvC"]),i=t.length?t[0]:Mi(e,["dvcC"])[0];if(i){const r=i[2]>>1&127,o=i[2]<<5&32|i[3]>>3&31;return n+"."+nu(r)+"."+nu(o)}}function Bj(n){let e=0;for(let t=0;t<32;t++)e|=(n>>t&1)<<31-t;return e>>>0}function Lw(n,e){const t=e+5;for(;n[e++]&128&&e<t;);return e}function v0(n){return("0"+n.toString(16).toUpperCase()).slice(-2)}function nu(n){return(n<10?"0":"")+n}function zj(n,e){if(!n||!e)return;const t=e.keyId;t&&e.isCommonEncryption&&X2(n,(i,r)=>{const o=i.subarray(8,24);o.some(l=>l!==0)||(ga.log(`[eme] Patching keyId in 'enc${r?"a":"v"}>sinf>>tenc' box: ${Yr(o)} -> ${Yr(t)}`),i.set(t,8))})}function $j(n){const e=[];return X2(n,t=>e.push(t.subarray(8,24))),e}function X2(n,e){Mi(n,["moov","trak"]).forEach(i=>{const r=Mi(i,["mdia","minf","stbl","stsd"])[0];if(!r)return;const o=r.subarray(8);let l=Mi(o,["enca"]);const c=l.length>0;c||(l=Mi(o,["encv"])),l.forEach(f=>{const h=c?f.subarray(28):f.subarray(78);Mi(h,["sinf"]).forEach(m=>{const p=Z2(m);p&&e(p,c)})})})}function Z2(n){const e=Mi(n,["schm"])[0];if(e){const t=Sr(e.subarray(4,8));if(t==="cbcs"||t==="cenc"){const i=Mi(n,["schi","tenc"])[0];if(i)return i}}}function qj(n,e,t){const i={},r=Mi(n,["moof","traf"]);for(let o=0;o<r.length;o++){const l=r[o],c=Mi(l,["tfhd"])[0],f=pi(c,4),h=e[f];if(!h)continue;i[f]||(i[f]={start:NaN,duration:0,sampleCount:0,timescale:h.timescale,type:h.type});const g=i[f],m=Mi(l,["tfdt"])[0];if(m){const C=m[0];let O=pi(m,4);C===1&&(O===RL?t.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(O*=RL+1,O+=pi(m,8))),Un(O)&&(!Un(g.start)||O<g.start)&&(g.start=O)}const p=h.default,y=pi(c,0)|p?.flags;let E=p?.duration||0;y&8&&(y&2?E=pi(c,12):E=pi(c,8));const A=Mi(l,["trun"]);let w=g.start||0,M=0,x=E;for(let C=0;C<A.length;C++){const O=A[C],z=pi(O,4),se=g.sampleCount;g.sampleCount+=z;const F=O[3]&1,H=O[3]&4,be=O[2]&1,Ae=O[2]&2,Me=O[2]&4,Ve=O[2]&8;let Se=8,He=z;for(F&&(Se+=4),H&&z&&(!(O[Se+1]&1)&&g.keyFrameIndex===void 0&&(g.keyFrameIndex=se),Se+=4,be?(x=pi(O,Se),Se+=4):x=E,Ae&&(Se+=4),Ve&&(Se+=4),w+=x,M+=x,He--);He--;)be?(x=pi(O,Se),Se+=4):x=E,Ae&&(Se+=4),Me&&(O[Se+1]&1||g.keyFrameIndex===void 0&&(g.keyFrameIndex=g.sampleCount-(He+1),g.keyFrameStart=w),Se+=4),Ve&&(Se+=4),w+=x,M+=x;!M&&E&&(M+=E*z)}g.duration+=M}if(!Object.keys(i).some(o=>i[o].duration)){let o=1/0,l=0;const c=Mi(n,["sidx"]);for(let f=0;f<c.length;f++){const h=Uj(c[f]);if(h!=null&&h.references){o=Math.min(o,h.earliestPresentationTime/h.timescale);const g=h.references.reduce((m,p)=>m+p.info.duration||0,0);l=Math.max(l,g+h.earliestPresentationTime/h.timescale)}}l&&Un(l)&&Object.keys(i).forEach(f=>{i[f].duration||(i[f].duration=l*i[f].timescale-i[f].start)})}return i}function jj(n){const e={valid:null,remainder:null},t=Mi(n,["moof"]);if(t.length<2)return e.remainder=n,e;const i=t[t.length-1];return e.valid=n.slice(0,i.byteOffset-8),e.remainder=n.slice(i.byteOffset-8),e}function Lo(n,e){const t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function kL(n,e){const t=[],i=e.samples,r=e.timescale,o=e.id;let l=!1;return Mi(i,["moof"]).map(f=>{const h=f.byteOffset-8;Mi(f,["traf"]).map(m=>{const p=Mi(m,["tfdt"]).map(y=>{const E=y[0];let A=pi(y,4);return E===1&&(A*=Math.pow(2,32),A+=pi(y,8)),A/r})[0];return p!==void 0&&(n=p),Mi(m,["tfhd"]).map(y=>{const E=pi(y,4),A=pi(y,0)&16777215,w=(A&1)!==0,M=(A&2)!==0,x=(A&8)!==0;let C=0;const O=(A&16)!==0;let z=0;const se=(A&32)!==0;let F=8;E===o&&(w&&(F+=8),M&&(F+=4),x&&(C=pi(y,F),F+=4),O&&(z=pi(y,F),F+=4),se&&(F+=4),e.type==="video"&&(l=jS(e.codec)),Mi(m,["trun"]).map(H=>{const be=H[0],Ae=pi(H,0)&16777215,Me=(Ae&1)!==0;let Ve=0;const Se=(Ae&4)!==0,He=(Ae&256)!==0;let Ue=0;const he=(Ae&512)!==0;let $e=0;const Ye=(Ae&1024)!==0,tt=(Ae&2048)!==0;let rt=0;const De=pi(H,4);let We=8;Me&&(Ve=pi(H,We),We+=4),Se&&(We+=4);let ct=Ve+h;for(let It=0;It<De;It++){if(He?(Ue=pi(H,We),We+=4):Ue=C,he?($e=pi(H,We),We+=4):$e=z,Ye&&(We+=4),tt&&(be===0?rt=pi(H,We):rt=W2(H,We),We+=4),e.type===Sa.VIDEO){let Fe=0;for(;Fe<$e;){const ze=pi(i,ct);if(ct+=4,Hj(l,i[ct])){const pt=i.subarray(ct,ct+ze);_k(pt,l?2:1,n+rt/r,t)}ct+=ze,Fe+=ze+4}}n+=Ue/r}}))})})}),t}function jS(n){if(!n)return!1;const e=n.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function Hj(n,e){if(n){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function _k(n,e,t,i){const r=J2(n);let o=0;o+=e;let l=0,c=0,f=0;for(;o<r.length;){l=0;do{if(o>=r.length)break;f=r[o++],l+=f}while(f===255);c=0;do{if(o>=r.length)break;f=r[o++],c+=f}while(f===255);const h=r.length-o;let g=o;if(c<h)o+=c;else if(c>h){ga.error(`Malformed SEI payload. ${c} is too small, only ${h} bytes left to parse.`);break}if(l===4){if(r[g++]===181){const p=Y2(r,g);if(g+=2,p===49){const y=pi(r,g);if(g+=4,y===1195456820){const E=r[g++];if(E===3){const A=r[g++],w=31&A,M=64&A,x=M?2+w*3:0,C=new Uint8Array(x);if(M){C[0]=A;for(let O=1;O<x;O++)C[O]=r[g++]}i.push({type:E,payloadType:l,pts:t,bytes:C})}}}}}else if(l===5&&c>16){const m=[];for(let E=0;E<16;E++){const A=r[g++].toString(16);m.push(A.length==1?"0"+A:A),(E===3||E===5||E===7||E===9)&&m.push("-")}const p=c-16,y=new Uint8Array(p);for(let E=0;E<p;E++)y[E]=r[g++];i.push({payloadType:l,pts:t,uuid:m.join(""),userData:eo(y),userDataBytes:y})}}}function J2(n){const e=n.byteLength,t=[];let i=1;for(;i<e-2;)n[i]===0&&n[i+1]===0&&n[i+2]===3?(t.push(i+2),i+=2):i++;if(t.length===0)return n;const r=e-t.length,o=new Uint8Array(r);let l=0;for(i=0;i<r;l++,i++)l===t[0]&&(l++,t.shift()),o[i]=n[l];return o}function Gj(n){const e=n[0];let t="",i="",r=0,o=0,l=0,c=0,f=0,h=0;if(e===0){for(;Sr(n.subarray(h,h+1))!=="\0";)t+=Sr(n.subarray(h,h+1)),h+=1;for(t+=Sr(n.subarray(h,h+1)),h+=1;Sr(n.subarray(h,h+1))!=="\0";)i+=Sr(n.subarray(h,h+1)),h+=1;i+=Sr(n.subarray(h,h+1)),h+=1,r=pi(n,12),o=pi(n,16),c=pi(n,20),f=pi(n,24),h=28}else if(e===1){h+=4,r=pi(n,h),h+=4;const m=pi(n,h);h+=4;const p=pi(n,h);for(h+=4,l=2**32*m+p,_j(l)||(l=Number.MAX_SAFE_INTEGER,ga.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),c=pi(n,h),h+=4,f=pi(n,h),h+=4;Sr(n.subarray(h,h+1))!=="\0";)t+=Sr(n.subarray(h,h+1)),h+=1;for(t+=Sr(n.subarray(h,h+1)),h+=1;Sr(n.subarray(h,h+1))!=="\0";)i+=Sr(n.subarray(h,h+1)),h+=1;i+=Sr(n.subarray(h,h+1)),h+=1}const g=n.subarray(h,n.byteLength);return{schemeIdUri:t,value:i,timeScale:r,presentationTime:l,presentationTimeDelta:o,eventDuration:c,id:f,payload:g}}function Vj(n,...e){const t=e.length;let i=8,r=t;for(;r--;)i+=e[r].byteLength;const o=new Uint8Array(i);for(o[0]=i>>24&255,o[1]=i>>16&255,o[2]=i>>8&255,o[3]=i&255,o.set(n,4),r=0,i=8;r<t;r++)o.set(e[r],i),i+=e[r].byteLength;return o}function Kj(n,e,t){if(n.byteLength!==16)throw new RangeError("Invalid system id");let i,r;i=0,r=new Uint8Array;let o;i>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const l=new Uint8Array(4);return t.byteLength>0&&new DataView(l.buffer).setUint32(0,t.byteLength,!1),Vj([112,115,115,104],new Uint8Array([i,0,0,0]),n,o,r,l,t)}function Yj(n){const e=[];if(n instanceof ArrayBuffer){const t=n.byteLength;let i=0;for(;i+32<t;){const r=new DataView(n,i),o=Wj(r);e.push(o),i+=o.size}}return e}function Wj(n){const e=n.getUint32(0),t=n.byteOffset,i=n.byteLength;if(i<e)return{offset:t,size:i};if(n.getUint32(4)!==1886614376)return{offset:t,size:e};const o=n.getUint32(8)>>>24;if(o!==0&&o!==1)return{offset:t,size:e};const l=n.buffer,c=Yr(new Uint8Array(l,t+12,16));let f=null,h=null,g=0;if(o===0)g=28;else{const p=n.getUint32(28);if(!p||i<32+p*16)return{offset:t,size:e};f=[];for(let y=0;y<p;y++)f.push(new Uint8Array(l,t+32+y*16,16));g=32+p*16}if(!g)return{offset:t,size:e};const m=n.getUint32(g);return e-32<m?{offset:t,size:e}:(h=new Uint8Array(l,t+g+4,m),{version:o,systemId:c,kids:f,data:h,offset:t,size:e})}const eU=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Lg={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Tk(n,e){const t=Lg[e];return!!t&&!!t[n.slice(0,4)]}function Ny(n,e,t=!0){return!n.split(",").some(i=>!Sk(i,e,t))}function Sk(n,e,t=!0){var i;const r=Fd(t);return(i=r?.isTypeSupported(Oy(n,e)))!=null?i:!1}function Oy(n,e){return`${e}/mp4;codecs=${n}`}function xL(n){if(n){const e=n.substring(0,4);return Lg.video[e]}return 2}function UT(n){const e=eU();return n.split(",").reduce((t,i)=>{const o=e&&jS(i)?9:Lg.video[i];return o?(o*2+t)/(t?3:2):(Lg.audio[i]+t)/(t?2:1)},0)}const Mw={};function Qj(n,e=!0){if(Mw[n])return Mw[n];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[n];for(let r=0;r<t.length;r++){var i;if(Sk(t[r],"audio",e))return Mw[n]=t[r],t[r];if(t[r]==="mp3"&&(i=Fd(e))!=null&&i.isTypeSupported("audio/mpeg"))return""}return n}const Xj=/flac|opus|mp4a\.40\.34/i;function FT(n,e=!0){return n.replace(Xj,t=>Qj(t.toLowerCase(),e))}function Zj(n,e){const t=[];if(n){const i=n.split(",");for(let r=0;r<i.length;r++)Tk(i[r],"video")||t.push(i[r])}return e&&t.push(e),t.join(",")}function r_(n,e){if(n&&(n.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(n)!==-1)&&(CL(n,"audio")||CL(n,"video")))return n;if(e){const t=e.split(",");if(t.length>1){if(n){for(let i=t.length;i--;)if(t[i].substring(0,4)===n.substring(0,4))return t[i]}return t[0]}}return e||n}function CL(n,e){return Tk(n,e)&&Sk(n,e)}function Jj(n){const e=n.split(",");for(let t=0;t<e.length;t++){const i=e[t].split(".");i.length>2&&i[0]==="avc1"&&(e[t]=`avc1.${parseInt(i[1]).toString(16)}${("000"+parseInt(i[2]).toString(16)).slice(-4)}`)}return e.join(",")}function eH(n){if(n.startsWith("av01.")){const e=n.split("."),t=["0","111","01","01","01","0"];for(let i=e.length;i>4&&i<10;i++)e[i]=t[i-4];return e.join(".")}return n}function DL(n){const e=Fd(n)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function pR(n){return n.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const tH={supported:!0,powerEfficient:!0,smooth:!0},nH={supported:!1,smooth:!1,powerEfficient:!1},tU={supported:!0,configurations:[],decodingInfoResults:[tH]};function nU(n,e){return{supported:!1,configurations:e,decodingInfoResults:[nH],error:n}}function iH(n,e,t,i,r,o){const l=n.videoCodec,c=n.audioCodec?n.audioGroups:null,f=o?.audioCodec,h=o?.channels,g=h?parseInt(h):f?1/0:2;let m=null;if(c!=null&&c.length)try{c.length===1&&c[0]?m=e.groups[c[0]].channels:m=c.reduce((p,y)=>{if(y){const E=e.groups[y];if(!E)throw new Error(`Audio track group ${y} not found`);Object.keys(E.channels).forEach(A=>{p[A]=(p[A]||0)+E.channels[A]})}return p},{2:0})}catch{return!0}return l!==void 0&&(l.split(",").some(p=>jS(p))||n.width>1920&&n.height>1088||n.height>1920&&n.width>1088||n.frameRate>Math.max(i,30)||n.videoRange!=="SDR"&&n.videoRange!==t||n.bitrate>Math.max(r,8e6))||!!m&&Un(g)&&Object.keys(m).some(p=>parseInt(p)>g)}function iU(n,e,t,i={}){const r=n.videoCodec;if(!r&&!n.audioCodec||!t)return Promise.resolve(tU);const o=[],l=aH(n),c=l.length,f=rH(n,e,c>0),h=f.length;for(let g=c||1*h||1;g--;){const m={type:"media-source"};if(c&&(m.video=l[g%c]),h){m.audio=f[g%h];const p=m.audio.bitrate;m.video&&p&&(m.video.bitrate-=p)}o.push(m)}if(r){const g=navigator.userAgent;if(r.split(",").some(m=>jS(m))&&eU())return Promise.resolve(nU(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${g})`),o))}return Promise.all(o.map(g=>{const m=oH(g);return i[m]||(i[m]=t.decodingInfo(g))})).then(g=>({supported:!g.some(m=>!m.supported),configurations:o,decodingInfoResults:g})).catch(g=>({supported:!1,configurations:o,decodingInfoResults:[],error:g}))}function aH(n){var e;const t=(e=n.videoCodec)==null?void 0:e.split(","),i=aU(n),r=n.width||640,o=n.height||480,l=n.frameRate||30,c=n.videoRange.toLowerCase();return t?t.map(f=>{const h={contentType:Oy(eH(f),"video"),width:r,height:o,bitrate:i,framerate:l};return c!=="sdr"&&(h.transferFunction=c),h}):[]}function rH(n,e,t){var i;const r=(i=n.audioCodec)==null?void 0:i.split(","),o=aU(n);return r&&n.audioGroups?n.audioGroups.reduce((l,c)=>{var f;const h=c?(f=e.groups[c])==null?void 0:f.tracks:null;return h?h.reduce((g,m)=>{if(m.groupId===c){const p=parseFloat(m.channels||"");r.forEach(y=>{const E={contentType:Oy(y,"audio"),bitrate:t?sH(y,o):o};p&&(E.channels=""+p),g.push(E)})}return g},l):l},[]):[]}function sH(n,e){if(e<=1)return 1;let t=128e3;return n==="ec-3"?t=768e3:n==="ac-3"&&(t=64e4),Math.min(e/2,t)}function aU(n){return Math.ceil(Math.max(n.bitrate*.9,n.averageBitrate)/1e3)*1e3||1}function oH(n){let e="";const{audio:t,video:i}=n;if(i){const r=pR(i.contentType);e+=`${r}_r${i.height}x${i.width}f${Math.ceil(i.framerate)}${i.transferFunction||"sd"}_${Math.ceil(i.bitrate/1e5)}`}if(t){const r=pR(t.contentType);e+=`${i?"_":""}${r}_c${t.channels}`}return e}const vR=["NONE","TYPE-0","TYPE-1",null];function lH(n){return vR.indexOf(n)>-1}const BT=["SDR","PQ","HLG"];function uH(n){return!!n&&BT.indexOf(n)>-1}var s_={No:"",Yes:"YES",v2:"v2"};function LL(n){const{canSkipUntil:e,canSkipDateRanges:t,age:i}=n,r=i<e/2;return e&&r?t?s_.v2:s_.Yes:s_.No}class ML{constructor(e,t,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=i}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Py{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(i=>!!i).map(i=>i.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const i=(t=e.supplemental)==null?void 0:t.videoCodec;i&&i!==e.videoCodec&&(this.codecSet+=`,${i.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return NL(this._audioGroups,e)}hasSubtitleGroup(e){return NL(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let i=this._audioGroups;i||(i=this._audioGroups=[]),i.indexOf(t)===-1&&i.push(t)}else if(e==="text"){let i=this._subtitleGroups;i||(i=this._subtitleGroups=[]),i.indexOf(t)===-1&&i.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function NL(n,e){return!e||!n?!1:n.indexOf(e)!==-1}function cH(){if(typeof matchMedia=="function"){const n=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(n.media!==e.media)return n.matches===!0}return!1}function dH(n,e){let t=!1,i=[];if(n&&(t=n!=="SDR",i=[n]),e){i=e.allowedVideoRanges||BT.slice(0);const r=i.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:r&&cH(),t||(i=["SDR"])}return{preferHDR:t,allowedVideoRanges:i}}const fH=n=>{const e=new WeakSet;return(t,i)=>{if(n&&(i=n(t,i)),typeof i=="object"&&i!==null){if(e.has(i))return;e.add(i)}return i}},Aa=(n,e)=>JSON.stringify(n,fH(e));function hH(n,e,t,i,r){const o=Object.keys(n),l=i?.channels,c=i?.audioCodec,f=r?.videoCodec,h=l&&parseInt(l)===2;let g=!1,m=!1,p=1/0,y=1/0,E=1/0,A=1/0,w=0,M=[];const{preferHDR:x,allowedVideoRanges:C}=dH(e,r);for(let H=o.length;H--;){const be=n[o[H]];g||(g=be.channels[2]>0),p=Math.min(p,be.minHeight),y=Math.min(y,be.minFramerate),E=Math.min(E,be.minBitrate),C.filter(Me=>be.videoRanges[Me]>0).length>0&&(m=!0)}p=Un(p)?p:0,y=Un(y)?y:0;const O=Math.max(1080,p),z=Math.max(30,y);E=Un(E)?E:t,t=Math.max(E,t),m||(e=void 0);const se=o.length>1;return{codecSet:o.reduce((H,be)=>{const Ae=n[be];if(be===H)return H;if(M=m?C.filter(Me=>Ae.videoRanges[Me]>0):[],se){if(Ae.minBitrate>t)return Bl(be,`min bitrate of ${Ae.minBitrate} > current estimate of ${t}`),H;if(!Ae.hasDefaultAudio)return Bl(be,"no renditions with default or auto-select sound found"),H;if(c&&be.indexOf(c.substring(0,4))%5!==0)return Bl(be,`audio codec preference "${c}" not found`),H;if(l&&!h){if(!Ae.channels[l])return Bl(be,`no renditions with ${l} channel sound found (channels options: ${Object.keys(Ae.channels)})`),H}else if((!c||h)&&g&&Ae.channels[2]===0)return Bl(be,"no renditions with stereo sound found"),H;if(Ae.minHeight>O)return Bl(be,`min resolution of ${Ae.minHeight} > maximum of ${O}`),H;if(Ae.minFramerate>z)return Bl(be,`min framerate of ${Ae.minFramerate} > maximum of ${z}`),H;if(!M.some(Me=>Ae.videoRanges[Me]>0))return Bl(be,`no variants with VIDEO-RANGE of ${Aa(M)} found`),H;if(f&&be.indexOf(f.substring(0,4))%5!==0)return Bl(be,`video codec preference "${f}" not found`),H;if(Ae.maxScore<w)return Bl(be,`max score of ${Ae.maxScore} < selected max of ${w}`),H}return H&&(UT(be)>=UT(H)||Ae.fragmentError>n[H].fragmentError)?H:(A=Ae.minIndex,w=Ae.maxScore,be)},void 0),videoRanges:M,preferHDR:x,minFramerate:y,minBitrate:E,minIndex:A}}function Bl(n,e){ga.log(`[abr] start candidates with "${n}" ignored because ${e}`)}function rU(n){return n.reduce((e,t)=>{let i=e.groups[t.groupId];i||(i=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(t);const r=t.channels||"2";return i.channels[r]=(i.channels[r]||0)+1,i.hasDefault=i.hasDefault||t.default,i.hasAutoSelect=i.hasAutoSelect||t.autoselect,i.hasDefault&&(e.hasDefaultAudio=!0),i.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function mH(n,e,t,i){return n.slice(t,i+1).reduce((r,o,l)=>{if(!o.codecSet)return r;const c=o.audioGroups;let f=r[o.codecSet];f||(r[o.codecSet]=f={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:l,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!c,fragmentError:0}),f.minBitrate=Math.min(f.minBitrate,o.bitrate);const h=Math.min(o.height,o.width);return f.minHeight=Math.min(f.minHeight,h),f.minFramerate=Math.min(f.minFramerate,o.frameRate),f.minIndex=Math.min(f.minIndex,l),f.maxScore=Math.max(f.maxScore,o.score),f.fragmentError+=o.fragmentError,f.videoRanges[o.videoRange]=(f.videoRanges[o.videoRange]||0)+1,c&&c.forEach(g=>{if(!g)return;const m=e.groups[g];m&&(f.hasDefaultAudio=f.hasDefaultAudio||e.hasDefaultAudio?m.hasDefault:m.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(m.channels).forEach(p=>{f.channels[p]=(f.channels[p]||0)+m.channels[p]}))}),r},{})}function OL(n){if(!n)return n;const{lang:e,assocLang:t,characteristics:i,channels:r,audioCodec:o}=n;return{lang:e,assocLang:t,characteristics:i,channels:r,audioCodec:o}}function cu(n,e,t){if("attrs"in n){const i=e.indexOf(n);if(i!==-1)return i}for(let i=0;i<e.length;i++){const r=e[i];if(Wf(n,r,t))return i}return-1}function Wf(n,e,t){const{groupId:i,name:r,lang:o,assocLang:l,default:c}=n,f=n.forced;return(i===void 0||e.groupId===i)&&(r===void 0||e.name===r)&&(o===void 0||gH(o,e.lang))&&(o===void 0||e.assocLang===l)&&(c===void 0||e.default===c)&&(f===void 0||e.forced===f)&&(!("characteristics"in n)||pH(n.characteristics||"",e.characteristics))&&(t===void 0||t(n,e))}function gH(n,e="--"){return n.length===e.length?n===e:n.startsWith(e)||e.startsWith(n)}function pH(n,e=""){const t=n.split(","),i=e.split(",");return t.length===i.length&&!t.some(r=>i.indexOf(r)===-1)}function xf(n,e){const{audioCodec:t,channels:i}=n;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(i===void 0||i===(e.channels||"2"))}function vH(n,e,t,i,r){const o=e[i],c=e.reduce((p,y,E)=>{const A=y.uri;return(p[A]||(p[A]=[])).push(E),p},{})[o.uri];c.length>1&&(i=Math.max.apply(Math,c));const f=o.videoRange,h=o.frameRate,g=o.codecSet.substring(0,4),m=PL(e,i,p=>{if(p.videoRange!==f||p.frameRate!==h||p.codecSet.substring(0,4)!==g)return!1;const y=p.audioGroups,E=t.filter(A=>!y||y.indexOf(A.groupId)!==-1);return cu(n,E,r)>-1});return m>-1?m:PL(e,i,p=>{const y=p.audioGroups,E=t.filter(A=>!y||y.indexOf(A.groupId)!==-1);return cu(n,E,r)>-1})}function PL(n,e,t){for(let i=e;i>-1;i--)if(t(n[i]))return i;for(let i=e+1;i<n.length;i++)if(t(n[i]))return i;return-1}function zT(n,e){var t;return!!n&&n!==((t=e.loadLevelObj)==null?void 0:t.uri)}class yH extends Oo{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var i;const{fragCurrent:r,partCurrent:o,hls:l}=this,{autoLevelEnabled:c,media:f}=l;if(!r||!f)return;const h=performance.now(),g=o?o.stats:r.stats,m=o?o.duration:r.duration,p=h-g.loading.start,y=l.minAutoLevel,E=r.level,A=this._nextAutoLevel;if(g.aborted||g.loaded&&g.loaded===g.total||E<=y){this.clearTimer(),this._nextAutoLevel=-1;return}if(!c)return;const w=A>-1&&A!==E,M=!!t||w;if(!M&&(f.paused||!f.playbackRate||!f.readyState))return;const x=l.mainForwardBufferInfo;if(!M&&x===null)return;const C=this.bwEstimator.getEstimateTTFB(),O=Math.abs(f.playbackRate);if(p<=Math.max(C,1e3*(m/(O*2))))return;const z=x?x.len/O:0,se=g.loading.first?g.loading.first-g.loading.start:-1,F=g.loaded&&se>-1,H=this.getBwEstimate(),be=l.levels,Ae=be[E],Me=Math.max(g.loaded,Math.round(m*(r.bitrate||Ae.averageBitrate)/8));let Ve=F?p-se:p;Ve<1&&F&&(Ve=Math.min(p,g.loaded*8/H));const Se=F?g.loaded*1e3/Ve:0,He=C/1e3,Ue=Se?(Me-g.loaded)/Se:Me*8/H+He;if(Ue<=z)return;const he=Se?Se*8:H,$e=((i=t?.details||this.hls.latestLevelDetails)==null?void 0:i.live)===!0,Ye=this.hls.config.abrBandWidthUpFactor;let tt=Number.POSITIVE_INFINITY,rt;for(rt=E-1;rt>y;rt--){const It=be[rt].maxBitrate,Fe=!be[rt].details||$e;if(tt=this.getTimeToLoadFrag(He,he,m*It,Fe),tt<Math.min(z,m+He))break}if(tt>=Ue||tt>m*10)return;F?this.bwEstimator.sample(p-Math.min(C,se),g.loaded):this.bwEstimator.sampleTTFB(p);const De=be[rt].maxBitrate;this.getBwEstimate()*Ye>De&&this.resetEstimator(De);const We=this.findBestLevel(De,y,rt,0,z,1,1);We>-1&&(rt=We),this.warn(`Fragment ${r.sn}${o?" part "+o.index:""} of level ${E} is loading too slowly;
      Fragment duration: ${r.duration.toFixed(3)}
      Time to underbuffer: ${z.toFixed(3)} s
      Estimated load time for current fragment: ${Ue.toFixed(3)} s
      Estimated load time for down switch fragment: ${tt.toFixed(3)} s
      TTFB estimate: ${se|0} ms
      Current BW estimate: ${Un(H)?H|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${rt} @ ${De|0} bps`),l.nextLoadLevel=l.nextAutoLevel=rt,this.clearTimer();const ct=()=>{if(this.clearTimer(),this.fragCurrent===r&&this.hls.loadLevel===rt&&rt>0){const It=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${rt>0?"and switching down":""}
      Fragment duration: ${r.duration.toFixed(3)} s
      Time to underbuffer: ${It.toFixed(3)} s`),r.abortRequests(),this.fragCurrent=this.partCurrent=null,rt>y){let Fe=this.findBestLevel(this.hls.levels[y].bitrate,y,rt,0,It,1,1);Fe===-1&&(Fe=y),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Fe,this.resetEstimator(this.hls.levels[Fe].bitrate)}}};w||Ue>tt*2?ct():this.timer=self.setInterval(ct,tt*1e3),l.trigger(Te.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:o,stats:g})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Sj(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.FRAG_LOADING,this.onFragLoading,this),e.on(Te.FRAG_LOADED,this.onFragLoaded,this),e.on(Te.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Te.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Te.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Te.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.FRAG_LOADING,this.onFragLoading,this),e.off(Te.FRAG_LOADED,this.onFragLoaded,this),e.off(Te.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Te.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Te.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Te.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const i=t.frag;if(!this.ignoreFragment(i)){if(!i.bitrateTest){var r;this.fragCurrent=i,this.partCurrent=(r=t.part)!=null?r:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case Dt.BUFFER_ADD_CODEC_ERROR:case Dt.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Dt.FRAG_LOAD_TIMEOUT:{const i=t.frag,{fragCurrent:r,partCurrent:o}=this;if(i&&r&&i.sn===r.sn&&i.level===r.level){const l=performance.now(),c=o?o.stats:i.stats,f=l-c.loading.start,h=c.loading.first?c.loading.first-c.loading.start:-1;if(c.loaded&&h>-1){const m=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(f-Math.min(m,h),c.loaded)}else this.bwEstimator.sampleTTFB(f)}break}}}getTimeToLoadFrag(e,t,i,r){const o=e+i/t,l=r?e+this.lastLevelLoadSec:0;return o+l}onLevelLoaded(e,t){const i=this.hls.config,{loading:r}=t.stats,o=r.end-r.first;Un(o)&&(this.lastLevelLoadSec=o/1e3),t.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:i}){const r=i?i.stats:t.stats;if(t.type===Gn.MAIN&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const o=i?i.duration:t.duration,l=this.hls.levels[t.level],c=(l.loaded?l.loaded.bytes:0)+r.loaded,f=(l.loaded?l.loaded.duration:0)+o;l.loaded={bytes:c,duration:f},l.realBitrate=Math.round(8*c/f)}if(t.bitrateTest){const o={stats:r,frag:t,part:i,id:t.type};this.onFragBuffered(Te.FRAG_BUFFERED,o),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:i,part:r}=t,o=r!=null&&r.stats.loaded?r.stats:i.stats;if(o.aborted||this.ignoreFragment(i))return;const l=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(l,o.loaded),o.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=l/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Gn.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,i=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,o=this.findBestLevel(i,t,e,0,r,1,1);if(o>-1)return o;const l=this.hls.firstLevel,c=Math.min(Math.max(l,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${l} clamped to ${c}`),c}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,i=this.bwEstimator.canEstimate(),r=this.lastLoadedFragLevel>-1;if(e!==-1&&(!i||!r||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const o=i&&r?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const l=this.hls.levels;if(l.length>Math.max(e,o)&&l[e].loadError<=l[o].loadError)return e}return this._nextAutoLevel=o,this.nextAutoLevelKey=this.getAutoLevelKey(),o}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:i}=this;if(i.levels.length<=1)return i.loadLevel;const{maxAutoLevel:r,config:o,minAutoLevel:l}=i,c=t?t.duration:e?e.duration:0,f=this.getBwEstimate(),h=this.getStarvationDelay();let g=o.abrBandWidthFactor,m=o.abrBandWidthUpFactor;if(h){const w=this.findBestLevel(f,l,r,h,0,g,m);if(w>=0)return this.rebufferNotice=-1,w}let p=c?Math.min(c,o.maxStarvationDelay):o.maxStarvationDelay;if(!h){const w=this.bitrateTestDelay;w&&(p=(c?Math.min(c,o.maxLoadingDelay):o.maxLoadingDelay)-w,this.info(`bitrate test took ${Math.round(1e3*w)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),g=m=1)}const y=this.findBestLevel(f,l,r,h,p,g,m);if(this.rebufferNotice!==y&&(this.rebufferNotice=y,this.info(`${h?"rebuffering expected":"buffer is empty"}, optimal quality level ${y}`)),y>-1)return y;const E=i.levels[l],A=i.loadLevelObj;return A&&E?.bitrate<A.bitrate?l:i.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const i=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,r=e.mainForwardBufferInfo;return(r?r.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,i,r,o,l,c){var f;const h=r+o,g=this.lastLoadedFragLevel,m=g===-1?this.hls.firstLevel:g,{fragCurrent:p,partCurrent:y}=this,{levels:E,allAudioTracks:A,loadLevel:w,config:M}=this.hls;if(E.length===1)return 0;const x=E[m],C=!!((f=this.hls.latestLevelDetails)!=null&&f.live),O=w===-1||g===-1;let z,se="SDR",F=x?.frameRate||0;const{audioPreference:H,videoPreference:be}=M,Ae=this.audioTracksByGroup||(this.audioTracksByGroup=rU(A));let Me=-1;if(O){if(this.firstSelection!==-1)return this.firstSelection;const he=this.codecTiers||(this.codecTiers=mH(E,Ae,t,i)),$e=hH(he,se,e,H,be),{codecSet:Ye,videoRanges:tt,minFramerate:rt,minBitrate:De,minIndex:We,preferHDR:ct}=$e;Me=We,z=Ye,se=ct?tt[tt.length-1]:tt[0],F=rt,e=Math.max(e,De),this.log(`picked start tier ${Aa($e)}`)}else z=x?.codecSet,se=x?.videoRange;const Ve=y?y.duration:p?p.duration:0,Se=this.bwEstimator.getEstimateTTFB()/1e3,He=[];for(let he=i;he>=t;he--){var Ue;const $e=E[he],Ye=he>m;if(!$e)continue;if(M.useMediaCapabilities&&!$e.supportedResult&&!$e.supportedPromise){const Fe=navigator.mediaCapabilities;typeof Fe?.decodingInfo=="function"&&iH($e,Ae,se,F,e,H)?($e.supportedPromise=iU($e,Ae,Fe,this.supportedCache),$e.supportedPromise.then(ze=>{if(!this.hls)return;$e.supportedResult=ze;const pt=this.hls.levels,re=pt.indexOf($e);ze.error?this.warn(`MediaCapabilities decodingInfo error: "${ze.error}" for level ${re} ${Aa(ze)}`):ze.supported?ze.decodingInfoResults.some(ee=>ee.smooth===!1||ee.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${re} not smooth or powerEfficient: ${Aa(ze)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${re} ${Aa(ze)}`),re>-1&&pt.length>1&&(this.log(`Removing unsupported level ${re}`),this.hls.removeLevel(re),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(ze=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${ze}`)})):$e.supportedResult=tU}if((z&&$e.codecSet!==z||se&&$e.videoRange!==se||Ye&&F>$e.frameRate||!Ye&&F>0&&F<$e.frameRate||(Ue=$e.supportedResult)!=null&&(Ue=Ue.decodingInfoResults)!=null&&Ue.some(Fe=>Fe.smooth===!1))&&(!O||he!==Me)){He.push(he);continue}const tt=$e.details,rt=(y?tt?.partTarget:tt?.averagetargetduration)||Ve;let De;Ye?De=c*e:De=l*e;const We=Ve&&r>=Ve*2&&o===0?$e.averageBitrate:$e.maxBitrate,ct=this.getTimeToLoadFrag(Se,De,We*rt,tt===void 0);if(De>=We&&(he===g||$e.loadError===0&&$e.fragmentError===0)&&(ct<=Se||!Un(ct)||C&&!this.bitrateTestDelay||ct<h)){const Fe=this.forcedAutoLevel;return he!==w&&(Fe===-1||Fe!==w)&&(He.length&&this.trace(`Skipped level(s) ${He.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${E[He[0]].codecs}" ${E[He[0]].videoRange}; not compatible with "${z}" ${se}`),this.info(`switch candidate:${m}->${he} adjustedbw(${Math.round(De)})-bitrate=${Math.round(De-We)} ttfb:${Se.toFixed(1)} avgDuration:${rt.toFixed(1)} maxFetchDuration:${h.toFixed(1)} fetchDuration:${ct.toFixed(1)} firstSelection:${O} codecSet:${$e.codecSet} videoRange:${$e.videoRange} hls.loadLevel:${w}`)),O&&(this.firstSelection=he),he}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:i}=this.hls;return Math.min(Math.max(e,i),t)}}const sU={search:function(n,e){let t=0,i=n.length-1,r=null,o=null;for(;t<=i;){r=(t+i)/2|0,o=n[r];const l=e(o);if(l>0)t=r+1;else if(l<0)i=r-1;else return o}return null}};function EH(n,e,t){if(e===null||!Array.isArray(n)||!n.length||!Un(e))return null;const i=n[0].programDateTime;if(e<(i||0))return null;const r=n[n.length-1].endProgramDateTime;if(e>=(r||0))return null;for(let o=0;o<n.length;++o){const l=n[o];if(_H(e,t,l))return l}return null}function lh(n,e,t=0,i=0,r=.005){let o=null;if(n){o=e[1+n.sn-e[0].sn]||null;const c=n.endDTS-t;c>0&&c<15e-7&&(t+=15e-7),o&&n.level!==o.level&&o.end<=n.end&&(o=e[2+n.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(o=e[0]);if(o&&((!n||n.level===o.level)&&UL(t,i,o)===0||bH(o,n,Math.min(r,i))))return o;const l=sU.search(e,UL.bind(null,t,i));return l&&(l!==n||!o)?l:o}function bH(n,e,t){if(e&&e.start===0&&e.level<n.level&&(e.endPTS||0)>0){const i=e.tagList.reduce((r,o)=>(o[0]==="INF"&&(r+=parseFloat(o[1])),r),t);return n.start<=i}return!1}function UL(n=0,e=0,t){if(t.start<=n&&t.start+t.duration>n)return 0;const i=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-i<=n?1:t.start-i>n&&t.start?-1:0}function _H(n,e,t){const i=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-i>n}function oU(n,e,t){if(n&&n.startCC<=e&&n.endCC>=e){let i=n.fragments;const{fragmentHint:r}=n;r&&(i=i.concat(r));let o;return sU.search(i,l=>l.cc<e?1:l.cc>e?-1:(o=l,l.end<=t?1:l.start>t?-1:0)),o||null}return null}function $T(n){switch(n.details){case Dt.FRAG_LOAD_TIMEOUT:case Dt.KEY_LOAD_TIMEOUT:case Dt.LEVEL_LOAD_TIMEOUT:case Dt.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function lU(n){return n.details.startsWith("key")}function uU(n){return lU(n)&&!!n.frag&&!n.frag.decryptdata}function FL(n,e){const t=$T(e);return n.default[`${t?"timeout":"error"}Retry`]}function Ak(n,e){const t=n.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*n.retryDelayMs,n.maxRetryDelayMs)}function BL(n){return ma(ma({},n),{errorRetry:null,timeoutRetry:null})}function qT(n,e,t,i){if(!n)return!1;const r=i?.code,o=e<n.maxNumRetry&&(TH(r)||!!t);return n.shouldRetry?n.shouldRetry(n,e,t,i,o):o}function TH(n){return yR(n)||!!n&&(n<400||n>499)}function yR(n){return n===0&&navigator.onLine===!1}var Kr={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},Vs={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class SH extends Oo{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Te.ERROR,this.onError,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Te.ERROR,this.onError,this),e.off(Te.ERROR,this.onErrorOut,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===Gn.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const t=this.hls,i=t.currentLevel;return(e=t.loadLevelObj)!=null&&e.details||i===-1?t.loadLevel:i}variantHasKey(e,t){if(e){var i;if((i=e.details)!=null&&i.hasKey(t))return!0;const r=e.audioGroups;if(r)return this.hls.allAudioTracks.filter(l=>r.indexOf(l.groupId)>=0).some(l=>{var c;return(c=l.details)==null?void 0:c.hasKey(t)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,t){var i;if(t.fatal)return;const r=this.hls,o=t.context;switch(t.details){case Dt.FRAG_LOAD_ERROR:case Dt.FRAG_LOAD_TIMEOUT:case Dt.KEY_LOAD_ERROR:case Dt.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case Dt.FRAG_PARSING_ERROR:if((i=t.frag)!=null&&i.gap){t.errorAction=mg();return}case Dt.FRAG_GAP:case Dt.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=Kr.SendAlternateToPenaltyBox;return}case Dt.LEVEL_EMPTY_ERROR:case Dt.LEVEL_PARSING_ERROR:{var l;const f=t.parent===Gn.MAIN?t.level:r.loadLevel;t.details===Dt.LEVEL_EMPTY_ERROR&&((l=t.context)!=null&&(l=l.levelDetails)!=null&&l.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,f):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,f))}return;case Dt.LEVEL_LOAD_ERROR:case Dt.LEVEL_LOAD_TIMEOUT:typeof o?.level=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,o.level));return;case Dt.AUDIO_TRACK_LOAD_ERROR:case Dt.AUDIO_TRACK_LOAD_TIMEOUT:case Dt.SUBTITLE_LOAD_ERROR:case Dt.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const f=r.loadLevelObj;if(f&&(o.type===Ui.AUDIO_TRACK&&f.hasAudioGroup(o.groupId)||o.type===Ui.SUBTITLE_TRACK&&f.hasSubtitleGroup(o.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.loadLevel),t.errorAction.action=Kr.SendAlternateToPenaltyBox,t.errorAction.flags=Vs.MoveAllAlternatesMatchingHost;return}}return;case Dt.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:t.errorAction={action:Kr.SendAlternateToPenaltyBox,flags:Vs.MoveAllAlternatesMatchingHDCP};return;case Dt.KEY_SYSTEM_SESSION_UPDATE_FAILED:case Dt.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case Dt.KEY_SYSTEM_NO_SESSION:t.errorAction={action:Kr.SendAlternateToPenaltyBox,flags:Vs.MoveAllAlternatesMatchingKey};return;case Dt.BUFFER_ADD_CODEC_ERROR:case Dt.REMUX_ALLOC_ERROR:case Dt.BUFFER_APPEND_ERROR:if(!t.errorAction){var c;t.errorAction=this.getLevelSwitchAction(t,(c=t.level)!=null?c:r.loadLevel)}return;case Dt.INTERNAL_EXCEPTION:case Dt.BUFFER_APPENDING_ERROR:case Dt.BUFFER_FULL_ERROR:case Dt.LEVEL_SWITCH_ERROR:case Dt.BUFFER_STALLED_ERROR:case Dt.BUFFER_SEEK_OVER_HOLE:case Dt.BUFFER_NUDGE_ON_STALL:t.errorAction=mg();return}t.type===ti.KEY_SYSTEM_ERROR&&(t.levelRetry=!1,t.errorAction=mg())}getPlaylistRetryOrSwitchAction(e,t){const i=this.hls,r=FL(i.config.playlistLoadPolicy,e),o=this.playlistError++;if(qT(r,o,$T(e),e.response))return{action:Kr.RetryRequest,flags:Vs.None,retryConfig:r,retryCount:o};const c=this.getLevelSwitchAction(e,t);return r&&(c.retryConfig=r,c.retryCount=o),c}getFragRetryOrSwitchAction(e){const t=this.hls,i=this.getVariantLevelIndex(e.frag),r=t.levels[i],{fragLoadPolicy:o,keyLoadPolicy:l}=t.config,c=FL(lU(e)?l:o,e),f=t.levels.reduce((g,m)=>g+m.fragmentError,0);if(r&&(e.details!==Dt.FRAG_GAP&&r.fragmentError++,!uU(e)&&qT(c,f,$T(e),e.response)))return{action:Kr.RetryRequest,flags:Vs.None,retryConfig:c,retryCount:f};const h=this.getLevelSwitchAction(e,i);return c&&(h.retryConfig=c,h.retryCount=f),h}getLevelSwitchAction(e,t){const i=this.hls;t==null&&(t=i.loadLevel);const r=this.hls.levels[t];if(r){var o,l;const h=e.details;r.loadError++,h===Dt.BUFFER_APPEND_ERROR&&r.fragmentError++;let g=-1;const{levels:m,loadLevel:p,minAutoLevel:y,maxAutoLevel:E}=i;!i.autoLevelEnabled&&!i.config.preserveManualLevelOnError&&(i.loadLevel=-1);const A=(o=e.frag)==null?void 0:o.type,M=(A===Gn.AUDIO&&h===Dt.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(h===Dt.BUFFER_ADD_CODEC_ERROR||h===Dt.BUFFER_APPEND_ERROR))&&m.some(({audioCodec:se})=>r.audioCodec!==se),C=e.sourceBufferName==="video"&&(h===Dt.BUFFER_ADD_CODEC_ERROR||h===Dt.BUFFER_APPEND_ERROR)&&m.some(({codecSet:se,audioCodec:F})=>r.codecSet!==se&&r.audioCodec===F),{type:O,groupId:z}=(l=e.context)!=null?l:{};for(let se=m.length;se--;){const F=(se+p)%m.length;if(F!==p&&F>=y&&F<=E&&m[F].loadError===0){var c,f;const H=m[F];if(h===Dt.FRAG_GAP&&A===Gn.MAIN&&e.frag){const be=m[F].details;if(be){const Ae=lh(e.frag,be.fragments,e.frag.start);if(Ae!=null&&Ae.gap)continue}}else{if(O===Ui.AUDIO_TRACK&&H.hasAudioGroup(z)||O===Ui.SUBTITLE_TRACK&&H.hasSubtitleGroup(z))continue;if(A===Gn.AUDIO&&(c=r.audioGroups)!=null&&c.some(be=>H.hasAudioGroup(be))||A===Gn.SUBTITLE&&(f=r.subtitleGroups)!=null&&f.some(be=>H.hasSubtitleGroup(be))||M&&r.audioCodec===H.audioCodec||C&&r.codecSet===H.codecSet||!M&&r.codecSet!==H.codecSet)continue}g=F;break}}if(g>-1&&i.loadLevel!==g)return e.levelRetry=!0,this.playlistError=0,{action:Kr.SendAlternateToPenaltyBox,flags:Vs.None,nextAutoLevel:g}}return{action:Kr.SendAlternateToPenaltyBox,flags:Vs.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var i;switch((i=t.errorAction)==null?void 0:i.action){case Kr.DoNothing:break;case Kr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==Dt.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,i=e.errorAction;if(!i)return;const{flags:r}=i,o=i.nextAutoLevel;switch(r){case Vs.None:this.switchLevel(e,o);break;case Vs.MoveAllAlternatesMatchingHDCP:{const f=this.getVariantLevelIndex(e.frag),h=t.levels[f],g=h?.attrs["HDCP-LEVEL"];if(i.hdcpLevel=g,g==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(g){t.maxHdcpLevel=vR[vR.indexOf(g)-1],i.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}}case Vs.MoveAllAlternatesMatchingKey:{const f=e.decryptdata;if(f){const h=this.hls.levels,g=h.length;for(let p=g;p--;)if(this.variantHasKey(h[p],f)){var l,c;this.log(`Banned key found in level ${p} (${h[p].bitrate}bps) or audio group "${(l=h[p].audioGroups)==null?void 0:l.join(",")}" (${(c=e.frag)==null?void 0:c.type} fragment) ${Yr(f.keyId||[])}`),h[p].fragmentError++,h[p].loadError++,this.log(`Removing level ${p} with key error (${e.error})`),this.hls.removeLevel(p)}const m=e.frag;if(this.hls.levels.length<g)i.resolved=!0;else if(m&&m.type!==Gn.MAIN){const p=m.decryptdata;p&&!f.matches(p)&&(i.resolved=!0)}}break}}i.resolved||this.switchLevel(e,o)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===Dt.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const i=pR(e.mimeType),r=this.hls.levels;for(let o=r.length;o--;)r[o][`${e.sourceBufferName}Codec`]===i&&(this.log(`Removing level ${o} for ${e.details} ("${i}" not supported)`),this.hls.removeLevel(o))}}}function mg(n){const e={action:Kr.DoNothing,flags:Vs.None};return n&&(e.resolved=!0),e}var Rr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class AH{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Te.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Te.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Te.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Te.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const i=this.activePartLists[t];if(i)for(let r=i.length;r--;){const o=i[r];if(!o)break;if(o.start<=e&&e<=o.end&&o.loaded)return o}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,i){const{fragments:r}=this,o=Object.keys(r);for(let l=o.length;l--;){const c=r[o[l]];if(c?.body.type===t&&(!i||c.buffered)){const f=c.body;if(f.start<=e&&e<=f.end)return f}}return null}detectEvictedFragments(e,t,i,r,o){this.timeRanges&&(this.timeRanges[e]=t);const l=r?.fragment.sn||-1;Object.keys(this.fragments).forEach(c=>{const f=this.fragments[c];if(!f||l>=f.body.sn)return;if(!f.buffered&&(!f.loaded||o)){f.body.type===i&&this.removeFragment(f.body);return}const h=f.range[e];if(h){if(h.time.length===0){this.removeFragment(f.body);return}h.time.some(g=>{const m=!this.isTimeBuffered(g.startPTS,g.endPTS,t);return m&&this.removeFragment(f.body),m})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const i=e.frag,r=_m(i),o=this.fragments[r];if(!o||o.buffered&&i.gap)return;const l=!i.relurl;Object.keys(t).forEach(c=>{const f=i.elementaryStreams[c];if(!f)return;const h=t[c],g=l||f.partial===!0;o.range[c]=this.getBufferedTimes(i,e.part,g,h)}),o.loaded=null,Object.keys(o.range).length?(this.bufferedEnd(o,i),y0(o)||this.removeParts(i.sn-1,i.type)):this.removeFragment(o.body)}bufferedEnd(e,t){e.buffered=!0,(e.body.endList=t.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,t){const i=this.activePartLists[t];i&&(this.activePartLists[t]=zL(i,r=>r.fragment.sn>=e))}fragBuffered(e,t){const i=_m(e);let r=this.fragments[i];!r&&t&&(r=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,this.bufferedEnd(r,e))}getBufferedTimes(e,t,i,r){const o={time:[],partial:i},l=e.start,c=e.end,f=e.minEndPTS||c,h=e.maxStartPTS||l;for(let g=0;g<r.length;g++){const m=r.start(g)-this.bufferPadding,p=r.end(g)+this.bufferPadding;if(h>=m&&f<=p){o.time.push({startPTS:Math.max(l,r.start(g)),endPTS:Math.min(c,r.end(g))});break}else if(l<p&&c>m){const y=Math.max(l,r.start(g)),E=Math.min(c,r.end(g));E>y&&(o.partial=!0,o.time.push({startPTS:y,endPTS:E}))}else if(c<=m)break}return o}getPartialFragment(e){let t=null,i,r,o,l=0;const{bufferPadding:c,fragments:f}=this;return Object.keys(f).forEach(h=>{const g=f[h];g&&y0(g)&&(r=g.body.start-c,o=g.body.end+c,e>=r&&e<=o&&(i=Math.min(e-r,o-e),l<=i&&(t=g.body,l=i)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||y0(t))}getState(e){const t=_m(e),i=this.fragments[t];return i?i.buffered?y0(i)?Rr.PARTIAL:Rr.OK:Rr.APPENDING:Rr.NOT_LOADED}isTimeBuffered(e,t,i){let r,o;for(let l=0;l<i.length;l++){if(r=i.start(l)-this.bufferPadding,o=i.end(l)+this.bufferPadding,e>=r&&t<=o)return!0;if(t<=r)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const i=t.frag,r=t.part?null:t,o=_m(i);this.fragments[o]={body:i,appendedPTS:null,loaded:r,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:i,part:r,timeRanges:o,type:l}=t;if(i.sn==="initSegment")return;const c=i.type;if(r){let h=this.activePartLists[c];h||(this.activePartLists[c]=h=[]),h.push(r)}this.timeRanges=o;const f=o[l];this.detectEvictedFragments(l,f,c,r)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=_m(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,i=Object.keys(t);if(!e)return i.length>0;for(let r=i.length;r--;){const o=t[i[r]];if(o?.body.type===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,i,r,o){r&&!this.hasGaps||Object.keys(this.fragments).forEach(l=>{const c=this.fragments[l];if(!c)return;const f=c.body;f.type!==i||r&&!f.gap||f.start<t&&f.end>e&&(c.buffered||o)&&this.removeFragment(f)})}removeFragment(e){const t=_m(e);e.clearElementaryStreamInfo();const i=this.activePartLists[e.type];if(i){const r=e.sn;this.activePartLists[e.type]=zL(i,o=>o.fragment.sn!==r)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const t=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;t&&t.forEach(i=>i.clearElementaryStreamInfo())}}function y0(n){var e,t,i;return n.buffered&&!!(n.body.gap||(e=n.range.video)!=null&&e.partial||(t=n.range.audio)!=null&&t.partial||(i=n.range.audiovideo)!=null&&i.partial)}function _m(n){return`${n.type}_${n.level}_${n.sn}`}function zL(n,e){return n.filter(t=>{const i=e(t);return i||t.clearElementaryStreamInfo(),i})}var Bd={cbc:0,ctr:1};class wH{constructor(e,t,i){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=i}decrypt(e,t){switch(this.aesMode){case Bd.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case Bd.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function RH(n){const e=n.byteLength,t=e&&new DataView(n.buffer).getUint8(e-1);return t?n.slice(0,e-t):n}class IH{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),i=new Uint32Array(4);for(let r=0;r<4;r++)i[r]=t.getUint32(r*4);return i}initTable(){const e=this.sBox,t=this.invSBox,i=this.subMix,r=i[0],o=i[1],l=i[2],c=i[3],f=this.invSubMix,h=f[0],g=f[1],m=f[2],p=f[3],y=new Uint32Array(256);let E=0,A=0,w=0;for(w=0;w<256;w++)w<128?y[w]=w<<1:y[w]=w<<1^283;for(w=0;w<256;w++){let M=A^A<<1^A<<2^A<<3^A<<4;M=M>>>8^M&255^99,e[E]=M,t[M]=E;const x=y[E],C=y[x],O=y[C];let z=y[M]*257^M*16843008;r[E]=z<<24|z>>>8,o[E]=z<<16|z>>>16,l[E]=z<<8|z>>>24,c[E]=z,z=O*16843009^C*65537^x*257^E*16843008,h[M]=z<<24|z>>>8,g[M]=z<<16|z>>>16,m[M]=z<<8|z>>>24,p[M]=z,E?(E=x^y[y[y[O^x]]],A^=y[y[A]]):E=A=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let i=!0,r=0;for(;r<t.length&&i;)i=t[r]===this.key[r],r++;if(i)return;this.key=t;const o=this.keySize=t.length;if(o!==4&&o!==6&&o!==8)throw new Error("Invalid aes key size="+o);const l=this.ksRows=(o+6+1)*4;let c,f;const h=this.keySchedule=new Uint32Array(l),g=this.invKeySchedule=new Uint32Array(l),m=this.sBox,p=this.rcon,y=this.invSubMix,E=y[0],A=y[1],w=y[2],M=y[3];let x,C;for(c=0;c<l;c++){if(c<o){x=h[c]=t[c];continue}C=x,c%o===0?(C=C<<8|C>>>24,C=m[C>>>24]<<24|m[C>>>16&255]<<16|m[C>>>8&255]<<8|m[C&255],C^=p[c/o|0]<<24):o>6&&c%o===4&&(C=m[C>>>24]<<24|m[C>>>16&255]<<16|m[C>>>8&255]<<8|m[C&255]),h[c]=x=(h[c-o]^C)>>>0}for(f=0;f<l;f++)c=l-f,f&3?C=h[c]:C=h[c-4],f<4||c<=4?g[f]=C:g[f]=E[m[C>>>24]]^A[m[C>>>16&255]]^w[m[C>>>8&255]]^M[m[C&255]],g[f]=g[f]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,i){const r=this.keySize+6,o=this.invKeySchedule,l=this.invSBox,c=this.invSubMix,f=c[0],h=c[1],g=c[2],m=c[3],p=this.uint8ArrayToUint32Array_(i);let y=p[0],E=p[1],A=p[2],w=p[3];const M=new Int32Array(e),x=new Int32Array(M.length);let C,O,z,se,F,H,be,Ae,Me,Ve,Se,He,Ue,he;const $e=this.networkToHostOrderSwap;for(;t<M.length;){for(Me=$e(M[t]),Ve=$e(M[t+1]),Se=$e(M[t+2]),He=$e(M[t+3]),F=Me^o[0],H=He^o[1],be=Se^o[2],Ae=Ve^o[3],Ue=4,he=1;he<r;he++)C=f[F>>>24]^h[H>>16&255]^g[be>>8&255]^m[Ae&255]^o[Ue],O=f[H>>>24]^h[be>>16&255]^g[Ae>>8&255]^m[F&255]^o[Ue+1],z=f[be>>>24]^h[Ae>>16&255]^g[F>>8&255]^m[H&255]^o[Ue+2],se=f[Ae>>>24]^h[F>>16&255]^g[H>>8&255]^m[be&255]^o[Ue+3],F=C,H=O,be=z,Ae=se,Ue=Ue+4;C=l[F>>>24]<<24^l[H>>16&255]<<16^l[be>>8&255]<<8^l[Ae&255]^o[Ue],O=l[H>>>24]<<24^l[be>>16&255]<<16^l[Ae>>8&255]<<8^l[F&255]^o[Ue+1],z=l[be>>>24]<<24^l[Ae>>16&255]<<16^l[F>>8&255]<<8^l[H&255]^o[Ue+2],se=l[Ae>>>24]<<24^l[F>>16&255]<<16^l[H>>8&255]<<8^l[be&255]^o[Ue+3],x[t]=$e(C^y),x[t+1]=$e(se^E),x[t+2]=$e(z^A),x[t+3]=$e(O^w),y=Me,E=Ve,A=Se,w=He,t=t+4}return x.buffer}}class kH{constructor(e,t,i){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=i}expandKey(){const e=xH(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function xH(n){switch(n){case Bd.cbc:return"AES-CBC";case Bd.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${n}`)}}const CH=16;class wk{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?RH(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,i,r){return this.useSoftware?new Promise((o,l)=>{const c=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(c,t,i,r);const f=this.flush();f?o(f.buffer):l(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,i,r)}softwareDecrypt(e,t,i,r){const{currentIV:o,currentResult:l,remainderData:c}=this;if(r!==Bd.cbc||t.byteLength!==16)return ga.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),c&&(e=Lo(c,e),this.remainderData=null);const f=this.getValidChunk(e);if(!f.length)return null;o&&(i=o);let h=this.softwareDecrypter;h||(h=this.softwareDecrypter=new IH),h.expandKey(t);const g=l;return this.currentResult=h.decrypt(f.buffer,0,i),this.currentIV=f.slice(-16).buffer,g||null}webCryptoDecrypt(e,t,i,r){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,i,r));this.key=t,this.fastAesKey=new kH(this.subtle,t,r)}return this.fastAesKey.expandKey().then(o=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new wH(this.subtle,new Uint8Array(i),r).decrypt(e.buffer,o)):Promise.reject(new Error("web crypto not initialized"))).catch(o=>(ga.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${o.name}: ${o.message}`),this.onWebCryptoError(e,t,i,r)))}onWebCryptoError(e,t,i,r){const o=this.enableSoftwareAES;if(o){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,i,r);const l=this.flush();if(l)return l.buffer}throw new Error("WebCrypto"+(o?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const i=e.length-e.length%CH;return i!==e.length&&(t=e.slice(0,i),this.remainderData=e.slice(i)),t}logOnce(e){this.logEnabled&&(ga.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const $L=Math.pow(2,17);class DH{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const i=e.url;if(!i)return Promise.reject(new Zu({type:ti.NETWORK_ERROR,details:Dt.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${i?"part list":"url"}`),networkDetails:null}));this.abort();const r=this.config,o=r.fLoader,l=r.loader;return new Promise((c,f)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(E=>E[0]==="GAP")){f(jL(e));return}else e.gap=!1;const h=this.loader=o?new o(r):new l(r),g=qL(e);e.loader=h;const m=BL(r.fragLoadPolicy.default),p={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:$L};e.stats=h.stats;const y={onSuccess:(E,A,w,M)=>{this.resetLoader(e,h);let x=E.data;w.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(x.slice(0,16)),x=x.slice(16)),c({frag:e,part:null,payload:x,networkDetails:M})},onError:(E,A,w,M)=>{this.resetLoader(e,h),f(new Zu({type:ti.NETWORK_ERROR,details:Dt.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:ma({url:i,data:void 0},E),error:new Error(`HTTP Error ${E.code} ${E.text}`),networkDetails:w,stats:M}))},onAbort:(E,A,w)=>{this.resetLoader(e,h),f(new Zu({type:ti.NETWORK_ERROR,details:Dt.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:w,stats:E}))},onTimeout:(E,A,w)=>{this.resetLoader(e,h),f(new Zu({type:ti.NETWORK_ERROR,details:Dt.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:w,stats:E}))}};t&&(y.onProgress=(E,A,w,M)=>t({frag:e,part:null,payload:w,networkDetails:M})),h.load(g,p,y)})}loadPart(e,t,i){this.abort();const r=this.config,o=r.fLoader,l=r.loader;return new Promise((c,f)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){f(jL(e,t));return}const h=this.loader=o?new o(r):new l(r),g=qL(e,t);e.loader=h;const m=BL(r.fragLoadPolicy.default),p={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:$L};t.stats=h.stats,h.load(g,p,{onSuccess:(y,E,A,w)=>{this.resetLoader(e,h),this.updateStatsFromPart(e,t);const M={frag:e,part:t,payload:y.data,networkDetails:w};i(M),c(M)},onError:(y,E,A,w)=>{this.resetLoader(e,h),f(new Zu({type:ti.NETWORK_ERROR,details:Dt.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:ma({url:g.url,data:void 0},y),error:new Error(`HTTP Error ${y.code} ${y.text}`),networkDetails:A,stats:w}))},onAbort:(y,E,A)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,h),f(new Zu({type:ti.NETWORK_ERROR,details:Dt.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:A,stats:y}))},onTimeout:(y,E,A)=>{this.resetLoader(e,h),f(new Zu({type:ti.NETWORK_ERROR,details:Dt.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:A,stats:y}))}})})}updateStatsFromPart(e,t){const i=e.stats,r=t.stats,o=r.total;if(i.loaded+=r.loaded,o){const f=Math.round(e.duration/t.duration),h=Math.min(Math.round(i.loaded/o),f),m=(f-h)*Math.round(i.loaded/h);i.total=i.loaded+m}else i.total=Math.max(i.loaded,i.total);const l=i.loading,c=r.loading;l.start?l.first+=c.first-c.start:(l.start=c.start,l.first=c.first),l.end=c.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function qL(n,e=null){const t=e||n,i={frag:n,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},r=t.byteRangeStartOffset,o=t.byteRangeEndOffset;if(Un(r)&&Un(o)){var l;let c=r,f=o;if(n.sn==="initSegment"&&LH((l=n.decryptdata)==null?void 0:l.method)){const h=o-r;h%16&&(f=o+(16-h%16)),r!==0&&(i.resetIV=!0,c=r-16)}i.rangeStart=c,i.rangeEnd=f}return i}function jL(n,e){const t=new Error(`GAP ${n.gap?"tag":"attribute"} found`),i={type:ti.MEDIA_ERROR,details:Dt.FRAG_GAP,fatal:!1,frag:n,error:t,networkDetails:null};return e&&(i.part=e),(e||n).stats.aborted=!0,new Zu(i)}function LH(n){return n==="AES-128"||n==="AES-256"}class Zu extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class cU extends Oo{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Rk{constructor(e,t,i,r=0,o=-1,l=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=E0(),this.buffering={audio:E0(),video:E0(),audiovideo:E0()},this.level=e,this.sn=t,this.id=i,this.size=r,this.part=o,this.partial=l}}function E0(){return{start:0,executeStart:0,executeEnd:0,end:0}}const HL={length:0,start:()=>0,end:()=>0};class _i{static isBuffered(e,t){if(e){const i=_i.getBuffered(e);for(let r=i.length;r--;)if(t>=i.start(r)&&t<=i.end(r))return!0}return!1}static bufferedRanges(e){if(e){const t=_i.getBuffered(e);return _i.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}static bufferInfo(e,t,i){if(e){const r=_i.bufferedRanges(e);if(r.length)return _i.bufferedInfo(r,t,i)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,i){t=Math.max(0,t),e.length>1&&e.sort((g,m)=>g.start-m.start||m.end-g.end);let r=-1,o=[];if(i)for(let g=0;g<e.length;g++){t>=e[g].start&&t<=e[g].end&&(r=g);const m=o.length;if(m){const p=o[m-1].end;e[g].start-p<i?e[g].end>p&&(o[m-1].end=e[g].end):o.push(e[g])}else o.push(e[g])}else o=e;let l=0,c,f=t,h=t;for(let g=0;g<o.length;g++){const m=o[g].start,p=o[g].end;if(r===-1&&t>=m&&t<=p&&(r=g),t+i>=m&&t<p)f=m,h=p,l=h-t;else if(t+i<m){c=m;break}}return{len:l,start:f||0,end:h||0,nextStart:c,buffered:e,bufferedIndex:r}}static getBuffered(e){try{return e.buffered||HL}catch(t){return ga.log("failed to get media.buffered",t),HL}}}const dU=/\{\$([a-zA-Z0-9-_]+)\}/g;function GL(n){return dU.test(n)}function ER(n,e){if(n.variableList!==null||n.hasVariableRefs){const t=n.variableList;return e.replace(dU,i=>{const r=i.substring(2,i.length-1),o=t?.[r];return o===void 0?(n.playlistParsingError||(n.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),i):o})}return e}function VL(n,e,t){let i=n.variableList;i||(n.variableList=i={});let r,o;if("QUERYPARAM"in e){r=e.QUERYPARAM;try{const l=new self.URL(t).searchParams;if(l.has(r))o=l.get(r);else throw new Error(`"${r}" does not match any query parameter in URI: "${t}"`)}catch(l){n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${l.message}`))}}else r=e.NAME,o=e.VALUE;r in i?n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):i[r]=o||""}function MH(n,e,t){const i=e.IMPORT;if(t&&i in t){let r=n.variableList;r||(n.variableList=r={}),r[i]=t[i]}else n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}const NH=/^(\d+)x(\d+)$/,KL=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Ka{constructor(e,t){typeof e=="string"&&(e=Ka.parseAttrList(e,t)),ba(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const i=new Uint8Array(t.length/2);for(let r=0;r<t.length/2;r++)i[r]=parseInt(t.slice(r*2,r*2+2),16);return i}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const i=this[e];return i?parseFloat(i):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const i=this[e];return(i?i.split(/[ ,]+/):[]).reduce((r,o)=>(r[o.toLowerCase()]=!0,r),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=NH.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let i;const r={};for(KL.lastIndex=0;(i=KL.exec(e))!==null;){const l=i[1].trim();let c=i[2];const f=c.indexOf('"')===0&&c.lastIndexOf('"')===c.length-1;let h=!1;if(f)c=c.slice(1,-1);else switch(l){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":h=!0}if(t&&(f||h))c=ER(t,c);else if(!h&&!f)switch(l){case"CLOSED-CAPTIONS":if(c==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":ga.warn(`${e}: attribute ${l} is missing quotes`)}r[l]=c}return r}}const OH="com.apple.hls.interstitial";function PH(n){return n!=="ID"&&n!=="CLASS"&&n!=="CUE"&&n!=="START-DATE"&&n!=="DURATION"&&n!=="END-DATE"&&n!=="END-ON-NEXT"}function UH(n){return n==="SCTE35-OUT"||n==="SCTE35-IN"||n==="SCTE35-CMD"}class fU{constructor(e,t,i=0){var r;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=t?.tagAnchor||null,this.tagOrder=(r=t?.tagOrder)!=null?r:i,t){const o=t.attr;for(const l in o)if(Object.prototype.hasOwnProperty.call(e,l)&&e[l]!==o[l]){ga.warn(`DATERANGE tag attribute: "${l}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=l;break}e=ba(new Ka({}),o,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const o=t?.endDate||new Date(this.attr["END-DATE"]);Un(o.getTime())&&(this._endDate=o)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(ga.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Un(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===OH}get isValid(){return!!this.id&&!this._badValueForSameId&&Un(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const FH=10;class BH{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&i>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(t=>{let i=t.decryptdata;return i||(t.setKeyFormat(e.keyFormat),i=t.decryptdata),!!i&&e.matches(i)})}get hasProgramDateTime(){return this.fragments.length?Un(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||FH}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let i=e.length;i--;)if(e[i].index>t)return e[i].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function jT(n,e){return n.length===e.length?!n.some((t,i)=>t!==e[i]):!1}function YL(n,e){return!n&&!e?!0:!n||!e?!1:jT(n,e)}function gg(n){return n==="AES-128"||n==="AES-256"||n==="AES-256-CTR"}function Ik(n){switch(n){case"AES-128":case"AES-256":return Bd.cbc;case"AES-256-CTR":return Bd.ctr;default:throw new Error(`invalid full segment method ${n}`)}}function kk(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}function bR(n){return Uint8Array.from(unescape(encodeURIComponent(n)),e=>e.charCodeAt(0))}function zH(n){const e=bR(n).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function hU(n){const e=function(i,r,o){const l=i[r];i[r]=i[o],i[o]=l};e(n,0,3),e(n,1,2),e(n,4,5),e(n,6,7)}function mU(n){const e=n.split(":");let t=null;if(e[0]==="data"&&e.length===2){const i=e[1].split(";"),r=i[i.length-1].split(",");if(r.length===2){const o=r[0]==="base64",l=r[1];o?(i.splice(-1,1),t=kk(l)):t=zH(l)}}return t}const HT=typeof self<"u"?self:void 0;var Ya={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Wr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function o_(n){switch(n){case Wr.FAIRPLAY:return Ya.FAIRPLAY;case Wr.PLAYREADY:return Ya.PLAYREADY;case Wr.WIDEVINE:return Ya.WIDEVINE;case Wr.CLEARKEY:return Ya.CLEARKEY}}function Nw(n){switch(n){case Ya.FAIRPLAY:return Wr.FAIRPLAY;case Ya.PLAYREADY:return Wr.PLAYREADY;case Ya.WIDEVINE:return Wr.WIDEVINE;case Ya.CLEARKEY:return Wr.CLEARKEY}}function qv(n){const{drmSystems:e,widevineLicenseUrl:t}=n,i=e?[Ya.FAIRPLAY,Ya.WIDEVINE,Ya.PLAYREADY,Ya.CLEARKEY].filter(r=>!!e[r]):[];return!i[Ya.WIDEVINE]&&t&&i.push(Ya.WIDEVINE),i}const gU=(function(n){return HT!=null&&(n=HT.navigator)!=null&&n.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function $H(n,e,t,i){let r;switch(n){case Ya.FAIRPLAY:r=["cenc","sinf"];break;case Ya.WIDEVINE:case Ya.PLAYREADY:r=["cenc"];break;case Ya.CLEARKEY:r=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${n}`)}return qH(r,e,t,i)}function qH(n,e,t,i){return[{initDataTypes:n,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map(o=>({contentType:`audio/mp4; codecs=${o}`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:t.map(o=>({contentType:`video/mp4; codecs=${o}`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}function jH(n){var e;return!!n&&(n.sessionType==="persistent-license"||!!((e=n.sessionTypes)!=null&&e.some(t=>t==="persistent-license")))}function pU(n){const e=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),i=t.substring(t.indexOf("<"),t.length),l=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(l){const c=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(c){const f=kk(c).subarray(0,16);return hU(f),f}}return null}let Tm={};class Od{static clearKeyUriToKeyIdMap(){Tm={}}static setKeyIdForUri(e,t){Tm[e]=t}static addKeyIdForUri(e){const t=Object.keys(Tm).length%Number.MAX_SAFE_INTEGER,i=new Uint8Array(16);return new DataView(i.buffer,12,4).setUint32(0,t),Tm[e]=i,i}constructor(e,t,i,r=[1],o=null,l){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=i,this.keyFormatVersions=r,this.iv=o,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!gg(e),l!=null&&l.startsWith("0x")&&(this.keyId=new Uint8Array(H2(l)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&jT(e.keyFormatVersions,this.keyFormatVersions)&&YL(e.iv,this.iv)&&YL(e.keyId,this.keyId)}isSupported(){if(this.method){if(gg(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Wr.FAIRPLAY:case Wr.WIDEVINE:case Wr.PLAYREADY:case Wr.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,t){if(!this.encrypted||!this.uri)return null;if(gg(this.method)){let o=this.iv;return o||(typeof e!="number"&&(ga.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),o=GH(e)),new Od(this.method,this.uri,"identity",this.keyFormatVersions,o)}if(this.keyId){const o=Tm[this.uri];if(o&&!jT(this.keyId,o)&&Od.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const i=mU(this.uri);if(i)switch(this.keyFormat){case Wr.WIDEVINE:if(this.pssh=i,!this.keyId){const o=Yj(i.buffer);if(o.length){var r;const l=o[0];this.keyId=(r=l.kids)!=null&&r.length?l.kids[0]:null}}this.keyId||(this.keyId=WL(t));break;case Wr.PLAYREADY:{const o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Kj(o,null,i),this.keyId=pU(i);break}default:{let o=i.subarray(0,16);if(o.length!==16){const l=new Uint8Array(16);l.set(o,16-o.length),o=l}this.keyId=o;break}}if(!this.keyId||this.keyId.byteLength!==16){let o;o=HH(t),o||(o=WL(t),o||(o=Tm[this.uri])),o&&(this.keyId=o,Od.setKeyIdForUri(this.uri,o))}return this}}function HH(n){const e=n?.[Wr.WIDEVINE];return e?e.keyId:null}function WL(n){const e=n?.[Wr.PLAYREADY];if(e){const t=mU(e.uri);if(t)return pU(t)}return null}function GH(n){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=n>>8*(15-t)&255;return e}const QL=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,XL=/#EXT-X-MEDIA:(.*)/g,VH=/^#EXT(?:INF|-X-TARGETDURATION):/m,Ow=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),KH=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class du{static findGroup(e,t){for(let i=0;i<e.length;i++){const r=e[i];if(r.id===t)return r}}static resolve(e,t){return Ek.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return VH.test(e)}static parseMasterPlaylist(e,t){const i=GL(e),r={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},o=[];if(QL.lastIndex=0,!e.startsWith("#EXTM3U"))return r.playlistParsingError=new Error("no EXTM3U delimiter"),r;let l;for(;(l=QL.exec(e))!=null;)if(l[1]){var c;const h=new Ka(l[1],r),g=ER(r,l[2]),m={attrs:h,bitrate:h.decimalInteger("BANDWIDTH")||h.decimalInteger("AVERAGE-BANDWIDTH"),name:h.NAME,url:du.resolve(g,t)},p=h.decimalResolution("RESOLUTION");p&&(m.width=p.width,m.height=p.height),eM(h.CODECS,m);const y=h["SUPPLEMENTAL-CODECS"];y&&(m.supplemental={},eM(y,m.supplemental)),(c=m.unknownCodecs)!=null&&c.length||o.push(m),r.levels.push(m)}else if(l[3]){const h=l[3],g=l[4];switch(h){case"SESSION-DATA":{const m=new Ka(g,r),p=m["DATA-ID"];p&&(r.sessionData===null&&(r.sessionData={}),r.sessionData[p]=m);break}case"SESSION-KEY":{const m=ZL(g,t,r);m.encrypted&&m.isSupported()?(r.sessionKeys===null&&(r.sessionKeys=[]),r.sessionKeys.push(m)):ga.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${g}"`);break}case"DEFINE":{{const m=new Ka(g,r);VL(r,m,t)}break}case"CONTENT-STEERING":{const m=new Ka(g,r);r.contentSteering={uri:du.resolve(m["SERVER-URI"],t),pathwayId:m["PATHWAY-ID"]||"."};break}case"START":{r.startTimeOffset=JL(g);break}}}const f=o.length>0&&o.length<r.levels.length;return r.levels=f?o:r.levels,r.levels.length===0&&(r.playlistParsingError=new Error("no levels found in manifest")),r}static parseMasterPlaylistMedia(e,t,i){let r;const o={},l=i.levels,c={AUDIO:l.map(h=>({id:h.attrs.AUDIO,audioCodec:h.audioCodec})),SUBTITLES:l.map(h=>({id:h.attrs.SUBTITLES,textCodec:h.textCodec})),"CLOSED-CAPTIONS":[]};let f=0;for(XL.lastIndex=0;(r=XL.exec(e))!==null;){const h=new Ka(r[1],i),g=h.TYPE;if(g){const m=c[g],p=o[g]||[];o[g]=p;const y=h.LANGUAGE,E=h["ASSOC-LANGUAGE"],A=h.CHANNELS,w=h.CHARACTERISTICS,M=h["INSTREAM-ID"],x={attrs:h,bitrate:0,id:f++,groupId:h["GROUP-ID"]||"",name:h.NAME||y||"",type:g,default:h.bool("DEFAULT"),autoselect:h.bool("AUTOSELECT"),forced:h.bool("FORCED"),lang:y,url:h.URI?du.resolve(h.URI,t):""};if(E&&(x.assocLang=E),A&&(x.channels=A),w&&(x.characteristics=w),M&&(x.instreamId=M),m!=null&&m.length){const C=du.findGroup(m,x.groupId)||m[0];tM(x,C,"audioCodec"),tM(x,C,"textCodec")}p.push(x)}}return o}static parseLevelPlaylist(e,t,i,r,o,l){var c;const f={url:t},h=new BH(t),g=h.fragments,m=[];let p=null,y=0,E=0,A=0,w=0,M=0,x=null,C=new Dw(r,f),O,z,se,F=-1,H=!1,be=null,Ae;if(Ow.lastIndex=0,h.m3u8=e,h.hasVariableRefs=GL(e),((c=Ow.exec(e))==null?void 0:c[0])!=="#EXTM3U")return h.playlistParsingError=new Error("Missing format identifier #EXTM3U"),h;for(;(O=Ow.exec(e))!==null;){H&&(H=!1,C=new Dw(r,f),C.playlistOffset=A,C.setStart(A),C.sn=y,C.cc=w,M&&(C.bitrate=M),C.level=i,p&&(C.initSegment=p,p.rawProgramDateTime&&(C.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null),be&&(C.setByteRange(be),be=null)));const He=O[1];if(He){C.duration=parseFloat(He);const Ue=(" "+O[2]).slice(1);C.title=Ue||null,C.tagList.push(Ue?["INF",He,Ue]:["INF",He])}else if(O[3]){if(Un(C.duration)){C.playlistOffset=A,C.setStart(A),se&&iM(C,se,h),C.sn=y,C.level=i,C.cc=w,g.push(C);const Ue=(" "+O[3]).slice(1);C.relurl=ER(h,Ue),_R(C,x,m),x=C,A+=C.duration,y++,E=0,H=!0}}else{if(O=O[0].match(KH),!O){ga.warn("No matches on slow regex match for level playlist!");continue}for(z=1;z<O.length&&O[z]===void 0;z++);const Ue=(" "+O[z]).slice(1),he=(" "+O[z+1]).slice(1),$e=O[z+2]?(" "+O[z+2]).slice(1):null;switch(Ue){case"BYTERANGE":x?C.setByteRange(he,x):C.setByteRange(he);break;case"PROGRAM-DATE-TIME":C.rawProgramDateTime=he,C.tagList.push(["PROGRAM-DATE-TIME",he]),F===-1&&(F=g.length);break;case"PLAYLIST-TYPE":h.type&&Gu(h,Ue,O),h.type=he.toUpperCase();break;case"MEDIA-SEQUENCE":h.startSN!==0?Gu(h,Ue,O):g.length>0&&aM(h,Ue,O),y=h.startSN=parseInt(he);break;case"SKIP":{h.skippedSegments&&Gu(h,Ue,O);const Ye=new Ka(he,h),tt=Ye.decimalInteger("SKIPPED-SEGMENTS");if(Un(tt)){h.skippedSegments+=tt;for(let De=tt;De--;)g.push(null);y+=tt}const rt=Ye.enumeratedString("RECENTLY-REMOVED-DATERANGES");rt&&(h.recentlyRemovedDateranges=(h.recentlyRemovedDateranges||[]).concat(rt.split("	")));break}case"TARGETDURATION":h.targetduration!==0&&Gu(h,Ue,O),h.targetduration=Math.max(parseInt(he),1);break;case"VERSION":h.version!==null&&Gu(h,Ue,O),h.version=parseInt(he);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":h.live||Gu(h,Ue,O),h.live=!1;break;case"#":(he||$e)&&C.tagList.push($e?[he,$e]:[he]);break;case"DISCONTINUITY":w++,C.tagList.push(["DIS"]);break;case"GAP":C.gap=!0,C.tagList.push([Ue]);break;case"BITRATE":C.tagList.push([Ue,he]),M=parseInt(he)*1e3,Un(M)?C.bitrate=M:M=0;break;case"DATERANGE":{const Ye=new Ka(he,h),tt=new fU(Ye,h.dateRanges[Ye.ID],h.dateRangeTagCount);h.dateRangeTagCount++,tt.isValid||h.skippedSegments?h.dateRanges[tt.id]=tt:ga.warn(`Ignoring invalid DATERANGE tag: "${he}"`),C.tagList.push(["EXT-X-DATERANGE",he]);break}case"DEFINE":{{const Ye=new Ka(he,h);"IMPORT"in Ye?MH(h,Ye,l):VL(h,Ye,t)}break}case"DISCONTINUITY-SEQUENCE":h.startCC!==0?Gu(h,Ue,O):g.length>0&&aM(h,Ue,O),h.startCC=w=parseInt(he);break;case"KEY":{const Ye=ZL(he,t,h);if(Ye.isSupported()){if(Ye.method==="NONE"){se=void 0;break}se||(se={});const tt=se[Ye.keyFormat];tt!=null&&tt.matches(Ye)||(tt&&(se=ba({},se)),se[Ye.keyFormat]=Ye)}else ga.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${he}"`);break}case"START":h.startTimeOffset=JL(he);break;case"MAP":{const Ye=new Ka(he,h);if(C.duration){const tt=new Dw(r,f);nM(tt,Ye,i,se),p=tt,C.initSegment=p,p.rawProgramDateTime&&!C.rawProgramDateTime&&(C.rawProgramDateTime=p.rawProgramDateTime)}else{const tt=C.byteRangeEndOffset;if(tt){const rt=C.byteRangeStartOffset;be=`${tt-rt}@${rt}`}else be=null;nM(C,Ye,i,se),p=C,H=!0}p.cc=w;break}case"SERVER-CONTROL":{Ae&&Gu(h,Ue,O),Ae=new Ka(he),h.canBlockReload=Ae.bool("CAN-BLOCK-RELOAD"),h.canSkipUntil=Ae.optionalFloat("CAN-SKIP-UNTIL",0),h.canSkipDateRanges=h.canSkipUntil>0&&Ae.bool("CAN-SKIP-DATERANGES"),h.partHoldBack=Ae.optionalFloat("PART-HOLD-BACK",0),h.holdBack=Ae.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{h.partTarget&&Gu(h,Ue,O);const Ye=new Ka(he);h.partTarget=Ye.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Ye=h.partList;Ye||(Ye=h.partList=[]);const tt=E>0?Ye[Ye.length-1]:void 0,rt=E++,De=new Ka(he,h),We=new Mj(De,C,f,rt,tt);Ye.push(We),C.duration+=We.duration;break}case"PRELOAD-HINT":{const Ye=new Ka(he,h);h.preloadHint=Ye;break}case"RENDITION-REPORT":{const Ye=new Ka(he,h);h.renditionReports=h.renditionReports||[],h.renditionReports.push(Ye);break}default:ga.warn(`line parsed but not handled: ${O}`);break}}}x&&!x.relurl?(g.pop(),A-=x.duration,h.partList&&(h.fragmentHint=x)):h.partList&&(_R(C,x,m),C.cc=w,h.fragmentHint=C,se&&iM(C,se,h)),h.targetduration||(h.playlistParsingError=new Error("Missing Target Duration"));const Me=g.length,Ve=g[0],Se=g[Me-1];if(A+=h.skippedSegments*h.targetduration,A>0&&Me&&Se){h.averagetargetduration=A/Me;const He=Se.sn;h.endSN=He!=="initSegment"?He:0,h.live||(Se.endList=!0),F>0&&(WH(g,F),Ve&&m.unshift(Ve))}return h.fragmentHint&&(A+=h.fragmentHint.duration),h.totalduration=A,m.length&&h.dateRangeTagCount&&Ve&&vU(m,h),h.endCC=w,h}}function vU(n,e){let t=n.length;if(!t)if(e.hasProgramDateTime){const c=e.fragments[e.fragments.length-1];n.push(c),t++}else return;const i=n[t-1],r=e.live?1/0:e.totalduration,o=Object.keys(e.dateRanges);for(let c=o.length;c--;){const f=e.dateRanges[o[c]],h=f.startDate.getTime();f.tagAnchor=i.ref;for(let g=t;g--;){var l;if(((l=n[g])==null?void 0:l.sn)<e.startSN)break;const m=YH(e,h,n,g,r);if(m!==-1){f.tagAnchor=e.fragments[m].ref;break}}}}function YH(n,e,t,i,r){const o=t[i];if(o){const c=o.programDateTime;if(e>=c||i===0){var l;const f=(((l=t[i+1])==null?void 0:l.start)||r)-o.start;if(e<=c+f*1e3){const h=t[i].sn-n.startSN;if(h<0)return-1;const g=n.fragments;if(g.length>t.length){const p=(t[i+1]||g[g.length-1]).sn-n.startSN;for(let y=p;y>h;y--){const E=g[y].programDateTime;if(e>=E&&e<E+g[y].duration*1e3)return y}}return h}}}return-1}function ZL(n,e,t){var i,r;const o=new Ka(n,t),l=(i=o.METHOD)!=null?i:"",c=o.URI,f=o.hexadecimalInteger("IV"),h=o.KEYFORMATVERSIONS,g=(r=o.KEYFORMAT)!=null?r:"identity";c&&o.IV&&!f&&ga.error(`Invalid IV: ${o.IV}`);const m=c?du.resolve(c,e):"",p=(h||"1").split("/").map(Number).filter(Number.isFinite);return new Od(l,m,g,p,f,o.KEYID)}function JL(n){const t=new Ka(n).decimalFloatingPoint("TIME-OFFSET");return Un(t)?t:null}function eM(n,e){let t=(n||"").split(/[ ,]+/).filter(i=>i);["video","audio","text"].forEach(i=>{const r=t.filter(o=>Tk(o,i));r.length&&(e[`${i}Codec`]=r.map(o=>o.split("/")[0]).join(","),t=t.filter(o=>r.indexOf(o)===-1))}),e.unknownCodecs=t}function tM(n,e,t){const i=e[t];i&&(n[t]=i)}function WH(n,e){let t=n[e];for(let i=e;i--;){const r=n[i];if(!r)return;r.programDateTime=t.programDateTime-r.duration*1e3,t=r}}function _R(n,e,t){n.rawProgramDateTime?t.push(n):e!=null&&e.programDateTime&&(n.programDateTime=e.endProgramDateTime)}function nM(n,e,t,i){n.relurl=e.URI,e.BYTERANGE&&n.setByteRange(e.BYTERANGE),n.level=t,n.sn="initSegment",i&&(n.levelkeys=i),n.initSegment=null}function iM(n,e,t){n.levelkeys=e;const{encryptedFragments:i}=t;(!i.length||i[i.length-1].levelkeys!==e)&&Object.keys(e).some(r=>e[r].isCommonEncryption)&&i.push(n)}function Gu(n,e,t){n.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function aM(n,e,t){n.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function Pw(n,e){const t=e.startPTS;if(Un(t)){let i=0,r;e.sn>n.sn?(i=t-n.start,r=n):(i=n.start-t,r=e),r.duration!==i&&r.setDuration(i)}else e.sn>n.sn?n.cc===e.cc&&n.minEndPTS?e.setStart(n.start+(n.minEndPTS-n.start)):e.setStart(n.start+n.duration):e.setStart(Math.max(n.start-e.duration,0))}function yU(n,e,t,i,r,o,l){i-t<=0&&(l.warn("Fragment should have a positive duration",e),i=t+e.duration,o=r+e.duration);let f=t,h=i;const g=e.startPTS,m=e.endPTS;if(Un(g)){const M=Math.abs(g-t);n&&M>n.totalduration?l.warn(`media timestamps and playlist times differ by ${M}s for level ${e.level} ${n.url}`):Un(e.deltaPTS)?e.deltaPTS=Math.max(M,e.deltaPTS):e.deltaPTS=M,f=Math.max(t,g),t=Math.min(t,g),r=e.startDTS!==void 0?Math.min(r,e.startDTS):r,h=Math.min(i,m),i=Math.max(i,m),o=e.endDTS!==void 0?Math.max(o,e.endDTS):o}const p=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(i-e.start),e.startPTS=t,e.maxStartPTS=f,e.startDTS=r,e.endPTS=i,e.minEndPTS=h,e.endDTS=o;const y=e.sn;if(!n||y<n.startSN||y>n.endSN)return 0;let E;const A=y-n.startSN,w=n.fragments;for(w[A]=e,E=A;E>0;E--)Pw(w[E],w[E-1]);for(E=A;E<w.length-1;E++)Pw(w[E],w[E+1]);return n.fragmentHint&&Pw(w[w.length-1],n.fragmentHint),n.PTSKnown=n.alignedSliding=!0,p}function QH(n,e,t){if(n===e)return;let i=null;const r=n.fragments;for(let g=r.length-1;g>=0;g--){const m=r[g].initSegment;if(m){i=m;break}}n.fragmentHint&&delete n.fragmentHint.endPTS;let o;JH(n,e,(g,m,p,y)=>{if((!e.startCC||e.skippedSegments)&&m.cc!==g.cc){const E=g.cc-m.cc;for(let A=p;A<y.length;A++)y[A].cc+=E;e.endCC=y[y.length-1].cc}Un(g.startPTS)&&Un(g.endPTS)&&(m.setStart(m.startPTS=g.startPTS),m.startDTS=g.startDTS,m.maxStartPTS=g.maxStartPTS,m.endPTS=g.endPTS,m.endDTS=g.endDTS,m.minEndPTS=g.minEndPTS,m.setDuration(g.endPTS-g.startPTS),m.duration&&(o=m),e.PTSKnown=e.alignedSliding=!0),g.hasStreams&&(m.elementaryStreams=g.elementaryStreams),m.loader=g.loader,g.hasStats&&(m.stats=g.stats),g.initSegment&&(m.initSegment=g.initSegment,i=g.initSegment)});const l=e.fragments,c=e.fragmentHint?l.concat(e.fragmentHint):l;if(i&&c.forEach(g=>{var m;g&&(!g.initSegment||g.initSegment.relurl===((m=i)==null?void 0:m.relurl))&&(g.initSegment=i)}),e.skippedSegments){if(e.deltaUpdateFailed=l.some(g=>!g),e.deltaUpdateFailed){t.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let g=e.skippedSegments;g--;)l.shift();e.startSN=l[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=XH(n.dateRanges,e,t));const g=n.fragments.filter(m=>m.rawProgramDateTime);if(n.hasProgramDateTime&&!e.hasProgramDateTime)for(let m=1;m<c.length;m++)c[m].programDateTime===null&&_R(c[m],c[m-1],g);vU(g,e)}e.endCC=l[l.length-1].cc}if(!e.startCC){var f;const g=_U(n,e.startSN-1);e.startCC=(f=g?.cc)!=null?f:l[0].cc}ZH(n.partList,e.partList,(g,m)=>{m.elementaryStreams=g.elementaryStreams,m.stats=g.stats}),o?yU(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS,t):EU(n,e),l.length&&(e.totalduration=e.edge-l[0].start),e.driftStartTime=n.driftStartTime,e.driftStart=n.driftStart;const h=e.advancedDateTime;if(e.advanced&&h){const g=e.edge;e.driftStart||(e.driftStartTime=h,e.driftStart=g),e.driftEndTime=h,e.driftEnd=g}else e.driftEndTime=n.driftEndTime,e.driftEnd=n.driftEnd,e.advancedDateTime=n.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=n.requestScheduled)}function XH(n,e,t){const{dateRanges:i,recentlyRemovedDateranges:r}=e,o=ba({},n);r&&r.forEach(f=>{delete o[f]});const c=Object.keys(o).length;return c?(Object.keys(i).forEach(f=>{const h=o[f],g=new fU(i[f].attr,h);g.isValid?(o[f]=g,h||(g.tagOrder+=c)):t.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Aa(i[f].attr)}"`)}),o):i}function ZH(n,e,t){if(n&&e){let i=0;for(let r=0,o=n.length;r<=o;r++){const l=n[r],c=e[r+i];l&&c&&l.index===c.index&&l.fragment.sn===c.fragment.sn?t(l,c):i--}}}function JH(n,e,t){const i=e.skippedSegments,r=Math.max(n.startSN,e.startSN)-e.startSN,o=(n.fragmentHint?1:0)+(i?e.endSN:Math.min(n.endSN,e.endSN))-e.startSN,l=e.startSN-n.startSN,c=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,f=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments;for(let h=r;h<=o;h++){const g=f[l+h];let m=c[h];if(i&&!m&&g&&(m=e.fragments[h]=g),g&&m){t(g,m,h,c);const p=g.relurl,y=m.relurl;if(p&&eG(p,y)){e.playlistParsingError=rM(`media sequence mismatch ${m.sn}:`,n,e,g,m);return}else if(g.cc!==m.cc){e.playlistParsingError=rM(`discontinuity sequence mismatch (${g.cc}!=${m.cc})`,n,e,g,m);return}}}}function rM(n,e,t,i,r){return new Error(`${n} ${r.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function EU(n,e,t=!0){const i=e.startSN+e.skippedSegments-n.startSN,r=n.fragments,o=i>=0;let l=0;if(o&&i<r.length)l=r[i].start;else if(o&&e.startSN===n.endSN+1)l=n.fragmentEnd;else if(o&&t)l=n.fragmentStart+i*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)l=n.fragmentStart;else return;TR(e,l)}function TR(n,e){if(e){const t=n.fragments;for(let i=n.skippedSegments;i<t.length;i++)t[i].addStart(e);n.fragmentHint&&n.fragmentHint.addStart(e)}}function bU(n,e=1/0){let t=1e3*n.targetduration;if(n.updated){const i=n.fragments;if(i.length&&t*4>e){const o=i[i.length-1].duration*1e3;o<t&&(t=o)}}else t/=2;return Math.round(t)}function _U(n,e,t){if(!n)return null;let i=n.fragments[e-n.startSN];return i||(i=n.fragmentHint,i&&i.sn===e)?i:e<n.startSN&&t&&t.sn===e?t:null}function sM(n,e,t){return n?TU(n.partList,e,t):null}function TU(n,e,t){if(n)for(let i=n.length;i--;){const r=n[i];if(r.index===t&&r.fragment.sn===e)return r}return null}function SU(n){n.forEach((e,t)=>{var i;(i=e.details)==null||i.fragments.forEach(r=>{r.level=t,r.initSegment&&(r.initSegment.level=t)})})}function eG(n,e){return n!==e&&e?oM(n)!==oM(e):!1}function oM(n){return n.replace(/\?[^?]*$/,"")}function vy(n,e){for(let i=0,r=n.length;i<r;i++){var t;if(((t=n[i])==null?void 0:t.cc)===e)return n[i]}return null}function tG(n,e){return!!(n&&e.startCC<n.endCC&&e.endCC>n.startCC)}function lM(n,e){const t=n.start+e;n.startPTS=t,n.setStart(t),n.endPTS=t+n.duration}function AU(n,e){const t=e.fragments;for(let i=0,r=t.length;i<r;i++)lM(t[i],n);e.fragmentHint&&lM(e.fragmentHint,n),e.alignedSliding=!0}function nG(n,e){n&&(wU(e,n),e.alignedSliding||GT(e,n),!e.alignedSliding&&!e.skippedSegments&&EU(n,e,!1))}function wU(n,e){if(!tG(e,n))return;const t=Math.min(e.endCC,n.endCC),i=vy(e.fragments,t),r=vy(n.fragments,t);if(!i||!r)return;ga.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const o=i.start-r.start;AU(o,n)}function GT(n,e){if(!n.hasProgramDateTime||!e.hasProgramDateTime)return;const t=n.fragments,i=e.fragments;if(!t.length||!i.length)return;let r,o;const l=Math.min(e.endCC,n.endCC);e.startCC<l&&n.startCC<l&&(r=vy(i,l),o=vy(t,l)),(!r||!o)&&(r=i[Math.floor(i.length/2)],o=vy(t,r.cc)||t[Math.floor(t.length/2)]);const c=r.programDateTime,f=o.programDateTime;if(!c||!f)return;const h=(f-c)/1e3-(o.start-r.start);AU(h,n)}function ys(n,e,t){Ms(n,e,t),n.addEventListener(e,t)}function Ms(n,e,t){n.removeEventListener(e,t)}const iG={toString:function(n){let e="";const t=n.length;for(let i=0;i<t;i++)e+=`[${n.start(i).toFixed(3)}-${n.end(i).toFixed(3)}]`;return e}},on={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class xk extends cU{constructor(e,t,i,r,o){super(r,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=on.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:l,fragCurrent:c,media:f,mediaBuffer:h,state:g}=this,m=f?f.currentTime:0,p=_i.bufferInfo(h||f,m,l.maxBufferHole),y=!p.len;if(this.log(`Media seeking to ${Un(m)?m.toFixed(3):m}, state: ${g}, ${y?"out of":"in"} buffer`),this.state===on.ENDED)this.resetLoadingState();else if(c){const E=l.maxFragLookUpTolerance,A=c.start-E,w=c.start+c.duration+E;if(y||w<p.start||A>p.end){const M=m>w;(m<A||M)&&(M&&c.loader&&(this.log(`Cancelling fragment load for seek (sn: ${c.sn})`),c.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(f){this.fragmentTracker.removeFragmentsInRange(m,1/0,this.playlistType,!0);const E=this.lastCurrentTime;if(m>E&&(this.lastCurrentTime=m),!this.loadingParts){const A=Math.max(p.end,m),w=this.shouldLoadParts(this.getLevelDetails(),A);w&&(this.log(`LL-Part loading ON after seeking to ${m.toFixed(2)} with buffer @${A.toFixed(2)}`),this.loadingParts=w)}}this.hls.hasEnoughToStart||(this.log(`Setting ${y?"startPosition":"nextLoadPosition"} to ${m} for seek without enough to start`),this.nextLoadPosition=m,y&&(this.startPosition=m)),y&&this.state===on.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=o,this.hls=e,this.fragmentLoader=new DH(e.config),this.keyLoader=i,this.fragmentTracker=t,this.config=e.config,this.decrypter=new wk(e.config)}registerListeners(){const{hls:e}=this;e.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Te.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Te.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===on.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=on.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const i=e.end||0,r=this.config.timelineOffset||0;if(i<=r)return!1;const o=e.buffered;this.config.maxBufferHole&&o&&o.length>1&&(e=_i.bufferedInfo(o,e.start,0));const l=e.nextStart;if(l&&l>r&&l<t.edge||this.media.currentTime<e.start)return!1;const f=t.partList;if(f!=null&&f.length){const g=f[f.length-1];return _i.isBuffered(this.media,g.start+g.duration/2)}const h=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(h)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const i=this.media=this.mediaBuffer=t.media;ys(i,"seeking",this.onMediaSeeking),ys(i,"ended",this.onMediaEnded);const r=this.config;this.levels&&r.autoStartLoad&&this.state===on.STOPPED&&this.startLoad(r.startPosition)}onMediaDetaching(e,t){const i=!!t.transferMedia,r=this.media;if(r!==null){if(r.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Ms(r,"seeking",this.onMediaSeeking),Ms(r,"ended",this.onMediaEnded),this.keyLoader&&!i&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,i){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=on.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,i){this.startFragRequested=!0,this._loadFragForPlayback(e,t,i)}_loadFragForPlayback(e,t,i){const r=o=>{const l=o.frag;if(this.fragContextChanged(l)){this.warn(`${l.type} sn: ${l.sn}${o.part?" part: "+o.part.index:""} of ${this.fragInfo(l,!1,o.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(l);return}l.stats.chunkCount++,this._handleFragmentLoadProgress(o)};this._doFragLoad(e,t,i,r).then(o=>{if(!o)return;const l=this.state,c=o.frag;if(this.fragContextChanged(c)){(l===on.FRAG_LOADING||!this.fragCurrent&&l===on.PARSING)&&(this.fragmentTracker.removeFragment(c),this.state=on.IDLE);return}"payload"in o&&(this.log(`Loaded ${c.type} sn: ${c.sn} of ${this.playlistLabel()} ${c.level}`),this.hls.trigger(Te.FRAG_LOADED,o)),this._handleFragmentLoadComplete(o)}).catch(o=>{this.state===on.STOPPED||this.state===on.ERROR||(this.warn(`Frag error: ${o?.message||o}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:i}=this;if(i.getState(e)===Rr.APPENDING){const o=e.type,l=this.getFwdBufferInfo(this.mediaBuffer,o),c=Math.max(e.duration,l?l.len:this.config.maxBufferLength),f=this.backtrackFragment;((f?e.sn-f.sn:0)===1||this.reduceMaxBufferLength(c,e.duration))&&i.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===Rr.PARTIAL&&i.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return t?.live&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,i=null){if(!(e-t))return;const r={startOffset:e,endOffset:t,type:i};this.hls.trigger(Te.BUFFER_FLUSHING,r)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(i=>{const r=i?.frag;if(!r||this.fragContextChanged(r)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:r}=this,{frag:o,payload:l}=i,c=o.decryptdata;if(l&&l.byteLength>0&&c!=null&&c.key&&c.iv&&gg(c.method)){const f=self.performance.now();return this.decrypter.decrypt(new Uint8Array(l),c.key.buffer,c.iv.buffer,Ik(c.method)).catch(h=>{throw r.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.FRAG_DECRYPT_ERROR,fatal:!1,error:h,reason:h.message,frag:o}),h}).then(h=>{const g=self.performance.now();return r.trigger(Te.FRAG_DECRYPTED,{frag:o,payload:h,stats:{tstart:f,tdecrypt:g}}),i.payload=h,this.completeInitSegmentLoad(i)})}return this.completeInitSegmentLoad(i)}).catch(i=>{this.state===on.STOPPED||this.state===on.ERROR||(this.warn(i),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const i=e.frag.stats;this.state!==on.STOPPED&&(this.state=on.IDLE),e.frag.data=new Uint8Array(e.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,t){var i,r;const o=e.tracks;if(o&&!t.encrypted&&((i=o.audio)!=null&&i.encrypted||(r=o.video)!=null&&r.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const l=this.media,c=new Error(`Encrypted track with no key in ${this.fragInfo(t)} (media ${l?"attached mediaKeys: "+l.mediaKeys:"detached"})`);return this.warn(c.message),!l||l.mediaKeys?!1:(this.hls.trigger(Te.ERROR,{type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_NO_KEYS,fatal:!1,error:c,frag:t}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const i=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${i?iG.toString(_i.getBuffered(i)):"(detached)"})`),rr(e)){var r;if(e.type!==Gn.SUBTITLE){const l=e.elementaryStreams;if(!Object.keys(l).some(c=>!!l[c])){this.state=on.IDLE;return}}const o=(r=this.levels)==null?void 0:r[e.level];o!=null&&o.fragmentError&&(this.log(`Resetting level fragment error count of ${o.fragmentError} on frag buffered`),o.fragmentError=0)}this.state=on.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:i,part:r,partsLoaded:o}=e,l=!o||o.length===0||o.some(f=>!f),c=new Rk(i.level,i.sn,i.stats.chunkCount+1,0,r?r.index:-1,!l);t.flush(c)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,i=null,r){var o;this.fragCurrent=e;const l=t.details;if(!this.levels||!l)throw new Error(`frag load aborted, missing level${l?"":" detail"}s`);let c=null;if(e.encrypted&&!((o=e.decryptdata)!=null&&o.key)){if(this.log(`Loading key for ${e.sn} of [${l.startSN}-${l.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=on.KEY_LOADING,this.fragCurrent=e,c=this.keyLoader.load(e).then(p=>{if(!this.fragContextChanged(p.frag))return this.hls.trigger(Te.KEY_LOADED,p),this.state===on.KEY_LOADING&&(this.state=on.IDLE),p}),this.hls.trigger(Te.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(c=this.keyLoader.loadClear(e,l.encryptedFragments,this.startFragRequested),c&&this.log("[eme] blocking frag load until media-keys acquired"));const f=this.fragPrevious;if(rr(e)&&(!f||e.sn!==f.sn)){const p=this.shouldLoadParts(t.details,e.end);p!==this.loadingParts&&(this.log(`LL-Part loading ${p?"ON":"OFF"} loading sn ${f?.sn}->${e.sn}`),this.loadingParts=p)}if(i=Math.max(e.start,i||0),this.loadingParts&&rr(e)){const p=l.partList;if(p&&r){i>l.fragmentEnd&&l.fragmentHint&&(e=l.fragmentHint);const y=this.getNextPart(p,e,i);if(y>-1){const E=p[y];e=this.fragCurrent=E.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${E.index} (${y}/${p.length-1}) of ${this.fragInfo(e,!1,E)}) cc: ${e.cc} [${l.startSN}-${l.endSN}], target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=E.start+E.duration,this.state=on.FRAG_LOADING;let A;return c?A=c.then(w=>!w||this.fragContextChanged(w.frag)?null:this.doFragPartsLoad(e,E,t,r)).catch(w=>this.handleFragLoadError(w)):A=this.doFragPartsLoad(e,E,t,r).catch(w=>this.handleFragLoadError(w)),this.hls.trigger(Te.FRAG_LOADING,{frag:e,part:E,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):A}else if(!e.url||this.loadedEndOfParts(p,i))return Promise.resolve(null)}}if(rr(e)&&this.loadingParts){var h;this.log(`LL-Part loading OFF after next part miss @${i.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(h=l.partList)==null?void 0:h.filter(p=>p.loaded).map(p=>`[${p.start}-${p.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+l.startSN+"-"+l.endSN+"]"}, target: ${parseFloat(i.toFixed(3))}`),Un(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=on.FRAG_LOADING;const g=this.config.progressive&&e.type!==Gn.SUBTITLE;let m;return g&&c?m=c.then(p=>!p||this.fragContextChanged(p.frag)?null:this.fragmentLoader.load(e,r)).catch(p=>this.handleFragLoadError(p)):m=Promise.all([this.fragmentLoader.load(e,g?r:void 0),c]).then(([p])=>(!g&&r&&r(p),p)).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(Te.FRAG_LOADING,{frag:e,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):m}doFragPartsLoad(e,t,i,r){return new Promise((o,l)=>{var c;const f=[],h=(c=i.details)==null?void 0:c.partList,g=m=>{this.fragmentLoader.loadPart(e,m,r).then(p=>{f[m.index]=p;const y=p.part;this.hls.trigger(Te.FRAG_LOADED,p);const E=sM(i.details,e.sn,m.index+1)||TU(h,e.sn,m.index+1);if(E)g(E);else return o({frag:e,part:y,partsLoaded:f})}).catch(l)};g(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;t.frag&&t.details===Dt.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):t.frag&&t.type===ti.KEY_SYSTEM_ERROR?(t.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(t.frag)):this.hls.trigger(Te.ERROR,t)}else this.hls.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==on.PARSING){!this.fragCurrent&&this.state!==on.STOPPED&&this.state!==on.ERROR&&(this.state=on.IDLE);return}const{frag:i,part:r,level:o}=t,l=self.performance.now();i.stats.parsing.end=l,r&&(r.stats.parsing.end=l);const c=this.getLevelDetails(),h=c&&i.sn>c.endSN||this.shouldLoadParts(c,i.end);h!==this.loadingParts&&(this.log(`LL-Part loading ${h?"ON":"OFF"} after parsing segment ending @${i.end.toFixed(2)}`),this.loadingParts=h),this.updateLevelTiming(i,r,o,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var i;const o=e.partList[0];if(o.fragment.type===Gn.SUBTITLE)return!1;const l=o.end+(((i=e.fragmentHint)==null?void 0:i.duration)||0);if(t>=l){var r;if((this.hls.hasEnoughToStart?((r=this.media)==null?void 0:r.currentTime)||this.lastCurrentTime:this.getLoadPosition())>o.start-o.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:i}=this,{level:r,sn:o,part:l}=e;if(!(t!=null&&t[r]))return this.warn(`Levels object was unset while buffering fragment ${o} of ${this.playlistLabel()} ${r}. The current chunk will not be buffered.`),null;const c=t[r],f=c.details,h=l>-1?sM(f,o,l):null,g=h?h.fragment:_U(f,o,i);return g?(i&&i!==g&&(g.stats=i.stats),{frag:g,part:h,level:c}):null}bufferFragmentData(e,t,i,r,o){if(this.state!==on.PARSING)return;const{data1:l,data2:c}=e;let f=l;if(c&&(f=Lo(l,c)),!f.length)return;const h=this.initPTS[t.cc],g=h?-h.baseTime/h.timescale:void 0,m={type:e.type,frag:t,part:i,chunkMeta:r,offset:g,parent:t.type,data:f};if(this.hls.trigger(Te.BUFFER_APPENDING,m),e.dropped&&e.independent&&!i){if(o)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!_i.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const i=t.currentTime,r=_i.bufferInfo(t,i,0),o=e.duration,l=Math.min(this.config.maxFragLookUpTolerance*2,o*.25),c=Math.max(Math.min(e.start-l,r.end-l),i+l);e.start-c>l&&this.flushMainBuffer(c,e.start)}getFwdBufferInfo(e,t){var i;const r=this.getLoadPosition();if(!Un(r))return null;const l=this.lastCurrentTime>r||(i=this.media)!=null&&i.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,r,t,l)}getFwdBufferInfoAtPos(e,t,i,r){const o=_i.bufferInfo(e,t,r);if(o.len===0&&o.nextStart!==void 0){const l=this.fragmentTracker.getBufferedFrag(t,i);if(l&&(o.nextStart<=l.end||l.gap)){const c=Math.max(Math.min(o.nextStart,l.end)-t,r);return _i.bufferInfo(e,t,c)}}return o}getMaxBufferLength(e){const{config:t}=this;let i;return e?i=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):i=t.maxBufferLength,Math.min(i,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const i=this.config,r=Math.max(Math.min(e-t,i.maxBufferLength),t),o=Math.max(e-t*3,i.maxMaxBufferLength/2,r);return o>=r?(i.maxMaxBufferLength=o,this.warn(`Reduce max buffer length to ${o}s`),!0):!1}getAppendedFrag(e,t=Gn.MAIN){const i=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,t):null;return i&&"fragment"in i?i.fragment:i}getNextFragment(e,t){const i=t.fragments,r=i.length;if(!r)return null;const{config:o}=this,l=i[0].start,c=o.lowLatencyMode&&!!t.partList;let f=null;if(t.live){const m=o.initialLiveManifestSize;if(r<m)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${m})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<l){var h;c&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),f=this.getInitialLiveFragment(t);const p=this.hls.startPosition,y=this.hls.liveSyncPosition,E=f?(p!==-1&&p>=l?p:y)||f.start:e;this.log(`Setting startPosition to ${E} to match start frag at live edge. mainStart: ${p} liveSyncPosition: ${y} frag.start: ${(h=f)==null?void 0:h.start}`),this.startPosition=this.nextLoadPosition=E}}else e<=l&&(f=i[0]);if(!f){const m=this.loadingParts?t.partEnd:t.fragmentEnd;f=this.getFragmentAtPosition(e,m,t)}let g=this.filterReplacedPrimary(f,t);if(!g&&f){const m=f.sn-t.startSN;g=this.filterReplacedPrimary(i[m+1]||null,t)}return this.mapToInitFragWhenRequired(g)}isLoopLoading(e,t){const i=this.fragmentTracker.getState(e);return(i===Rr.OK||i===Rr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,i,r,o){let l=null;if(e.gap&&(l=this.getNextFragment(this.nextLoadPosition,t),l&&!l.gap&&i.nextStart)){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,r,0);if(c!==null&&i.len+c.len>=o){const f=l.sn;return this.loopSn!==f&&(this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${f}`),this.loopSn=f),null}}return this.loopSn=void 0,l}get primaryPrefetch(){if(uM(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(uM(this.config)&&e.type!==Gn.SUBTITLE){const i=this.hls.interstitialsManager,r=i?.bufferingItem;if(r){const l=r.event;if(l){if(l.appendInPlace||Math.abs(e.start-r.start)>1||r.start===0)return null}else if(e.end<=r.start&&t?.live===!1||e.start>r.end&&r.nextEvent&&(r.nextEvent.appendInPlace||e.start-r.end>1))return null}const o=i?.playerQueue;if(o)for(let l=o.length;l--;){const c=o[l].interstitial;if(c.appendInPlace&&e.start>=c.startTime&&e.end<=c.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,i){let r=-1,o=!1,l=!0;for(let c=0,f=e.length;c<f;c++){const h=e[c];if(l=l&&!h.independent,r>-1&&i<h.start)break;const g=h.loaded;g?r=-1:(o||(h.independent||l)&&h.fragment===t)&&(h.fragment!==t&&this.warn(`Need buffer at ${i} but next unloaded part starts at ${h.start}`),r=c),o=g}return r}loadedEndOfParts(e,t){let i;for(let r=e.length;r--;){if(i=e[r],!i.loaded)return!1;if(t>i.start)return!0}return!1}getInitialLiveFragment(e){const t=e.fragments,i=this.fragPrevious;let r=null;if(i){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),r=EH(t,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const o=i.sn+1;if(o>=e.startSN&&o<=e.endSN){const l=t[o-e.startSN];i.cc===l.cc&&(r=l,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=oU(e,i.cc,i.end),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const o=this.hls.liveSyncPosition;o!==null&&(r=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}getFragmentAtPosition(e,t,i){const{config:r}=this;let{fragPrevious:o}=this,{fragments:l,endSN:c}=i;const{fragmentHint:f}=i,{maxFragLookUpTolerance:h}=r,g=i.partList,m=!!(this.loadingParts&&g!=null&&g.length&&f);m&&!this.bitrateTest&&g[g.length-1].fragment.sn===f.sn&&(l=l.concat(f),c=f.sn);let p;if(e<t){var y;const A=e<this.lastCurrentTime||e>t-h||(y=this.media)!=null&&y.paused||!this.startFragRequested?0:h;p=lh(o,l,e,A)}else p=l[l.length-1];if(p){const E=p.sn-i.startSN,A=this.fragmentTracker.getState(p);if((A===Rr.OK||A===Rr.PARTIAL&&p.gap)&&(o=p),o&&p.sn===o.sn&&(!m||g[0].fragment.sn>p.sn||!i.live)&&p.level===o.level){const M=l[E+1];p.sn<c&&this.fragmentTracker.getState(M)!==Rr.OK?p=M:p=null}}return p}alignPlaylists(e,t,i){const r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const o=e.fragmentStart,l=!t,c=e.alignedSliding&&Un(o);if(l||!c&&!o){nG(i,e);const f=e.fragmentStart;return this.log(`Live playlist sliding: ${f.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${r}`),f}return o}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let i=this.startPosition;i<t&&(i=-1);const r=this.timelineOffset;if(i===-1){const o=this.startTimeOffset!==null,l=o?this.startTimeOffset:e.startTimeOffset;l!==null&&Un(l)?(i=t+l,l<0&&(i+=e.edge),i=Math.min(Math.max(t,i),t+e.totalduration),this.log(`Setting startPosition to ${i} for start time offset ${l} found in ${o?"multivariant":"media"} playlist`),this.startPosition=i):e.live?(i=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${i}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=i=0),this.lastCurrentTime=i+r}this.nextLoadPosition=i+r}getLoadPosition(){var e;const{media:t}=this;let i=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?i=t.currentTime:this.nextLoadPosition>=0&&(i=this.nextLoadPosition),i}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&rr(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==on.FRAG_LOADING_WAITING_RETRY)&&(this.state=on.IDLE)}onFragmentOrKeyLoadError(e,t){var i;if(t.chunkMeta&&!t.frag){const M=this.getCurrentContext(t.chunkMeta);M&&(t.frag=M.frag)}const r=t.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var o;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(o=this.fragCurrent)==null?void 0:o.url}`);return}const l=t.details===Dt.FRAG_GAP;l&&this.fragmentTracker.fragBuffered(r,!0);const c=t.errorAction;if(!c){this.state=on.ERROR;return}const{action:f,flags:h,retryCount:g=0,retryConfig:m}=c,p=!!m,y=p&&f===Kr.RetryRequest,E=p&&!c.resolved&&h===Vs.MoveAllAlternatesMatchingHost,A=(i=this.hls.latestLevelDetails)==null?void 0:i.live;if(!y&&E&&rr(r)&&!r.endList&&A&&!uU(t))this.resetFragmentErrors(e),this.treatAsGap(r),c.resolved=!0;else if((y||E)&&g<m.maxNumRetry){var w;const M=yR((w=t.response)==null?void 0:w.code),x=Ak(m,g);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+x,this.state=on.FRAG_LOADING_WAITING_RETRY,c.resolved=!0,M){this.log("Waiting for connection (offline)"),this.retryDate=1/0,t.reason="offline";return}this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${t.details}, retrying loading ${g+1}/${m.maxNumRetry} in ${x}ms`)}else if(m)if(this.resetFragmentErrors(e),g<m.maxNumRetry)!l&&f!==Kr.RemoveAlternatePermanently&&(c.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${g})`);return}else f===Kr.SendAlternateToPenaltyBox?this.state=on.WAITING_LEVEL:this.state=on.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),t=this.retryDate,i=t===1/0;(!t||e>=t||i&&!yR(0))&&(i&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=on.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===on.PARSING||this.state===on.PARSED){const t=e.frag,i=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,i),o=r&&r.len>.5;o&&this.reduceMaxBufferLength(r.len,t?.duration||10);const l=!o;return l&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${i} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),l}return!1}resetFragmentErrors(e){e===Gn.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==on.STOPPED&&(this.state=on.IDLE)}afterBufferFlushed(e,t,i){if(!e)return;const r=_i.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,i),this.state===on.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==on.STOPPED&&(this.state=on.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,i,r){const o=i.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((f,h)=>{const g=e.elementaryStreams[h];if(g){const m=g.endPTS-g.startPTS;if(m<=0)return this.warn(`Could not parse fragment ${e.sn} ${h} duration reliably (${m})`),f||!1;const p=r?0:yU(o,e,g.startPTS,g.endPTS,g.startDTS,g.endDTS,this);return this.hls.trigger(Te.LEVEL_PTS_UPDATED,{details:o,level:i,drift:p,type:h,frag:e,start:g.startPTS,end:g.endPTS}),!0}return f},!1)){var c;const f=((c=this.transmuxer)==null?void 0:c.error)===null;if((i.fragmentError===0||f&&(i.fragmentError<2||e.endList))&&this.treatAsGap(e,i),f){const h=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(h.message),this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.FRAG_PARSING_ERROR,fatal:!1,error:h,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=on.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(Te.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===Gn.MAIN?"level":"track"}fragInfo(e,t=!0,i){var r,o;return`${this.playlistLabel()} ${e.level} (${i?"part":"frag"}:[${((r=t&&!i?e.startPTS:(i||e).start)!=null?r:NaN).toFixed(3)}-${((o=t&&!i?e.endPTS:(i||e).end)!=null?o:NaN).toFixed(3)}]${i&&e.type==="main"?"INDEPENDENT="+(i.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function uM(n){return!!n.interstitialsController&&n.enableInterstitialPlayback!==!1}class RU{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let i;if(e.length)e.length===1?i=e[0]:i=aG(e,t);else return new Uint8Array(0);return this.reset(),i}reset(){this.chunks.length=0,this.dataLength=0}}function aG(n,e){const t=new Uint8Array(e);let i=0;for(let r=0;r<n.length;r++){const o=n[r];t.set(o,i),i+=o.length}return t}var Uw={exports:{}},cM;function rG(){return cM||(cM=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function o(f,h,g,m,p){if(typeof g!="function")throw new TypeError("The listener must be a function");var y=new r(g,m||f,p),E=t?t+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],y]:f._events[E].push(y):(f._events[E]=y,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new i:delete f._events[h]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],g,m;if(this._eventsCount===0)return h;for(m in g=this._events)e.call(g,m)&&h.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},c.prototype.listeners=function(h){var g=t?t+h:h,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,E=new Array(y);p<y;p++)E[p]=m[p].fn;return E},c.prototype.listenerCount=function(h){var g=t?t+h:h,m=this._events[g];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,g,m,p,y,E){var A=t?t+h:h;if(!this._events[A])return!1;var w=this._events[A],M=arguments.length,x,C;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),M){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,m),!0;case 4:return w.fn.call(w.context,g,m,p),!0;case 5:return w.fn.call(w.context,g,m,p,y),!0;case 6:return w.fn.call(w.context,g,m,p,y,E),!0}for(C=1,x=new Array(M-1);C<M;C++)x[C-1]=arguments[C];w.fn.apply(w.context,x)}else{var O=w.length,z;for(C=0;C<O;C++)switch(w[C].once&&this.removeListener(h,w[C].fn,void 0,!0),M){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,g);break;case 3:w[C].fn.call(w[C].context,g,m);break;case 4:w[C].fn.call(w[C].context,g,m,p);break;default:if(!x)for(z=1,x=new Array(M-1);z<M;z++)x[z-1]=arguments[z];w[C].fn.apply(w[C].context,x)}}return!0},c.prototype.on=function(h,g,m){return o(this,h,g,m,!1)},c.prototype.once=function(h,g,m){return o(this,h,g,m,!0)},c.prototype.removeListener=function(h,g,m,p){var y=t?t+h:h;if(!this._events[y])return this;if(!g)return l(this,y),this;var E=this._events[y];if(E.fn)E.fn===g&&(!p||E.once)&&(!m||E.context===m)&&l(this,y);else{for(var A=0,w=[],M=E.length;A<M;A++)(E[A].fn!==g||p&&!E[A].once||m&&E[A].context!==m)&&w.push(E[A]);w.length?this._events[y]=w.length===1?w[0]:w:l(this,y)}return this},c.prototype.removeAllListeners=function(h){var g;return h?(g=t?t+h:h,this._events[g]&&l(this,g)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(Uw)),Uw.exports}var sG=rG(),Ck=Dj(sG);const Uy="1.6.15",Mg={};function oG(){return typeof __HLS_WORKER_BUNDLE__=="function"}function lG(){const n=Mg[Uy];if(n)return n.clientCount++,n;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),r={worker:new self.Worker(t),objectURL:t,clientCount:1};return Mg[Uy]=r,r}function uG(n){const e=Mg[n];if(e)return e.clientCount++,e;const t=new self.URL(n,self.location.href).href,r={worker:new self.Worker(t),scriptURL:t,clientCount:1};return Mg[n]=r,r}function cG(n){const e=Mg[n||Uy];if(e&&e.clientCount--===1){const{worker:i,objectURL:r}=e;delete Mg[n||Uy],r&&self.URL.revokeObjectURL(r),i.terminate()}}function IU(n,e){return e+10<=n.length&&n[e]===51&&n[e+1]===68&&n[e+2]===73&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128}function Dk(n,e){return e+10<=n.length&&n[e]===73&&n[e+1]===68&&n[e+2]===51&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128}function HS(n,e){let t=0;return t=(n[e]&127)<<21,t|=(n[e+1]&127)<<14,t|=(n[e+2]&127)<<7,t|=n[e+3]&127,t}function Fy(n,e){const t=e;let i=0;for(;Dk(n,e);){i+=10;const r=HS(n,e+6);i+=r,IU(n,e+10)&&(i+=10),e+=i}if(i>0)return n.subarray(t,t+i)}function dG(n,e,t,i){const r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=e[t+2],l=o>>2&15;if(l>12){const y=new Error(`invalid ADTS sampling index:${l}`);n.emit(Te.ERROR,Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.FRAG_PARSING_ERROR,fatal:!0,error:y,reason:y.message});return}const c=(o>>6&3)+1,f=e[t+3]>>6&3|(o&1)<<2,h="mp4a.40."+c,g=r[l];let m=l;(c===5||c===29)&&(m-=3);const p=[c<<3|(m&14)>>1,(m&1)<<7|f<<3];return ga.log(`manifest codec:${i}, parsed codec:${h}, channels:${f}, rate:${g} (ADTS object type:${c} sampling index:${l})`),{config:p,samplerate:g,channelCount:f,codec:h,parsedCodec:h,manifestCodec:i}}function kU(n,e){return n[e]===255&&(n[e+1]&246)===240}function xU(n,e){return n[e+1]&1?7:9}function Lk(n,e){return(n[e+3]&3)<<11|n[e+4]<<3|(n[e+5]&224)>>>5}function fG(n,e){return e+5<n.length}function VT(n,e){return e+1<n.length&&kU(n,e)}function hG(n,e){return fG(n,e)&&kU(n,e)&&Lk(n,e)<=n.length-e}function mG(n,e){if(VT(n,e)){const t=xU(n,e);if(e+t>=n.length)return!1;const i=Lk(n,e);if(i<=t)return!1;const r=e+i;return r===n.length||VT(n,r)}return!1}function CU(n,e,t,i,r){if(!n.samplerate){const o=dG(e,t,i,r);if(!o)return;ba(n,o)}}function DU(n){return 1024*9e4/n}function gG(n,e){const t=xU(n,e);if(e+t<=n.length){const i=Lk(n,e)-t;if(i>0)return{headerLength:t,frameLength:i}}}function LU(n,e,t,i,r){const o=DU(n.samplerate),l=i+r*o,c=gG(e,t);let f;if(c){const{frameLength:m,headerLength:p}=c,y=p+m,E=Math.max(0,t+y-e.length);E?(f=new Uint8Array(y-p),f.set(e.subarray(t+p,e.length),0)):f=e.subarray(t+p,t+y);const A={unit:f,pts:l};return E||n.samples.push(A),{sample:A,length:y,missing:E}}const h=e.length-t;return f=new Uint8Array(h),f.set(e.subarray(t,e.length),0),{sample:{unit:f,pts:l},length:h,missing:-1}}function pG(n,e){return Dk(n,e)&&HS(n,e+6)+10<=n.length-e}function vG(n){return n instanceof ArrayBuffer?n:n.byteOffset==0&&n.byteLength==n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer}function Fw(n,e=0,t=1/0){return yG(n,e,t,Uint8Array)}function yG(n,e,t,i){const r=EG(n);let o=1;"BYTES_PER_ELEMENT"in i&&(o=i.BYTES_PER_ELEMENT);const l=bG(n)?n.byteOffset:0,c=(l+n.byteLength)/o,f=(l+e)/o,h=Math.floor(Math.max(0,Math.min(f,c))),g=Math.floor(Math.min(h+Math.max(t,0),c));return new i(r,h,g-h)}function EG(n){return n instanceof ArrayBuffer?n:n.buffer}function bG(n){return n&&n.buffer instanceof ArrayBuffer&&n.byteLength!==void 0&&n.byteOffset!==void 0}function _G(n){const e={key:n.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(n.size<2)return;if(n.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const i=n.data.subarray(1).indexOf(0);if(i===-1)return;const r=eo(Fw(n.data,1,i)),o=n.data[2+i],l=n.data.subarray(3+i).indexOf(0);if(l===-1)return;const c=eo(Fw(n.data,3+i,l));let f;return r==="-->"?f=eo(Fw(n.data,4+i+l)):f=vG(n.data.subarray(4+i+l)),e.mimeType=r,e.pictureType=o,e.description=c,e.data=f,e}function TG(n){if(n.size<2)return;const e=eo(n.data,!0),t=new Uint8Array(n.data.subarray(e.length+1));return{key:n.type,info:e,data:t.buffer}}function SG(n){if(n.size<2)return;if(n.type==="TXXX"){let t=1;const i=eo(n.data.subarray(t),!0);t+=i.length+1;const r=eo(n.data.subarray(t));return{key:n.type,info:i,data:r}}const e=eo(n.data.subarray(1));return{key:n.type,info:"",data:e}}function AG(n){if(n.type==="WXXX"){if(n.size<2)return;let t=1;const i=eo(n.data.subarray(t),!0);t+=i.length+1;const r=eo(n.data.subarray(t));return{key:n.type,info:i,data:r}}const e=eo(n.data);return{key:n.type,info:"",data:e}}function wG(n){return n.type==="PRIV"?TG(n):n.type[0]==="W"?AG(n):n.type==="APIC"?_G(n):SG(n)}function RG(n){const e=String.fromCharCode(n[0],n[1],n[2],n[3]),t=HS(n,4),i=10;return{type:e,size:t,data:n.subarray(i,i+t)}}const b0=10,IG=10;function MU(n){let e=0;const t=[];for(;Dk(n,e);){const i=HS(n,e+6);n[e+5]>>6&1&&(e+=b0),e+=b0;const r=e+i;for(;e+IG<r;){const o=RG(n.subarray(e)),l=wG(o);l&&t.push(l),e+=o.size+b0}IU(n,e)&&(e+=b0)}return t}function NU(n){return n&&n.key==="PRIV"&&n.info==="com.apple.streaming.transportStreamTimestamp"}function kG(n){if(n.data.byteLength===8){const e=new Uint8Array(n.data),t=e[3]&1;let i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,t&&(i+=4772185884e-2),Math.round(i)}}function Mk(n){const e=MU(n);for(let t=0;t<e.length;t++){const i=e[t];if(NU(i))return kG(i)}}let Qs=(function(n){return n.audioId3="org.id3",n.dateRange="com.apple.quicktime.HLS",n.emsg="https://aomedia.org/emsg/ID3",n.misbklv="urn:misb:KLV:bin:1910.1",n})({});function au(n="",e=9e4){return{type:n,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Nk{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,i,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,i){}demux(e,t){this.cachedData&&(e=Lo(this.cachedData,e),this.cachedData=null);let i=Fy(e,0),r=i?i.length:0,o;const l=this._audioTrack,c=this._id3Track,f=i?Mk(i):void 0,h=e.length;for((this.basePTS===null||this.frameIndex===0&&Un(f))&&(this.basePTS=xG(f,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),i&&i.length>0&&c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Qs.audioId3,duration:Number.POSITIVE_INFINITY});r<h;){if(this.canParse(e,r)){const g=this.appendFrame(l,e,r);g?(this.frameIndex++,this.lastPTS=g.sample.pts,r+=g.length,o=r):r=h}else pG(e,r)?(i=Fy(e,r),c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Qs.audioId3,duration:Number.POSITIVE_INFINITY}),r+=i.length,o=r):r++;if(r===h&&o!==h){const g=e.slice(o);this.cachedData?this.cachedData=Lo(this.cachedData,g):this.cachedData=g}}return{audioTrack:l,videoTrack:au(),id3Track:c,textTrack:au()}}demuxSampleAes(e,t,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:au(),id3Track:this._id3Track,textTrack:au()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const xG=(n,e,t)=>{if(Un(n))return n*90;const i=t?t.baseTime*9e4/t.timescale:0;return e*9e4+i};let _0=null;const CG=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],DG=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],LG=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],MG=[0,1,1,4];function OU(n,e,t,i,r){if(t+24>e.length)return;const o=PU(e,t);if(o&&t+o.frameLength<=e.length){const l=o.samplesPerFrame*9e4/o.sampleRate,c=i+r*l,f={unit:e.subarray(t,t+o.frameLength),pts:c,dts:c};return n.config=[],n.channelCount=o.channelCount,n.samplerate=o.sampleRate,n.samples.push(f),{sample:f,length:o.frameLength,missing:0}}}function PU(n,e){const t=n[e+1]>>3&3,i=n[e+1]>>1&3,r=n[e+2]>>4&15,o=n[e+2]>>2&3;if(t!==1&&r!==0&&r!==15&&o!==3){const l=n[e+2]>>1&1,c=n[e+3]>>6,f=t===3?3-i:i===3?3:4,h=CG[f*14+r-1]*1e3,m=DG[(t===3?0:t===2?1:2)*3+o],p=c===3?1:2,y=LG[t][i],E=MG[i],A=y*8*E,w=Math.floor(y*h/m+l)*E;if(_0===null){const C=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);_0=C?parseInt(C[1]):0}return _0&&_0<=87&&i===2&&h>=224e3&&c===0&&(n[e+3]=n[e+3]|128),{sampleRate:m,channelCount:p,frameLength:w,samplesPerFrame:A}}}function Ok(n,e){return n[e]===255&&(n[e+1]&224)===224&&(n[e+1]&6)!==0}function UU(n,e){return e+1<n.length&&Ok(n,e)}function NG(n,e){return Ok(n,e)&&4<=n.length-e}function FU(n,e){if(e+1<n.length&&Ok(n,e)){const i=PU(n,e);let r=4;i!=null&&i.frameLength&&(r=i.frameLength);const o=e+r;return o===n.length||UU(n,o)}return!1}class OG extends Nk{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,i,r){super.resetInitSegment(e,t,i,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const i=Fy(e,0);let r=i?.length||0;if(FU(e,r))return!1;for(let o=e.length;r<o;r++)if(mG(e,r))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return hG(e,t)}appendFrame(e,t,i){CU(e,this.observer,t,i,e.manifestCodec);const r=LU(e,t,i,this.basePTS,this.frameIndex);if(r&&r.missing===0)return r}}const BU=(n,e)=>{let t=0,i=5;e+=i;const r=new Uint32Array(1),o=new Uint32Array(1),l=new Uint8Array(1);for(;i>0;){l[0]=n[e];const c=Math.min(i,8),f=8-c;o[0]=4278190080>>>24+f<<f,r[0]=(l[0]&o[0])>>f,t=t?t<<c|r[0]:r[0],e+=1,i-=c}return t};class PG extends Nk{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,i,r){super.resetInitSegment(e,t,i,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,i){const r=zU(e,t,i,this.basePTS,this.frameIndex);if(r!==-1)return{sample:e.samples[e.samples.length-1],length:r,missing:0}}static probe(e){if(!e)return!1;const t=Fy(e,0);if(!t)return!1;const i=t.length;return e[i]===11&&e[i+1]===119&&Mk(t)!==void 0&&BU(e,i)<16}}function zU(n,e,t,i,r){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const o=e[t+4]>>6;if(o>=3)return-1;const c=[48e3,44100,32e3][o],f=e[t+4]&63,g=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][f*3+o]*2;if(t+g>e.length)return-1;const m=e[t+6]>>5;let p=0;m===2?p+=2:(m&1&&m!==1&&(p+=2),m&4&&(p+=2));const y=(e[t+6]<<8|e[t+7])>>12-p&1,A=[2,1,2,3,3,4,4,5][m]+y,w=e[t+5]>>3,M=e[t+5]&7,x=new Uint8Array([o<<6|w<<1|M>>2,(M&3)<<6|m<<3|y<<2|f>>4,f<<4&224]),C=1536/c*9e4,O=i+r*C,z=e.subarray(t,t+g);return n.config=x,n.channelCount=A,n.samplerate=c,n.samples.push({unit:z,pts:O}),g}class UG extends Nk{resetInitSegment(e,t,i,r){super.resetInitSegment(e,t,i,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Fy(e,0);let i=t?.length||0;if(t&&e[i]===11&&e[i+1]===119&&Mk(t)!==void 0&&BU(e,i)<=16)return!1;for(let r=e.length;i<r;i++)if(FU(e,i))return ga.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return NG(e,t)}appendFrame(e,t,i){if(this.basePTS!==null)return OU(e,t,i,this.basePTS,this.frameIndex)}}const FG=/\/emsg[-/]ID3/i;class BG{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,i,r){const o=this.videoTrack=au("video",1),l=this.audioTrack=au("audio",1),c=this.txtTrack=au("text",1);if(this.id3Track=au("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const f=Q2(e);if(f.video){const{id:h,timescale:g,codec:m,supplemental:p}=f.video;o.id=h,o.timescale=c.timescale=g,o.codec=m,o.supplemental=p}if(f.audio){const{id:h,timescale:g,codec:m}=f.audio;l.id=h,l.timescale=g,l.codec=m}c.id=K2.text,o.sampleDuration=0,o.duration=l.duration=r}resetContiguity(){this.remainderData=null}static probe(e){return Pj(e)}demux(e,t){this.timeOffset=t;let i=e;const r=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Lo(this.remainderData,e));const c=jj(i);this.remainderData=c.remainder,r.samples=c.valid||new Uint8Array}else r.samples=i;const l=this.extractID3Track(r,t);return o.samples=kL(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:l,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,i=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(t,this.timeOffset);return i.samples=kL(e,t),{videoTrack:t,audioTrack:au(),id3Track:r,textTrack:au()}}extractID3Track(e,t){const i=this.id3Track;if(e.samples.length){const r=Mi(e.samples,["emsg"]);r&&r.forEach(o=>{const l=Gj(o);if(FG.test(l.schemeIdUri)){const c=dM(l,t);let f=l.eventDuration===4294967295?Number.POSITIVE_INFINITY:l.eventDuration/l.timeScale;f<=.001&&(f=Number.POSITIVE_INFINITY);const h=l.payload;i.samples.push({data:h,len:h.byteLength,dts:c,pts:c,type:Qs.emsg,duration:f})}else if(this.config.enableEmsgKLVMetadata&&l.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const c=dM(l,t);i.samples.push({data:l.payload,len:l.payload.byteLength,dts:c,pts:c,type:Qs.misbklv,duration:Number.POSITIVE_INFINITY})}})}return i}demuxSampleAes(e,t,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function dM(n,e){return Un(n.presentationTime)?n.presentationTime/n.timeScale:e+n.presentationTimeDelta/n.timeScale}class zG{constructor(e,t,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new wk(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,Bd.cbc)}decryptAacSample(e,t,i){const r=e[t].unit;if(r.length<=16)return;const o=r.subarray(16,r.length-r.length%16),l=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(l).then(c=>{const f=new Uint8Array(c);r.set(f,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,i)}).catch(i)}decryptAacSamples(e,t,i){for(;;t++){if(t>=e.length){i();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,i=new Int8Array(t);let r=0;for(let o=32;o<e.length-16;o+=160,r+=16)i.set(e.subarray(o,o+16),r);return i}getAvcDecryptedUnit(e,t){const i=new Uint8Array(t);let r=0;for(let o=32;o<e.length-16;o+=160,r+=16)e.set(i.subarray(r,r+16),o);return e}decryptAvcSample(e,t,i,r,o){const l=J2(o.data),c=this.getAvcEncryptedData(l);this.decryptBuffer(c.buffer).then(f=>{o.data=this.getAvcDecryptedUnit(l,f),this.decrypter.isSync()||this.decryptAvcSamples(e,t,i+1,r)}).catch(r)}decryptAvcSamples(e,t,i,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,i=0){if(t>=e.length){r();return}const o=e[t].units;for(;!(i>=o.length);i++){const l=o[i];if(!(l.data.length<=48||l.type!==1&&l.type!==5)&&(this.decryptAvcSample(e,t,i,r,l),!this.decrypter.isSync()))return}}}}class $U{constructor(){this.VideoSample=null}createVideoSample(e,t,i){return{key:e,frame:!1,pts:t,dts:i,units:[],length:0}}getLastNalUnit(e){var t;let i=this.VideoSample,r;if((!i||i.units.length===0)&&(i=e[e.length-1]),(t=i)!=null&&t.units){const o=i.units;r=o[o.length-1]}return r}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const i=t.samples,r=i.length;if(r){const o=i[r-1];e.pts=o.pts,e.dts=o.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,i){const r=t.byteLength;let o=e.naluState||0;const l=o,c=[];let f=0,h,g,m,p=-1,y=0;for(o===-1&&(p=0,y=this.getNALuType(t,0),o=0,f=1);f<r;){if(h=t[f++],!o){o=h?0:1;continue}if(o===1){o=h?0:2;continue}if(!h)o=3;else if(h===1){if(g=f-o-1,p>=0){const E={data:t.subarray(p,g),type:y};c.push(E)}else{const E=this.getLastNalUnit(e.samples);E&&(l&&f<=4-l&&E.state&&(E.data=E.data.subarray(0,E.data.byteLength-l)),g>0&&(E.data=Lo(E.data,t.subarray(0,g)),E.state=0))}f<r?(m=this.getNALuType(t,f),p=f,y=m,o=0):o=-1}else o=0}if(p>=0&&o>=0){const E={data:t.subarray(p,r),type:y,state:o};c.push(E)}if(c.length===0){const E=this.getLastNalUnit(e.samples);E&&(E.data=Lo(E.data,t))}return e.naluState=o,c}}class yy{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,i=e.byteLength-t,r=new Uint8Array(4),o=Math.min(4,t);if(o===0)throw new Error("no bytes available");r.set(e.subarray(i,i+o)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=o*8,this.bytesAvailable-=o}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const i=this.word>>>32-t;if(e>32&&ga.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class $G extends $U{parsePES(e,t,i,r){const o=this.parseNALu(e,i.data,r);let l=this.VideoSample,c,f=!1;i.data=null,l&&o.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),o.forEach(h=>{var g,m;switch(h.type){case 1:{let A=!1;c=!0;const w=h.data;if(f&&w.length>4){const M=this.readSliceType(w);(M===2||M===4||M===7||M===9)&&(A=!0)}if(A){var p;(p=l)!=null&&p.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null)}l||(l=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),l.frame=!0,l.key=A;break}case 5:c=!0,(g=l)!=null&&g.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null),l||(l=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),l.key=!0,l.frame=!0;break;case 6:{c=!0,_k(h.data,1,i.pts,t.samples);break}case 7:{var y,E;c=!0,f=!0;const A=h.data,w=this.readSPS(A);if(!e.sps||e.width!==w.width||e.height!==w.height||((y=e.pixelRatio)==null?void 0:y[0])!==w.pixelRatio[0]||((E=e.pixelRatio)==null?void 0:E[1])!==w.pixelRatio[1]){e.width=w.width,e.height=w.height,e.pixelRatio=w.pixelRatio,e.sps=[A];const M=A.subarray(1,4);let x="avc1.";for(let C=0;C<3;C++){let O=M[C].toString(16);O.length<2&&(O="0"+O),x+=O}e.codec=x}break}case 8:c=!0,e.pps=[h.data];break;case 9:c=!0,e.audFound=!0,(m=l)!=null&&m.frame&&(this.pushAccessUnit(l,e),l=null),l||(l=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;case 12:c=!0;break;default:c=!1;break}l&&c&&l.units.push(h)}),r&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new yy(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let i=8,r=8,o;for(let l=0;l<e;l++)r!==0&&(o=t.readEG(),r=(i+o+256)%256),i=r===0?i:r}readSPS(e){const t=new yy(e);let i=0,r=0,o=0,l=0,c,f,h;const g=t.readUByte.bind(t),m=t.readBits.bind(t),p=t.readUEG.bind(t),y=t.readBoolean.bind(t),E=t.skipBits.bind(t),A=t.skipEG.bind(t),w=t.skipUEG.bind(t),M=this.skipScalingList.bind(this);g();const x=g();if(m(5),E(3),g(),w(),x===100||x===110||x===122||x===244||x===44||x===83||x===86||x===118||x===128){const H=p();if(H===3&&E(1),w(),w(),E(1),y())for(f=H!==3?8:12,h=0;h<f;h++)y()&&(h<6?M(16,t):M(64,t))}w();const C=p();if(C===0)p();else if(C===1)for(E(1),A(),A(),c=p(),h=0;h<c;h++)A();w(),E(1);const O=p(),z=p(),se=m(1);se===0&&E(1),E(1),y()&&(i=p(),r=p(),o=p(),l=p());let F=[1,1];if(y()&&y())switch(g()){case 1:F=[1,1];break;case 2:F=[12,11];break;case 3:F=[10,11];break;case 4:F=[16,11];break;case 5:F=[40,33];break;case 6:F=[24,11];break;case 7:F=[20,11];break;case 8:F=[32,11];break;case 9:F=[80,33];break;case 10:F=[18,11];break;case 11:F=[15,11];break;case 12:F=[64,33];break;case 13:F=[160,99];break;case 14:F=[4,3];break;case 15:F=[3,2];break;case 16:F=[2,1];break;case 255:{F=[g()<<8|g(),g()<<8|g()];break}}return{width:Math.ceil((O+1)*16-i*2-r*2),height:(2-se)*(z+1)*16-(se?2:4)*(o+l),pixelRatio:F}}}class qG extends $U{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,i,r){const o=this.parseNALu(e,i.data,r);let l=this.VideoSample,c,f=!1;i.data=null,l&&o.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),o.forEach(h=>{var g,m;switch(h.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:l||(l=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),l.frame=!0,c=!0;break;case 16:case 17:case 18:case 21:if(c=!0,f){var p;(p=l)!=null&&p.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null)}l||(l=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),l.key=!0,l.frame=!0;break;case 19:case 20:c=!0,(g=l)!=null&&g.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null),l||(l=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),l.key=!0,l.frame=!0;break;case 39:c=!0,_k(h.data,2,i.pts,t.samples);break;case 32:c=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=ba(e.params,this.readVPS(h.data)),this.initVPS=h.data),e.vps=[h.data];break;case 33:if(c=!0,f=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],h.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const y=this.readSPS(h.data);e.width=y.width,e.height=y.height,e.pixelRatio=y.pixelRatio,e.codec=y.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const E in y.params)e.params[E]=y.params[E]}this.pushParameterSet(e.sps,h.data,e.vps),l||(l=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),l.key=!0;break;case 34:if(c=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const y=this.readPPS(h.data);for(const E in y)e.params[E]=y[E]}this.pushParameterSet(e.pps,h.data,e.vps)}break;case 35:c=!0,e.audFound=!0,(m=l)!=null&&m.frame&&(this.pushAccessUnit(l,e),l=null),l||(l=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;default:c=!1;break}l&&c&&l.units.push(h)}),r&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}pushParameterSet(e,t,i){(i&&i[0]===this.initVPS||!i&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let i=0;for(let r=0;r<e.byteLength;r++)r>=2&&e[r]===3&&e[r-1]===0&&e[r-2]===0||(t[i]=e[r],i++);return new Uint8Array(t.buffer,0,i)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new yy(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const i=t.readBits(3),r=t.readBoolean();return{numTemporalLayers:i+1,temporalIdNested:r}}readSPS(e){const t=new yy(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const i=t.readBits(3);t.readBoolean();const r=t.readBits(2),o=t.readBoolean(),l=t.readBits(5),c=t.readUByte(),f=t.readUByte(),h=t.readUByte(),g=t.readUByte(),m=t.readUByte(),p=t.readUByte(),y=t.readUByte(),E=t.readUByte(),A=t.readUByte(),w=t.readUByte(),M=t.readUByte(),x=[],C=[];for(let Je=0;Je<i;Je++)x.push(t.readBoolean()),C.push(t.readBoolean());if(i>0)for(let Je=i;Je<8;Je++)t.readBits(2);for(let Je=0;Je<i;Je++)x[Je]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),C[Je]&&t.readUByte();t.readUEG();const O=t.readUEG();O==3&&t.skipBits(1);const z=t.readUEG(),se=t.readUEG(),F=t.readBoolean();let H=0,be=0,Ae=0,Me=0;F&&(H+=t.readUEG(),be+=t.readUEG(),Ae+=t.readUEG(),Me+=t.readUEG());const Ve=t.readUEG(),Se=t.readUEG(),He=t.readUEG(),Ue=t.readBoolean();for(let Je=Ue?0:i;Je<=i;Je++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let it=0;it<4;it++)for(let Xe=0;Xe<(it===3?2:6);Xe++)if(!t.readBoolean())t.readUEG();else{const Rt=Math.min(64,1<<4+(it<<1));it>1&&t.readEG();for(let dt=0;dt<Rt;dt++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const Ye=t.readUEG();let tt=0;for(let Je=0;Je<Ye;Je++){let it=!1;if(Je!==0&&(it=t.readBoolean()),it){Je===Ye&&t.readUEG(),t.readBoolean(),t.readUEG();let Xe=0;for(let lt=0;lt<=tt;lt++){const Rt=t.readBoolean();let dt=!1;Rt||(dt=t.readBoolean()),(Rt||dt)&&Xe++}tt=Xe}else{const Xe=t.readUEG(),lt=t.readUEG();tt=Xe+lt;for(let Rt=0;Rt<Xe;Rt++)t.readUEG(),t.readBoolean();for(let Rt=0;Rt<lt;Rt++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const Je=t.readUEG();for(let it=0;it<Je;it++){for(let Xe=0;Xe<He+4;Xe++)t.readBits(1);t.readBits(1)}}let De=0,We=1,ct=1,It=!0,Fe=1,ze=0;t.readBoolean(),t.readBoolean();let pt=!1;if(t.readBoolean()){if(t.readBoolean()){const Bt=t.readUByte(),wn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Zt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Bt>0&&Bt<16?(We=wn[Bt-1],ct=Zt[Bt-1]):Bt===255&&(We=t.readBits(16),ct=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),pt=t.readBoolean(),pt&&(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG()),t.readBoolean()&&(Fe=t.readBits(32),ze=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const Zt=t.readBoolean(),gn=t.readBoolean();let en=!1;(Zt||gn)&&(en=t.readBoolean(),en&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),en&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let Wn=0;Wn<=i;Wn++){It=t.readBoolean();const Ti=It||t.readBoolean();let Xi=!1;Ti?t.readEG():Xi=t.readBoolean();const zi=Xi?1:t.readUEG()+1;if(Zt)for(let ki=0;ki<zi;ki++)t.readUEG(),t.readUEG(),en&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(gn)for(let ki=0;ki<zi;ki++)t.readUEG(),t.readUEG(),en&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),De=t.readUEG())}let ee=z,P=se;if(F){let Je=1,it=1;O===1?Je=it=2:O==2&&(Je=2),ee=z-Je*be-Je*H,P=se-it*Me-it*Ae}const G=r?["A","B","C"][r]:"",ve=c<<24|f<<16|h<<8|g;let ce=0;for(let Je=0;Je<32;Je++)ce=(ce|(ve>>Je&1)<<31-Je)>>>0;let Qe=ce.toString(16);return l===1&&Qe==="2"&&(Qe="6"),{codecString:`hvc1.${G}${l}.${Qe}.${o?"H":"L"}${M}.B0`,params:{general_tier_flag:o,general_profile_idc:l,general_profile_space:r,general_profile_compatibility_flags:[c,f,h,g],general_constraint_indicator_flags:[m,p,y,E,A,w],general_level_idc:M,bit_depth:Ve+8,bit_depth_luma_minus8:Ve,bit_depth_chroma_minus8:Se,min_spatial_segmentation_idc:De,chroma_format_idc:O,frame_rate:{fixed:It,fps:ze/Fe}},width:ee,height:P,pixelRatio:[We,ct]}}readPPS(e){const t=new yy(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const r=t.readBoolean(),o=t.readBoolean();let l=1;return o&&r?l=0:o?l=3:r&&(l=2),{parallelismType:l}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const Dr=188;class Rd{constructor(e,t,i,r){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.logger=r,this.videoParser=null}static probe(e,t){const i=Rd.syncOffset(e);return i>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${i}`),i!==-1}static syncOffset(e){const t=e.length;let i=Math.min(Dr*5,t-Dr)+1,r=0;for(;r<i;){let o=!1,l=-1,c=0;for(let f=r;f<t;f+=Dr)if(e[f]===71&&(t-f===Dr||e[f+Dr]===71)){if(c++,l===-1&&(l=f,l!==0&&(i=Math.min(l+Dr*99,e.length-Dr)+1)),o||(o=SR(e,f)===0),o&&c>1&&(l===0&&c>2||f+Dr>i))return l}else{if(c)return-1;break}r++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:K2[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,i,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Rd.createTrack("video"),this._videoTrack.duration=r,this._audioTrack=Rd.createTrack("audio",r),this._id3Track=Rd.createTrack("id3"),this._txtTrack=Rd.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:i}=this;e&&(e.pesData=null),t&&(t.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,i=!1,r=!1){i||(this.sampleAes=null);let o;const l=this._videoTrack,c=this._audioTrack,f=this._id3Track,h=this._txtTrack;let g=l.pid,m=l.pesData,p=c.pid,y=f.pid,E=c.pesData,A=f.pesData,w=null,M=this.pmtParsed,x=this._pmtId,C=e.length;if(this.remainderData&&(e=Lo(this.remainderData,e),C=e.length,this.remainderData=null),C<Dr&&!r)return this.remainderData=e,{audioTrack:c,videoTrack:l,id3Track:f,textTrack:h};const O=Math.max(0,Rd.syncOffset(e));C-=(C-O)%Dr,C<e.byteLength&&!r&&(this.remainderData=new Uint8Array(e.buffer,C,e.buffer.byteLength-C));let z=0;for(let F=O;F<C;F+=Dr)if(e[F]===71){const H=!!(e[F+1]&64),be=SR(e,F),Ae=(e[F+3]&48)>>4;let Me;if(Ae>1){if(Me=F+5+e[F+4],Me===F+Dr)continue}else Me=F+4;switch(be){case g:H&&(m&&(o=Sm(m,this.logger))&&(this.readyVideoParser(l.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(l,h,o,!1)),m={data:[],size:0}),m&&(m.data.push(e.subarray(Me,F+Dr)),m.size+=F+Dr-Me);break;case p:if(H){if(E&&(o=Sm(E,this.logger)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,o);break;case"mp3":this.parseMPEGPES(c,o);break;case"ac3":this.parseAC3PES(c,o);break}E={data:[],size:0}}E&&(E.data.push(e.subarray(Me,F+Dr)),E.size+=F+Dr-Me);break;case y:H&&(A&&(o=Sm(A,this.logger))&&this.parseID3PES(f,o),A={data:[],size:0}),A&&(A.data.push(e.subarray(Me,F+Dr)),A.size+=F+Dr-Me);break;case 0:H&&(Me+=e[Me]+1),x=this._pmtId=jG(e,Me);break;case x:{H&&(Me+=e[Me]+1);const Ve=HG(e,Me,this.typeSupported,i,this.observer,this.logger);g=Ve.videoPid,g>0&&(l.pid=g,l.segmentCodec=Ve.segmentVideoCodec),p=Ve.audioPid,p>0&&(c.pid=p,c.segmentCodec=Ve.segmentAudioCodec),y=Ve.id3Pid,y>0&&(f.pid=y),w!==null&&!M&&(this.logger.warn(`MPEG-TS PMT found at ${F} after unknown PID '${w}'. Backtracking to sync byte @${O} to parse all TS packets.`),w=null,F=O-188),M=this.pmtParsed=!0;break}case 17:case 8191:break;default:w=be;break}}else z++;z>0&&AR(this.observer,new Error(`Found ${z} TS packet/s that do not start with 0x47`),void 0,this.logger),l.pesData=m,c.pesData=E,f.pesData=A;const se={audioTrack:c,videoTrack:l,id3Track:f,textTrack:h};return r&&this.extractRemainingSamples(se),se}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:i,id3Track:r,textTrack:o}=e,l=i.pesData,c=t.pesData,f=r.pesData;let h;if(l&&(h=Sm(l,this.logger))?(this.readyVideoParser(i.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(i,o,h,!0),i.pesData=null)):i.pesData=l,c&&(h=Sm(c,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,h);break;case"mp3":this.parseMPEGPES(t,h);break;case"ac3":this.parseAC3PES(t,h);break}t.pesData=null}else c!=null&&c.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=c;f&&(h=Sm(f,this.logger))?(this.parseID3PES(r,h),r.pesData=null):r.pesData=f}demuxSampleAes(e,t,i){const r=this.demux(e,i,!0,!this.config.progressive),o=this.sampleAes=new zG(this.observer,this.config,t);return this.decrypt(r,o)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new $G:e==="hevc"&&(this.videoParser=new qG))}decrypt(e,t){return new Promise(i=>{const{audioTrack:r,videoTrack:o}=e;r.samples&&r.segmentCodec==="aac"?t.decryptAacSamples(r.samples,0,()=>{o.samples?t.decryptAvcSamples(o.samples,0,0,()=>{i(e)}):i(e)}):o.samples&&t.decryptAvcSamples(o.samples,0,0,()=>{i(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let i=0;const r=this.aacOverFlow;let o=t.data;if(r){this.aacOverFlow=null;const m=r.missing,p=r.sample.unit.byteLength;if(m===-1)o=Lo(r.sample.unit,o);else{const y=p-m;r.sample.unit.set(o.subarray(0,m),y),e.samples.push(r.sample),i=r.missing}}let l,c;for(l=i,c=o.length;l<c-1&&!VT(o,l);l++);if(l!==i){let m;const p=l<c-1;if(p?m=`AAC PES did not start with ADTS header,offset:${l}`:m="No ADTS header found in AAC PES",AR(this.observer,new Error(m),p,this.logger),!p)return}CU(e,this.observer,o,l,this.audioCodec);let f;if(t.pts!==void 0)f=t.pts;else if(r){const m=DU(e.samplerate);f=r.sample.pts+m}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let h=0,g;for(;l<c;)if(g=LU(e,o,l,f,h),l+=g.length,g.missing){this.aacOverFlow=g;break}else for(h++;l<c-1&&!VT(o,l);l++);}parseMPEGPES(e,t){const i=t.data,r=i.length;let o=0,l=0;const c=t.pts;if(c===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;l<r;)if(UU(i,l)){const f=OU(e,i,l,c,o);if(f)l+=f.length,o++;else break}else l++}parseAC3PES(e,t){{const i=t.data,r=t.pts;if(r===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const o=i.length;let l=0,c=0,f;for(;c<o&&(f=zU(e,i,c,r,l++))>0;)c+=f}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const i=ba({},t,{type:this._videoTrack?Qs.emsg:Qs.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}}function SR(n,e){return((n[e+1]&31)<<8)+n[e+2]}function jG(n,e){return(n[e+10]&31)<<8|n[e+11]}function HG(n,e,t,i,r,o){const l={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},c=(n[e+1]&15)<<8|n[e+2],f=e+3+c-4,h=(n[e+10]&15)<<8|n[e+11];for(e+=12+h;e<f;){const g=SR(n,e),m=(n[e+3]&15)<<8|n[e+4];switch(n[e]){case 207:if(!i){Bw("ADTS AAC",o);break}case 15:l.audioPid===-1&&(l.audioPid=g);break;case 21:l.id3Pid===-1&&(l.id3Pid=g);break;case 219:if(!i){Bw("H.264",o);break}case 27:l.videoPid===-1&&(l.videoPid=g);break;case 3:case 4:!t.mpeg&&!t.mp3?o.log("MPEG audio found, not supported in this browser"):l.audioPid===-1&&(l.audioPid=g,l.segmentAudioCodec="mp3");break;case 193:if(!i){Bw("AC-3",o);break}case 129:t.ac3?l.audioPid===-1&&(l.audioPid=g,l.segmentAudioCodec="ac3"):o.log("AC-3 audio found, not supported in this browser");break;case 6:if(l.audioPid===-1&&m>0){let p=e+5,y=m;for(;y>2;){n[p]===106&&(t.ac3!==!0?o.log("AC-3 audio found, not supported in this browser for now"):(l.audioPid=g,l.segmentAudioCodec="ac3"));const A=n[p+1]+2;p+=A,y-=A}}break;case 194:case 135:return AR(r,new Error("Unsupported EC-3 in M2TS found"),void 0,o),l;case 36:l.videoPid===-1&&(l.videoPid=g,l.segmentVideoCodec="hevc",o.log("HEVC in M2TS found"));break}e+=m+5}return l}function AR(n,e,t,i){i.warn(`parsing error: ${e.message}`),n.emit(Te.ERROR,Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function Bw(n,e){e.log(`${n} with AES-128-CBC encryption found in unencrypted stream`)}function Sm(n,e){let t=0,i,r,o,l,c;const f=n.data;if(!n||n.size===0)return null;for(;f[0].length<19&&f.length>1;)f[0]=Lo(f[0],f[1]),f.splice(1,1);if(i=f[0],(i[0]<<16)+(i[1]<<8)+i[2]===1){if(r=(i[4]<<8)+i[5],r&&r>n.size-6)return null;const g=i[7];g&192&&(l=(i[9]&14)*536870912+(i[10]&255)*4194304+(i[11]&254)*16384+(i[12]&255)*128+(i[13]&254)/2,g&64?(c=(i[14]&14)*536870912+(i[15]&255)*4194304+(i[16]&254)*16384+(i[17]&255)*128+(i[18]&254)/2,l-c>60*9e4&&(e.warn(`${Math.round((l-c)/9e4)}s delta between PTS and DTS, align them`),l=c)):c=l),o=i[8];let m=o+9;if(n.size<=m)return null;n.size-=m;const p=new Uint8Array(n.size);for(let y=0,E=f.length;y<E;y++){i=f[y];let A=i.byteLength;if(m)if(m>A){m-=A;continue}else i=i.subarray(m),A-=m,m=0;p.set(i,t),t+=A}return r&&(r-=o+3),{data:p,pts:l,dts:c,len:r}}return null}class GG{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const cd=Math.pow(2,32)-1;class xt{static init(){xt.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in xt.types)xt.types.hasOwnProperty(e)&&(xt.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);xt.HDLR_TYPES={video:t,audio:i};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);xt.STTS=xt.STSC=xt.STCO=o,xt.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xt.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),xt.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),xt.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const l=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),f=new Uint8Array([0,0,0,1]);xt.FTYP=xt.box(xt.types.ftyp,l,f,l,c),xt.DINF=xt.box(xt.types.dinf,xt.box(xt.types.dref,r))}static box(e,...t){let i=8,r=t.length;const o=r;for(;r--;)i+=t[r].byteLength;const l=new Uint8Array(i);for(l[0]=i>>24&255,l[1]=i>>16&255,l[2]=i>>8&255,l[3]=i&255,l.set(e,4),r=0,i=8;r<o;r++)l.set(t[r],i),i+=t[r].byteLength;return l}static hdlr(e){return xt.box(xt.types.hdlr,xt.HDLR_TYPES[e])}static mdat(e){return xt.box(xt.types.mdat,e)}static mdhd(e,t){t*=e;const i=Math.floor(t/(cd+1)),r=Math.floor(t%(cd+1));return xt.box(xt.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,r>>24,r>>16&255,r>>8&255,r&255,85,196,0,0]))}static mdia(e){return xt.box(xt.types.mdia,xt.mdhd(e.timescale||0,e.duration||0),xt.hdlr(e.type),xt.minf(e))}static mfhd(e){return xt.box(xt.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?xt.box(xt.types.minf,xt.box(xt.types.smhd,xt.SMHD),xt.DINF,xt.stbl(e)):xt.box(xt.types.minf,xt.box(xt.types.vmhd,xt.VMHD),xt.DINF,xt.stbl(e))}static moof(e,t,i){return xt.box(xt.types.moof,xt.mfhd(e),xt.traf(i,t))}static moov(e){let t=e.length;const i=[];for(;t--;)i[t]=xt.trak(e[t]);return xt.box.apply(null,[xt.types.moov,xt.mvhd(e[0].timescale||0,e[0].duration||0)].concat(i).concat(xt.mvex(e)))}static mvex(e){let t=e.length;const i=[];for(;t--;)i[t]=xt.trex(e[t]);return xt.box.apply(null,[xt.types.mvex,...i])}static mvhd(e,t){t*=e;const i=Math.floor(t/(cd+1)),r=Math.floor(t%(cd+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,r>>24,r>>16&255,r>>8&255,r&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return xt.box(xt.types.mvhd,o)}static sdtp(e){const t=e.samples||[],i=new Uint8Array(4+t.length);let r,o;for(r=0;r<t.length;r++)o=t[r].flags,i[r+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return xt.box(xt.types.sdtp,i)}static stbl(e){return xt.box(xt.types.stbl,xt.stsd(e),xt.box(xt.types.stts,xt.STTS),xt.box(xt.types.stsc,xt.STSC),xt.box(xt.types.stsz,xt.STSZ),xt.box(xt.types.stco,xt.STCO))}static avc1(e){let t=[],i=[],r,o,l;for(r=0;r<e.sps.length;r++)o=e.sps[r],l=o.byteLength,t.push(l>>>8&255),t.push(l&255),t=t.concat(Array.prototype.slice.call(o));for(r=0;r<e.pps.length;r++)o=e.pps[r],l=o.byteLength,i.push(l>>>8&255),i.push(l&255),i=i.concat(Array.prototype.slice.call(o));const c=xt.box(xt.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(i))),f=e.width,h=e.height,g=e.pixelRatio[0],m=e.pixelRatio[1];return xt.box(xt.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f>>8&255,f&255,h>>8&255,h&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,xt.box(xt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),xt.box(xt.types.pasp,new Uint8Array([g>>24,g>>16&255,g>>8&255,g&255,m>>24,m>>16&255,m>>8&255,m&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return xt.box(xt.types.mp4a,xt.audioStsd(e),xt.box(xt.types.esds,xt.esds(e)))}static mp3(e){return xt.box(xt.types[".mp3"],xt.audioStsd(e))}static ac3(e){return xt.box(xt.types["ac-3"],xt.audioStsd(e),xt.box(xt.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return xt.box(xt.types.stsd,xt.STSD,xt.mp4a(e));if(t==="ac3"&&e.config)return xt.box(xt.types.stsd,xt.STSD,xt.ac3(e));if(t==="mp3"&&e.codec==="mp3")return xt.box(xt.types.stsd,xt.STSD,xt.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return xt.box(xt.types.stsd,xt.STSD,xt.avc1(e));if(t==="hevc"&&e.vps)return xt.box(xt.types.stsd,xt.STSD,xt.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,i=(e.duration||0)*(e.timescale||0),r=e.width||0,o=e.height||0,l=Math.floor(i/(cd+1)),c=Math.floor(i%(cd+1));return xt.box(xt.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,l>>24,l>>16&255,l>>8&255,l&255,c>>24,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,r&255,0,0,o>>8&255,o&255,0,0]))}static traf(e,t){const i=xt.sdtp(e),r=e.id,o=Math.floor(t/(cd+1)),l=Math.floor(t%(cd+1));return xt.box(xt.types.traf,xt.box(xt.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255])),xt.box(xt.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,l>>24,l>>16&255,l>>8&255,l&255])),xt.trun(e,i.length+16+20+8+16+8+8),i)}static trak(e){return e.duration=e.duration||4294967295,xt.box(xt.types.trak,xt.tkhd(e),xt.mdia(e))}static trex(e){const t=e.id;return xt.box(xt.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const i=e.samples||[],r=i.length,o=12+16*r,l=new Uint8Array(o);let c,f,h,g,m,p;for(t+=8+o,l.set([e.type==="video"?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,r&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),c=0;c<r;c++)f=i[c],h=f.duration,g=f.size,m=f.flags,p=f.cts,l.set([h>>>24&255,h>>>16&255,h>>>8&255,h&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255,m.isLeading<<2|m.dependsOn,m.isDependedOn<<6|m.hasRedundancy<<4|m.paddingValue<<1|m.isNonSync,m.degradPrio&61440,m.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*c);return xt.box(xt.types.trun,l)}static initSegment(e){xt.types||xt.init();const t=xt.moov(e);return Lo(xt.FTYP,t)}static hvc1(e){const t=e.params,i=[e.vps,e.sps,e.pps],r=4,o=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),r-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),i.length]);let l=o.length;for(let E=0;E<i.length;E+=1){l+=3;for(let A=0;A<i[E].length;A+=1)l+=2+i[E][A].length}const c=new Uint8Array(l);c.set(o,0),l=o.length;const f=i.length-1;for(let E=0;E<i.length;E+=1){c.set(new Uint8Array([32+E|(E===f?128:0),0,i[E].length]),l),l+=3;for(let A=0;A<i[E].length;A+=1)c.set(new Uint8Array([i[E][A].length>>8,i[E][A].length&255]),l),l+=2,c.set(i[E][A],l),l+=i[E][A].length}const h=xt.box(xt.types.hvcC,c),g=e.width,m=e.height,p=e.pixelRatio[0],y=e.pixelRatio[1];return xt.box(xt.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,g>>8&255,g&255,m>>8&255,m&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),h,xt.box(xt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),xt.box(xt.types.pasp,new Uint8Array([p>>24,p>>16&255,p>>8&255,p&255,y>>24,y>>16&255,y>>8&255,y&255])))}}xt.types=void 0;xt.HDLR_TYPES=void 0;xt.STTS=void 0;xt.STSC=void 0;xt.STCO=void 0;xt.STSZ=void 0;xt.VMHD=void 0;xt.SMHD=void 0;xt.STSD=void 0;xt.FTYP=void 0;xt.DINF=void 0;const qU=9e4;function Pk(n,e,t=1,i=!1){const r=n*e*t;return i?Math.round(r):r}function VG(n,e,t=1,i=!1){return Pk(n,e,1/t,i)}function Rv(n,e=!1){return Pk(n,1e3,1/qU,e)}function KG(n,e=1){return Pk(n,qU,1/e)}function fM(n){const{baseTime:e,timescale:t,trackId:i}=n;return`${e/t} (${e}/${t}) trackId: ${i}`}const YG=10*1e3,WG=1024,QG=1152,XG=1536;let Am=null,zw=null;function hM(n,e,t,i){return{duration:e,size:t,cts:i,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:n?2:1,isNonSync:n?0:1}}}class l_ extends Oo{constructor(e,t,i,r){if(super("mp4-remuxer",r),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.ISGenerated=!1,Am===null){const l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Am=l?parseInt(l[1]):0}if(zw===null){const o=navigator.userAgent.match(/Safari\/(\d+)/i);zw=o?parseInt(o[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const t=this._initPTS;(!t||!e||e.trackId!==t.trackId||e.baseTime!==t.baseTime||e.timescale!==t.timescale)&&this.log(`Reset initPTS: ${t&&fM(t)} > ${e&&fM(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const i=e[0].pts,r=e.reduce((o,l)=>{let c=l.pts,f=c-o;return f<-4294967296&&(t=!0,c=Ys(c,i),f=c-o),f>0?o:c},i);return t&&this.debug("PTS rollover detected"),r}remux(e,t,i,r,o,l,c,f){let h,g,m,p,y,E,A=o,w=o;const M=e.pid>-1,x=t.pid>-1,C=t.samples.length,O=e.samples.length>0,z=c&&C>0||C>1;if((!M||O)&&(!x||z)||this.ISGenerated||c){if(this.ISGenerated){var F,H,be,Ae;const He=this.videoTrackConfig;(He&&(t.width!==He.width||t.height!==He.height||((F=t.pixelRatio)==null?void 0:F[0])!==((H=He.pixelRatio)==null?void 0:H[0])||((be=t.pixelRatio)==null?void 0:be[1])!==((Ae=He.pixelRatio)==null?void 0:Ae[1]))||!He&&z||this.nextAudioTs===null&&O)&&this.resetInitSegment()}this.ISGenerated||(m=this.generateIS(e,t,o,l));const Me=this.isVideoContiguous;let Ve=-1,Se;if(z&&(Ve=ZG(t.samples),!Me&&this.config.forceKeyFrameOnDiscontinuity))if(E=!0,Ve>0){this.warn(`Dropped ${Ve} out of ${C} video samples due to a missing keyframe`);const He=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(Ve),t.dropped+=Ve,w+=(t.samples[0].pts-He)/t.inputTimeScale,Se=w}else Ve===-1&&(this.warn(`No keyframe found out of ${C} video samples`),E=!1);if(this.ISGenerated){if(O&&z){const He=this.getVideoStartPts(t.samples),he=(Ys(e.samples[0].pts,He)-He)/t.inputTimeScale;A+=Math.max(0,he),w+=Math.max(0,-he)}if(O){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),m=this.generateIS(e,t,o,l)),g=this.remuxAudio(e,A,this.isAudioContiguous,l,x||z||f===Gn.AUDIO?w:void 0),z){const He=g?g.endPTS-g.startPTS:0;t.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),m=this.generateIS(e,t,o,l)),h=this.remuxVideo(t,w,Me,He)}}else z&&(h=this.remuxVideo(t,w,Me,0));h&&(h.firstKeyFrame=Ve,h.independent=Ve!==-1,h.firstKeyFramePTS=Se)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(y=jU(i,o,this._initPTS,this._initDTS)),r.samples.length&&(p=HU(r,o,this._initPTS))),{audio:g,video:h,initSegment:m,independent:E,text:p,id3:y}}computeInitPts(e,t,i,r){const o=Math.round(i*t);let l=Ys(e,o);if(l<o+t)for(this.log(`Adjusting PTS for rollover in timeline near ${(o-l)/t} ${r}`);l<o+t;)l+=8589934592;return l-o}generateIS(e,t,i,r){const o=e.samples,l=t.samples,c=this.typeSupported,f={},h=this._initPTS;let g=!h||r,m="audio/mp4",p,y,E,A=-1;if(g&&(p=y=1/0),e.config&&o.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":c.mpeg?(m="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}f.audio={id:"audio",container:m,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&c.mpeg?new Uint8Array(0):xt.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(A=e.id,E=e.inputTimeScale,!h||E!==h.timescale?p=y=this.computeInitPts(o[0].pts,E,i,"audio"):g=!1)}if(t.sps&&t.pps&&l.length){if(t.timescale=t.inputTimeScale,f.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:xt.initSegment([t]),metadata:{width:t.width,height:t.height}},g)if(A=t.id,E=t.inputTimeScale,!h||E!==h.timescale){const w=this.getVideoStartPts(l),M=Ys(l[0].dts,w),x=this.computeInitPts(M,E,i,"video"),C=this.computeInitPts(w,E,i,"video");y=Math.min(y,x),p=Math.min(p,C)}else g=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(f).length)return this.ISGenerated=!0,g?(h&&this.warn(`Timestamps at playlist time: ${r?"":"~"}${i} ${p/E} != initPTS: ${h.baseTime/h.timescale} (${h.baseTime}/${h.timescale}) trackId: ${h.trackId}`),this.log(`Found initPTS at playlist time: ${i} offset: ${p/E} (${p}/${E}) trackId: ${A}`),this._initPTS={baseTime:p,timescale:E,trackId:A},this._initDTS={baseTime:y,timescale:E,trackId:A}):p=E=void 0,{tracks:f,initPTS:p,timescale:E,trackId:A}}remuxVideo(e,t,i,r){const o=e.inputTimeScale,l=e.samples,c=[],f=l.length,h=this._initPTS,g=h.baseTime*o/h.timescale;let m=this.nextVideoTs,p=8,y=this.videoSampleDuration,E,A,w=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,x=!1;if(!i||m===null){const De=g+t*o,We=l[0].pts-Ys(l[0].dts,l[0].pts);Am&&m!==null&&Math.abs(De-We-(m+g))<15e3?i=!0:m=De-We-g}const C=m+g;for(let De=0;De<f;De++){const We=l[De];We.pts=Ys(We.pts,C),We.dts=Ys(We.dts,C),We.dts<l[De>0?De-1:De].dts&&(x=!0)}x&&l.sort(function(De,We){const ct=De.dts-We.dts,It=De.pts-We.pts;return ct||It}),E=l[0].dts,A=l[l.length-1].dts;const O=A-E,z=O?Math.round(O/(f-1)):y||e.inputTimeScale/30;if(i){const De=E-C,We=De>z,ct=De<-1;if((We||ct)&&(We?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Rv(De,!0)} ms (${De}dts) hole between fragments detected at ${t.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Rv(-De,!0)} ms (${De}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!ct||C>=l[0].pts||Am)){E=C;const It=l[0].pts-De;if(We)l[0].dts=E,l[0].pts=It;else{let Fe=!0;for(let ze=0;ze<l.length&&!(l[ze].dts>It&&Fe);ze++){const pt=l[ze].pts;if(l[ze].dts-=De,l[ze].pts-=De,ze<l.length-1){const re=l[ze+1].pts,ee=l[ze].pts,P=re<=ee,G=re<=pt;Fe=P==G}}}this.log(`Video: Initial PTS/DTS adjusted: ${Rv(It,!0)}/${Rv(E,!0)}, delta: ${Rv(De,!0)} ms`)}}E=Math.max(0,E);let se=0,F=0,H=E;for(let De=0;De<f;De++){const We=l[De],ct=We.units,It=ct.length;let Fe=0;for(let ze=0;ze<It;ze++)Fe+=ct[ze].data.length;F+=Fe,se+=It,We.length=Fe,We.dts<H?(We.dts=H,H+=z/4|0||1):H=We.dts,w=Math.min(We.pts,w),M=Math.max(We.pts,M)}A=l[f-1].dts;const be=F+4*se+8;let Ae;try{Ae=new Uint8Array(be)}catch(De){this.observer.emit(Te.ERROR,Te.ERROR,{type:ti.MUX_ERROR,details:Dt.REMUX_ALLOC_ERROR,fatal:!1,error:De,bytes:be,reason:`fail allocating video mdat ${be}`});return}const Me=new DataView(Ae.buffer);Me.setUint32(0,be),Ae.set(xt.types.mdat,4);let Ve=!1,Se=Number.POSITIVE_INFINITY,He=Number.POSITIVE_INFINITY,Ue=Number.NEGATIVE_INFINITY,he=Number.NEGATIVE_INFINITY;for(let De=0;De<f;De++){const We=l[De],ct=We.units;let It=0;for(let pt=0,re=ct.length;pt<re;pt++){const ee=ct[pt],P=ee.data,G=ee.data.byteLength;Me.setUint32(p,G),p+=4,Ae.set(P,p),p+=G,It+=4+G}let Fe;if(De<f-1)y=l[De+1].dts-We.dts,Fe=l[De+1].pts-We.pts;else{const pt=this.config,re=De>0?We.dts-l[De-1].dts:z;if(Fe=De>0?We.pts-l[De-1].pts:z,pt.stretchShortVideoTrack&&this.nextAudioTs!==null){const ee=Math.floor(pt.maxBufferHole*o),P=(r?w+r*o:this.nextAudioTs+g)-We.pts;P>ee?(y=P-re,y<0?y=re:Ve=!0,this.log(`It is approximately ${P/90} ms to the next segment; using duration ${y/90} ms for the last video frame.`)):y=re}else y=re}const ze=Math.round(We.pts-We.dts);Se=Math.min(Se,y),Ue=Math.max(Ue,y),He=Math.min(He,Fe),he=Math.max(he,Fe),c.push(hM(We.key,y,It,ze))}if(c.length){if(Am){if(Am<70){const De=c[0].flags;De.dependsOn=2,De.isNonSync=0}}else if(zw&&he-He<Ue-Se&&z/Ue<.025&&c[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let De=E;for(let We=0,ct=c.length;We<ct;We++){const It=De+c[We].duration,Fe=De+c[We].cts;if(We<ct-1){const ze=It+c[We+1].cts;c[We].duration=ze-Fe}else c[We].duration=We?c[We-1].duration:z;c[We].cts=0,De=It}}}y=Ve||!y?z:y;const $e=A+y;this.nextVideoTs=m=$e-g,this.videoSampleDuration=y,this.isVideoContiguous=!0;const rt={data1:xt.moof(e.sequenceNumber++,E,ba(e,{samples:c})),data2:Ae,startPTS:(w-g)/o,endPTS:(M+y-g)/o,startDTS:(E-g)/o,endDTS:m/o,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:e.dropped};return e.samples=[],e.dropped=0,rt}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return QG;case"ac3":return XG;default:return WG}}remuxAudio(e,t,i,r,o){const l=e.inputTimeScale,c=e.samplerate?e.samplerate:l,f=l/c,h=this.getSamplesPerFrame(e),g=h*f,m=this._initPTS,p=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,y=[],E=o!==void 0;let A=e.samples,w=p?0:8,M=this.nextAudioTs||-1;const x=m.baseTime*l/m.timescale,C=x+t*l;if(this.isAudioContiguous=i=i||A.length&&M>0&&(r&&Math.abs(C-(M+x))<9e3||Math.abs(Ys(A[0].pts,C)-(M+x))<20*g),A.forEach(function(he){he.pts=Ys(he.pts,C)}),!i||M<0){const he=A.length;if(A=A.filter($e=>$e.pts>=0),he!==A.length&&this.warn(`Removed ${A.length-he} of ${he} samples (initPTS ${x} / ${l})`),!A.length)return;o===0?M=0:r&&!E?M=Math.max(0,C-x):M=A[0].pts-x}if(e.segmentCodec==="aac"){const he=this.config.maxAudioFramesDrift;for(let $e=0,Ye=M+x;$e<A.length;$e++){const tt=A[$e],rt=tt.pts,De=rt-Ye,We=Math.abs(1e3*De/l);if(De<=-he*g&&E)$e===0&&(this.warn(`Audio frame @ ${(rt/l).toFixed(3)}s overlaps marker by ${Math.round(1e3*De/l)} ms.`),this.nextAudioTs=M=rt-x,Ye=rt);else if(De>=he*g&&We<YG&&E){let ct=Math.round(De/g);for(Ye=rt-ct*g;Ye<0&&ct&&g;)ct--,Ye+=g;$e===0&&(this.nextAudioTs=M=Ye-x),this.warn(`Injecting ${ct} audio frames @ ${((Ye-x)/l).toFixed(3)}s due to ${Math.round(1e3*De/l)} ms gap.`);for(let It=0;It<ct;It++){let Fe=GG.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Fe||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Fe=tt.unit.subarray()),A.splice($e,0,{unit:Fe,pts:Ye}),Ye+=g,$e++}}tt.pts=Ye,Ye+=g}}let O=null,z=null,se,F=0,H=A.length;for(;H--;)F+=A[H].unit.byteLength;for(let he=0,$e=A.length;he<$e;he++){const Ye=A[he],tt=Ye.unit;let rt=Ye.pts;if(z!==null){const We=y[he-1];We.duration=Math.round((rt-z)/f)}else if(i&&e.segmentCodec==="aac"&&(rt=M+x),O=rt,F>0){F+=w;try{se=new Uint8Array(F)}catch(We){this.observer.emit(Te.ERROR,Te.ERROR,{type:ti.MUX_ERROR,details:Dt.REMUX_ALLOC_ERROR,fatal:!1,error:We,bytes:F,reason:`fail allocating audio mdat ${F}`});return}p||(new DataView(se.buffer).setUint32(0,F),se.set(xt.types.mdat,4))}else return;se.set(tt,w);const De=tt.byteLength;w+=De,y.push(hM(!0,h,De,0)),z=rt}const be=y.length;if(!be)return;const Ae=y[y.length-1];M=z-x,this.nextAudioTs=M+f*Ae.duration;const Me=p?new Uint8Array(0):xt.moof(e.sequenceNumber++,O/f,ba({},e,{samples:y}));e.samples=[];const Ve=(O-x)/l,Se=this.nextAudioTs/l,Ue={data1:Me,data2:se,startPTS:Ve,endPTS:Se,startDTS:Ve,endDTS:Se,type:"audio",hasAudio:!0,hasVideo:!1,nb:be};return this.isAudioContiguous=!0,Ue}}function Ys(n,e){let t;if(e===null)return n;for(e<n?t=-8589934592:t=8589934592;Math.abs(n-e)>4294967296;)n+=t;return n}function ZG(n){for(let e=0;e<n.length;e++)if(n[e].key)return e;return-1}function jU(n,e,t,i){const r=n.samples.length;if(!r)return;const o=n.inputTimeScale;for(let c=0;c<r;c++){const f=n.samples[c];f.pts=Ys(f.pts-t.baseTime*o/t.timescale,e*o)/o,f.dts=Ys(f.dts-i.baseTime*o/i.timescale,e*o)/o}const l=n.samples;return n.samples=[],{samples:l}}function HU(n,e,t){const i=n.samples.length;if(!i)return;const r=n.inputTimeScale;for(let l=0;l<i;l++){const c=n.samples[l];c.pts=Ys(c.pts-t.baseTime*r/t.timescale,e*r)/r}n.samples.sort((l,c)=>l.pts-c.pts);const o=n.samples;return n.samples=[],{samples:o}}class JG extends Oo{constructor(e,t,i,r){super("passthrough-remuxer",r),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const t=this.initPTS;t&&e&&t.baseTime===e.baseTime&&t.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,t,i,r){this.audioCodec=t,this.videoCodec=i,this.generateInitSegment(e,r),this.emitInitSegment=!0}generateInitSegment(e,t){let{audioCodec:i,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:o,video:l}=this.initData=Q2(e);if(t)zj(e,t);else{const f=o||l;f!=null&&f.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${f.codec}")!`)}o&&(i=mM(o,Sa.AUDIO,this)),l&&(r=mM(l,Sa.VIDEO,this));const c={};o&&l?c.audiovideo={container:"video/mp4",codec:i+","+r,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:e,id:"main"}:o?c.audio={container:"audio/mp4",codec:i,encrypted:o.encrypted,initSegment:e,id:"audio"}:l?c.video={container:"video/mp4",codec:r,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=c}remux(e,t,i,r,o,l){var c,f;let{initPTS:h,lastEndTime:g}=this;const m={audio:void 0,video:void 0,text:r,id3:i,initSegment:void 0};Un(g)||(g=this.lastEndTime=o||0);const p=t.samples;if(!p.length)return m;const y={initPTS:void 0,timescale:void 0,trackId:void 0};let E=this.initData;if((c=E)!=null&&c.length||(this.generateInitSegment(p),E=this.initData),!((f=E)!=null&&f.length))return this.warn("Failed to generate initSegment."),m;this.emitInitSegment&&(y.tracks=this.initTracks,this.emitInitSegment=!1);const A=qj(p,E,this),w=E.audio?A[E.audio.id]:null,M=E.video?A[E.video.id]:null,x=T0(M,1/0),C=T0(w,1/0),O=T0(M,0,!0),z=T0(w,0,!0);let se=o,F=0;const H=w&&(!M||!h&&C<x||h&&h.trackId===E.audio.id),be=H?w:M;if(be){const Ye=be.timescale,tt=be.start-o*Ye,rt=H?E.audio.id:E.video.id;se=be.start/Ye,F=H?z-C:O-x,(l||!h)&&(e7(h,se,o,F)||Ye!==h.timescale)&&(h&&this.warn(`Timestamps at playlist time: ${l?"":"~"}${o} ${tt/Ye} != initPTS: ${h.baseTime/h.timescale} (${h.baseTime}/${h.timescale}) trackId: ${h.trackId}`),this.log(`Found initPTS at playlist time: ${o} offset: ${se-o} (${tt}/${Ye}) trackId: ${rt}`),h=null,y.initPTS=tt,y.timescale=Ye,y.trackId=rt)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${o}`);h?(y.initPTS=h.baseTime,y.timescale=h.timescale,y.trackId=h.trackId):((!y.timescale||y.trackId===void 0||y.initPTS===void 0)&&(this.warn("Could not set initPTS"),y.initPTS=se,y.timescale=1,y.trackId=-1),this.initPTS=h={baseTime:y.initPTS,timescale:y.timescale,trackId:y.trackId});const Ae=se-h.baseTime/h.timescale,Me=Ae+F;F>0?this.lastEndTime=Me:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const Ve=!!E.audio,Se=!!E.video;let He="";Ve&&(He+="audio"),Se&&(He+="video");const Ue=(E.audio?E.audio.encrypted:!1)||(E.video?E.video.encrypted:!1),he={data1:p,startPTS:Ae,startDTS:Ae,endPTS:Me,endDTS:Me,type:He,hasAudio:Ve,hasVideo:Se,nb:1,dropped:0,encrypted:Ue};m.audio=Ve&&!Se?he:void 0,m.video=Se?he:void 0;const $e=M?.sampleCount;if($e){const Ye=M.keyFrameIndex,tt=Ye!==-1;he.nb=$e,he.dropped=Ye===0||this.isVideoContiguous?0:tt?Ye:$e,he.independent=tt,he.firstKeyFrame=Ye,tt&&M.keyFrameStart&&(he.firstKeyFramePTS=(M.keyFrameStart-h.baseTime)/h.timescale),this.isVideoContiguous||(m.independent=tt),this.isVideoContiguous||(this.isVideoContiguous=tt),he.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${Ye}/${$e} dropped: ${he.dropped} start: ${he.firstKeyFramePTS||"NA"}`)}return m.initSegment=y,m.id3=jU(i,o,h,h),r.samples.length&&(m.text=HU(r,o,h)),m}}function T0(n,e,t=!1){return n?.start!==void 0?(n.start+(t?n.duration:0))/n.timescale:e}function e7(n,e,t,i){if(n===null)return!0;const r=Math.max(i,1),o=e-n.baseTime/n.timescale;return Math.abs(o-t)>r}function mM(n,e,t){const i=n.codec;return i&&i.length>4?i:e===Sa.AUDIO?i==="ec-3"||i==="ac-3"||i==="alac"?i:i==="fLaC"||i==="Opus"?FT(i,!1):(t.warn(`Unhandled audio codec "${i}" in mp4 MAP`),i||"mp4a"):(t.warn(`Unhandled video codec "${i}" in mp4 MAP`),i||"avc1")}let Ju;try{Ju=self.performance.now.bind(self.performance)}catch{Ju=Date.now}const u_=[{demux:BG,remux:JG},{demux:Rd,remux:l_},{demux:OG,remux:l_},{demux:UG,remux:l_}];u_.splice(2,0,{demux:PG,remux:l_});class gM{constructor(e,t,i,r,o,l){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=i,this.id=o,this.logger=l}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,i,r){const o=i.transmuxing;o.executeStart=Ju();let l=new Uint8Array(e);const{currentTransmuxState:c,transmuxConfig:f}=this;r&&(this.currentTransmuxState=r);const{contiguous:h,discontinuity:g,trackSwitch:m,accurateTimeOffset:p,timeOffset:y,initSegmentChange:E}=r||c,{audioCodec:A,videoCodec:w,defaultInitPts:M,duration:x,initSegmentData:C}=f,O=t7(l,t);if(O&&gg(O.method)){const H=this.getDecrypter(),be=Ik(O.method);if(H.isSync()){let Ae=H.softwareDecrypt(l,O.key.buffer,O.iv.buffer,be);if(i.part>-1){const Ve=H.flush();Ae=Ve&&Ve.buffer}if(!Ae)return o.executeEnd=Ju(),$w(i);l=new Uint8Array(Ae)}else return this.asyncResult=!0,this.decryptionPromise=H.webCryptoDecrypt(l,O.key.buffer,O.iv.buffer,be).then(Ae=>{const Me=this.push(Ae,null,i);return this.decryptionPromise=null,Me}),this.decryptionPromise}const z=this.needsProbing(g,m);if(z){const H=this.configureTransmuxer(l);if(H)return this.logger.warn(`[transmuxer] ${H.message}`),this.observer.emit(Te.ERROR,Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.FRAG_PARSING_ERROR,fatal:!1,error:H,reason:H.message}),o.executeEnd=Ju(),$w(i)}(g||m||E||z)&&this.resetInitSegment(C,A,w,x,t),(g||E||z)&&this.resetInitialTimestamp(M),h||this.resetContiguity();const se=this.transmux(l,O,y,p,i);this.asyncResult=By(se);const F=this.currentTransmuxState;return F.contiguous=!0,F.discontinuity=!1,F.trackSwitch=!1,o.executeEnd=Ju(),se}flush(e){const t=e.transmuxing;t.executeStart=Ju();const{decrypter:i,currentTransmuxState:r,decryptionPromise:o}=this;if(o)return this.asyncResult=!0,o.then(()=>this.flush(e));const l=[],{timeOffset:c}=r;if(i){const m=i.flush();m&&l.push(this.push(m.buffer,null,e))}const{demuxer:f,remuxer:h}=this;if(!f||!h){t.executeEnd=Ju();const m=[$w(e)];return this.asyncResult?Promise.resolve(m):m}const g=f.flush(c);return By(g)?(this.asyncResult=!0,g.then(m=>(this.flushRemux(l,m,e),l))):(this.flushRemux(l,g,e),this.asyncResult?Promise.resolve(l):l)}flushRemux(e,t,i){const{audioTrack:r,videoTrack:o,id3Track:l,textTrack:c}=t,{accurateTimeOffset:f,timeOffset:h}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${i.sn}${i.part>-1?" part: "+i.part:""} of ${this.id===Gn.MAIN?"level":"track"} ${i.level}`);const g=this.remuxer.remux(r,o,l,c,h,f,!0,this.id);e.push({remuxResult:g,chunkMeta:i}),i.transmuxing.executeEnd=Ju()}resetInitialTimestamp(e){const{demuxer:t,remuxer:i}=this;!t||!i||(t.resetTimeStamp(e),i.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,i,r,o){const{demuxer:l,remuxer:c}=this;!l||!c||(l.resetInitSegment(e,t,i,r),c.resetInitSegment(e,t,i,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,i,r,o){let l;return t&&t.method==="SAMPLE-AES"?l=this.transmuxSampleAes(e,t,i,r,o):l=this.transmuxUnencrypted(e,i,r,o),l}transmuxUnencrypted(e,t,i,r){const{audioTrack:o,videoTrack:l,id3Track:c,textTrack:f}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,l,c,f,t,i,!1,this.id),chunkMeta:r}}transmuxSampleAes(e,t,i,r,o){return this.demuxer.demuxSampleAes(e,t,i).then(l=>({remuxResult:this.remuxer.remux(l.audioTrack,l.videoTrack,l.id3Track,l.textTrack,i,r,!1,this.id),chunkMeta:o}))}configureTransmuxer(e){const{config:t,observer:i,typeSupported:r}=this;let o;for(let m=0,p=u_.length;m<p;m++){var l;if((l=u_[m].demux)!=null&&l.probe(e,this.logger)){o=u_[m];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,f=this.remuxer,h=o.remux,g=o.demux;(!f||!(f instanceof h))&&(this.remuxer=new h(i,t,r,this.logger)),(!c||!(c instanceof g))&&(this.demuxer=new g(i,t,r,this.logger),this.probe=g.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new wk(this.config)),e}}function t7(n,e){let t=null;return n.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const $w=n=>({remuxResult:{},chunkMeta:n});function By(n){return"then"in n&&n.then instanceof Function}class n7{constructor(e,t,i,r,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=i,this.duration=r,this.defaultInitPts=o||null}}class i7{constructor(e,t,i,r,o,l){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=i,this.trackSwitch=r,this.timeOffset=o,this.initSegmentChange=l}}let pM=0;class GU{constructor(e,t,i,r){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=pM++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=f=>{const h=f.data,g=this.hls;if(!(!g||!(h!=null&&h.event)||h.instanceNo!==this.instanceNo))switch(h.event){case"init":{var m;const p=(m=this.workerContext)==null?void 0:m.objectURL;p&&self.URL.revokeObjectURL(p);break}case"transmuxComplete":{this.handleTransmuxComplete(h.data);break}case"flush":{this.onFlush(h.data);break}case"workerLog":{g.logger[h.data.logType]&&g.logger[h.data.logType](h.data.message);break}default:{h.data=h.data||{},h.data.frag=this.frag,h.data.part=this.part,h.data.id=this.id,g.trigger(h.event,h.data);break}}},this.onWorkerError=f=>{if(!this.hls)return;const h=new Error(`${f.message}  (${f.filename}:${f.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:h})};const o=e.config;this.hls=e,this.id=t,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=i,this.onFlush=r;const l=(f,h)=>{h=h||{},h.frag=this.frag||void 0,f===Te.ERROR&&(h=h,h.parent=this.id,h.part=this.part,this.error=h.error),this.hls.trigger(f,h)};this.observer=new Ck,this.observer.on(Te.FRAG_DECRYPTED,l),this.observer.on(Te.ERROR,l);const c=DL(o.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const f=this.hls.logger;if(o.workerPath||oG()){try{o.workerPath?(f.log(`loading Web Worker ${o.workerPath} for "${t}"`),this.workerContext=uG(o.workerPath)):(f.log(`injecting Web Worker for "${t}"`),this.workerContext=lG());const{worker:g}=this.workerContext;g.addEventListener("message",this.onWorkerMessage),g.addEventListener("error",this.onWorkerError),g.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:t,config:Aa(o)})}catch(g){f.warn(`Error setting up "${t}" Web Worker, fallback to inline`,g),this.terminateWorker(),this.error=null,this.transmuxer=new gM(this.observer,c,o,"",t,e.logger)}return}}this.transmuxer=new gM(this.observer,c,o,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=pM++;const t=this.hls.config,i=DL(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:i,id:this.id,config:Aa(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),cG(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,i,r,o,l,c,f,h,g){var m,p;h.transmuxing.start=self.performance.now();const{instanceNo:y,transmuxer:E}=this,A=l?l.start:o.start,w=o.decryptdata,M=this.frag,x=!(M&&o.cc===M.cc),C=!(M&&h.level===M.level),O=M?h.sn-M.sn:-1,z=this.part?h.part-this.part.index:-1,se=O===0&&h.id>1&&h.id===M?.stats.chunkCount,F=!C&&(O===1||O===0&&(z===1||se&&z<=0)),H=self.performance.now();(C||O||o.stats.parsing.start===0)&&(o.stats.parsing.start=H),l&&(z||!F)&&(l.stats.parsing.start=H);const be=!(M&&((m=o.initSegment)==null?void 0:m.url)===((p=M.initSegment)==null?void 0:p.url)),Ae=new i7(x,F,f,C,A,be);if(!F||x||be){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${o.type} sn: ${h.sn}${h.part>-1?" part: "+h.part:""} ${this.id===Gn.MAIN?"level":"track"}: ${h.level} id: ${h.id}
        discontinuity: ${x}
        trackSwitch: ${C}
        contiguous: ${F}
        accurateTimeOffset: ${f}
        timeOffset: ${A}
        initSegmentChange: ${be}`);const Me=new n7(i,r,t,c,g);this.configureTransmuxer(Me)}if(this.frag=o,this.part=l,this.workerContext)this.workerContext.worker.postMessage({instanceNo:y,cmd:"demux",data:e,decryptdata:w,chunkMeta:h,state:Ae},e instanceof ArrayBuffer?[e]:[]);else if(E){const Me=E.push(e,w,h,Ae);By(Me)?Me.then(Ve=>{this.handleTransmuxComplete(Ve)}).catch(Ve=>{this.transmuxerError(Ve,h,"transmuxer-interface push error")}):this.handleTransmuxComplete(Me)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:i}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(i){const r=i.flush(e);By(r)?r.then(o=>{this.handleFlushResult(o,e)}).catch(o=>{this.transmuxerError(o,e,"transmuxer-interface flush error")}):this.handleFlushResult(r,e)}}transmuxerError(e,t,i){this.hls&&(this.error=e,this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:i}))}handleFlushResult(e,t){e.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:i}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):i&&i.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const vM=100;class a7 extends xk{constructor(e,t,i){super(e,t,i,"audio-stream-controller",Gn.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Te.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Te.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Te.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Te.BUFFER_RESET,this.onBufferReset,this),e.on(Te.BUFFER_CREATED,this.onBufferCreated,this),e.on(Te.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Te.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Te.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Te.FRAG_LOADING,this.onFragLoading,this),e.on(Te.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Te.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Te.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Te.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Te.BUFFER_RESET,this.onBufferReset,this),e.off(Te.BUFFER_CREATED,this.onBufferCreated,this),e.off(Te.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Te.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Te.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Te.FRAG_LOADING,this.onFragLoading,this),e.off(Te.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:i,initPTS:r,timescale:o,trackId:l}){if(i===Gn.MAIN){const c=t.cc,f=this.fragCurrent;if(this.initPTS[c]={baseTime:r,timescale:o,trackId:l},this.log(`InitPTS for cc: ${c} found from main: ${r/o} (${r}/${o}) trackId: ${l}`),this.mainAnchor=t,this.state===on.WAITING_INIT_PTS){const h=this.waitingData;(!h&&!this.loadingParts||h&&h.frag.cc!==c)&&this.syncWithAnchor(t,h?.frag)}else!this.hls.hasEnoughToStart&&f&&f.cc!==c?(f.abortRequests(),this.syncWithAnchor(t,f)):this.state===on.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,t){var i;const r=((i=this.mainFragLoading)==null?void 0:i.frag)||null;if(t&&r?.cc===t.cc)return;const o=(r||e).cc,l=this.getLevelDetails(),c=this.getLoadPosition(),f=oU(l,o,c);f&&(this.log(`Syncing with main frag at ${f.start} cc ${f.cc}`),this.startFragRequested=!1,this.nextLoadPosition=f.start,this.resetLoadingState(),this.state===on.IDLE&&this.doTickIdle())}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=on.STOPPED;return}const i=this.lastCurrentTime;this.stopLoad(),this.setInterval(vM),i>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),e=i,this.state=on.IDLE):this.state=on.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case on.IDLE:this.doTickIdle();break;case on.WAITING_TRACK:{const{levels:e,trackId:t}=this,i=e?.[t],r=i?.details;if(r&&!this.waitForLive(i)){if(this.waitForCdnTuneIn(r))break;this.state=on.WAITING_INIT_PTS}break}case on.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case on.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:t,part:i,cache:r,complete:o}=e,l=this.mainAnchor;if(this.initPTS[t.cc]!==void 0){this.waitingData=null,this.state=on.FRAG_LOADING;const c=r.flush().buffer,f={frag:t,part:i,payload:c,networkDetails:null};this._handleFragmentLoadProgress(f),o&&super._handleFragmentLoadComplete(f)}else l&&l.cc!==e.frag.cc&&this.syncWithAnchor(l,e.frag)}else this.state=on.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:i,media:r,trackId:o}=this,l=t.config;if(!this.buffering||!r&&!this.primaryPrefetch&&(this.startFragRequested||!l.startFragPrefetch)||!(i!=null&&i[o]))return;const c=i[o],f=c.details;if(!f||this.waitForLive(c)||this.waitForCdnTuneIn(f)){this.state=on.WAITING_TRACK,this.startFragRequested=!1;return}const h=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&h&&(this.bufferFlushed=!1,this.afterBufferFlushed(h,Sa.AUDIO,Gn.AUDIO));const g=this.getFwdBufferInfo(h,Gn.AUDIO);if(g===null)return;if(!this.switchingTrack&&this._streamEnded(g,f)){t.trigger(Te.BUFFER_EOS,{type:"audio"}),this.state=on.ENDED;return}const m=g.len,p=t.maxBufferLength,y=f.fragments,E=y[0].start,A=this.getLoadPosition(),w=this.flushing?A:g.end;if(this.switchingTrack&&r){const C=A;f.PTSKnown&&C<E&&(g.end>E||g.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=E+.05)}if(m>=p&&!this.switchingTrack&&w<y[y.length-1].start)return;let M=this.getNextFragment(w,f);if(M&&this.isLoopLoading(M,w)&&(M=this.getNextFragmentLoopLoading(M,f,g,Gn.MAIN,p)),!M){this.bufferFlushed=!0;return}let x=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&x&&rr(M)&&!M.endList&&(!f.live||!this.loadingParts&&w<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(x)===Rr.OK&&(this.mainFragLoading=x=null),x&&rr(x))){if(M.start>x.end){const O=this.fragmentTracker.getFragAtPos(w,Gn.MAIN);O&&O.end>x.end&&(x=O,this.mainFragLoading={frag:O,targetBufferTime:null})}if(M.start>x.end)return}this.loadFragment(M,c,w)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(i=>new Py(i))}onAudioTrackSwitching(e,t){const i=!!t.url;this.trackId=t.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),i?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==on.STOPPED&&(this.setInterval(vM),this.state=on.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const i=this.cachedTrackLoadedData;i&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Te.AUDIO_TRACK_LOADED,i))}onAudioTrackLoaded(e,t){var i;const{levels:r}=this,{details:o,id:l,groupId:c,track:f}=t;if(!r){this.warn(`Audio tracks reset while loading track ${l} "${f.name}" of "${c}"`);return}const h=this.mainDetails;if(!h||o.endCC>h.endCC||h.expired){this.cachedTrackLoadedData=t,this.state!==on.STOPPED&&(this.state=on.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${l} "${f.name}" of "${c}" loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const g=r[l];let m=0;if(o.live||(i=g.details)!=null&&i.live){if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;if(g.details){var p;m=this.alignPlaylists(o,g.details,(p=this.levelLastLoaded)==null?void 0:p.details)}o.alignedSliding||(wU(o,h),o.alignedSliding||GT(o,h),m=o.fragmentStart)}g.details=o,this.levelLastLoaded=g,this.startFragRequested||this.setStartPosition(h,m),this.hls.trigger(Te.AUDIO_TRACK_UPDATED,{details:o,id:l,groupId:t.groupId}),this.state===on.WAITING_TRACK&&!this.waitForCdnTuneIn(o)&&(this.state=on.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const i=e.frag,{part:r,payload:o}=e,{config:l,trackId:c,levels:f}=this;if(!f){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const h=f[c];if(!h){this.warn("Audio track is undefined on fragment load progress");return}const g=h.details;if(!g){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(i.start);return}const m=l.defaultAudioCodec||h.audioCodec||"mp4a.40.2";let p=this.transmuxer;p||(p=this.transmuxer=new GU(this.hls,Gn.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const y=this.initPTS[i.cc],E=(t=i.initSegment)==null?void 0:t.data;if(y!==void 0){const w=r?r.index:-1,M=w!==-1,x=new Rk(i.level,i.sn,i.stats.chunkCount,o.byteLength,w,M);p.push(o,E,m,"",i,r,g.totalduration,!1,x,y)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${g.startSN} ,${g.endSN}],track ${c}`);const{cache:A}=this.waitingData=this.waitingData||{frag:i,part:r,cache:new RU,complete:!1};A.push(new Uint8Array(o)),this.state!==on.STOPPED&&(this.state=on.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const i=t.tracks.audio;i&&(this.mediaBuffer=i.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===Gn.MAIN&&rr(t.frag)&&(this.mainFragLoading=t,this.state===on.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:i,part:r}=t;if(i.type!==Gn.AUDIO){!this.audioOnly&&i.type===Gn.MAIN&&!i.elementaryStreams.video&&!i.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${r?" p: "+r.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(rr(i)){this.fragPrevious=i;const o=this.switchingTrack;o&&(this.bufferedTrack=o,this.switchingTrack=null,this.hls.trigger(Te.AUDIO_TRACK_SWITCHED,ma({},o)))}this.fragBufferedComplete(i,r),this.media&&this.tick()}onError(e,t){var i;if(t.fatal){this.state=on.ERROR;return}switch(t.details){case Dt.FRAG_GAP:case Dt.FRAG_PARSING_ERROR:case Dt.FRAG_DECRYPT_ERROR:case Dt.FRAG_LOAD_ERROR:case Dt.FRAG_LOAD_TIMEOUT:case Dt.KEY_LOAD_ERROR:case Dt.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Gn.AUDIO,t);break;case Dt.AUDIO_TRACK_LOAD_ERROR:case Dt.AUDIO_TRACK_LOAD_TIMEOUT:case Dt.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===on.WAITING_TRACK&&((i=t.context)==null?void 0:i.type)===Ui.AUDIO_TRACK&&(this.state=on.IDLE);break;case Dt.BUFFER_ADD_CODEC_ERROR:case Dt.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)||this.resetLoadingState();break;case Dt.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Dt.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Sa.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Sa.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===on.ENDED&&(this.state=on.IDLE);const i=this.mediaBuffer||this.media;i&&(this.afterBufferFlushed(i,t,Gn.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const i="audio",{hls:r}=this,{remuxResult:o,chunkMeta:l}=e,c=this.getCurrentContext(l);if(!c){this.resetWhenMissingContext(l);return}const{frag:f,part:h,level:g}=c,{details:m}=g,{audio:p,text:y,id3:E,initSegment:A}=o;if(this.fragContextChanged(f)||!m){this.fragmentTracker.removeFragment(f);return}if(this.state=on.PARSING,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),A!=null&&A.tracks){const w=f.initSegment||f;if(this.unhandledEncryptionError(A,f))return;this._bufferInitSegment(g,A.tracks,w,l),r.trigger(Te.FRAG_PARSING_INIT_SEGMENT,{frag:w,id:i,tracks:A.tracks})}if(p){const{startPTS:w,endPTS:M,startDTS:x,endDTS:C}=p;h&&(h.elementaryStreams[Sa.AUDIO]={startPTS:w,endPTS:M,startDTS:x,endDTS:C}),f.setElementaryStreamInfo(Sa.AUDIO,w,M,x,C),this.bufferFragmentData(p,f,h,l)}if(E!=null&&(t=E.samples)!=null&&t.length){const w=ba({id:i,frag:f,details:m},E);r.trigger(Te.FRAG_PARSING_METADATA,w)}if(y){const w=ba({id:i,frag:f,details:m},y);r.trigger(Te.FRAG_PARSING_USERDATA,w)}}_bufferInitSegment(e,t,i,r){if(this.state!==on.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const o=t.audio;o.id=Gn.AUDIO;const l=e.audioCodec;this.log(`Init audio buffer, container:${o.container}, codecs[level/parsed]=[${l}/${o.codec}]`),l&&l.split(",").length===1&&(o.levelCodec=l),this.hls.trigger(Te.BUFFER_CODECS,t);const c=o.initSegment;if(c!=null&&c.byteLength){const f={type:"audio",frag:i,part:null,chunkMeta:r,parent:i.type,data:c};this.hls.trigger(Te.BUFFER_APPENDING,f)}this.tickImmediate()}loadFragment(e,t,i){const r=this.fragmentTracker.getState(e);if(this.switchingTrack||r===Rr.NOT_LOADED||r===Rr.PARTIAL){var o;if(!rr(e))this._loadInitSegment(e,t);else if((o=t.details)!=null&&o.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=on.WAITING_INIT_PTS;const l=this.mainDetails;l&&l.fragmentStart!==t.details.fragmentStart&&GT(t.details,l)}else super.loadFragment(e,t,i)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:i,assocLang:r,characteristics:o,audioCodec:l,channels:c}=this.bufferedTrack;Wf({name:t,lang:i,assocLang:r,characteristics:o,audioCodec:l,channels:c},e,xf)||(zT(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(Te.AUDIO_TRACK_SWITCHED,ma({},e))}}class Uk extends Oo{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,i){const r=t?.renditionReports;if(r){let o=-1;for(let l=0;l<r.length;l++){const c=r[l];let f;try{f=new self.URL(c.URI,t.url).href}catch(h){this.warn(`Could not construct new URL for Rendition Report: ${h}`),f=c.URI||""}if(f===e){o=l;break}else f===e.substring(0,f.length)&&(o=l)}if(o!==-1){const l=r[o],c=parseInt(l["LAST-MSN"])||t.lastPartSn;let f=parseInt(l["LAST-PART"])||t.lastPartIndex;if(this.hls.config.lowLatencyMode){const g=Math.min(t.age-t.partTarget,t.targetduration);f>=0&&g>t.partTarget&&(f+=1)}const h=i&&LL(i);return new ML(c,f>=0?f:void 0,h)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}return e}playlistLoaded(e,t,i){const{details:r,stats:o}=t,l=self.performance.now(),c=o.loading.first?Math.max(0,l-o.loading.first):0;r.advancedDateTime=Date.now()-c;const f=this.hls.config.timelineOffset;if(f!==r.appliedTimelineOffset){const g=Math.max(f||0,0);r.appliedTimelineOffset=g,r.fragments.forEach(m=>{m.setStart(m.playlistOffset+g)})}if(r.live||i!=null&&i.live){const g="levelInfo"in t?t.levelInfo:t.track;if(r.reloaded(i),i&&r.fragments.length>0){QH(i,r,this);const x=r.playlistParsingError;if(x){this.warn(x);const C=this.hls;if(!C.config.ignorePlaylistParsingErrors){var h;const{networkDetails:O}=t;C.trigger(Te.ERROR,{type:ti.NETWORK_ERROR,details:Dt.LEVEL_PARSING_ERROR,fatal:!1,url:r.url,error:x,reason:x.message,level:t.level||void 0,parent:(h=r.fragments[0])==null?void 0:h.type,networkDetails:O,stats:o});return}r.playlistParsingError=null}}r.requestScheduled===-1&&(r.requestScheduled=o.loading.start);const m=this.hls.mainForwardBufferInfo,p=m?m.end-m.len:0,y=(r.edge-p)*1e3,E=bU(r,y);if(r.requestScheduled+E<l?r.requestScheduled=l:r.requestScheduled+=E,this.log(`live playlist ${e} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED"}`),!this.canLoad||!r.live)return;let A,w,M;if(r.canBlockReload&&r.endSN&&r.advanced){const x=this.hls.config.lowLatencyMode,C=r.lastPartSn,O=r.endSN,z=r.lastPartIndex,se=z!==-1,F=C===O;se?F?(w=O+1,M=x?0:z):(w=C,M=x?z+1:r.maxPartIndex):w=O+1;const H=r.age,be=H+r.ageHeader;let Ae=Math.min(be-r.partTarget,r.targetduration*1.5);if(Ae>0){if(be>r.targetduration*3)this.log(`Playlist last advanced ${H.toFixed(2)}s ago. Omitting segment and part directives.`),w=void 0,M=void 0;else if(i!=null&&i.tuneInGoal&&be-r.partTarget>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${Ae} with playlist age: ${r.age}`),Ae=0;else{const Me=Math.floor(Ae/r.targetduration);if(w+=Me,M!==void 0){const Ve=Math.round(Ae%r.targetduration/r.partTarget);M+=Ve}this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${H.toFixed(2)}s goal: ${Ae} skip sn ${Me} to part ${M}`)}r.tuneInGoal=Ae}if(A=this.getDeliveryDirectives(r,t.deliveryDirectives,w,M),x||!F){r.requestScheduled=l,this.loadingPlaylist(g,A);return}}else(r.canBlockReload||r.canSkipUntil)&&(A=this.getDeliveryDirectives(r,t.deliveryDirectives,w,M));A&&w!==void 0&&r.canBlockReload&&(r.requestScheduled=o.loading.first+Math.max(E-c*2,E/2)),this.scheduleLoading(g,A,r)}else this.clearTimer()}scheduleLoading(e,t,i){const r=i||e.details;if(!r){this.loadingPlaylist(e,t);return}const o=self.performance.now(),l=r.requestScheduled;if(o>=l){this.loadingPlaylist(e,t);return}const c=l-o;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(c)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),c)}getDeliveryDirectives(e,t,i,r){let o=LL(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(i=t.msn,r=t.part,o=s_.No),new ML(i,r,o)}checkRetry(e){const t=e.details,i=$T(e),r=e.errorAction,{action:o,retryCount:l=0,retryConfig:c}=r||{},f=!!r&&!!c&&(o===Kr.RetryRequest||!r.resolved&&o===Kr.SendAlternateToPenaltyBox);if(f){var h;if(l>=c.maxNumRetry)return!1;if(i&&(h=e.context)!=null&&h.deliveryDirectives)this.warn(`Retrying playlist loading ${l+1}/${c.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const g=Ak(c,l);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),g),this.warn(`Retrying playlist loading ${l+1}/${c.maxNumRetry} after "${t}" in ${g}ms`)}e.levelRetry=!0,r.resolved=!0}return f}}function VU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!zy(n[t].attrs,e[t].attrs))return!1;return!0}function zy(n,e,t){const i=n["STABLE-RENDITION-ID"];return i&&!t?i===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(r=>n[r]!==e[r])}function wR(n,e){return e.label.toLowerCase()===n.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(n.lang||"").toLowerCase())}class r7 extends Uk{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Te.LEVEL_LOADING,this.onLevelLoading,this),e.on(Te.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Te.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Te.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Te.LEVEL_LOADING,this.onLevelLoading,this),e.off(Te.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Te.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Te.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:i,groupId:r,details:o}=t,l=this.tracksInGroup[i];if(!l||l.groupId!==r){this.warn(`Audio track with id:${i} and group:${r} not found in active group ${l?.groupId}`);return}const c=l.details;l.details=t.details,this.log(`Audio track ${i} "${l.name}" lang:${l.lang} group:${r} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,c)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.audioGroups||null,r=this.groupIds;let o=this.currentTrack;if(!i||r?.length!==i?.length||i!=null&&i.some(c=>r?.indexOf(c)===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const c=this.tracks.filter(p=>!i||i.indexOf(p.groupId)!==-1);if(c.length)this.selectDefaultTrack&&!c.some(p=>p.default)&&(this.selectDefaultTrack=!1),c.forEach((p,y)=>{p.id=y});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=c;const f=this.hls.config.audioPreference;if(!o&&f){const p=cu(f,c,xf);if(p>-1)o=c[p];else{const y=cu(f,this.tracks);o=this.tracks[y]}}let h=this.findTrackId(o);h===-1&&o&&(h=this.findTrackId(null));const g={audioTracks:c};this.log(`Updating audio tracks, ${c.length} track(s) found in group(s): ${i?.join(",")}`),this.hls.trigger(Te.AUDIO_TRACKS_UPDATED,g);const m=this.trackId;if(h!==-1&&m===-1)this.setAudioTrack(h);else if(c.length&&m===-1){var l;const p=new Error(`No audio track selected for current audio group-ID(s): ${(l=this.groupIds)==null?void 0:l.join(",")} track count: ${c.length}`);this.warn(p.message),this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:p})}}}onError(e,t){t.fatal||!t.context||t.context.type===Ui.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){const r=this.currentTrack;if(r&&Wf(e,r,xf))return r;const o=cu(e,this.tracksInGroup,xf);if(o>-1){const l=this.tracksInGroup[o];return this.setAudioTrack(o),l}else if(r){let l=t.loadLevel;l===-1&&(l=t.firstAutoLevel);const c=vH(e,t.levels,i,l,xf);if(c===-1)return null;t.nextLoadLevel=c}if(e.channels||e.audioCodec){const l=cu(e,i);if(l>-1)return i[l]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,r=t[e],o=r.details&&!r.details.live;if(e===this.trackId&&r===i&&o||(this.log(`Switching to audio-track ${e} "${r.name}" lang:${r.lang} group:${r.groupId} channels:${r.channels}`),this.trackId=e,this.currentTrack=r,this.hls.trigger(Te.AUDIO_TRACK_SWITCHING,ma({},r)),o))return;const l=this.switchParams(r.url,i?.details,r.details);this.loadPlaylist(l)}findTrackId(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){const r=t[i];if(!(this.selectDefaultTrack&&!r.default)&&(!e||Wf(e,r,xf)))return i}if(e){const{name:i,lang:r,assocLang:o,characteristics:l,audioCodec:c,channels:f}=e;for(let h=0;h<t.length;h++){const g=t[h];if(Wf({name:i,lang:r,assocLang:o,characteristics:l,audioCodec:c,channels:f},g,xf))return h}for(let h=0;h<t.length;h++){const g=t[h];if(zy(e.attrs,g.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return h}for(let h=0;h<t.length;h++){const g=t[h];if(zy(e.attrs,g.attrs,["LANGUAGE"]))return h}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&zT(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const i=e.id,r=e.groupId,o=this.getUrlWithDirectives(e.url,t),l=e.details,c=l?.age;this.log(`Loading audio-track ${i} "${e.name}" lang:${e.lang} group:${r}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${c&&l.live?" age "+c.toFixed(1)+(l.type&&" "+l.type||""):""} ${o}`),this.hls.trigger(Te.AUDIO_TRACK_LOADING,{url:o,id:i,groupId:r,deliveryDirectives:t||null,track:e})}}class s7{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,i){if(this.queues===null||this.tracks===null)return;const r=this.queues[t];r.push(e),r.length===1&&!i&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const i={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(i,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const i={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(i)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const i=(t=e[0])==null?void 0:t.label;(i==="async-blocker"||i==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const r=t[0];try{r.execute()}catch(o){var i;if(r.onError(o),this.queues===null||this.tracks===null)return;const l=(i=this.tracks[e])==null?void 0:i.buffer;l!=null&&l.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,i;return(t=this.queues)!=null&&t[e]||(i=this.tracks)!=null&&i[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const i=(t=this.tracks)==null?void 0:t[e],r=i?.buffer;return r?`SourceBuffer${r.updating?" updating":""}${i.ended?" ended":""}${i.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(i=>i.label).join(", "))||""}}const yM=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,KU="HlsJsTrackRemovedError";class o7 extends Error{constructor(e){super(e),this.name=KU}}class l7 extends Oo{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=i=>{var r;this.hls&&((r=this.mediaSource)==null?void 0:r.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=i=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=i=>{const{media:r,mediaSource:o}=this;i&&this.log("Media source opened"),!(!r||!o)&&(o.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Te.MEDIA_ATTACHED,{media:r,mediaSource:o}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:i,_objectUrl:r}=this;i!==r&&this.error(`Media element src was set while attaching MediaSource (${r} > ${i})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=Cj(Fd(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Te.BUFFER_RESET,this.onBufferReset,this),e.on(Te.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Te.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Te.BUFFER_EOS,this.onBufferEos,this),e.on(Te.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Te.FRAG_PARSED,this.onFragParsed,this),e.on(Te.FRAG_CHANGED,this.onFragChanged,this),e.on(Te.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Te.BUFFER_RESET,this.onBufferReset,this),e.off(Te.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Te.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Te.BUFFER_EOS,this.onBufferEos,this),e.off(Te.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Te.FRAG_PARSED,this.onFragParsed,this),e.off(Te.FRAG_CHANGED,this.onFragChanged,this),e.off(Te.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const i={};if(this.operationQueue){const o=this.isUpdating();o||this.operationQueue.removeBlockers();const l=this.isQueued();(o||l)&&this.warn(`Transfering MediaSource with${l?" operations in queue":""}${o?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const r=this.transferData;return!this.sourceBufferCount&&r&&r.mediaSource===t?ba(i,r.tracks):this.sourceBuffers.forEach(o=>{const[l]=o;l&&(i[l]=ba({},this.tracks[l]),this.removeBuffer(l)),o[0]=o[1]=null}),{media:e,mediaSource:t,tracks:i}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var i;let r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsTotal=r,this.log(`${r} bufferCodec event(s) expected.`),(i=this.transferData)!=null&&i.mediaSource&&this.sourceBufferCount&&r&&this.bufferCreated()}onMediaAttaching(e,t){const i=this.media=t.media;this.transferData=this.overrides=void 0;const r=Fd(this.appendSource);if(r){const o=!!t.mediaSource;(o||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const l=this.mediaSource=t.mediaSource||new r;if(this.assignMediaSource(l),o)this._objectUrl=i.src,this.attachTransferred();else{const c=this._objectUrl=self.URL.createObjectURL(l);if(this.appendSource)try{i.removeAttribute("src");const f=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||f&&l instanceof f,EM(i),u7(i,c),i.load()}catch{i.src=c}else i.src=c}i.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,i;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(i=e.constructor)==null?void 0:i.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const i=this.tracks,r=t.tracks,o=r?Object.keys(r):null,l=o?o.length:0,c=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(r&&o&&l){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Aa(i,(f,h)=>f==="initSegment"?void 0:h)};
transfer tracks: ${Aa(r,(f,h)=>f==="initSegment"?void 0:h)}}`),!j2(r,i)){t.mediaSource=null,t.tracks=void 0;const f=e.currentTime,h=this.details,g=Math.max(f,h?.fragments[0].start||0);if(g-f>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${f} -> ${g}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(r)}"->"${Object.keys(i)}") start time: ${g} currentTime: ${f}`),this.onMediaDetaching(Te.MEDIA_DETACHING,{}),this.onMediaAttaching(Te.MEDIA_ATTACHING,t),e.currentTime=g;return}this.transferData=void 0,o.forEach(f=>{const h=f,g=r[h];if(g){const m=g.buffer;if(m){const p=this.fragmentTracker,y=g.id;if(p.hasFragments(y)||p.hasParts(y)){const w=_i.getBuffered(m);p.detectEvictedFragments(h,w,y,null,!0)}const E=qw(h),A=[h,m];this.sourceBuffers[E]=A,m.updating&&this.operationQueue&&this.operationQueue.prependBlocker(h),this.trackSourceBuffer(h,g)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const i=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:r,mediaSource:o,_objectUrl:l}=this;if(o){if(this.log(`media source ${i?"transferring":"detaching"}`),i)this.sourceBuffers.forEach(([c])=>{c&&this.removeBuffer(c)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const c=o.readyState==="open";try{const f=o.sourceBuffers;for(let h=f.length;h--;)c&&f[h].abort(),o.removeSourceBuffer(f[h]);c&&o.endOfStream()}catch(f){this.warn(`onMediaDetaching: ${f.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}o.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("sourceended",this._onMediaSourceEnded),o.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.removeEventListener("startstreaming",this._onStartStreaming),o.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}r&&(r.removeEventListener("emptied",this._onMediaEmptied),i||(l&&self.URL.revokeObjectURL(l),this.mediaSrc===l?(r.removeAttribute("src"),this.appendSource&&EM(r),r.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Te.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const i=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),i)try{var r;(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(i)}catch(o){this.warn(`onBufferReset ${e}`,o)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[qw(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new s7(this.tracks)}onBufferCodecs(e,t){var i;const r=this.tracks,o=Object.keys(t);this.log(`BUFFER_CODECS: "${o}" (current SB count ${this.sourceBufferCount})`);const l="audiovideo"in t&&(r.audio||r.video)||r.audiovideo&&("audio"in t||"video"in t),c=!l&&this.sourceBufferCount&&this.media&&o.some(f=>!r[f]);if(l||c){this.warn(`Unsupported transition between "${Object.keys(r)}" and "${o}" SourceBuffers`);return}o.forEach(f=>{var h,g;const m=t[f],{id:p,codec:y,levelCodec:E,container:A,metadata:w,supplemental:M}=m;let x=r[f];const C=(h=this.transferData)==null||(h=h.tracks)==null?void 0:h[f],O=C!=null&&C.buffer?C:x,z=O?.pendingCodec||O?.codec,se=O?.levelCodec;x||(x=r[f]={buffer:void 0,listeners:[],codec:y,supplemental:M,container:A,levelCodec:E,metadata:w,id:p});const F=r_(z,se),H=F?.replace(yM,"$1");let be=r_(y,E);const Ae=(g=be)==null?void 0:g.replace(yM,"$1");be&&F&&H!==Ae&&(f.slice(0,5)==="audio"&&(be=FT(be,this.appendSource)),this.log(`switching codec ${z} to ${be}`),be!==(x.pendingCodec||x.codec)&&(x.pendingCodec=be),x.container=A,this.appendChangeType(f,A,be))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!t.video&&((i=t.audio)==null?void 0:i.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const i=this.tracks[t];return e[t]={id:i.id,container:i.container,codec:i.codec,levelCodec:i.levelCodec},e},{})}appendChangeType(e,t,i){const r=`${t};codecs=${i}`,o={label:`change-type=${r}`,execute:()=>{const l=this.tracks[e];if(l){const c=l.buffer;c!=null&&c.changeType&&(this.log(`changing ${e} sourceBuffer type to ${r}`),c.changeType(r),l.codec=i,l.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:l=>{this.warn(`Failed to change ${e} SourceBuffer type`,l)}};this.append(o,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const i=e.start,r=i+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(i,Gn.MAIN))==null?void 0:t.gap)===!0)return;const l={label:"block-audio",execute:()=>{var c;const f=this.tracks.video;(this.lastVideoAppendEnd>r||f!=null&&f.buffer&&_i.isBuffered(f.buffer,r)||((c=this.fragmentTracker.getAppendedFrag(r,Gn.MAIN))==null?void 0:c.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:c=>{this.warn("Error executing block-audio operation",c)}};this.blockedAudioAppend={op:l,frag:e},this.append(l,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:i}=this,{data:r,type:o,parent:l,frag:c,part:f,chunkMeta:h,offset:g}=t,m=h.buffering[o],{sn:p,cc:y}=c,E=self.performance.now();m.start=E;const A=c.stats.buffering,w=f?f.stats.buffering:null;A.start===0&&(A.start=E),w&&w.start===0&&(w.start=E);const M=i.audio;let x=!1;o==="audio"&&M?.container==="audio/mpeg"&&(x=!this.lastMpegAudioChunk||h.id===1||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);const C=i.video,O=C?.buffer;if(O&&p!=="initSegment"){const F=f||c,H=this.blockedAudioAppend;if(o==="audio"&&l!=="main"&&!this.blockedAudioAppend&&!(C.ending||C.ended)){const Ae=F.start+F.duration*.05,Me=O.buffered,Ve=this.currentOp("video");!Me.length&&!Ve?this.blockAudio(F):!Ve&&!_i.isBuffered(O,Ae)&&this.lastVideoAppendEnd<Ae&&this.blockAudio(F)}else if(o==="video"){const be=F.end;if(H){const Ae=H.frag.start;(be>Ae||be<this.lastVideoAppendEnd||_i.isBuffered(O,Ae))&&this.unblockAudio()}this.lastVideoAppendEnd=be}}const z=(f||c).start,se={label:`append-${o}`,execute:()=>{var F;m.executeStart=self.performance.now();const H=(F=this.tracks[o])==null?void 0:F.buffer;H&&(x?this.updateTimestampOffset(H,z,.1,o,p,y):g!==void 0&&Un(g)&&this.updateTimestampOffset(H,g,1e-6,o,p,y)),this.appendExecutor(r,o)},onStart:()=>{},onComplete:()=>{const F=self.performance.now();m.executeEnd=m.end=F,A.first===0&&(A.first=F),w&&w.first===0&&(w.first=F);const H={};this.sourceBuffers.forEach(([be,Ae])=>{be&&(H[be]=_i.getBuffered(Ae))}),this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Te.BUFFER_APPENDED,{type:o,frag:c,part:f,chunkMeta:h,parent:c.type,timeRanges:H})},onError:F=>{var H;const be={type:ti.MEDIA_ERROR,parent:c.type,details:Dt.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:c,part:f,chunkMeta:h,error:F,err:F,fatal:!1},Ae=(H=this.media)==null?void 0:H.error;if(F.code===DOMException.QUOTA_EXCEEDED_ERR||F.name=="QuotaExceededError"||"quota"in F)be.details=Dt.BUFFER_FULL_ERROR;else if(F.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!Ae)be.errorAction=mg(!0);else if(F.name===KU&&this.sourceBufferCount===0)be.errorAction=mg(!0);else{const Me=++this.appendErrors[o];this.warn(`Failed ${Me}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer (${Ae||"no media error"})`),(Me>=this.hls.config.appendErrorMaxRetry||Ae)&&(be.fatal=!0)}this.hls.trigger(Te.ERROR,be)}};this.log(`queuing "${o}" append sn: ${p}${f?" p: "+f.index:""} of ${c.type===Gn.MAIN?"level":"track"} ${c.level} cc: ${y}`),this.append(se,o,this.isPending(this.tracks[o]))}getFlushOp(e,t,i){return this.log(`queuing "${e}" remove ${t}-${i}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,i)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Te.BUFFER_FLUSHED,{type:e})},onError:r=>{this.warn(`Failed to remove ${t}-${i} from "${e}" SourceBuffer`,r)}}}onBufferFlushing(e,t){const{type:i,startOffset:r,endOffset:o}=t;i?this.append(this.getFlushOp(i,r,o),i):this.sourceBuffers.forEach(([l])=>{l&&this.append(this.getFlushOp(l,r,o),l)})}onFragParsed(e,t){const{frag:i,part:r}=t,o=[],l=r?r.elementaryStreams:i.elementaryStreams;l[Sa.AUDIOVIDEO]?o.push("audiovideo"):(l[Sa.AUDIO]&&o.push("audio"),l[Sa.VIDEO]&&o.push("video"));const c=()=>{const f=self.performance.now();i.stats.buffering.end=f,r&&(r.stats.buffering.end=f);const h=r?r.stats:i.stats;this.hls.trigger(Te.FRAG_BUFFERED,{frag:i,part:r,stats:h,id:i.type})};o.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(c,o).catch(f=>{this.warn(`Fragment buffered callback ${f}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const t=this.tracks[e];if(t)return!t.ended||t.ending}return!1})}onBufferEos(e,t){var i;this.sourceBuffers.forEach(([l])=>{if(l){const c=this.tracks[l];(!t.type||t.type===l)&&(c.ending=!0,c.ended||(c.ended=!0,this.log(`${l} buffer reached EOS`)))}});const r=((i=this.overrides)==null?void 0:i.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([l])=>{var c;return l&&!((c=this.tracks[l])!=null&&c.ended)})?r?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:l}=this;if(!l||l.readyState!=="open"){l&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${l.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),l.endOfStream(),this.hls.trigger(Te.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(Te.BUFFERED_TO_END,void 0)):t.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,t){if(t.details===Dt.BUFFER_APPEND_ERROR&&t.frag){var i;const r=(i=t.errorAction)==null?void 0:i.nextAutoLevel;Un(r)&&r!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:i}=this;if(!i||t===null||!this.sourceBufferCount)return;const r=e.config,o=i.currentTime,l=t.levelTargetDuration,c=t.live&&r.liveBackBufferLength!==null?r.liveBackBufferLength:r.backBufferLength;if(Un(c)&&c>=0){const h=Math.max(c,l),g=Math.floor(o/l)*l-h;this.flushBackBuffer(o,l,g)}const f=r.frontBufferFlushThreshold;if(Un(f)&&f>0){const h=Math.max(r.maxBufferLength,f),g=Math.max(h,l),m=Math.floor(o/l)*l+g;this.flushFrontBuffer(o,l,m)}}flushBackBuffer(e,t,i){this.sourceBuffers.forEach(([r,o])=>{if(o){const c=_i.getBuffered(o);if(c.length>0&&i>c.start(0)){var l;this.hls.trigger(Te.BACK_BUFFER_REACHED,{bufferEnd:i});const f=this.tracks[r];if((l=this.details)!=null&&l.live)this.hls.trigger(Te.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(f!=null&&f.ended){this.log(`Cannot flush ${r} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(Te.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:r})}}})}flushFrontBuffer(e,t,i){this.sourceBuffers.forEach(([r,o])=>{if(o){const l=_i.getBuffered(o),c=l.length;if(c<2)return;const f=l.start(c-1),h=l.end(c-1);if(i>f||e>=f&&e<=h)return;this.hls.trigger(Te.BUFFER_FLUSHING,{startOffset:f,endOffset:1/0,type:r})}})}getDurationAndRange(){var e;const{details:t,mediaSource:i}=this;if(!t||!this.media||i?.readyState!=="open")return null;const r=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&i.setLiveSeekableRange){const h=Math.max(0,t.fragmentStart),g=Math.max(h,r);return{duration:1/0,start:h,end:g}}return{duration:1/0}}const o=(e=this.overrides)==null?void 0:e.duration;if(o)return Un(o)?{duration:o}:null;const l=this.media.duration,c=Un(i.duration)?i.duration:0;return r>c&&r>l||!Un(l)?{duration:r}:null}updateMediaSource({duration:e,start:t,end:i}){const r=this.mediaSource;!this.media||!r||r.readyState!=="open"||(r.duration!==e&&(Un(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),r.duration=e),t!==void 0&&i!==void 0&&(this.log(`MediaSource duration is set to ${r.duration}. Setting seekable range to ${t}-${i}.`),r.setLiveSeekableRange(t,i)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:i}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${Aa(i)}`),this.tracksReady){var r;const o=(r=this.transferData)==null?void 0:r.tracks;o&&Object.keys(o).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,i])=>{if(t){const r=this.tracks[t];e[t]={buffer:i,container:r.container,codec:r.codec,supplemental:r.supplemental,levelCodec:r.levelCodec,id:r.id,metadata:r.metadata}}}),this.hls.trigger(Te.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:i}=this;if(!i)throw new Error("createSourceBuffers called when mediaSource was null");for(const o in e){const l=o,c=e[l];if(this.isPending(c)){const f=this.getTrackCodec(c,l),h=`${c.container};codecs=${f}`;c.codec=f,this.log(`creating sourceBuffer(${h})${this.currentOp(l)?" Queued":""} ${Aa(c)}`);try{const g=i.addSourceBuffer(h),m=qw(l),p=[l,g];t[m]=p,c.buffer=g}catch(g){var r;this.error(`error while trying to add sourceBuffer: ${g.message}`),this.shiftAndExecuteNext(l),(r=this.operationQueue)==null||r.removeBlockers(),delete this.tracks[l],this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:g,sourceBufferName:l,mimeType:h,parent:c.id});return}this.trackSourceBuffer(l,c)}}this.bufferCreated()}getTrackCodec(e,t){const i=e.supplemental;let r=e.codec;i&&(t==="video"||t==="audiovideo")&&Ny(i,"video")&&(r=Zj(r,i));const o=r_(r,e.levelCodec);return o?t.slice(0,5)==="audio"?FT(o,this.appendSource):o:""}trackSourceBuffer(e,t){const i=t.buffer;if(!i)return;const r=this.getTrackCodec(t,e);this.tracks[e]={buffer:i,codec:r,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(o,l)=>{const c=l.removedRanges;c!=null&&c.length&&this.hls.trigger(Te.BUFFER_FLUSHED,{type:o})})}get mediaSrc(){var e,t;const i=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return i?.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const i=this.currentOp(e);i&&(i.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var i;const r=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(i=this.mediaSource)==null?void 0:i.readyState}`);this.error(`${r}`,t),this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});const o=this.currentOp(e);o&&o.onError(r)}updateTimestampOffset(e,t,i,r,o,l){const c=t-e.timestampOffset;Math.abs(c)>=i&&(this.log(`Updating ${r} SourceBuffer timestampOffset to ${t} (sn: ${o} cc: ${l})`),e.timestampOffset=t)}removeExecutor(e,t,i){const{media:r,mediaSource:o}=this,l=this.tracks[e],c=l?.buffer;if(!r||!o||!c){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const f=Un(r.duration)?r.duration:1/0,h=Un(o.duration)?o.duration:1/0,g=Math.max(0,t),m=Math.min(i,f,h);m>g&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${g},${m}] from the ${e} SourceBuffer`),c.remove(g,m)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const i=this.tracks[t],r=i?.buffer;if(!r)throw new o7(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);i.ending=!1,i.ended=!1,r.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:i}=this,r=t.map(l=>this.appendBlocker(l));return t.length>1&&this.blockedAudioAppend&&this.unblockAudio(),Promise.all(r).then(l=>{i===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var i;const r=(i=this.tracks[t])==null?void 0:i.buffer;!r||r.updating||this.shiftAndExecuteNext(t)})}append(e,t,i){this.operationQueue&&this.operationQueue.append(e,t,i)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,i){const r=this.tracks[e];if(!r)return;const o=r.buffer;if(!o)return;const l=i.bind(this,e);r.listeners.push({event:t,listener:l}),o.addEventListener(t,l)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const i=t.buffer;i&&(t.listeners.forEach(r=>{i.removeEventListener(r.event,r.listener)}),t.listeners.length=0)}}function EM(n){const e=n.querySelectorAll("source");[].slice.call(e).forEach(t=>{n.removeChild(t)})}function u7(n,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,n.appendChild(t)}function qw(n){return n==="audio"?1:0}class Fk{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Te.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Te.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Te.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Te.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const i=this.hls.levels[t.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const i=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,i.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&Un(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,i=this.getMaxLevel(e.length-1);i!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${i}: ${e[i].height}p@${e[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=i,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const i=t.filter((r,o)=>this.isLevelAllowed(r)&&o<=e);return this.clientRect=null,Fk.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const i=e.getBoundingClientRect();t.width=i.width,t.height=i.height,!t.width&&!t.height&&(t.width=i.right-i.left||e.width||0,t.height=i.bottom-i.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(i=>e.bitrate===i.bitrate&&e.width===i.width&&e.height===i.height)}static getMaxLevelByMediaSize(e,t,i){if(!(e!=null&&e.length))return-1;const r=(c,f)=>f?c.width!==f.width||c.height!==f.height:!0;let o=e.length-1;const l=Math.max(t,i);for(let c=0;c<e.length;c+=1){const f=e[c];if((f.width>=l||f.height>=l)&&r(f,e[c+1])){o=c;break}}return o}}const c7={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},xs=c7,d7={HLS:"h"},f7=d7;class bu{constructor(e,t){Array.isArray(e)&&(e=e.map(i=>i instanceof bu?i:new bu(i))),this.value=e,this.params=t}}const h7="Dict";function m7(n){return Array.isArray(n)?JSON.stringify(n):n instanceof Map?"Map{}":n instanceof Set?"Set{}":typeof n=="object"?JSON.stringify(n):String(n)}function g7(n,e,t,i){return new Error(`failed to ${n} "${m7(e)}" as ${t}`,{cause:i})}function _u(n,e,t){return g7("serialize",n,e,t)}class YU{constructor(e){this.description=e}}const bM="Bare Item",p7="Boolean";function v7(n){if(typeof n!="boolean")throw _u(n,p7);return n?"?1":"?0"}function y7(n){return btoa(String.fromCharCode(...n))}const E7="Byte Sequence";function b7(n){if(ArrayBuffer.isView(n)===!1)throw _u(n,E7);return`:${y7(n)}:`}const _7="Integer";function T7(n){return n<-999999999999999||999999999999999<n}function WU(n){if(T7(n))throw _u(n,_7);return n.toString()}function S7(n){return`@${WU(n.getTime()/1e3)}`}function QU(n,e){if(n<0)return-QU(-n,e);const t=Math.pow(10,e);if(Math.abs(n*t%1-.5)<Number.EPSILON){const r=Math.floor(n*t);return(r%2===0?r:r+1)/t}else return Math.round(n*t)/t}const A7="Decimal";function w7(n){const e=QU(n,3);if(Math.floor(Math.abs(e)).toString().length>12)throw _u(n,A7);const t=e.toString();return t.includes(".")?t:`${t}.0`}const R7="String",I7=/[\x00-\x1f\x7f]+/;function k7(n){if(I7.test(n))throw _u(n,R7);return`"${n.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function x7(n){return n.description||n.toString().slice(7,-1)}const C7="Token";function _M(n){const e=x7(n);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw _u(e,C7);return e}function RR(n){switch(typeof n){case"number":if(!Un(n))throw _u(n,bM);return Number.isInteger(n)?WU(n):w7(n);case"string":return k7(n);case"symbol":return _M(n);case"boolean":return v7(n);case"object":if(n instanceof Date)return S7(n);if(n instanceof Uint8Array)return b7(n);if(n instanceof YU)return _M(n);default:throw _u(n,bM)}}const D7="Key";function IR(n){if(/^[a-z*][a-z0-9\-_.*]*$/.test(n)===!1)throw _u(n,D7);return n}function Bk(n){return n==null?"":Object.entries(n).map(([e,t])=>t===!0?`;${IR(e)}`:`;${IR(e)}=${RR(t)}`).join("")}function XU(n){return n instanceof bu?`${RR(n.value)}${Bk(n.params)}`:RR(n)}function L7(n){return`(${n.value.map(XU).join(" ")})${Bk(n.params)}`}function M7(n,e={whitespace:!0}){if(typeof n!="object"||n==null)throw _u(n,h7);const t=n instanceof Map?n.entries():Object.entries(n),i=e?.whitespace?" ":"";return Array.from(t).map(([r,o])=>{o instanceof bu||(o=new bu(o));let l=IR(r);return o.value===!0?l+=Bk(o.params):(l+="=",Array.isArray(o.value)?l+=L7(o):l+=XU(o)),l}).join(`,${i}`)}function ZU(n,e){return M7(n,e)}const zl="CMCD-Object",Ja="CMCD-Request",Tf="CMCD-Session",dd="CMCD-Status",N7={br:zl,ab:zl,d:zl,ot:zl,tb:zl,tpb:zl,lb:zl,tab:zl,lab:zl,url:zl,pb:Ja,bl:Ja,tbl:Ja,dl:Ja,ltc:Ja,mtp:Ja,nor:Ja,nrr:Ja,rc:Ja,sn:Ja,sta:Ja,su:Ja,ttfb:Ja,ttfbb:Ja,ttlb:Ja,cmsdd:Ja,cmsds:Ja,smrt:Ja,df:Ja,cs:Ja,ts:Ja,cid:Tf,pr:Tf,sf:Tf,sid:Tf,st:Tf,v:Tf,msd:Tf,bs:dd,bsd:dd,cdn:dd,rtp:dd,bg:dd,pt:dd,ec:dd,e:dd},O7={REQUEST:Ja};function P7(n){return Object.keys(n).reduce((e,t)=>{var i;return(i=n[t])===null||i===void 0||i.forEach(r=>e[r]=t),e},{})}function U7(n,e){const t={};if(!n)return t;const i=Object.keys(n),r=e?P7(e):{};return i.reduce((o,l)=>{var c;const f=N7[l]||r[l]||O7.REQUEST,h=(c=o[f])!==null&&c!==void 0?c:o[f]={};return h[l]=n[l],o},t)}function F7(n){return["ot","sf","st","e","sta"].includes(n)}function B7(n){return typeof n=="number"?Un(n):n!=null&&n!==""&&n!==!1}const JU="event";function z7(n,e){const t=new URL(n),i=new URL(e);if(t.origin!==i.origin)return n;const r=t.pathname.split("/").slice(1),o=i.pathname.split("/").slice(1,-1);for(;r[0]===o[0];)r.shift(),o.shift();for(;o.length;)o.shift(),r.unshift("..");return r.join("/")+t.search+t.hash}const c_=n=>Math.round(n),kR=(n,e)=>Array.isArray(n)?n.map(t=>kR(t,e)):n instanceof bu&&typeof n.value=="string"?new bu(kR(n.value,e),n.params):(e.baseUrl&&(n=z7(n,e.baseUrl)),e.version===1?encodeURIComponent(n):n),S0=n=>c_(n/100)*100,$7=(n,e)=>{let t=n;return e.version>=2&&(n instanceof bu&&typeof n.value=="string"?t=new bu([n]):typeof n=="string"&&(t=[n])),kR(t,e)},q7={br:c_,d:c_,bl:S0,dl:S0,mtp:S0,nor:$7,rtp:S0,tb:c_},e3="request",t3="response",zk=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],j7=["e"],H7=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function GS(n){return H7.test(n)}function G7(n){return zk.includes(n)||j7.includes(n)||GS(n)}const n3=["d","dl","nor","ot","rtp","su"];function V7(n){return zk.includes(n)||n3.includes(n)||GS(n)}const K7=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function Y7(n){return zk.includes(n)||n3.includes(n)||K7.includes(n)||GS(n)}const W7=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function Q7(n){return W7.includes(n)||GS(n)}const X7={[t3]:Y7,[JU]:G7,[e3]:V7};function i3(n,e={}){const t={};if(n==null||typeof n!="object")return t;const i=e.version||n.v||1,r=e.reportingMode||e3,o=i===1?Q7:X7[r];let l=Object.keys(n).filter(o);const c=e.filter;typeof c=="function"&&(l=l.filter(c));const f=r===t3||r===JU;f&&!l.includes("ts")&&l.push("ts"),i>1&&!l.includes("v")&&l.push("v");const h=ba({},q7,e.formatters),g={version:i,reportingMode:r,baseUrl:e.baseUrl};return l.sort().forEach(m=>{let p=n[m];const y=h[m];if(typeof y=="function"&&(p=y(p,g)),m==="v"){if(i===1)return;p=i}m=="pr"&&p===1||(f&&m==="ts"&&!Un(p)&&(p=Date.now()),B7(p)&&(F7(m)&&typeof p=="string"&&(p=new YU(p)),t[m]=p))}),t}function Z7(n,e={}){const t={};if(!n)return t;const i=i3(n,e),r=U7(i,e?.customHeaderMap);return Object.entries(r).reduce((o,[l,c])=>{const f=ZU(c,{whitespace:!1});return f&&(o[l]=f),o},t)}function J7(n,e,t){return ba(n,Z7(e,t))}const eV="CMCD";function tV(n,e={}){return n?ZU(i3(n,e),{whitespace:!1}):""}function nV(n,e={}){if(!n)return"";const t=tV(n,e);return encodeURIComponent(t)}function iV(n,e={}){if(!n)return"";const t=nV(n,e);return`${eV}=${t}`}const TM=/CMCD=[^&#]+/;function aV(n,e,t){const i=iV(e,t);if(!i)return n;if(TM.test(n))return n.replace(TM,i);const r=n.includes("?")?"&":"?";return`${n}${r}${i}`}class rV{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=r=>{try{this.apply(r,{ot:xs.MANIFEST,su:!this.initialized})}catch(o){this.hls.logger.warn("Could not generate manifest CMCD data.",o)}},this.applyFragmentData=r=>{try{const{frag:o,part:l}=r,c=this.hls.levels[o.level],f=this.getObjectType(o),h={d:(l||o).duration*1e3,ot:f};(f===xs.VIDEO||f===xs.AUDIO||f==xs.MUXED)&&(h.br=c.bitrate/1e3,h.tb=this.getTopBandwidth(f)/1e3,h.bl=this.getBufferLength(f));const g=l?this.getNextPart(l):this.getNextFrag(o);g!=null&&g.url&&g.url!==o.url&&(h.nor=g.url),this.apply(r,h)}catch(o){this.hls.logger.warn("Could not generate segment CMCD data.",o)}},this.hls=e;const t=this.config=e.config,{cmcd:i}=t;i!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||e.sessionId,this.cid=i.contentId,this.useHeaders=i.useHeaders===!0,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Te.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Te.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Te.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Te.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var i,r;this.audioBuffer=(i=t.tracks.audio)==null?void 0:i.buffer,this.videoBuffer=(r=t.tracks.video)==null?void 0:r.buffer}createData(){var e;return{v:1,sf:f7.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){ba(t,this.createData());const i=t.ot===xs.INIT||t.ot===xs.VIDEO||t.ot===xs.MUXED;this.starved&&i&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:r}=this;r&&(t=Object.keys(t).reduce((l,c)=>(r.includes(c)&&(l[c]=t[c]),l),{}));const o={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),J7(e.headers,t,o)):e.url=aV(e.url,t,o)}getNextFrag(e){var t;const i=(t=this.hls.levels[e.level])==null?void 0:t.details;if(i){const r=e.sn-i.startSN;return i.fragments[r+1]}}getNextPart(e){var t;const{index:i,fragment:r}=e,o=(t=this.hls.levels[r.level])==null||(t=t.details)==null?void 0:t.partList;if(o){const{sn:l}=r;for(let c=o.length-1;c>=0;c--){const f=o[c];if(f.index===i&&f.fragment.sn===l)return o[c+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return xs.TIMED_TEXT;if(e.sn==="initSegment")return xs.INIT;if(t==="audio")return xs.AUDIO;if(t==="main")return this.hls.audioTracks.length?xs.VIDEO:xs.MUXED}getTopBandwidth(e){let t=0,i;const r=this.hls;if(e===xs.AUDIO)i=r.audioTracks;else{const o=r.maxAutoLevel,l=o>-1?o+1:r.levels.length;i=r.levels.slice(0,l)}return i.forEach(o=>{o.bitrate>t&&(t=o.bitrate)}),t>0?t:NaN}getBufferLength(e){const t=this.media,i=e===xs.AUDIO?this.audioBuffer:this.videoBuffer;return!i||!t?NaN:_i.bufferInfo(i,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,i=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new i(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,l,c){t(o),this.loader.load(o,l,c)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,i=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new i(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,l,c){t(o),this.loader.load(o,l,c)}}}}const sV=3e5;class oV extends Oo{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Te.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Te.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(i=>i!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:i}=t;i!==null&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:i}=t;if(i?.action===Kr.SendAlternateToPenaltyBox&&i.flags===Vs.MoveAllAlternatesMatchingHost){const r=this.levels;let o=this._pathwayPriority,l=this.pathwayId;if(t.context){const{groupId:c,pathwayId:f,type:h}=t.context;c&&r?l=this.getPathwayForGroupId(c,h,l):f&&(l=f)}l in this.penalizedPathways||(this.penalizedPathways[l]=performance.now()),!o&&r&&(o=this.pathways()),o&&o.length>1&&(this.updatePathwayPriority(o),i.resolved=this.pathwayId!==l),t.details===Dt.BUFFER_APPEND_ERROR&&!t.fatal?i.resolved=!0:i.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${l} levels: ${r&&r.length} priorities: ${Aa(o)} penalized: ${Aa(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const i=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),t=this.getLevelsForPathway(i),this.pathwayId=i}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const i=this.penalizedPathways,r=performance.now();Object.keys(i).forEach(o=>{r-i[o]>sV&&delete i[o]});for(let o=0;o<e.length;o++){const l=e[o];if(l in i)continue;if(l===this.pathwayId)return;const c=this.hls.nextLoadLevel,f=this.hls.levels[c];if(t=this.getLevelsForPathway(l),t.length>0){this.log(`Setting Pathway to "${l}"`),this.pathwayId=l,SU(t),this.hls.trigger(Te.LEVELS_UPDATED,{levels:t});const h=this.hls.levels[c];f&&h&&this.levels&&(h.attrs["STABLE-VARIANT-ID"]!==f.attrs["STABLE-VARIANT-ID"]&&h.bitrate!==f.bitrate&&this.log(`Unstable Pathways change from bitrate ${f.bitrate} to ${h.bitrate}`),this.hls.nextLoadLevel=c);break}}}getPathwayForGroupId(e,t,i){const r=this.getLevelsForPathway(i).concat(this.levels||[]);for(let o=0;o<r.length;o++)if(t===Ui.AUDIO_TRACK&&r[o].hasAudioGroup(e)||t===Ui.SUBTITLE_TRACK&&r[o].hasSubtitleGroup(e))return r[o].pathwayId;return i}clonePathways(e){const t=this.levels;if(!t)return;const i={},r={};e.forEach(o=>{const{ID:l,"BASE-ID":c,"URI-REPLACEMENT":f}=o;if(t.some(g=>g.pathwayId===l))return;const h=this.getLevelsForPathway(c).map(g=>{const m=new Ka(g.attrs);m["PATHWAY-ID"]=l;const p=m.AUDIO&&`${m.AUDIO}_clone_${l}`,y=m.SUBTITLES&&`${m.SUBTITLES}_clone_${l}`;p&&(i[m.AUDIO]=p,m.AUDIO=p),y&&(r[m.SUBTITLES]=y,m.SUBTITLES=y);const E=a3(g.uri,m["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",f),A=new Py({attrs:m,audioCodec:g.audioCodec,bitrate:g.bitrate,height:g.height,name:g.name,url:E,videoCodec:g.videoCodec,width:g.width});if(g.audioGroups)for(let w=1;w<g.audioGroups.length;w++)A.addGroupId("audio",`${g.audioGroups[w]}_clone_${l}`);if(g.subtitleGroups)for(let w=1;w<g.subtitleGroups.length;w++)A.addGroupId("text",`${g.subtitleGroups[w]}_clone_${l}`);return A});t.push(...h),SM(this.audioTracks,i,f,l),SM(this.subtitleTracks,r,f,l)})}loadSteeringManifest(e){const t=this.hls.config,i=t.loader;this.loader&&this.loader.destroy(),this.loader=new i(t);let r;try{r=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(r.protocol!=="data:"){const g=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+g)}const o={responseType:"json",url:r.href},l=t.steeringManifestLoadPolicy.default,c=l.errorRetry||l.timeoutRetry||{},f={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},h={onSuccess:(g,m,p,y)=>{this.log(`Loaded steering manifest: "${r}"`);const E=g.data;if(E?.VERSION!==1){this.log(`Steering VERSION ${E.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=E.TTL;const{"RELOAD-URI":A,"PATHWAY-CLONES":w,"PATHWAY-PRIORITY":M}=E;if(A)try{this.uri=new self.URL(A,r).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${A}`);return}this.scheduleRefresh(this.uri||p.url),w&&this.clonePathways(w);const x={steeringManifest:E,url:r.toString()};this.hls.trigger(Te.STEERING_MANIFEST_LOADED,x),M&&this.updatePathwayPriority(M)},onError:(g,m,p,y)=>{if(this.log(`Error loading steering manifest: ${g.code} ${g.text} (${m.url})`),this.stopLoad(),g.code===410){this.enabled=!1,this.log(`Steering manifest ${m.url} no longer available`);return}let E=this.timeToLoad*1e3;if(g.code===429){const A=this.loader;if(typeof A?.getResponseHeader=="function"){const w=A.getResponseHeader("Retry-After");w&&(E=parseFloat(w)*1e3)}this.log(`Steering manifest ${m.url} rate limited`);return}this.scheduleRefresh(this.uri||m.url,E)},onTimeout:(g,m,p)=>{this.log(`Timeout loading steering manifest (${m.url})`),this.scheduleRefresh(this.uri||m.url)}};this.log(`Requesting steering manifest: ${r}`),this.loader.load(o,f,h)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var i;const r=(i=this.hls)==null?void 0:i.media;if(r&&!r.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function SM(n,e,t,i){n&&Object.keys(e).forEach(r=>{const o=n.filter(l=>l.groupId===r).map(l=>{const c=ba({},l);return c.details=void 0,c.attrs=new Ka(c.attrs),c.url=c.attrs.URI=a3(l.url,l.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),c.groupId=c.attrs["GROUP-ID"]=e[r],c.attrs["PATHWAY-ID"]=i,c});n.push(...o)})}function a3(n,e,t,i){const{HOST:r,PARAMS:o,[t]:l}=i;let c;e&&(c=l?.[e],c&&(n=c));const f=new self.URL(n);return r&&!c&&(f.host=r),o&&Object.keys(o).sort().forEach(h=>{h&&f.searchParams.set(h,o[h])}),f.href}class pg extends Oo{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=pg.CDMCleanupPromise?[pg.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=t=>{const{initDataType:i,initData:r}=t,o=`"${t.type}" event: init data type: "${i}"`;if(this.debug(o),r!==null){if(!this.keyFormatPromise){let l=Object.keys(this.keySystemAccessPromises);l.length||(l=qv(this.config));const c=l.map(Nw).filter(f=>!!f);this.keyFormatPromise=this.getKeyFormatPromise(c)}this.keyFormatPromise.then(l=>{const c=o_(l);if(i!=="sinf"||c!==Ya.FAIRPLAY){this.log(`Ignoring "${t.type}" event with init data type: "${i}" for selected key-system ${c}`);return}let f;try{const y=Sr(new Uint8Array(r)),E=kk(JSON.parse(y).sinf),A=Z2(E);if(!A)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");f=new Uint8Array(A.subarray(8,24))}catch(y){this.warn(`${o} Failed to parse sinf: ${y}`);return}const h=Yr(f),{keyIdToKeySessionPromise:g,mediaKeySessions:m}=this;let p=g[h];for(let y=0;y<m.length;y++){const E=m[y],A=E.decryptdata;if(!A.keyId)continue;const w=Yr(A.keyId);if(jT(f,A.keyId)||A.uri.replace(/-/g,"").indexOf(h)!==-1){if(p=g[w],!p)continue;if(A.pssh)break;delete g[w],A.pssh=new Uint8Array(r),A.keyId=f,p=g[h]=p.then(()=>this.generateRequestWithPreferredKeySession(E,i,r,"encrypted-event-key-match")),p.catch(M=>this.handleError(M));break}}p||this.handleError(new Error(`Key ID ${h} not encountered in playlist. Key-system sessions ${m.length}.`))}).catch(l=>this.handleError(l))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Te.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Te.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(Te.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Te.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Te.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(Te.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:i}=this.config,r=t?.[e];if(r)return r.licenseUrl;if(e===Ya.WIDEVINE&&i)return i}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,i=t?.[e];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,i=(l,c,f)=>!!l&&f.indexOf(l)===c,r=t.map(l=>l.audioCodec).filter(i),o=t.map(l=>l.videoCodec).filter(i);return r.length+o.length===0&&o.push("avc1.42e01e"),new Promise((l,c)=>{const f=h=>{const g=h.shift();this.getMediaKeysPromise(g,r,o).then(m=>l({keySystem:g,mediaKeys:m})).catch(m=>{h.length?f(h):m instanceof Hs?c(m):c(new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_NO_ACCESS,error:m,fatal:!0},m.message))})};f(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:i}=this.config;if(typeof i!="function"){let r=`Configured requestMediaKeySystemAccess is not a function ${i}`;return gU===null&&self.location.protocol==="http:"&&(r=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(r))}return i(e,t)}getMediaKeysPromise(e,t,i){var r;const o=$H(e,t,i,this.config.drmSystemOptions||{});let l=this.keySystemAccessPromises[e],c=(r=l)==null?void 0:r.keySystemAccess;if(!c){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Aa(o)}`),c=this.requestMediaKeySystemAccess(e,o);const f=l=this.keySystemAccessPromises[e]={keySystemAccess:c};return c.catch(h=>{this.log(`Failed to obtain access to key-system "${e}": ${h}`)}),c.then(h=>{this.log(`Access for key-system "${h.keySystem}" obtained`);const g=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const m=f.mediaKeys=h.createMediaKeys().then(p=>(this.log(`Media-keys created for "${e}"`),f.hasMediaKeys=!0,g.then(y=>y?this.setMediaKeysServerCertificate(p,e,y):p)));return m.catch(p=>{this.error(`Failed to create media-keys for "${e}"}: ${p}`)}),m})}return c.then(()=>l.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:i}){this.log(`Creating key-system session "${t}" keyId: ${Yr(e.keyId||[])} keyUri: ${e.uri}`);const r=i.createSession(),o={decryptdata:e,keySystem:t,mediaKeys:i,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const i=this.createMediaKeySessionContext(e),r=A0(t),o="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(i,o,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,t){const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyId ${Yr(e.decryptdata.keyId||[])}
      } (data length: ${t.byteLength})`),i.update(t)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>Nw(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:t,mediaKeys:i})=>this.attemptSetMediaKeys(t,i))}selectKeySystem(e){return new Promise((t,i)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:r})=>{const o=Nw(r);o?t(o):i(new Error(`Unable to find format for key-system "${r}"`))}).catch(i)})}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){const t=qv(this.config),i=e.map(o_).filter(r=>!!r&&t.indexOf(r)!==-1);return this.selectKeySystem(i)}getKeyStatus(e){const{mediaKeySessions:t}=this;for(let i=0;i<t.length;i++){const r=lV(e,t[i]);if(r)return r}}loadKey(e){const t=e.keyInfo.decryptdata,i=A0(t),r=this.bannedKeyIds[i];if(r||this.getKeyStatus(t)==="internal-error"){const c=AM(r||"internal-error",t);return this.handleError(c,e.frag),Promise.reject(c)}const o=`(keyId: ${i} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${o}`);const l=this.keyIdToKeySessionPromise[i];if(!l){const c=this.getKeySystemForKeyPromise(t).then(({keySystem:f,mediaKeys:h})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${o}`),this.attemptSetMediaKeys(f,h).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:f,mediaKeys:h,decryptdata:t}))))).then(f=>{const h="cenc",g=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(f,h,g,"playlist-key")});return c.catch(f=>this.handleError(f,e.frag)),this.keyIdToKeySessionPromise[i]=c,c}return l.catch(c=>{if(c instanceof Hs){const f=ma({},c.data);this.getKeyStatus(t)==="internal-error"&&(f.decryptdata=t);const h=new Hs(f,c.message);this.handleError(h,e.frag)}}),l}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,t){if(this.hls)if(e instanceof Hs){t&&(e.data.frag=t);const i=e.data.decryptdata;this.error(`${e.message}${i?` (${Yr(i.keyId||[])})`:""}`),this.hls.trigger(Te.ERROR,e.data)}else this.error(e.message),this.hls.trigger(Te.ERROR,{type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const t=A0(e),i=this.keyIdToKeySessionPromise[t];if(!i){const r=o_(e.keyFormat),o=r?[r]:qv(this.config);return this.attemptKeySystemAccess(o)}return i}getKeySystemSelectionPromise(e){if(e.length||(e=qv(this.config)),e.length===0)throw new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Aa({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){if(this.mediaResolved=void 0,this.mediaKeys===t)return Promise.resolve();const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const r=Promise.all(i).then(()=>this.media?this.media.setMediaKeys(t):new Promise((o,l)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return l(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=t,this.media.setMediaKeys(t).then(o).catch(l)}}));return this.mediaKeys=t,this.setMediaKeysQueue.push(r),r.then(()=>{this.log(`Media-keys set for "${e}"`),i.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(o=>i.indexOf(o)===-1)})}generateRequestWithPreferredKeySession(e,t,i,r){var o;const l=(o=this.config.drmSystems)==null||(o=o[e.keySystem])==null?void 0:o.generateRequest;if(l)try{const E=l.call(this.hls,t,i,e);if(!E)throw new Error("Invalid response from configured generateRequest filter");t=E.initDataType,i=E.initData?E.initData:null,e.decryptdata.pssh=i?new Uint8Array(i):null}catch(E){if(this.warn(E.message),this.hls&&this.hls.config.debug)throw E}if(i===null)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(e);const c=A0(e.decryptdata),f=e.decryptdata.uri;this.log(`Generating key-session request for "${r}" keyId: ${c} URI: ${f} (init data type: ${t} length: ${i.byteLength})`);const h=new Ck,g=e._onmessage=E=>{const A=e.mediaKeysSession;if(!A){h.emit("error",new Error("invalid state"));return}const{messageType:w,message:M}=E;this.log(`"${w}" message event for session "${A.sessionId}" message size: ${M.byteLength}`),w==="license-request"||w==="license-renewal"?this.renewLicense(e,M).catch(x=>{h.eventNames().length?h.emit("error",x):this.handleError(x)}):w==="license-release"?e.keySystem===Ya.FAIRPLAY&&this.updateKeySession(e,bR("acknowledged")).then(()=>this.removeSession(e)).catch(x=>this.handleError(x)):this.warn(`unhandled media key message type "${w}"`)},m=(E,A)=>{A.keyStatus=E;let w;E.startsWith("usable")?h.emit("resolved"):E==="internal-error"||E==="output-restricted"||E==="output-downscaled"?w=AM(E,A.decryptdata):E==="expired"?w=new Error(`key expired (keyId: ${c})`):E==="released"?w=new Error("key released"):E==="status-pending"||this.warn(`unhandled key status change "${E}" (keyId: ${c})`),w&&(h.eventNames().length?h.emit("error",w):this.handleError(w))},p=e._onkeystatuseschange=E=>{if(!e.mediaKeysSession){h.emit("error",new Error("invalid state"));return}const w=this.getKeyStatuses(e);if(!Object.keys(w).some(O=>w[O]!=="status-pending"))return;if(w[c]==="expired"){this.log(`Expired key ${Aa(w)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let x=w[c];if(x)m(x,e);else{var C;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(C=e.keyStatusTimeouts)[c]||(C[c]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const z=this.getKeyStatus(e.decryptdata);if(z&&z!=="status-pending")return this.log(`No status for keyId ${c} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${z} from other session.`),m(z,e);this.log(`key status for ${c} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),x="internal-error",m(x,e)},1e3)),this.log(`No status for keyId ${c} (${Aa(w)}).`)}};ys(e.mediaKeysSession,"message",g),ys(e.mediaKeysSession,"keystatuseschange",p);const y=new Promise((E,A)=>{h.on("error",A),h.on("resolved",E)});return e.mediaKeysSession.generateRequest(t,i).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${c} URI: ${f}`)}).catch(E=>{throw new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_NO_SESSION,error:E,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${E}`)}).then(()=>y).catch(E=>(h.removeAllListeners(),this.removeSession(e).then(()=>{throw E}))).then(()=>(h.removeAllListeners(),e))}getKeyStatuses(e){const t={};return e.mediaKeysSession.keyStatuses.forEach((i,r)=>{if(typeof r=="string"&&typeof i=="object"){const c=r;r=i,i=c}const o="buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r);if(e.keySystem===Ya.PLAYREADY&&o.length===16){const c=Yr(o);t[c]=i,hU(o)}const l=Yr(o);i==="internal-error"&&(this.bannedKeyIds[l]=i),this.log(`key status change "${i}" for keyStatuses keyId: ${l} key-session "${e.mediaKeysSession.sessionId}"`),t[l]=i}),t}fetchServerCertificate(e){const t=this.config,i=t.loader,r=new i(t),o=this.getServerCertificateUrl(e);return o?(this.log(`Fetching server certificate for "${e}"`),new Promise((l,c)=>{const f={responseType:"arraybuffer",url:o},h=t.certLoadPolicy.default,g={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},m={onSuccess:(p,y,E,A)=>{l(p.data)},onError:(p,y,E,A)=>{c(new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:E,response:ma({url:f.url,data:void 0},p)},`"${e}" certificate request failed (${o}). Status: ${p.code} (${p.text})`))},onTimeout:(p,y,E)=>{c(new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:E,response:{url:f.url,data:void 0}},`"${e}" certificate request timed out (${o})`))},onAbort:(p,y,E)=>{c(new Error("aborted"))}};r.load(f,g,m)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,i){return new Promise((r,o)=>{e.setServerCertificate(i).then(l=>{this.log(`setServerCertificate ${l?"success":"not supported by CDM"} (${i.byteLength}) on "${t}"`),r(e)}).catch(l=>{o(new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:l,fatal:!0},l.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(i=>this.updateKeySession(e,new Uint8Array(i)).catch(r=>{throw new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:r,fatal:!1},r.message)}))}unpackPlayReadyKeyMessage(e,t){const i=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!i.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const r=new DOMParser().parseFromString(i,"application/xml"),o=r.querySelectorAll("HttpHeader");if(o.length>0){let g;for(let m=0,p=o.length;m<p;m++){var l,c;g=o[m];const y=(l=g.querySelector("name"))==null?void 0:l.textContent,E=(c=g.querySelector("value"))==null?void 0:c.textContent;y&&E&&e.setRequestHeader(y,E)}}const f=r.querySelector("Challenge"),h=f?.textContent;if(!h)throw new Error("Cannot find <Challenge> in key message");return bR(atob(h))}setupLicenseXHR(e,t,i,r){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then(()=>{if(!i.decryptdata)throw new Error("Key removed");return o.call(this.hls,e,t,i,r)}).catch(l=>{if(!i.decryptdata)throw l;return e.open("POST",t,!0),o.call(this.hls,e,t,i,r)}).then(l=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:l||r})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}requestLicense(e,t){const i=this.config.keyLoadPolicy.default;return new Promise((r,o)=>{const l=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${l}`);const c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(c.readyState===4)if(c.status===200){this._requestLicenseFailureCount=0;let f=c.response;this.log(`License received ${f instanceof ArrayBuffer?f.byteLength:f}`);const h=this.config.licenseResponseCallback;if(h)try{f=h.call(this.hls,c,l,e)}catch(g){this.error(g)}r(f)}else{const f=i.errorRetry,h=f?f.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>h||c.status>=400&&c.status<500)o(new Hs({type:ti.KEY_SYSTEM_ERROR,details:Dt.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:c,response:{url:l,data:void 0,code:c.status,text:c.statusText}},`License Request XHR failed (${l}). Status: ${c.status} (${c.statusText})`));else{const g=h-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${g} attempts left`),this.requestLicense(e,t).then(r,o)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=c,this.setupLicenseXHR(c,l,e,t).then(({xhr:f,licenseChallenge:h})=>{e.keySystem==Ya.PLAYREADY&&(h=this.unpackPlayReadyKeyMessage(f,h)),f.send(h)}).catch(o)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const i=t.media;this.media=i,ys(i,"encrypted",this.onMediaEncrypted),ys(i,"waitingforkey",this.onWaitingForKey);const r=this.mediaResolved;r?r():this.mediaKeys=i.mediaKeys}onMediaDetached(){const e=this.media;e&&(Ms(e,"encrypted",this.onMediaEncrypted),Ms(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const t=this.mediaResolved;if(t&&t(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const i=this.media,r=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Od.clearKeyUriToKeyIdMap();const o=r.length;pg.CDMCleanupPromise=Promise.all(r.map(l=>this.removeSession(l)).concat((i==null||(e=i.setMediaKeys(null))==null?void 0:e.catch(l=>{this.log(`Could not clear media keys: ${l}`),this.hls&&this.hls.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${l}`)})}))||Promise.resolve())).catch(l=>{this.log(`Could not close sessions and clear media keys: ${l}`),this.hls&&this.hls.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${l}`)})}).then(()=>{o&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const i=t.reduce((r,o)=>(r.indexOf(o.keyFormat)===-1&&r.push(o.keyFormat),r),[]);this.log(`Selecting key-system from session-keys ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:i,decryptdata:r}=e;if(t){this.log(`Remove licenses and keys and close session "${t.sessionId}" keyId: ${Yr(r?.keyId||[])}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const o=this.mediaKeySessions.indexOf(e);o>-1&&this.mediaKeySessions.splice(o,1);const{keyStatusTimeouts:l}=e;l&&Object.keys(l).forEach(h=>self.clearTimeout(l[h]));const{drmSystemOptions:c}=this.config;return(jH(c)?new Promise((h,g)=>{self.setTimeout(()=>g(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(h).catch(g)}):Promise.resolve()).catch(h=>{this.log(`Could not remove session: ${h}`),this.hls&&this.hls.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${h}`)})}).then(()=>t.close()).catch(h=>{this.log(`Could not close session: ${h}`),this.hls&&this.hls.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${h}`)})})}return Promise.resolve()}}pg.CDMCleanupPromise=void 0;function A0(n){if(!n)throw new Error("Could not read keyId of undefined decryptdata");if(n.keyId===null)throw new Error("keyId is null");return Yr(n.keyId)}function lV(n,e){if(n.keyId&&e.mediaKeysSession.keyStatuses.has(n.keyId))return e.mediaKeysSession.keyStatuses.get(n.keyId);if(n.matches(e.decryptdata))return e.keyStatus}class Hs extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}function AM(n,e){const t=n==="output-restricted",i=t?Dt.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:Dt.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new Hs({type:ti.KEY_SYSTEM_ERROR,details:i,fatal:!1,decryptdata:e},t?"HDCP level output restricted":`key status changed to "${n}"`)}class uV{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const i=this.hls.config;if(i.capLevelOnFPSDrop){const r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&typeof r.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,i){const r=performance.now();if(t){if(this.lastTime){const o=r-this.lastTime,l=i-this.lastDroppedFrames,c=t-this.lastDecodedFrames,f=1e3*l/o,h=this.hls;if(h.trigger(Te.FPS_DROP,{currentDropped:l,currentDecoded:c,totalDroppedFrames:i}),f>0&&l>h.config.fpsDroppedMonitoringThreshold*c){let g=h.currentLevel;h.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+g),g>0&&(h.autoLevelCapping===-1||h.autoLevelCapping>=g)&&(g=g-1,h.trigger(Te.FPS_DROP_LEVEL_CAPPING,{level:g,droppedLevel:h.currentLevel}),h.autoLevelCapping=g,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function r3(n,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=n,e.dispatchEvent(t)}function s3(n,e){const t=n.mode;if(t==="disabled"&&(n.mode="hidden"),n.cues&&!n.cues.getCueById(e.id))try{if(n.addCue(e),!n.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(i){ga.debug(`[texttrack-utils]: ${i}`);try{const r=new self.TextTrackCue(e.startTime,e.endTime,e.text);r.id=e.id,n.addCue(r)}catch(r){ga.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${r}`)}}t==="disabled"&&(n.mode=t)}function lg(n,e){const t=n.mode;if(t==="disabled"&&(n.mode="hidden"),n.cues)for(let i=n.cues.length;i--;)e&&n.cues[i].removeEventListener("enter",e),n.removeCue(n.cues[i]);t==="disabled"&&(n.mode=t)}function xR(n,e,t,i){const r=n.mode;if(r==="disabled"&&(n.mode="hidden"),n.cues&&n.cues.length>0){const o=dV(n.cues,e,t);for(let l=0;l<o.length;l++)(!i||i(o[l]))&&n.removeCue(o[l])}r==="disabled"&&(n.mode=r)}function cV(n,e){if(e<=n[0].startTime)return 0;const t=n.length-1;if(e>n[t].endTime)return-1;let i=0,r=t,o;for(;i<=r;)if(o=Math.floor((r+i)/2),e<n[o].startTime)r=o-1;else if(e>n[o].startTime&&i<t)i=o+1;else return o;return n[i].startTime-e<e-n[r].startTime?i:r}function dV(n,e,t){const i=[],r=cV(n,e);if(r>-1)for(let o=r,l=n.length;o<l;o++){const c=n[o];if(c.startTime>=e&&c.endTime<=t)i.push(c);else if(c.startTime>t)return i}return i}function d_(n){const e=[];for(let t=0;t<n.length;t++){const i=n[t];(i.kind==="subtitles"||i.kind==="captions")&&i.label&&e.push(n[t])}return e}class fV extends Uk{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const i=d_(this.media.textTracks);for(let o=0;o<i.length;o++)if(i[o].mode==="hidden")t=i[o];else if(i[o].mode==="showing"){t=i[o];break}const r=this.findTrackForTextTrack(t);this.subtitleTrack!==r&&this.setSubtitleTrack(r)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Te.LEVEL_LOADING,this.onLevelLoading,this),e.on(Te.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Te.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Te.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Te.LEVEL_LOADING,this.onLevelLoading,this),e.off(Te.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Te.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Te.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const i=this.media;if(!i)return;const r=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||i.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,r)return;d_(i.textTracks).forEach(l=>{lg(l)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:i,groupId:r,details:o}=t,l=this.tracksInGroup[i];if(!l||l.groupId!==r){this.warn(`Subtitle track with id:${i} and group:${r} not found in active group ${l?.groupId}`);return}const c=l.details;l.details=t.details,this.log(`Subtitle track ${i} "${l.name}" lang:${l.lang} group:${r} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,c)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.subtitleGroups||null,r=this.groupIds;let o=this.currentTrack;if(!i||r?.length!==i?.length||i!=null&&i.some(l=>r?.indexOf(l)===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const l=this.tracks.filter(g=>!i||i.indexOf(g.groupId)!==-1);if(l.length)this.selectDefaultTrack&&!l.some(g=>g.default)&&(this.selectDefaultTrack=!1),l.forEach((g,m)=>{g.id=m});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=l;const c=this.hls.config.subtitlePreference;if(!o&&c){this.selectDefaultTrack=!1;const g=cu(c,l);if(g>-1)o=l[g];else{const m=cu(c,this.tracks);o=this.tracks[m]}}let f=this.findTrackId(o);f===-1&&o&&(f=this.findTrackId(null));const h={subtitleTracks:l};this.log(`Updating subtitle tracks, ${l.length} track(s) found in "${i?.join(",")}" group-id`),this.hls.trigger(Te.SUBTITLE_TRACKS_UPDATED,h),f!==-1&&this.trackId===-1&&this.setSubtitleTrack(f)}}findTrackId(e){const t=this.tracksInGroup,i=this.selectDefaultTrack;for(let r=0;r<t.length;r++){const o=t[r];if(!(i&&!o.default||!i&&!e)&&(!e||Wf(o,e)))return r}if(e){for(let r=0;r<t.length;r++){const o=t[r];if(zy(e.attrs,o.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return r}for(let r=0;r<t.length;r++){const o=t[r];if(zy(e.attrs,o.attrs,["LANGUAGE"]))return r}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){const r=t[i];if(wR(r,e))return i}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===Ui.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const i=this.currentTrack;if(i&&Wf(e,i))return i;const r=cu(e,this.tracksInGroup);if(r>-1){const o=this.tracksInGroup[r];return this.setSubtitleTrack(r),o}else{if(i)return null;{const o=cu(e,t);if(o>-1)return t[o]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const i=e.id,r=e.groupId,o=this.getUrlWithDirectives(e.url,t),l=e.details,c=l?.age;this.log(`Loading subtitle ${i} "${e.name}" lang:${e.lang} group:${r}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${c&&l.live?" age "+c.toFixed(1)+(l.type&&" "+l.type||""):""} ${o}`),this.hls.trigger(Te.SUBTITLE_TRACK_LOADING,{url:o,id:i,groupId:r,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=d_(e.textTracks),i=this.currentTrack;let r;if(i&&(r=t.filter(o=>wR(i,o))[0],r||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(t).forEach(o=>{o.mode!=="disabled"&&o!==r&&(o.mode="disabled")}),r){const o=this.subtitleDisplay?"showing":"hidden";r.mode!==o&&(r.mode=o)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!Un(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,r=t[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),!r){this.hls.trigger(Te.SUBTITLE_TRACK_SWITCH,{id:e});return}const o=!!r.details&&!r.details.live;if(e===this.trackId&&r===i&&o)return;this.log(`Switching to subtitle-track ${e}`+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:l,groupId:c="",name:f,type:h,url:g}=r;this.hls.trigger(Te.SUBTITLE_TRACK_SWITCH,{id:l,groupId:c,name:f,type:h,url:g});const m=this.switchParams(r.url,i?.details,r.details);this.loadPlaylist(m)}}function hV(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const o=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(r=="x"?o:o&3|8).toString(16)})}}}function Ey(n){let e=5381,t=n.length;for(;t;)e=e*33^n.charCodeAt(--t);return(e>>>0).toString()}const vg=.025;let KT=(function(n){return n[n.Point=0]="Point",n[n.Range=1]="Range",n})({});function mV(n,e,t){return`${n.identifier}-${t+1}-${Ey(e)}`}class gV{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var t;if(e>0&&e>=this.assetList.length)return!0;const i=this.playoutLimit;return e<=0||isNaN(i)?!1:i===0?!0:(((t=this.assetList[e])==null?void 0:t.startOffset)||0)>i}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return jw(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,i=jw(t,e);return t-i<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=Un(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return jw(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<vg))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?KT.Range:KT.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return pV(this)}}function jw(n,e){return n-e.start<e.duration/2&&!(Math.abs(n-(e.start+e.duration))<vg)?e.start:e.start+e.duration}function o3(n,e,t){const i=new self.URL(n,t);return i.protocol!=="data:"&&i.searchParams.set("_HLS_primary_id",e),i}function Hw(n,e){for(;(t=n.assetList[++e])!=null&&t.error;)var t;return e}function pV(n){return`["${n.identifier}" ${n.cue.pre?"<pre>":n.cue.post?"<post>":""}${n.timelineStart.toFixed(2)}-${n.resumeTime.toFixed(2)}]`}function Om(n){const e=n.timelineStart,t=n.duration||0;return`["${n.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class vV{constructor(e,t,i,r){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(Te.PLAYOUT_LIMIT_REACHED,{})};const o=this.hls=new e(t);this.interstitial=i,this.assetItem=r;const l=()=>{this.hasDetails=!0};o.once(Te.LEVEL_LOADED,l),o.once(Te.AUDIO_TRACK_LOADED,l),o.once(Te.SUBTITLE_TRACK_LOADED,l),o.on(Te.MEDIA_ATTACHING,(c,{media:f})=>{this.removeMediaListeners(),this.mediaAttached=f,this.interstitial.playoutLimit&&(f.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&o.on(Te.BUFFER_APPENDED,()=>{const g=this.bufferedEnd;this.reachedPlayout(g)&&(this._bufferedEosTime=g,o.trigger(Te.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let t=this.assetItem.uri;try{t=o3(t,e.config.primarySessionId||"").href}catch{}e.loadSource(t)}}bufferedInPlaceToEnd(e){var t;if(!this.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e)return!1;const i=Math.min(this._bufferedEosTime||1/0,this.duration),r=this.timelineOffset,o=_i.bufferInfo(e,r,0);return this.getAssetTime(o.end)>=i-.02}reachedPlayout(e){const i=this.interstitial.playoutLimit;return this.startOffset+e>=i}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=_i.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const t=this.interstitial.playoutLimit;if(t){const i=t-this.startOffset;if(i>0&&i<e)return i}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const i=e-t;if(Math.abs(i)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,i=this.duration;return Math.min(Math.max(0,e-t),i)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var t;this.loadSource(),(t=this.hls)==null||t.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const t=i=>delete i.details;e.levels.forEach(t),e.allAudioTracks.forEach(t),e.allSubtitleTracks.forEach(t),this.hasDetails=!1}}on(e,t,i){var r;(r=this.hls)==null||r.on(e,t)}once(e,t,i){var r;(r=this.hls)==null||r.once(e,t)}off(e,t,i){var r;(r=this.hls)==null||r.off(e,t)}toString(){var e;return`HlsAssetPlayer: ${Om(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const wM=.033;class yV extends Oo{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((i,r)=>e<=r.startOffset&&t>r.startOffset?(delete r.error,i+1):i,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let i=-1;e.nextEvent?i=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(i=this.findEventIndex(e.previousEvent.identifier)+1);const r=this.items;if(r)for(r[i]||(t===void 0&&(t=e.start),i=this.findItemIndexAtTime(t));i>=0&&(o=r[i])!=null&&o.event;){var o;i--}return i}findItemIndexAtTime(e,t){const i=this.items;if(i)for(let r=0;r<i.length;r++){let o=i[r];if(t&&t!=="primary"&&(o=o[t]),e===o.start||e>o.start&&e<o.end)return r}return-1}findJumpRestrictedIndex(e,t){const i=this.items;if(i)for(let r=e;r<=t&&i[r];r++){const o=i[r].event;if(o!=null&&o.restrictions.jump&&!o.appendInPlace)return r}return-1}findEventIndex(e){const t=this.items;if(t)for(let r=t.length;r--;){var i;if(((i=t[r].event)==null?void 0:i.identifier)===e)return r}return-1}findAssetIndex(e,t){const i=e.assetList,r=i.length;if(r>1)for(let o=0;o<r;o++){const l=i[o];if(!l.error){const c=l.timelineStart;if(t===c||t>c&&(t<c+(l.duration||0)||o===r-1))return o}}return 0}get assetIdAtEnd(){var e;const t=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(t){const i=t.assetList,r=i[i.length-1];if(r)return r.identifier}return null}parseInterstitialDateRanges(e,t){const i=e.main.details,{dateRanges:r}=i,o=this.events,l=this.parseDateRanges(r,{url:i.url},t),c=Object.keys(r),f=o?o.filter(h=>!c.includes(h.identifier)):[];l.length&&l.sort((h,g)=>{const m=h.cue.pre,p=h.cue.post,y=g.cue.pre,E=g.cue.post;if(m&&!y)return-1;if(y&&!m||p&&!E)return 1;if(E&&!p)return-1;if(!m&&!y&&!p&&!E){const A=h.startTime,w=g.startTime;if(A!==w)return A-w}return h.dateRange.tagOrder-g.dateRange.tagOrder}),this.events=l,f.forEach(h=>{this.removeEvent(h)}),this.updateSchedule(e,f)}updateSchedule(e,t=[],i=!1){const r=this.events||[];if(r.length||t.length||this.length<2){const o=this.items,l=this.parseSchedule(r,e);(i||t.length||o?.length!==l.length||l.some((f,h)=>Math.abs(f.playout.start-o[h].playout.start)>.005||Math.abs(f.playout.end-o[h].playout.end)>.005))&&(this.items=l,this.onScheduleUpdate(t,o))}}parseDateRanges(e,t,i){const r=[],o=Object.keys(e);for(let l=0;l<o.length;l++){const c=o[l],f=e[c];if(f.isInterstitial){let h=this.eventMap[c];h?h.setDateRange(f):(h=new gV(f,t),this.eventMap[c]=h,i===!1&&(h.appendInPlace=i)),r.push(h)}}return r}parseSchedule(e,t){const i=[],r=t.main.details,o=r.live?1/0:r.edge;let l=0;if(e=e.filter(f=>!f.error&&!(f.cue.once&&f.hasPlayed)),e.length){this.resolveOffsets(e,t);let f=0,h=0;if(e.forEach((g,m)=>{const p=g.cue.pre,y=g.cue.post,E=e[m-1]||null,A=g.appendInPlace,w=y?o:g.startOffset,M=g.duration,x=g.timelineOccupancy===KT.Range?M:0,C=g.resumptionOffset,O=E?.startTime===w,z=w+g.cumulativeDuration;let se=A?z+M:w+C;if(p||!y&&w<=0){const H=h;h+=x,g.timelineStart=z;const be=l;l+=M,i.push({event:g,start:z,end:se,playout:{start:be,end:l},integrated:{start:H,end:h}})}else if(w<=o){if(!O){const Ae=w-f;if(Ae>wM){const Me=f,Ve=h;h+=Ae;const Se=l;l+=Ae;const He={previousEvent:e[m-1]||null,nextEvent:g,start:Me,end:Me+Ae,playout:{start:Se,end:l},integrated:{start:Ve,end:h}};i.push(He)}else Ae>0&&E&&(E.cumulativeDuration+=Ae,i[i.length-1].end=w)}y&&(se=z),g.timelineStart=z;const H=h;h+=x;const be=l;l+=M,i.push({event:g,start:z,end:se,playout:{start:be,end:l},integrated:{start:H,end:h}})}else return;const F=g.resumeTime;y||F>o?f=o:f=F}),f<o){var c;const g=f,m=h,p=o-f;h+=p;const y=l;l+=p,i.push({previousEvent:((c=i[i.length-1])==null?void 0:c.event)||null,nextEvent:null,start:f,end:g+p,playout:{start:y,end:l},integrated:{start:m,end:h}})}this.setDurations(o,l,h)}else i.push({previousEvent:null,nextEvent:null,start:0,end:o,playout:{start:0,end:o},integrated:{start:0,end:o}}),this.setDurations(o,o,o);return i}setDurations(e,t,i){this.durations={primary:e,playout:t,integrated:i}}resolveOffsets(e,t){const i=t.main.details,r=i.live?1/0:i.edge;let o=0,l=-1;e.forEach((c,f)=>{const h=c.cue.pre,g=c.cue.post,m=h?0:g?r:c.startTime;this.updateAssetDurations(c),l===m?c.cumulativeDuration=o:(o=0,l=m),!g&&c.snapOptions.in&&(c.resumeAnchor=lh(null,i.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(c,t)||(c.appendInPlace=!1)),!c.appendInPlace&&f+1<e.length&&e[f+1].startTime-e[f].resumeTime<wM&&(e[f+1].appendInPlace=!1,e[f+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${c}`));const y=Un(c.resumeOffset)?c.resumeOffset:c.duration;o+=y})}primaryCanResumeInPlaceAt(e,t){const i=e.resumeTime,r=e.startTime+e.resumptionOffset;return Math.abs(i-r)>vg?(this.log(`"${e.identifier}" resumption ${i} not aligned with estimated timeline end ${r}`),!1):!Object.keys(t).some(l=>{const c=t[l].details,f=c.edge;if(i>=f)return this.log(`"${e.identifier}" resumption ${i} past ${l} playlist end ${f}`),!1;const h=lh(null,c.fragments,i);if(!h)return this.log(`"${e.identifier}" resumption ${i} does not align with any fragments in ${l} playlist (${c.fragStart}-${c.fragmentEnd})`),!0;const g=l==="audio"?.175:0;return Math.abs(h.start-i)<vg+g||Math.abs(h.end-i)<vg+g?!1:(this.log(`"${e.identifier}" resumption ${i} not aligned with ${l} fragment bounds (${h.start}-${h.end} sn: ${h.sn} cc: ${h.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let i=0,r=!1,o=!1;for(let l=0;l<e.assetList.length;l++){const c=e.assetList[l],f=t+i;c.startOffset=i,c.timelineStart=f,r||(r=c.duration===null),o||(o=!!c.error);const h=c.error?0:c.duration||0;i+=h}r&&!o?e.duration=Math.max(i,e.duration):e.duration=i}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function nl(n){return`[${n.event?'"'+n.event.identifier+'"':"primary"}: ${n.start.toFixed(2)}-${n.end.toFixed(2)}]`}class EV{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const i=e.assetListUrl;let r;try{r=o3(i,this.hls.sessionId,e.baseUrl)}catch(p){const y=this.assignAssetListError(e,Dt.ASSET_LIST_LOAD_ERROR,p,i);this.hls.trigger(Te.ERROR,y);return}t&&r.protocol!=="data:"&&r.searchParams.set("_HLS_start_offset",""+t);const o=this.hls.config,l=o.loader,c=new l(o),f={responseType:"json",url:r.href},h=o.interstitialAssetListLoadPolicy.default,g={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},m={onSuccess:(p,y,E,A)=>{const w=p.data,M=w?.ASSETS;if(!Array.isArray(M)){const x=this.assignAssetListError(e,Dt.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),E.url,y,A);this.hls.trigger(Te.ERROR,x);return}e.assetListResponse=w,this.hls.trigger(Te.ASSET_LIST_LOADED,{event:e,assetListResponse:w,networkDetails:A})},onError:(p,y,E,A)=>{const w=this.assignAssetListError(e,Dt.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${p.code} ${p.text} (${y.url})`),y.url,A,E);this.hls.trigger(Te.ERROR,w)},onTimeout:(p,y,E)=>{const A=this.assignAssetListError(e,Dt.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${y.url})`),y.url,p,E);this.hls.trigger(Te.ERROR,A)}};return c.load(f,g,m),this.hls.trigger(Te.ASSET_LIST_LOADING,{event:e}),c}assignAssetListError(e,t,i,r,o,l){return e.error=i,{type:ti.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:r,error:i,networkDetails:l,stats:o}}}function RM(n){var e;n==null||(e=n.play())==null||e.catch(()=>{})}function w0(n,e){return`[${n}] Advancing timeline position to ${e}`}class bV extends Oo{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled||!this.schedule)return;const r=i-this.timelinePos;if(Math.abs(r)<1/7056e5)return;const l=r<=-.01;this.timelinePos=i,this.bufferedPos=i;const c=this.playingItem;if(!c){this.checkBuffer();return}if(l&&this.schedule.resetErrorsInRange(i,i-r)&&this.updateSchedule(!0),this.checkBuffer(),l&&i<c.start||i>=c.end){var f;const y=this.findItemIndex(c);let E=this.schedule.findItemIndexAtTime(i);if(E===-1&&(E=y+(l?-1:1),this.log(`seeked ${l?"back ":""}to position not covered by schedule ${i} (resolving from ${y} to ${E})`)),!this.isInterstitial(c)&&(f=this.media)!=null&&f.paused&&(this.shouldPlay=!1),!l&&E>y){const A=this.schedule.findJumpRestrictedIndex(y+1,E);if(A>y){this.setSchedulePosition(A);return}}this.setSchedulePosition(E);return}const h=this.playingAsset;if(!h){if(this.playingLastItem&&this.isInterstitial(c)){const y=c.event.assetList[0];y&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(i,y))}return}const g=h.timelineStart,m=h.duration||0;if(l&&i<g||i>=g+m){var p;(p=c.event)!=null&&p.appendInPlace&&(this.clearAssetPlayers(c.event,c),this.flushFrontBuffer(i)),this.setScheduleToAssetAtTime(i,h)}},this.onTimeupdate=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled)return;if(i>this.timelinePos)this.timelinePos=i,i>this.bufferedPos&&this.checkBuffer();else return;const r=this.playingItem;if(!r||this.playingLastItem)return;if(i>=r.end){this.timelinePos=r.end;const c=this.findItemIndex(r);this.setSchedulePosition(c+1)}const o=this.playingAsset;if(!o)return;const l=o.timelineStart+(o.duration||0);i>=l&&this.setScheduleToAssetAtTime(i,o)},this.onScheduleUpdate=(i,r)=>{const o=this.schedule;if(!o)return;const l=this.playingItem,c=o.events||[],f=o.items||[],h=o.durations,g=i.map(A=>A.identifier),m=!!(c.length||g.length);(m||r)&&this.log(`INTERSTITIALS_UPDATED (${c.length}): ${c}
Schedule: ${f.map(A=>nl(A))} pos: ${this.timelinePos}`),g.length&&this.log(`Removed events ${g}`);let p=null,y=null;l&&(p=this.updateItem(l,this.timelinePos),this.itemsMatch(l,p)?this.playingItem=p:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const E=this.bufferingItem;if(E&&(y=this.updateItem(E,this.bufferedPos),this.itemsMatch(E,y)?this.bufferingItem=y:E.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(E.event,null))),i.forEach(A=>{A.assetList.forEach(w=>{this.clearAssetPlayer(w.identifier,null)})}),this.playerQueue.forEach(A=>{if(A.interstitial.appendInPlace){const w=A.assetItem.timelineStart,M=A.timelineOffset-w;if(M)try{A.timelineOffset=w}catch(x){Math.abs(M)>vg&&this.warn(`${x} ("${A.assetId}" ${A.timelineOffset}->${w})`)}}}),m||r){if(this.hls.trigger(Te.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:f.slice(0),durations:h,removedIds:g}),this.isInterstitial(l)&&g.includes(l.event.identifier)){this.warn(`Interstitial "${l.event.identifier}" removed while playing`),this.primaryFallback(l.event);return}l&&this.trimInPlace(p,l),E&&y!==p&&this.trimInPlace(y,E),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new EV(e),this.schedule=new yV(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Te.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Te.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(Te.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Te.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(Te.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(Te.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(Te.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Te.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Te.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(Te.MEDIA_ENDED,this.onMediaEnded,this),e.on(Te.ERROR,this.onError,this),e.on(Te.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Te.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Te.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(Te.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Te.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(Te.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(Te.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(Te.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Te.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Te.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Te.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(Te.MEDIA_ENDED,this.onMediaEnded,this),e.off(Te.ERROR,this.onError,this),e.off(Te.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Ms(e,"play",this.onPlay),Ms(e,"pause",this.onPause),Ms(e,"seeking",this.onSeeking),Ms(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const i=this.media=t.media;ys(i,"seeking",this.onSeeking),ys(i,"timeupdate",this.onTimeupdate),ys(i,"play",this.onPlay),ys(i,"pause",this.onPause)}onMediaAttached(e,t){const i=this.effectivePlayingItem,r=this.detachedData;if(this.detachedData=null,i===null)this.checkStart();else if(!r){this.clearScheduleState();const o=this.findItemIndex(i);this.setSchedulePosition(o)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const i=!!t.transferMedia,r=this.media;if(this.media=null,!i&&(r&&this.removeMediaListeners(r),this.detachedData)){const o=this.getBufferingPlayer();o&&(this.log(`Removing schedule state for detachedData and ${o}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,o.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,t=()=>e.bufferingItem||e.waitingItem,i=m=>m&&e.getAssetPlayer(m.identifier),r=(m,p,y,E,A)=>{if(m){let w=m[p].start;const M=m.event;if(M){if(p==="playout"||M.timelineOccupancy!==KT.Point){const x=i(y);x?.interstitial===M&&(w+=x.assetItem.startOffset+x[A])}}else{const x=E==="bufferedPos"?l():e[E];w+=x-m.start}return w}return 0},o=(m,p)=>{var y;if(m!==0&&p!=="primary"&&(y=e.schedule)!=null&&y.length){var E;const A=e.schedule.findItemIndexAtTime(m),w=(E=e.schedule.items)==null?void 0:E[A];if(w){const M=w[p].start-w.start;return m+M}}return m},l=()=>{const m=e.bufferedPos;return m===Number.MAX_VALUE?c("primary"):Math.max(m,0)},c=m=>{var p,y;return(p=e.primaryDetails)!=null&&p.live?e.primaryDetails.edge:((y=e.schedule)==null?void 0:y.durations[m])||0},f=(m,p)=>{var y,E;const A=e.effectivePlayingItem;if(A!=null&&(y=A.event)!=null&&y.restrictions.skip||!e.schedule)return;e.log(`seek to ${m} "${p}"`);const w=e.effectivePlayingItem,M=e.schedule.findItemIndexAtTime(m,p),x=(E=e.schedule.items)==null?void 0:E[M],C=e.getBufferingPlayer(),O=C?.interstitial,z=O?.appendInPlace,se=w&&e.itemsMatch(w,x);if(w&&(z||se)){const F=i(e.playingAsset),H=F?.media||e.primaryMedia;if(H){const be=p==="primary"?H.currentTime:r(w,p,e.playingAsset,"timelinePos","currentTime"),Ae=m-be,Me=(z?be:H.currentTime)+Ae;if(Me>=0&&(!F||z||Me<=F.duration)){H.currentTime=Me;return}}}if(x){let F=m;if(p!=="primary"){const be=x[p].start,Ae=m-be;F=x.start+Ae}const H=!e.isInterstitial(x);if((!e.isInterstitial(w)||w.event.appendInPlace)&&(H||x.event.appendInPlace)){const be=e.media||(z?C?.media:null);be&&(be.currentTime=F)}else if(w){const be=e.findItemIndex(w);if(M>be){const Me=e.schedule.findJumpRestrictedIndex(be+1,M);if(Me>be){e.setSchedulePosition(Me);return}}let Ae=0;if(H)e.timelinePos=F,e.checkBuffer();else{const Me=x.event.assetList,Ve=m-(x[p]||x).start;for(let Se=Me.length;Se--;){const He=Me[Se];if(He.duration&&Ve>=He.startOffset&&Ve<He.startOffset+He.duration){Ae=Se;break}}}e.setSchedulePosition(M,Ae)}}},h=()=>{const m=e.effectivePlayingItem;if(e.isInterstitial(m))return m;const p=t();return e.isInterstitial(p)?p:null},g={get bufferedEnd(){const m=t(),p=e.bufferingItem;if(p&&p===m){var y;return r(p,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-p.playout.start||((y=e.bufferingAsset)==null?void 0:y.startOffset)||0}return 0},get currentTime(){const m=h(),p=e.effectivePlayingItem;return p&&p===m?r(p,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-p.playout.start:0},set currentTime(m){const p=h(),y=e.effectivePlayingItem;y&&y===p&&f(m+y.playout.start,"playout")},get duration(){const m=h();return m?m.playout.end-m.playout.start:0},get assetPlayers(){var m;const p=(m=h())==null?void 0:m.event.assetList;return p?p.map(y=>e.getAssetPlayer(y.identifier)):[]},get playingIndex(){var m;const p=(m=h())==null?void 0:m.event;return p&&e.effectivePlayingAsset?p.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return h()}};return this.manager={get events(){var m;return((m=e.schedule)==null||(m=m.events)==null?void 0:m.slice(0))||[]},get schedule(){var m;return((m=e.schedule)==null||(m=m.items)==null?void 0:m.slice(0))||[]},get interstitialPlayer(){return h()?g:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const m=t();return e.findItemIndex(m)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const m=e.effectivePlayingItem;return e.findItemIndex(m)},primary:{get bufferedEnd(){return l()},get currentTime(){const m=e.timelinePos;return m>0?m:0},set currentTime(m){f(m,"primary")},get duration(){return c("primary")},get seekableStart(){var m;return((m=e.primaryDetails)==null?void 0:m.fragmentStart)||0}},integrated:{get bufferedEnd(){return r(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return r(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(m){f(m,"integrated")},get duration(){return c("integrated")},get seekableStart(){var m;return o(((m=e.primaryDetails)==null?void 0:m.fragmentStart)||0,"integrated")}},skip:()=>{const m=e.effectivePlayingItem,p=m?.event;if(p&&!p.restrictions.skip){const y=e.findItemIndex(m);if(p.appendInPlace){const E=m.playout.start+m.event.duration;f(E+.001,"playout")}else e.advanceAfterAssetEnded(p,y,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,i=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!i?!1:this.findItemIndex(t)===i.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t;if(this.mediaSelection===null)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let r=this.media;!r&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(r=this.primaryMedia);const o=(t=r)==null?void 0:t.currentTime;if(!(o===void 0||!Un(o)))return o}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const i=this.getAssetPlayer(e);i&&this.transferMediaFromPlayer(i,t)}transferMediaFromPlayer(e,t){const i=e.interstitial.appendInPlace,r=e.media;if(i&&r===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&r){this.detachedData={media:r};return}const o=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Aa(o)}`),this.detachedData=o}else t&&r&&(this.shouldPlay||(this.shouldPlay=!r.paused))}transferMediaTo(e,t){var i,r;if(e.media===t)return;let o=null;const l=this.hls,c=e!==l,f=c&&e.interstitial.appendInPlace,h=(i=this.detachedData)==null?void 0:i.mediaSource;let g;if(l.media)f&&(o=l.transferMedia(),this.detachedData=o),g="Primary";else if(h){const E=this.getBufferingPlayer();E?(o=E.transferMedia(),g=`${E}`):g="detached MediaSource"}else g="detached media";if(!o){if(h)o=this.detachedData,this.log(`using detachedData: MediaSource ${Aa(o)}`);else if(!this.detachedData||l.media===t){const E=this.playerQueue;E.length>1&&E.forEach(A=>{if(c&&A.interstitial.appendInPlace!==f){const w=A.interstitial;this.clearInterstitial(A.interstitial,null),w.appendInPlace=!1,w.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${w}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const m=o&&"mediaSource"in o&&((r=o.mediaSource)==null?void 0:r.readyState)!=="closed",p=m&&o?o:t;this.log(`${m?"transfering MediaSource":"attaching media"} to ${c?e:"Primary"} from ${g} (media.currentTime: ${t.currentTime})`);const y=this.schedule;if(p===o&&y){const E=c&&e.assetId===y.assetIdAtEnd;p.overrides={duration:y.duration,endOfStream:!c||E,cueRemoval:!c}}e.attachMedia(p)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e?.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const i=this.timelinePos,r=this.effectivePlayingItem;if(i===-1){const o=this.hls.startPosition;if(this.log(w0("checkStart",o)),this.timelinePos=o,t.length&&t[0].cue.pre){const l=e.findEventIndex(t[0].identifier);this.setSchedulePosition(l)}else if(o>=0||!this.primaryLive){const l=this.timelinePos=o>0?o:0,c=e.findItemIndexAtTime(l);this.setSchedulePosition(c)}}else if(r&&!this.playingItem){const o=e.findItemIndex(r);this.setSchedulePosition(o)}}advanceAssetBuffering(e,t){const i=e.event,r=i.findAssetIndex(t),o=Hw(i,r);if(!i.isAssetPastPlayoutLimit(o))this.bufferedToEvent(e,o);else if(this.schedule){var l;const c=(l=this.schedule.items)==null?void 0:l[this.findItemIndex(e)+1];c&&this.bufferedToItem(c)}}advanceAfterAssetEnded(e,t,i){const r=Hw(e,i);if(e.isAssetPastPlayoutLimit(r)){if(this.schedule){const o=this.schedule.items;if(o){const l=t+1,c=o.length;if(l>=c){this.setSchedulePosition(-1);return}const f=e.resumeTime;this.timelinePos<f&&(this.log(w0("advanceAfterAssetEnded",f)),this.timelinePos=f,e.appendInPlace&&this.advanceInPlace(f),this.checkBuffer(this.bufferedPos<f)),this.setSchedulePosition(l)}}}else{if(e.appendInPlace){const o=e.assetList[r];o&&this.advanceInPlace(o.timelineStart)}this.setSchedulePosition(t,r)}}setScheduleToAssetAtTime(e,t){const i=this.schedule;if(!i)return;const r=t.parentIdentifier,o=i.getEvent(r);if(o){const l=i.findEventIndex(r),c=i.findAssetIndex(o,e);this.advanceAfterAssetEnded(o,l,c-1)}}setSchedulePosition(e,t){var i;const r=(i=this.schedule)==null?void 0:i.items;if(!r||this.playbackDisabled)return;const o=e>=0?r[e]:null;this.log(`setSchedulePosition ${e}, ${t} (${o&&nl(o)}) pos: ${this.timelinePos}`);const l=this.waitingItem||this.playingItem,c=this.playingLastItem;if(this.isInterstitial(l)){const g=l.event,m=this.playingAsset,p=m?.identifier,y=p?this.getAssetPlayer(p):null;if(y&&p&&(!this.eventItemsMatch(l,o)||t!==void 0&&p!==g.assetList[t].identifier)){var f;const E=g.findAssetIndex(m);if(this.log(`INTERSTITIAL_ASSET_ENDED ${E+1}/${g.assetList.length} ${Om(m)}`),this.endedAsset=m,this.playingAsset=null,this.hls.trigger(Te.INTERSTITIAL_ASSET_ENDED,{asset:m,assetListIndex:E,event:g,schedule:r.slice(0),scheduleIndex:e,player:y}),l!==this.playingItem){this.itemsMatch(l,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(g,this.findItemIndex(this.playingItem),E);return}this.retreiveMediaSource(p,o),y.media&&!((f=this.detachedData)!=null&&f.mediaSource)&&y.detachMedia()}if(!this.eventItemsMatch(l,o)&&(this.endedItem=l,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${g} ${nl(l)}`),g.hasPlayed=!0,this.hls.trigger(Te.INTERSTITIAL_ENDED,{event:g,schedule:r.slice(0),scheduleIndex:e}),g.cue.once)){var h;this.updateSchedule();const E=(h=this.schedule)==null?void 0:h.items;if(o&&E){const A=this.findItemIndex(o);this.advanceSchedule(A,E,t,l,c)}return}}this.advanceSchedule(e,r,t,l,c)}advanceSchedule(e,t,i,r,o){const l=this.schedule;if(!l)return;const c=t[e]||null,f=this.primaryMedia,h=this.playerQueue;if(h.length&&h.forEach(g=>{const m=g.interstitial,p=l.findEventIndex(m.identifier);(p<e||p>e+1)&&this.clearInterstitial(m,c)}),this.isInterstitial(c)){this.timelinePos=Math.min(Math.max(this.timelinePos,c.start),c.end);const g=c.event;if(i===void 0){i=l.findAssetIndex(g,this.timelinePos);const E=Hw(g,i-1);if(g.isAssetPastPlayoutLimit(E)||g.appendInPlace&&this.timelinePos===c.end){this.advanceAfterAssetEnded(g,e,i);return}i=E}const m=this.waitingItem;this.assetsBuffered(c,f)||this.setBufferingItem(c);let p=this.preloadAssets(g,i);if(this.eventItemsMatch(c,m||r)||(this.waitingItem=c,this.log(`INTERSTITIAL_STARTED ${nl(c)} ${g.appendInPlace?"append in place":""}`),this.hls.trigger(Te.INTERSTITIAL_STARTED,{event:g,schedule:t.slice(0),scheduleIndex:e})),!g.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${g}`);return}if(g.assetListLoader&&(g.assetListLoader.destroy(),g.assetListLoader=void 0),!f){this.log(`Waiting for attachMedia to start Interstitial ${g}`);return}this.waitingItem=this.endedItem=null,this.playingItem=c;const y=g.assetList[i];if(!y){this.advanceAfterAssetEnded(g,e,i||0);return}if(p||(p=this.getAssetPlayer(y.identifier)),p===null||p.destroyed){const E=g.assetList.length;this.warn(`asset ${i+1}/${E} player destroyed ${g}`),p=this.createAssetPlayer(g,y,i),p.loadSource()}if(!this.eventItemsMatch(c,this.bufferingItem)&&g.appendInPlace&&this.isAssetBuffered(y))return;this.startAssetPlayer(p,i,t,e,f),this.shouldPlay&&RM(p.media)}else c?(this.resumePrimary(c,e,r),this.shouldPlay&&RM(this.hls.media)):o&&this.isInterstitial(r)&&(this.endedItem=null,this.playingItem=r,r.event.appendInPlace||this.attachPrimary(l.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,i){var r,o;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${nl(e)}`),!((r=this.detachedData)!=null&&r.mediaSource)){let c=this.timelinePos;(c<e.start||c>=e.end)&&(c=this.getPrimaryResumption(e,t),this.log(w0("resumePrimary",c)),this.timelinePos=c),this.attachPrimary(c,e)}if(!i)return;const l=(o=this.schedule)==null?void 0:o.items;l&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${nl(e)}`),this.hls.trigger(Te.INTERSTITIALS_PRIMARY_RESUMED,{schedule:l.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const i=e.start;if(this.primaryLive){const r=this.primaryDetails;if(t===0)return this.hls.startPosition;if(r&&(i<r.fragmentStart||i>r.edge))return this.hls.liveSyncPosition||-1}return i}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:_i.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,i){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const r=this.primaryMedia;if(!r)return;const o=this.hls;o.media?this.checkBuffer():(this.transferMediaTo(o,r),i&&this.startLoadingPrimaryAt(e,i)),i||(this.log(w0("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,i))}startLoadingPrimaryAt(e,t){var i;const r=this.hls;!r.loadingEnabled||!r.media||Math.abs((((i=r.mainForwardBufferInfo)==null?void 0:i.start)||r.media.currentTime)-e)>.5?r.startLoad(e,t):r.bufferingEnabled||r.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Te.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Te.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1||!this.schedule)return;const i=this.hls.levels[t.level];if(!i.details)return;const r=ma(ma({},this.mediaSelection||this.altSelection),{},{main:i});this.mediaSelection=r,this.schedule.parseInterstitialDateRanges(r,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const i=this.hls.audioTracks[t.id],r=this.mediaSelection;if(!r){this.altSelection=ma(ma({},this.altSelection),{},{audio:i});return}const o=ma(ma({},r),{},{audio:i});this.mediaSelection=o}onSubtitleTrackUpdated(e,t){const i=this.hls.subtitleTracks[t.id],r=this.mediaSelection;if(!r){this.altSelection=ma(ma({},this.altSelection),{},{subtitles:i});return}const o=ma(ma({},r),{},{subtitles:i});this.mediaSelection=o}onAudioTrackSwitching(e,t){const i=OL(t);this.playerQueue.forEach(({hls:r})=>r&&(r.setAudioOption(t)||r.setAudioOption(i)))}onSubtitleTrackSwitch(e,t){const i=OL(t);this.playerQueue.forEach(({hls:r})=>r&&(r.setSubtitleOption(t)||t.id!==-1&&r.setSubtitleOption(i)))}onBufferCodecs(e,t){const i=t.tracks;i&&(this.requiredTracks=i)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const i=this.playingItem;if(i&&!this.itemsMatch(i,this.bufferingItem)&&!this.isInterstitial(i)){const r=this.timelinePos;this.bufferedPos=r,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let r=0;r<t.length;r++){const o=t[r];if(o.cue.post){var i;const l=this.schedule.findEventIndex(o.identifier),c=(i=this.schedule.items)==null?void 0:i[l];this.isInterstitial(c)&&this.eventItemsMatch(c,this.bufferingItem)&&this.bufferedToItem(c,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const i=this.findItemIndex(t);this.setSchedulePosition(i+1)}else this.shouldPlay=!1}updateItem(e,t){var i;const r=(i=this.schedule)==null?void 0:i.items;if(e&&r){const o=this.findItemIndex(e,t);return r[o]||null}return null}trimInPlace(e,t){if(this.isInterstitial(e)&&e.event.appendInPlace&&t.end-e.end>.25){e.event.assetList.forEach((o,l)=>{e.event.isAssetPastPlayoutLimit(l)&&this.clearAssetPlayer(o.identifier,null)});const i=e.end+.25,r=_i.bufferInfo(this.primaryMedia,i,0);(r.end>i||(r.nextStart||0)>i)&&(this.log(`trim buffered interstitial ${nl(e)} (was ${nl(t)})`),this.attachPrimary(i,null,!0),this.flushFrontBuffer(i))}}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var i;return!!t&&(e===t||e.event.identifier===((i=t.event)==null?void 0:i.identifier))}findItemIndex(e,t){return e&&this.schedule?this.schedule.findItemIndex(e,t):-1}updateSchedule(e=!1){var t;const i=this.mediaSelection;i&&((t=this.schedule)==null||t.updateSchedule(i,[],e))}checkBuffer(e){var t;const i=(t=this.schedule)==null?void 0:t.items;if(!i)return;const r=_i.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=r.len<1),this.updateBufferedPos(r.end,i,e)}updateBufferedPos(e,t,i){const r=this.schedule,o=this.bufferingItem;if(this.bufferedPos>e||!r)return;if(t.length===1&&this.itemsMatch(t[0],o)){this.bufferedPos=e;return}const l=this.playingItem,c=this.findItemIndex(l);let f=r.findItemIndexAtTime(e);if(this.bufferedPos<e){var h;const g=this.findItemIndex(o),m=Math.min(g+1,t.length-1),p=t[m];if((f===-1&&o&&e>=o.end||(h=p.event)!=null&&h.appendInPlace&&e+.01>=p.start)&&(f=m),this.isInterstitial(o)){const y=o.event;if(m-c>1&&y.appendInPlace===!1||y.assetList.length===0&&y.assetListLoader)return}if(this.bufferedPos=e,f>g&&f>c)this.bufferedToItem(p);else{const y=this.primaryDetails;this.primaryLive&&y&&e>y.edge-y.targetduration&&p.start<y.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(p)&&this.preloadAssets(p.event,0)}}else i&&l&&!this.itemsMatch(l,o)&&(f===c?this.bufferedToItem(l):f===c+1&&this.bufferedToItem(t[f]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(r=>{const o=this.getAssetPlayer(r.identifier);return!(o!=null&&o.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,i=this.schedule;if(!this.itemsMatch(e,t)&&i){const{items:r,events:o}=i;if(!r||!o)return t;const l=this.isInterstitial(e),c=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const f=c?c.remaining:t?t.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${nl(e)}`+(t?` (${f.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(l){const h=i.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((g,m)=>{const p=this.getAssetPlayer(g.identifier);p&&(m===h&&p.loadSource(),p.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(h=>h.pauseBuffering());this.hls.trigger(Te.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:o.slice(0),schedule:r.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return t}bufferedToItem(e,t=0){const i=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(i!==null){this.bufferingAsset=null;const r=this.detachedData;r?r.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),i=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(i)}bufferedToEvent(e,t){const i=e.event,r=i.assetList.length===0&&!i.assetListLoader,o=i.cue.once;if(r||!o){const l=this.preloadAssets(i,t);if(l!=null&&l.interstitial.appendInPlace){const c=this.primaryMedia;c&&this.bufferAssetPlayer(l,c)}}}preloadAssets(e,t){const i=e.assetUrl,r=e.assetList.length,o=r===0&&!e.assetListLoader,l=e.cue.once;if(o){const f=e.timelineStart;if(e.appendInPlace){var c;const p=this.playingItem;!this.isInterstitial(p)&&(p==null||(c=p.nextEvent)==null?void 0:c.identifier)===e.identifier&&this.flushFrontBuffer(f+.25)}let h,g=0;if(!this.playingItem&&this.primaryLive&&(g=this.hls.startPosition,g===-1&&(g=this.hls.liveSyncPosition||0)),g&&!(e.cue.pre||e.cue.post)){const p=g-f;p>0&&(h=Math.round(p*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${i?1:r} ${e}${h?` live-start: ${g} start-offset: ${h}`:""}`),i)return this.createAsset(e,0,0,f,e.duration,i);const m=this.assetListLoader.loadAssetList(e,h);m&&(e.assetListLoader=m)}else if(!l&&r){for(let h=t;h<r;h++){const g=e.assetList[h],m=this.getAssetPlayerQueueIndex(g.identifier);(m===-1||this.playerQueue[m].destroyed)&&!g.error&&this.createAssetPlayer(e,g,h)}const f=e.assetList[t];if(f){const h=this.getAssetPlayer(f.identifier);return h&&h.loadSource(),h}}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(r=>{this.hls.trigger(Te.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:r})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let i=0;i<t.length;i++)if(e===t[i].assetId)return i;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let i=0;i<e.length;i++)if(e[i].media===t)return e[i]}return null}createAsset(e,t,i,r,o,l){const c={parentIdentifier:e.identifier,identifier:mV(e,l,t),duration:o,startOffset:i,timelineStart:r,uri:l};return this.createAssetPlayer(e,c,t)}createAssetPlayer(e,t,i){const r=this.hls,o=r.userConfig;let l=o.videoPreference;const c=r.loadLevelObj||r.levels[r.currentLevel];(l||c)&&(l=ba({},l),c.videoCodec&&(l.videoCodec=c.videoCodec),c.videoRange&&(l.allowedVideoRanges=[c.videoRange]));const f=r.audioTracks[r.audioTrack],h=r.subtitleTracks[r.subtitleTrack];let g=0;if(this.primaryLive||e.appendInPlace){const O=this.timelinePos-t.timelineStart;if(O>1){const z=t.duration;z&&O<z&&(g=O)}}const m=t.identifier,p=ma(ma({},o),{},{maxMaxBufferLength:Math.min(180,r.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:r.sessionId,assetPlayerId:m,abrEwmaDefaultEstimate:r.bandwidthEstimate,interstitialsController:void 0,startPosition:g,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:l,audioPreference:f||o.audioPreference,subtitlePreference:h||o.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(p.timelineOffset=t.timelineStart));const y=p.cmcd;y!=null&&y.sessionId&&y.contentId&&(p.cmcd=ba({},y,{contentId:Ey(t.uri)})),this.getAssetPlayer(m)&&this.warn(`Duplicate date range identifier ${e} and asset ${m}`);const E=new vV(this.HlsPlayerClass,p,e,t);this.playerQueue.push(E),e.assetList[i]=t;let A=!0;const w=O=>{if(O.live){var z;const H=new Error(`Interstitials MUST be VOD assets ${e}`),be={fatal:!0,type:ti.OTHER_ERROR,details:Dt.INTERSTITIAL_ASSET_ITEM_ERROR,error:H},Ae=((z=this.schedule)==null?void 0:z.findEventIndex(e.identifier))||-1;this.handleAssetItemError(be,e,Ae,i,H.message);return}const se=O.edge-O.fragmentStart,F=t.duration;(A||F===null||se>F)&&(A=!1,this.log(`Interstitial asset "${m}" duration change ${F} > ${se}`),t.duration=se,this.updateSchedule())};E.on(Te.LEVEL_UPDATED,(O,{details:z})=>w(z)),E.on(Te.LEVEL_PTS_UPDATED,(O,{details:z})=>w(z)),E.on(Te.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const M=(O,z)=>{const se=this.getAssetPlayer(m);if(se&&z.tracks){se.off(Te.BUFFER_CODECS,M),se.tracks=z.tracks;const F=this.primaryMedia;this.bufferingAsset===se.assetItem&&F&&!se.media&&this.bufferAssetPlayer(se,F)}};E.on(Te.BUFFER_CODECS,M);const x=()=>{var O;const z=this.getAssetPlayer(m);if(this.log(`buffered to end of asset ${z}`),!z||!this.schedule)return;const se=this.schedule.findEventIndex(e.identifier),F=(O=this.schedule.items)==null?void 0:O[se];this.isInterstitial(F)&&this.advanceAssetBuffering(F,t)};E.on(Te.BUFFERED_TO_END,x);const C=O=>()=>{if(!this.getAssetPlayer(m)||!this.schedule)return;this.shouldPlay=!0;const se=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,se,O)};return E.once(Te.MEDIA_ENDED,C(i)),E.once(Te.PLAYOUT_LIMIT_REACHED,C(1/0)),E.on(Te.ERROR,(O,z)=>{if(!this.schedule)return;const se=this.getAssetPlayer(m);if(z.details===Dt.BUFFER_STALLED_ERROR){if(se!=null&&se.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(z,e,this.schedule.findEventIndex(e.identifier),i,`Asset player error ${z.error} ${e}`)}),E.on(Te.DESTROYING,()=>{if(!this.getAssetPlayer(m)||!this.schedule)return;const z=new Error(`Asset player destroyed unexpectedly ${m}`),se={fatal:!0,type:ti.OTHER_ERROR,details:Dt.INTERSTITIAL_ASSET_ITEM_ERROR,error:z};this.handleAssetItemError(se,e,this.schedule.findEventIndex(e.identifier),i,z.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${Om(t)}`),this.hls.trigger(Te.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:i,event:e,player:E}),E}clearInterstitial(e,t){this.clearAssetPlayers(e,t),e.reset()}clearAssetPlayers(e,t){e.assetList.forEach(i=>{this.clearAssetPlayer(i.identifier,t)})}resetAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);if(t!==-1){this.log(`reset asset player "${e}" after error`);const i=this.playerQueue[t];this.transferMediaFromPlayer(i,null),i.resetDetails()}}clearAssetPlayer(e,t){const i=this.getAssetPlayerQueueIndex(e);if(i!==-1){const r=this.playerQueue[i];this.log(`clear ${r} toSegment: ${t&&nl(t)}`),this.transferMediaFromPlayer(r,t),this.playerQueue.splice(i,1),r.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,i,r,o){const{interstitial:l,assetItem:c,assetId:f}=e,h=l.assetList.length,g=this.playingAsset;this.endedAsset=null,this.playingAsset=c,(!g||g.identifier!==f)&&(g&&(this.clearAssetPlayer(g.identifier,i[r]),delete g.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${h} ${Om(c)}`),this.hls.trigger(Te.INTERSTITIAL_ASSET_STARTED,{asset:c,assetListIndex:t,event:l,schedule:i.slice(0),scheduleIndex:r,player:e})),this.bufferAssetPlayer(e,o)}bufferAssetPlayer(e,t){var i,r;if(!this.schedule)return;const{interstitial:o,assetItem:l}=e,c=this.schedule.findEventIndex(o.identifier),f=(i=this.schedule.items)==null?void 0:i[c];if(!f)return;e.loadSource(),this.setBufferingItem(f),this.bufferingAsset=l;const h=this.getBufferingPlayer();if(h===e)return;const g=o.appendInPlace;if(g&&h?.interstitial.appendInPlace===!1)return;const m=h?.tracks||((r=this.detachedData)==null?void 0:r.tracks)||this.requiredTracks;if(g&&l!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(m&&!j2(m,e.tracks)){const p=new Error(`Asset ${Om(l)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(m)}')`),y={fatal:!0,type:ti.OTHER_ERROR,details:Dt.INTERSTITIAL_ASSET_ITEM_ERROR,error:p},E=o.findAssetIndex(l);this.handleAssetItemError(y,o,c,E,p.message);return}}this.transferMediaTo(e,t)}handleInPlaceStall(e){const t=this.schedule,i=this.primaryMedia;if(!t||!i)return;const r=i.currentTime,o=t.findAssetIndex(e,r),l=e.assetList[o];if(l){const c=this.getAssetPlayer(l.identifier);if(c){const f=c.currentTime||r-l.timelineStart,h=c.duration-f;if(this.warn(`Stalled at ${f} of ${f+h} in ${c} ${e} (media.currentTime: ${r})`),f&&(h/i.playbackRate<.5||c.bufferedInPlaceToEnd(i))&&c.hls){const g=t.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,g,o)}}}}advanceInPlace(e){const t=this.primaryMedia;t&&t.currentTime<e&&(t.currentTime=e)}handleAssetItemError(e,t,i,r,o){if(e.details===Dt.BUFFER_STALLED_ERROR)return;const l=t.assetList[r]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${l&&Om(l)} ${e.error}`),!this.schedule)return;const c=l?.identifier||"",f=this.getAssetPlayerQueueIndex(c),h=this.playerQueue[f]||null,g=this.schedule.items,m=ba({},e,{fatal:!1,errorAction:mg(!0),asset:l,assetListIndex:r,event:t,schedule:g,scheduleIndex:i,player:h});if(this.hls.trigger(Te.INTERSTITIAL_ASSET_ERROR,m),!e.fatal)return;const p=this.playingAsset,y=this.bufferingAsset,E=new Error(o);if(l&&(this.clearAssetPlayer(c,null),l.error=E),!t.assetList.some(A=>!A.error))t.error=E;else for(let A=r;A<t.assetList.length;A++)this.resetAssetPlayer(t.assetList[A].identifier);this.updateSchedule(!0),t.error?this.primaryFallback(t):p&&p.identifier===c?this.advanceAfterAssetEnded(t,i,r):y&&y.identifier===c&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,y)}primaryFallback(e){const t=e.timelineStart,i=this.effectivePlayingItem;let r=this.timelinePos;if(i){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${r} playing: ${nl(i)} error: ${e.error}`),r===-1&&(r=this.hls.startPosition);const l=this.updateItem(i,r);this.itemsMatch(i,l)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t))}else if(r===-1){this.checkStart();return}if(!this.schedule)return;const o=this.schedule.findItemIndexAtTime(r);this.setSchedulePosition(o)}onAssetListLoaded(e,t){var i,r;const o=t.event,l=o.identifier,c=t.assetListResponse.ASSETS;if(!((i=this.schedule)!=null&&i.hasEvent(l)))return;const f=o.timelineStart,h=o.duration;let g=0;c.forEach((A,w)=>{const M=parseFloat(A.DURATION);this.createAsset(o,w,g,f+g,M,A.URI),g+=M}),o.duration=g,this.log(`Loaded asset-list with duration: ${g} (was: ${h}) ${o}`);const m=this.waitingItem,p=m?.event.identifier===l;this.updateSchedule();const y=(r=this.bufferingItem)==null?void 0:r.event;if(p){var E;const A=this.schedule.findEventIndex(l),w=(E=this.schedule.items)==null?void 0:E[A];if(w){if(!this.playingItem&&this.timelinePos>w.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==A){o.error=new Error(`Interstitial ${c.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${o}`),this.log(o.error.message),this.updateSchedule(!0),this.primaryFallback(o);return}this.setBufferingItem(w)}this.setSchedulePosition(A)}else if(y?.identifier===l){const A=o.assetList[0];if(A){const w=this.getAssetPlayer(A.identifier);if(y.appendInPlace){const M=this.primaryMedia;w&&M&&this.bufferAssetPlayer(w,M)}else w&&w.loadSource()}}}onError(e,t){if(this.schedule)switch(t.details){case Dt.ASSET_LIST_PARSING_ERROR:case Dt.ASSET_LIST_LOAD_ERROR:case Dt.ASSET_LIST_LOAD_TIMEOUT:{const i=t.interstitial;i&&(this.updateSchedule(!0),this.primaryFallback(i));break}case Dt.BUFFER_STALLED_ERROR:{const i=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&i.event.appendInPlace){this.handleInPlaceStall(i.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const IM=500;class _V extends xk{constructor(e,t,i){super(e,t,i,"subtitle-stream-controller",Gn.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Te.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Te.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Te.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Te.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Te.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Te.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Te.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Te.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Te.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Te.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=on.IDLE,this.setInterval(IM),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:i,success:r}=t;if(this.fragContextChanged(i)||(rr(i)&&(this.fragPrevious=i),this.state=on.IDLE),!r)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let l;const c=i.start;for(let h=0;h<o.length;h++)if(c>=o[h].start&&c<=o[h].end){l=o[h];break}const f=i.start+i.duration;l?l.end=f:(l={start:c,end:f},o.push(l)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:i,endOffset:r}=t;if(i===0&&r!==Number.POSITIVE_INFINITY){const o=r-1;if(o<=0)return;t.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach(l=>{for(let c=0;c<l.length;){if(l[c].end<=o){l.shift();continue}else if(l[c].start<o)l[c].start=o;else break;c++}}),this.fragmentTracker.removeFragmentsInRange(i,o,Gn.SUBTITLE)}}onError(e,t){const i=t.frag;i?.type===Gn.SUBTITLE&&(t.details===Dt.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==on.STOPPED&&(this.state=on.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&VU(this.levels,t)){this.levels=t.map(i=>new Py(i));return}this.tracksBuffered=[],this.levels=t.map(i=>{const r=new Py(i);return this.tracksBuffered[r.id]=[],r}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Gn.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var i;if(this.currentTrackId=t.id,!((i=this.levels)!=null&&i.length)||this.currentTrackId===-1){this.clearInterval();return}const r=this.levels[this.currentTrackId];r!=null&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.state!==on.STOPPED&&this.setInterval(IM)}onSubtitleTrackLoaded(e,t){var i;const{currentTrackId:r,levels:o}=this,{details:l,id:c}=t;if(!o){this.warn(`Subtitle tracks were reset while loading level ${c}`);return}const f=o[c];if(c>=o.length||!f)return;this.log(`Subtitle track ${c} loaded [${l.startSN},${l.endSN}]${l.lastPartSn?`[part-${l.lastPartSn}-${l.lastPartIndex}]`:""},duration:${l.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let h=0;if(l.live||(i=f.details)!=null&&i.live){if(l.deltaUpdateFailed)return;const m=this.mainDetails;if(!m){this.startFragRequested=!1;return}const p=m.fragments[0];if(!f.details)l.hasProgramDateTime&&m.hasProgramDateTime?(GT(l,m),h=l.fragmentStart):p&&(h=p.start,TR(l,h));else{var g;h=this.alignPlaylists(l,f.details,(g=this.levelLastLoaded)==null?void 0:g.details),h===0&&p&&(h=p.start,TR(l,h))}m&&!this.startFragRequested&&this.setStartPosition(m,h)}f.details=l,this.levelLastLoaded=f,c===r&&(this.hls.trigger(Te.SUBTITLE_TRACK_UPDATED,{details:l,id:c,groupId:t.groupId}),this.tick(),l.live&&!this.fragCurrent&&this.media&&this.state===on.IDLE&&(lh(null,l.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),f.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:i}=e,r=t.decryptdata,o=this.hls;if(!this.fragContextChanged(t)&&i&&i.byteLength>0&&r!=null&&r.key&&r.iv&&gg(r.method)){const l=performance.now();this.decrypter.decrypt(new Uint8Array(i),r.key.buffer,r.iv.buffer,Ik(r.method)).catch(c=>{throw o.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:t}),c}).then(c=>{const f=performance.now();o.trigger(Te.FRAG_DECRYPTED,{frag:t,payload:c,stats:{tstart:l,tdecrypt:f}})}).catch(c=>{this.warn(`${c.name}: ${c.message}`),this.state=on.IDLE})}}doTick(){if(!this.media){this.state=on.IDLE;return}if(this.state===on.IDLE){const{currentTrackId:e,levels:t}=this,i=t?.[e];if(!i||!t.length||!i.details||this.waitForLive(i))return;const{config:r}=this,o=this.getLoadPosition(),l=_i.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o,r.maxBufferHole),{end:c,len:f}=l,h=i.details,g=this.hls.maxBufferLength+h.levelTargetDuration;if(f>g)return;const m=h.fragments,p=m.length,y=h.edge;let E=null;const A=this.fragPrevious;if(c<y){const x=r.maxFragLookUpTolerance,C=c>y-x?0:x;E=lh(A,m,Math.max(m[0].start,c),C),!E&&A&&A.start<m[0].start&&(E=m[0])}else E=m[p-1];if(E=this.filterReplacedPrimary(E,i.details),!E)return;const w=E.sn-h.startSN,M=m[w-1];if(M&&M.cc===E.cc&&this.fragmentTracker.getState(M)===Rr.NOT_LOADED&&(E=M),this.fragmentTracker.getState(E)===Rr.NOT_LOADED){const x=this.mapToInitFragWhenRequired(E);x&&this.loadFragment(x,i,c)}}}loadFragment(e,t,i){rr(e)?super.loadFragment(e,t,i):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new TV(this.tracksBuffered[this.currentTrackId]||[])}}class TV{constructor(e){this.buffered=void 0;const t=(i,r,o)=>{if(r=r>>>0,r>o-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${r}) is greater than the maximum bound (${o})`);return e[r][i]};this.buffered={get length(){return e.length},end(i){return t("end",i,e.length)},start(i){return t("start",i,e.length)}}}}const SV={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},l3=n=>String.fromCharCode(SV[n]||n),ll=15,Vu=100,AV={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},wV={17:2,18:4,21:6,22:8,23:10,19:13,20:15},RV={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},IV={25:2,26:4,29:6,30:8,31:10,27:13,28:15},kV=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class xV{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const i=typeof t=="function"?t():t;ga.log(`${this.time} [${e}] ${i}`)}}}const Sf=function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].toString(16));return t};class u3{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let i=0;i<t.length;i++){const r=t[i];e.hasOwnProperty(r)&&(this[r]=e[r])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class CV{constructor(){this.uchar=" ",this.penState=new u3}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class DV{constructor(e){this.chars=[],this.pos=0,this.currPenState=new u3,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Vu;t++)this.chars.push(new CV);this.logger=e}equals(e){for(let t=0;t<Vu;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Vu;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Vu;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Vu&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Vu)}moveCursor(e){const t=this.pos+e;if(e>1)for(let i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=l3(e);if(this.pos>=Vu){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Vu;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let i=0;i<Vu;i++){const r=this.chars[i].uchar;r!==" "&&(t=!1),e.push(r)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Gw{constructor(e){this.rows=[],this.currRow=ll-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<ll;t++)this.rows.push(new DV(e));this.logger=e}reset(){for(let e=0;e<ll;e++)this.rows[e].clear();this.currRow=ll-1}equals(e){let t=!0;for(let i=0;i<ll;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t}copy(e){for(let t=0;t<ll;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<ll;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Aa(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let c=0;c<ll;c++)this.rows[c].clear();const o=this.currRow+1-this.nrRollUpRows,l=this.lastOutputScreen;if(l){const c=l.rows[o].cueStartTime,f=this.logger.time;if(c!==null&&f!==null&&c<f)for(let h=0;h<this.nrRollUpRows;h++)this.rows[t-this.nrRollUpRows+h+1].copy(l.rows[o+h])}}this.currRow=t;const i=this.rows[this.currRow];if(e.indent!==null){const o=e.indent,l=Math.max(o-1,0);i.setCursor(e.indent),e.color=i.chars[l].penState.foreground}const r={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Aa(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let i="",r=-1;for(let o=0;o<ll;o++){const l=this.rows[o].getTextString();l&&(r=o+1,e?t.push("Row "+r+": '"+l+"'"):t.push(l.trim()))}return t.length>0&&(e?i="["+t.join(" | ")+"]":i=t.join(`
`)),i}getTextAndFormat(){return this.rows}}class kM{constructor(e,t,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Gw(i),this.nonDisplayedMemory=new Gw(i),this.lastOutputScreen=new Gw(i),this.currRollUpRow=this.displayedMemory.rows[ll-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[ll-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const i=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[i]}this.logger.log(2,"MIDROW: "+Aa(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class xM{constructor(e,t,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=MV(),this.logger=void 0;const r=this.logger=new xV;this.channels=[null,new kM(e,t,r),new kM(e+1,i,r)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let i=0;i<t.length;i+=2){const r=t[i]&127,o=t[i+1]&127;let l=!1,c=null;if(r===0&&o===0)continue;this.logger.log(3,()=>"["+Sf([t[i],t[i+1]])+"] -> ("+Sf([r,o])+")");const f=this.cmdHistory;if(r>=16&&r<=31){if(LV(r,o,f)){R0(null,null,f),this.logger.log(3,()=>"Repeated command ("+Sf([r,o])+") is dropped");continue}R0(r,o,this.cmdHistory),l=this.parseCmd(r,o),l||(l=this.parseMidrow(r,o)),l||(l=this.parsePAC(r,o)),l||(l=this.parseBackgroundAttributes(r,o))}else R0(null,null,f);if(!l&&(c=this.parseChars(r,o),c)){const g=this.currentChannel;g&&g>0?this.channels[g].insertChars(c):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!l&&!c&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Sf([r,o])+" orig: "+Sf([t[i],t[i+1]]))}}parseCmd(e,t){const i=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,r=(e===23||e===31)&&t>=33&&t<=35;if(!(i||r))return!1;const o=e===20||e===21||e===23?1:2,l=this.channels[o];return e===20||e===21||e===28||e===29?t===32?l.ccRCL():t===33?l.ccBS():t===34?l.ccAOF():t===35?l.ccAON():t===36?l.ccDER():t===37?l.ccRU(2):t===38?l.ccRU(3):t===39?l.ccRU(4):t===40?l.ccFON():t===41?l.ccRDC():t===42?l.ccTR():t===43?l.ccRTD():t===44?l.ccEDM():t===45?l.ccCR():t===46?l.ccENM():t===47&&l.ccEOC():l.ccTO(t-32),this.currentChannel=o,!0}parseMidrow(e,t){let i=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?i=1:i=2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[i];return r?(r.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+Sf([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let i;const r=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,o=(e===16||e===24)&&t>=64&&t<=95;if(!(r||o))return!1;const l=e<=23?1:2;t>=64&&t<=95?i=l===1?AV[e]:RV[e]:i=l===1?wV[e]:IV[e];const c=this.channels[l];return c?(c.setPAC(this.interpretPAC(i,t)),this.currentChannel=l,!0):!1}interpretPAC(e,t){let i;const r={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?i=t-96:i=t-64,r.underline=(i&1)===1,i<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(r.italics=!0,r.color="white"):r.indent=Math.floor((i-16)/2)*4,r}parseChars(e,t){let i,r=null,o=null;if(e>=25?(i=2,o=e-8):(i=1,o=e),o>=17&&o<=19){let l;o===17?l=t+80:o===18?l=t+112:l=t+144,this.logger.log(2,()=>"Special char '"+l3(l)+"' in channel "+i),r=[l]}else e>=32&&e<=127&&(r=t===0?[e]:[e,t]);return r&&this.logger.log(3,()=>"Char codes =  "+Sf(r).join(",")),r}parseBackgroundAttributes(e,t){const i=(e===16||e===24)&&t>=32&&t<=47,r=(e===23||e===31)&&t>=45&&t<=47;if(!(i||r))return!1;let o;const l={};e===16||e===24?(o=Math.floor((t-32)/2),l.background=kV[o],t%2===1&&(l.background=l.background+"_semi")):t===45?l.background="transparent":(l.foreground="black",t===47&&(l.underline=!0));const c=e<=23?1:2;return this.channels[c].setBkgData(l),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}R0(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const i=this.channels[t];i&&i.cueSplitAtTime(e)}}}function R0(n,e,t){t.a=n,t.b=e}function LV(n,e,t){return t.a===n&&t.b===e}function MV(){return{a:null,b:null}}var $k=(function(){if(HT!=null&&HT.VTTCue)return self.VTTCue;const n=["","lr","rl"],e=["start","middle","end","left","right"];function t(c,f){if(typeof f!="string"||!Array.isArray(c))return!1;const h=f.toLowerCase();return~c.indexOf(h)?h:!1}function i(c){return t(n,c)}function r(c){return t(e,c)}function o(c,...f){let h=1;for(;h<arguments.length;h++){const g=arguments[h];for(const m in g)c[m]=g[m]}return c}function l(c,f,h){const g=this,m={enumerable:!0};g.hasBeenReset=!1;let p="",y=!1,E=c,A=f,w=h,M=null,x="",C=!0,O="auto",z="start",se=50,F="middle",H=50,be="middle";Object.defineProperty(g,"id",o({},m,{get:function(){return p},set:function(Ae){p=""+Ae}})),Object.defineProperty(g,"pauseOnExit",o({},m,{get:function(){return y},set:function(Ae){y=!!Ae}})),Object.defineProperty(g,"startTime",o({},m,{get:function(){return E},set:function(Ae){if(typeof Ae!="number")throw new TypeError("Start time must be set to a number.");E=Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"endTime",o({},m,{get:function(){return A},set:function(Ae){if(typeof Ae!="number")throw new TypeError("End time must be set to a number.");A=Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"text",o({},m,{get:function(){return w},set:function(Ae){w=""+Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"region",o({},m,{get:function(){return M},set:function(Ae){M=Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"vertical",o({},m,{get:function(){return x},set:function(Ae){const Me=i(Ae);if(Me===!1)throw new SyntaxError("An invalid or illegal string was specified.");x=Me,this.hasBeenReset=!0}})),Object.defineProperty(g,"snapToLines",o({},m,{get:function(){return C},set:function(Ae){C=!!Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"line",o({},m,{get:function(){return O},set:function(Ae){if(typeof Ae!="number"&&Ae!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");O=Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"lineAlign",o({},m,{get:function(){return z},set:function(Ae){const Me=r(Ae);if(!Me)throw new SyntaxError("An invalid or illegal string was specified.");z=Me,this.hasBeenReset=!0}})),Object.defineProperty(g,"position",o({},m,{get:function(){return se},set:function(Ae){if(Ae<0||Ae>100)throw new Error("Position must be between 0 and 100.");se=Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"positionAlign",o({},m,{get:function(){return F},set:function(Ae){const Me=r(Ae);if(!Me)throw new SyntaxError("An invalid or illegal string was specified.");F=Me,this.hasBeenReset=!0}})),Object.defineProperty(g,"size",o({},m,{get:function(){return H},set:function(Ae){if(Ae<0||Ae>100)throw new Error("Size must be between 0 and 100.");H=Ae,this.hasBeenReset=!0}})),Object.defineProperty(g,"align",o({},m,{get:function(){return be},set:function(Ae){const Me=r(Ae);if(!Me)throw new SyntaxError("An invalid or illegal string was specified.");be=Me,this.hasBeenReset=!0}})),g.displayState=void 0}return l.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},l})();class NV{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function c3(n){function e(i,r,o,l){return(i|0)*3600+(r|0)*60+(o|0)+parseFloat(l||0)}const t=n.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class OV{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,i){for(let r=0;r<i.length;++r)if(t===i[r]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const i=parseFloat(t);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}}function d3(n,e,t,i){const r=i?n.split(i):[n];for(const o in r){if(typeof r[o]!="string")continue;const l=r[o].split(t);if(l.length!==2)continue;const c=l[0],f=l[1];e(c,f)}}const CR=new $k(0,0,""),I0=CR.align==="middle"?"middle":"center";function PV(n,e,t){const i=n;function r(){const c=c3(n);if(c===null)throw new Error("Malformed timestamp: "+i);return n=n.replace(/^[^\sa-zA-Z-]+/,""),c}function o(c,f){const h=new OV;d3(c,function(p,y){let E;switch(p){case"region":for(let A=t.length-1;A>=0;A--)if(t[A].id===y){h.set(p,t[A].region);break}break;case"vertical":h.alt(p,y,["rl","lr"]);break;case"line":E=y.split(","),h.integer(p,E[0]),h.percent(p,E[0])&&h.set("snapToLines",!1),h.alt(p,E[0],["auto"]),E.length===2&&h.alt("lineAlign",E[1],["start",I0,"end"]);break;case"position":E=y.split(","),h.percent(p,E[0]),E.length===2&&h.alt("positionAlign",E[1],["start",I0,"end","line-left","line-right","auto"]);break;case"size":h.percent(p,y);break;case"align":h.alt(p,y,["start",I0,"end","left","right"]);break}},/:/,/\s/),f.region=h.get("region",null),f.vertical=h.get("vertical","");let g=h.get("line","auto");g==="auto"&&CR.line===-1&&(g=-1),f.line=g,f.lineAlign=h.get("lineAlign","start"),f.snapToLines=h.get("snapToLines",!0),f.size=h.get("size",100),f.align=h.get("align",I0);let m=h.get("position","auto");m==="auto"&&CR.position===50&&(m=f.align==="start"||f.align==="left"?0:f.align==="end"||f.align==="right"?100:50),f.position=m}function l(){n=n.replace(/^\s+/,"")}if(l(),e.startTime=r(),l(),n.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i);n=n.slice(3),l(),e.endTime=r(),l(),o(n,e)}function f3(n){return n.replace(/<br(?: \/)?>/gi,`
`)}class UV{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new NV,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function i(){let o=t.buffer,l=0;for(o=f3(o);l<o.length&&o[l]!=="\r"&&o[l]!==`
`;)++l;const c=o.slice(0,l);return o[l]==="\r"&&++l,o[l]===`
`&&++l,t.buffer=o.slice(l),c}function r(o){d3(o,function(l,c){},/:/)}try{let o="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;o=i();const c=o.match(/^()?WEBVTT([ \t].*)?$/);if(!(c!=null&&c[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let l=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:o=i(),t.state){case"HEADER":/:/.test(o)?r(o):o||(t.state="ID");continue;case"NOTE":o||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){t.state="NOTE";break}if(!o)continue;if(t.cue=new $k(0,0,""),t.state="CUE",o.indexOf("-->")===-1){t.cue.id=o;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{PV(o,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const c=o.indexOf("-->")!==-1;if(!o||c&&(l=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=o}continue;case"BADCUE":o||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const FV=/\r\n|\n\r|\n|\r/g,Vw=function(e,t,i=0){return e.slice(i,i+t.length)===t},BV=function(e){let t=parseInt(e.slice(-3));const i=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Un(t)||!Un(i)||!Un(r)||!Un(o))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*i,t+=60*1e3*r,t+=3600*1e3*o,t};function qk(n,e,t){return Ey(n.toString())+Ey(e.toString())+Ey(t)}const zV=function(e,t,i){let r=e[t],o=e[r.prevCC];if(!o||!o.new&&r.new){e.ccOffset=e.presentationOffset=r.start,r.new=!1;return}for(;(l=o)!=null&&l.new;){var l;e.ccOffset+=r.start-o.start,r.new=!1,r=o,o=e[r.prevCC]}e.presentationOffset=i};function $V(n,e,t,i,r,o,l){const c=new UV,f=eo(new Uint8Array(n)).trim().replace(FV,`
`).split(`
`),h=[],g=e?KG(e.baseTime,e.timescale):0;let m="00:00.000",p=0,y=0,E,A=!0;c.oncue=function(w){const M=t[i];let x=t.ccOffset;const C=(p-g)/9e4;if(M!=null&&M.new&&(y!==void 0?x=t.ccOffset=M.start:zV(t,i,C)),C){if(!e){E=new Error("Missing initPTS for VTT MPEGTS");return}x=C-t.presentationOffset}const O=w.endTime-w.startTime,z=Ys((w.startTime+x-y)*9e4,r*9e4)/9e4;w.startTime=Math.max(z,0),w.endTime=Math.max(z+O,0);const se=w.text.trim();w.text=decodeURIComponent(encodeURIComponent(se)),w.id||(w.id=qk(w.startTime,w.endTime,se)),w.endTime>0&&h.push(w)},c.onparsingerror=function(w){E=w},c.onflush=function(){if(E){l(E);return}o(h)},f.forEach(w=>{if(A)if(Vw(w,"X-TIMESTAMP-MAP=")){A=!1,w.slice(16).split(",").forEach(M=>{Vw(M,"LOCAL:")?m=M.slice(6):Vw(M,"MPEGTS:")&&(p=parseInt(M.slice(7)))});try{y=BV(m)/1e3}catch(M){E=M}return}else w===""&&(A=!1);c.parse(w+`
`)}),c.flush()}const Kw="stpp.ttml.im1t",h3=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,m3=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,qV={left:"start",center:"center",right:"end",start:"start",end:"end"};function CM(n,e,t,i){const r=Mi(new Uint8Array(n),["mdat"]);if(r.length===0){i(new Error("Could not parse IMSC1 mdat"));return}const o=r.map(c=>eo(c)),l=VG(e.baseTime,1,e.timescale);try{o.forEach(c=>t(jV(c,l)))}catch(c){i(c)}}function jV(n,e){const r=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const o={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},l=Object.keys(o).reduce((m,p)=>(m[p]=r.getAttribute(`ttp:${p}`)||o[p],m),{}),c=r.getAttribute("xml:space")!=="preserve",f=DM(Yw(r,"styling","style")),h=DM(Yw(r,"layout","region")),g=Yw(r,"body","[begin]");return[].map.call(g,m=>{const p=g3(m,c);if(!p||!m.hasAttribute("begin"))return null;const y=Qw(m.getAttribute("begin"),l),E=Qw(m.getAttribute("dur"),l);let A=Qw(m.getAttribute("end"),l);if(y===null)throw LM(m);if(A===null){if(E===null)throw LM(m);A=y+E}const w=new $k(y-e,A-e,p);w.id=qk(w.startTime,w.endTime,w.text);const M=h[m.getAttribute("region")],x=f[m.getAttribute("style")],C=HV(M,x,f),{textAlign:O}=C;if(O){const z=qV[O];z&&(w.lineAlign=z),w.align=O}return ba(w,C),w}).filter(m=>m!==null)}function Yw(n,e,t){const i=n.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(t)):[]}function DM(n){return n.reduce((e,t)=>{const i=t.getAttribute("xml:id");return i&&(e[i]=t),e},{})}function g3(n,e){return[].slice.call(n.childNodes).reduce((t,i,r)=>{var o;return i.nodeName==="br"&&r?t+`
`:(o=i.childNodes)!=null&&o.length?g3(i,e):e?t+i.textContent.trim().replace(/\s+/g," "):t+i.textContent},"")}function HV(n,e,t){const i="http://www.w3.org/ns/ttml#styling";let r=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],l=n!=null&&n.hasAttribute("style")?n.getAttribute("style"):null;return l&&t.hasOwnProperty(l)&&(r=t[l]),o.reduce((c,f)=>{const h=Ww(e,i,f)||Ww(n,i,f)||Ww(r,i,f);return h&&(c[f]=h),c},{})}function Ww(n,e,t){return n&&n.hasAttributeNS(e,t)?n.getAttributeNS(e,t):null}function LM(n){return new Error(`Could not parse ttml timestamp ${n}`)}function Qw(n,e){if(!n)return null;let t=c3(n);return t===null&&(h3.test(n)?t=GV(n,e):m3.test(n)&&(t=VV(n,e))),t}function GV(n,e){const t=h3.exec(n),i=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+i/e.frameRate}function VV(n,e){const t=m3.exec(n),i=Number(t[1]);switch(t[2]){case"h":return i*3600;case"m":return i*60;case"ms":return i*1e3;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}class k0{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,i){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class KV{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=NM(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Te.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Te.FRAG_LOADING,this.onFragLoading,this),e.on(Te.FRAG_LOADED,this.onFragLoaded,this),e.on(Te.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Te.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Te.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Te.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Te.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Te.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Te.FRAG_LOADING,this.onFragLoading,this),e.off(Te.FRAG_LOADED,this.onFragLoaded,this),e.off(Te.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Te.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Te.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Te.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Te.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new k0(this,"textTrack1"),t=new k0(this,"textTrack2"),i=new k0(this,"textTrack3"),r=new k0(this,"textTrack4");this.cea608Parser1=new xM(1,e,t),this.cea608Parser2=new xM(3,i,r)}addCues(e,t,i,r,o){let l=!1;for(let c=o.length;c--;){const f=o[c],h=YV(f[0],f[1],t,i);if(h>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],i),l=!0,h/(i-t)>.5))return}if(l||o.push([t,i]),this.config.renderTextTracksNatively){const c=this.captionsTracks[e];this.Cues.newCue(c,t,i,r)}else{const c=this.Cues.newCue(null,t,i,r);this.hls.trigger(Te.CUES_PARSED,{type:"captions",cues:c,track:e})}}onInitPtsFound(e,{frag:t,id:i,initPTS:r,timescale:o,trackId:l}){const{unparsedVttFrags:c}=this;i===Gn.MAIN&&(this.initPTS[t.cc]={baseTime:r,timescale:o,trackId:l}),c.length&&(this.unparsedVttFrags=[],c.forEach(f=>{this.initPTS[f.frag.cc]?this.onFragLoaded(Te.FRAG_LOADED,f):this.hls.trigger(Te.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,t){const{media:i}=this;if(i)for(let r=0;r<i.textTracks.length;r++){const o=i.textTracks[r];if(MM(o,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return o}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:i,media:r}=this,{label:o,languageCode:l}=t[e],c=this.getExistingTrack(o,l);if(c)i[e]=c,lg(i[e]),r3(i[e],r);else{const f=this.createTextTrack("captions",o,l);f&&(f[e]=!0,i[e]=f)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const i=t.label,r={_id:e,label:i,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=r,this.hls.trigger(Te.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}createTextTrack(e,t,i){const r=this.media;if(r)return r.addTextTrack(e,t,i)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const i=!!t.transferMedia;if(this.media=null,i)return;const{captionsTracks:r}=this;Object.keys(r).forEach(o=>{lg(r[o]),delete r[o]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=NM(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let i=0;i<t.length;i++)lg(t[i])}onSubtitleTracksUpdated(e,t){const i=t.subtitleTracks||[],r=i.some(o=>o.textCodec===Kw);if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(VU(this.tracks,i)){this.tracks=i;return}if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const l=this.media,c=l?d_(l.textTracks):null;if(this.tracks.forEach((f,h)=>{let g;if(c){let m=null;for(let p=0;p<c.length;p++)if(c[p]&&MM(c[p],f)){m=c[p],c[p]=null;break}m&&(g=m)}if(g)lg(g);else{const m=p3(f);g=this.createTextTrack(m,f.name,f.lang),g&&(g.mode="disabled")}g&&this.textTracks.push(g)}),c!=null&&c.length){const f=c.filter(h=>h!==null).map(h=>h.label);f.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${f.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const l=this.tracks.map(c=>({label:c.name,kind:c.type.toLowerCase(),default:c.default,subtitleTrack:c}));this.hls.trigger(Te.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(i=>{const r=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!r)return;const o=`textTrack${r[1]}`,l=this.captionsProperties[o];l&&(l.label=i.name,i.lang&&(l.languageCode=i.lang),l.media=i)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Gn.MAIN){var i,r;const{cea608Parser1:o,cea608Parser2:l,lastSn:c}=this,{cc:f,sn:h}=t.frag,g=(i=(r=t.part)==null?void 0:r.index)!=null?i:-1;o&&l&&(h!==c+1||h===c&&g!==this.lastPartIndex+1||f!==this.lastCc)&&(o.reset(),l.reset()),this.lastCc=f,this.lastSn=h,this.lastPartIndex=g}}onFragLoaded(e,t){const{frag:i,payload:r}=t;if(i.type===Gn.SUBTITLE)if(r.byteLength){const o=i.decryptdata,l="stats"in t;if(o==null||!o.encrypted||l){const c=this.tracks[i.level],f=this.vttCCs;f[i.cc]||(f[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),c&&c.textCodec===Kw?this._parseIMSC1(i,r):this._parseVTTs(t)}}else this.hls.trigger(Te.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const i=this.hls;CM(t,this.initPTS[e.cc],r=>{this._appendCues(r,e.level),i.trigger(Te.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},r=>{i.logger.log(`Failed to parse IMSC1: ${r}`),i.trigger(Te.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:r})})}_parseVTTs(e){var t;const{frag:i,payload:r}=e,{initPTS:o,unparsedVttFrags:l}=this,c=o.length-1;if(!o[i.cc]&&c===-1){l.push(e);return}const f=this.hls,h=(t=i.initSegment)!=null&&t.data?Lo(i.initSegment.data,new Uint8Array(r)).buffer:r;$V(h,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,g=>{this._appendCues(g,i.level),f.trigger(Te.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},g=>{const m=g.message==="Missing initPTS for VTT MPEGTS";m?l.push(e):this._fallbackToIMSC1(i,r),f.logger.log(`Failed to parse VTT cue: ${g}`),!(m&&c>i.cc)&&f.trigger(Te.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:g})})}_fallbackToIMSC1(e,t){const i=this.tracks[e.level];i.textCodec||CM(t,this.initPTS[e.cc],()=>{i.textCodec=Kw,this._parseIMSC1(e,t)},()=>{i.textCodec="wvtt"})}_appendCues(e,t){const i=this.hls;if(this.config.renderTextTracksNatively){const r=this.textTracks[t];if(!r||r.mode==="disabled")return;e.forEach(o=>s3(r,o))}else{const r=this.tracks[t];if(!r)return;const o=r.default?"default":"subtitles"+t;i.trigger(Te.CUES_PARSED,{type:"subtitles",cues:e,track:o})}}onFragDecrypted(e,t){const{frag:i}=t;i.type===Gn.SUBTITLE&&this.onFragLoaded(Te.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:i,samples:r}=t;if(!(i.type===Gn.MAIN&&this.closedCaptionsForLevel(i)==="NONE"))for(let o=0;o<r.length;o++){const l=r[o].bytes;if(l){this.cea608Parser1||this.initCea608Parsers();const c=this.extractCea608Data(l);this.cea608Parser1.addData(r[o].pts,c[0]),this.cea608Parser2.addData(r[o].pts,c[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:i,endOffsetSubtitles:r,type:o}){const{media:l}=this;if(!(!l||l.currentTime<i)){if(!o||o==="video"){const{captionsTracks:c}=this;Object.keys(c).forEach(f=>xR(c[f],t,i))}if(this.config.renderTextTracksNatively&&t===0&&r!==void 0){const{textTracks:c}=this;Object.keys(c).forEach(f=>xR(c[f],t,r))}}}extractCea608Data(e){const t=[[],[]],i=e[0]&31;let r=2;for(let o=0;o<i;o++){const l=e[r++],c=127&e[r++],f=127&e[r++];if(c===0&&f===0)continue;if((4&l)!==0){const g=3&l;(g===0||g===1)&&(t[g].push(c),t[g].push(f))}}return t}}function p3(n){return n.characteristics&&/transcribes-spoken-dialog/gi.test(n.characteristics)&&/describes-music-and-sound/gi.test(n.characteristics)?"captions":"subtitles"}function MM(n,e){return!!n&&n.kind===p3(e)&&wR(e,n)}function YV(n,e,t,i){return Math.min(e,i)-Math.max(n,t)}function NM(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const WV=/\s/,QV={newCue(n,e,t,i){const r=[];let o,l,c,f,h;const g=self.VTTCue||self.TextTrackCue;for(let p=0;p<i.rows.length;p++)if(o=i.rows[p],c=!0,f=0,h="",!o.isEmpty()){var m;for(let A=0;A<o.chars.length;A++)WV.test(o.chars[A].uchar)&&c?f++:(h+=o.chars[A].uchar,c=!1);o.cueStartTime=e,e===t&&(t+=1e-4),f>=16?f--:f++;const y=f3(h.trim()),E=qk(e,t,y);n!=null&&(m=n.cues)!=null&&m.getCueById(E)||(l=new g(e,t,y),l.id=E,l.line=p+1,l.align="left",l.position=10+Math.min(80,Math.floor(f*8/32)*10),r.push(l))}return n&&r.length&&(r.sort((p,y)=>p.line==="auto"||y.line==="auto"?0:p.line>8&&y.line>8?y.line-p.line:p.line-y.line),r.forEach(p=>s3(n,p))),r}};function XV(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const ZV=/(\d+)-(\d+)\/(\d+)/;class OM{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||nK,this.controller=new self.AbortController,this.stats=new bk}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,i){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const o=JV(e,this.controller.signal),l=e.responseType==="arraybuffer",c=l?"byteLength":"length",{maxTimeToFirstByteMs:f,maxLoadTimeMs:h}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=i,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),t.timeout=f&&Un(f)?f:h,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,e,this.response))},t.timeout),(By(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(m=>{var p;this.response=this.loader=m;const y=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=h,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,e,this.response))},h-(y-r.loading.start)),!m.ok){const{status:A,statusText:w}=m;throw new iK(w||"fetch, bad network response",A,m)}r.loading.first=y,r.total=tK(m.headers)||r.total;const E=(p=this.callbacks)==null?void 0:p.onProgress;return E&&Un(t.highWaterMark)?this.loadProgressively(m,r,e,t.highWaterMark,E):l?m.arrayBuffer():e.responseType==="json"?m.json():m.text()}).then(m=>{var p,y;const E=this.response;if(!E)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const A=m[c];A&&(r.loaded=r.total=A);const w={url:E.url,data:m,code:E.status},M=(p=this.callbacks)==null?void 0:p.onProgress;M&&!Un(t.highWaterMark)&&M(r,e,m,E),(y=this.callbacks)==null||y.onSuccess(w,r,e,E)}).catch(m=>{var p;if(self.clearTimeout(this.requestTimeout),r.aborted)return;const y=m&&m.code||0,E=m?m.message:null;(p=this.callbacks)==null||p.onError({code:y,text:E},e,m?m.details:null,r)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,i,r=0,o){const l=new RU,c=e.body.getReader(),f=()=>c.read().then(h=>{if(h.done)return l.dataLength&&o(t,i,l.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const g=h.value,m=g.length;return t.loaded+=m,m<r||l.dataLength?(l.push(g),l.dataLength>=r&&o(t,i,l.flush().buffer,e)):o(t,i,g.buffer,e),f()}).catch(()=>Promise.reject());return f()}}function JV(n,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(ba({},n.headers))};return n.rangeEnd&&t.headers.set("Range","bytes="+n.rangeStart+"-"+String(n.rangeEnd-1)),t}function eK(n){const e=ZV.exec(n);if(e)return parseInt(e[2])-parseInt(e[1])+1}function tK(n){const e=n.get("Content-Range");if(e){const i=eK(e);if(Un(i))return i}const t=n.get("Content-Length");if(t)return parseInt(t)}function nK(n,e){return new self.Request(n.url,e)}class iK extends Error{constructor(e,t,i){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=i}}const aK=/^age:\s*[\d.]+\s*$/im;class v3{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new bk,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const i=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const o=this.xhrSetup;o?Promise.resolve().then(()=>{if(!(this.loader!==i||this.stats.aborted))return o(i,t.url)}).catch(l=>{if(!(this.loader!==i||this.stats.aborted))return i.open("GET",t.url,!0),o(i,t.url)}).then(()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,t,e)}).catch(l=>{var c;(c=this.callbacks)==null||c.onError({code:i.status,text:l.message},t,i,r)}):this.openAndSendXhr(i,t,e)}openAndSendXhr(e,t,i){e.readyState||e.open("GET",t.url,!0);const r=t.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:l}=i.loadPolicy;if(r)for(const c in r)e.setRequestHeader(c,r[c]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),i.timeout=o&&Un(o)?o:l,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:i}=this;if(!e||!t)return;const r=t.readyState,o=this.config;if(!i.aborted&&r>=2&&(i.loading.first===0&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),r===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const h=t.status,g=t.responseType==="text"?t.responseText:null;if(h>=200&&h<300){const E=g??t.response;if(E!=null){var l,c;i.loading.end=Math.max(self.performance.now(),i.loading.first);const A=t.responseType==="arraybuffer"?E.byteLength:E.length;i.loaded=i.total=A,i.bwEstimate=i.total*8e3/(i.loading.end-i.loading.first);const w=(l=this.callbacks)==null?void 0:l.onProgress;w&&w(i,e,E,t);const M={url:t.responseURL,data:E,code:h};(c=this.callbacks)==null||c.onSuccess(M,i,e,t);return}}const m=o.loadPolicy.errorRetry,p=i.retry,y={url:e.url,data:void 0,code:h};if(qT(m,p,!1,y))this.retry(m);else{var f;ga.error(`${h} while loading ${e.url}`),(f=this.callbacks)==null||f.onError({code:h,text:t.statusText},e,t,i)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(qT(e,t,!0))this.retry(e);else{var i;ga.warn(`timeout while loading ${(i=this.context)==null?void 0:i.url}`);const r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:i}=this;this.retryDelay=Ak(e,i.retry),i.retry++,ga.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t?.url}, retrying ${i.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&aK.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const rK={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},sK=ma(ma({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:v3,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:yH,bufferController:l7,capLevelController:Fk,errorController:SH,fpsController:uV,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:gU,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:rK},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},oK()),{},{subtitleStreamController:_V,subtitleTrackController:fV,timelineController:KV,audioStreamController:a7,audioTrackController:r7,emeController:pg,cmcdController:rV,contentSteeringController:oV,interstitialsController:bV});function oK(){return{cueHandler:QV,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function lK(n,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=DR(n),r=["manifest","level","frag"],o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(l=>{const c=`${l==="level"?"playlist":l}LoadPolicy`,f=e[c]===void 0,h=[];o.forEach(g=>{const m=`${l}Loading${g}`,p=e[m];if(p!==void 0&&f){h.push(m);const y=i[c].default;switch(e[c]={default:y},g){case"TimeOut":y.maxLoadTimeMs=p,y.maxTimeToFirstByteMs=p;break;case"MaxRetry":y.errorRetry.maxNumRetry=p,y.timeoutRetry.maxNumRetry=p;break;case"RetryDelay":y.errorRetry.retryDelayMs=p,y.timeoutRetry.retryDelayMs=p;break;case"MaxRetryTimeout":y.errorRetry.maxRetryDelayMs=p,y.timeoutRetry.maxRetryDelayMs=p;break}}}),h.length&&t.warn(`hls.js config: "${h.join('", "')}" setting(s) are deprecated, use "${c}": ${Aa(e[c])}`)}),ma(ma({},i),e)}function DR(n){return n&&typeof n=="object"?Array.isArray(n)?n.map(DR):Object.keys(n).reduce((e,t)=>(e[t]=DR(n[t]),e),{}):n}function uK(n,e){const t=n.loader;t!==OM&&t!==v3?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),n.progressive=!1):XV()&&(n.loader=OM,n.progressive=!0,n.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const f_=2,cK=.1,dK=.05,fK=100;class hK extends cU{constructor(e,t){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var i;(i=this.media)!=null&&i.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var i;this.ended=((i=this.media)==null?void 0:i.currentTime)||1,this.hls.trigger(Te.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(fK),this.mediaSource=t.mediaSource;const i=this.media=t.media;ys(i,"playing",this.onMediaPlaying),ys(i,"waiting",this.onMediaWaiting),ys(i,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:i}=this;i&&(Ms(i,"playing",this.onMediaPlaying),Ms(i,"waiting",this.onMediaWaiting),Ms(i,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var i,r;const o=(i=this.hls)==null?void 0:i.config;if(!o)return;const l=this.media;if(!l)return;const{seeking:c}=l,f=this.seeking&&!c,h=!this.seeking&&c,g=l.paused&&!c||l.ended||l.playbackRate===0;if(this.seeking=c,e!==t){t&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,o.nudgeOnVideoHole&&!g&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(h||f){f&&this.stallResolved(e);return}if(g){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&l.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(Te.MEDIA_ENDED,{stalled:!1}));return}if(!_i.getBuffered(l).length){this.nudgeRetry=0;return}const m=_i.bufferInfo(l,e,0),p=m.nextStart||0,y=this.fragmentTracker;if(c&&y&&this.hls){const se=PM(this.hls.inFlightFragments,e),F=m.len>f_,H=!p||se||p-e>f_&&!y.getPartialFragment(e);if(F||H)return;this.moved=!1}const E=(r=this.hls)==null?void 0:r.latestLevelDetails;if(!this.moved&&this.stalled!==null&&y){if(!(m.len>0)&&!p)return;const F=Math.max(p,m.start||0)-e,be=!!(E!=null&&E.live)?E.targetduration*2:f_,Ae=x0(e,y);if(F>0&&(F<=be||Ae)){l.paused||this._trySkipBufferHole(Ae);return}}const A=o.detectStallWithCurrentTimeMs,w=self.performance.now(),M=this.waiting;let x=this.stalled;if(x===null)if(M>0&&w-M<A)x=this.stalled=M;else{this.stalled=w;return}const C=w-x;if(!c&&(C>=A||M)&&this.hls){var O;if(((O=this.mediaSource)==null?void 0:O.readyState)==="ended"&&!(E!=null&&E.live)&&Math.abs(e-(E?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(Te.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(m),!this.media||!this.hls)return}const z=_i.bufferInfo(l,e,o.maxBufferHole);this._tryFixBufferStall(z,C,e)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const i=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(i)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Te.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var i;const r=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(i=this.buffered.audio)!=null&&i.length&&r&&r.length>1&&e>r.end(0)){const o=_i.bufferedInfo(_i.timeRangesToArray(this.buffered.audio),e,0);if(o.len>1&&t>=o.start){const l=_i.timeRangesToArray(r),c=_i.bufferedInfo(l,t,0).bufferedIndex;if(c>-1&&c<l.length-1){const f=_i.bufferedInfo(l,e,0).bufferedIndex,h=l[c].end,g=l[c+1].start;if((f===-1||f>c)&&g-h<1&&e-h<2){const m=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${h} -> ${g} buffered index: ${f}`);this.warn(m.message),this.media.currentTime+=1e-6;let p=x0(e,this.fragmentTracker);p&&"fragment"in p?p=p.fragment:p||(p=void 0);const y=_i.bufferInfo(this.media,e,0);this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:m,reason:m.message,frag:p,buffer:y.len,bufferInfo:y})}}}}}_tryFixBufferStall(e,t,i){var r,o;const{fragmentTracker:l,media:c}=this,f=(r=this.hls)==null?void 0:r.config;if(!c||!l||!f)return;const h=(o=this.hls)==null?void 0:o.latestLevelDetails,g=x0(i,l);if((g||h!=null&&h.live&&i<h.fragmentStart)&&(this._trySkipBufferHole(g)||!this.media))return;const m=e.buffered,p=this.adjacentTraversal(e,i);(m&&m.length>1&&e.len>f.maxBufferHole||e.nextStart&&(e.nextStart-i<f.maxBufferHole||p))&&(t>f.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,t){const i=this.fragmentTracker,r=e.nextStart;if(i&&r){const o=i.getFragAtPos(t,Gn.MAIN),l=i.getFragAtPos(r,Gn.MAIN);if(o&&l)return l.sn-o.sn<2}return!1}_reportStall(e){const{hls:t,media:i,stallReported:r,stalled:o}=this;if(!r&&o!==null&&i&&t){this.stallReported=!0;const l=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${Aa(e)})`);this.warn(l.message),t.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.BUFFER_STALLED_ERROR,fatal:!1,error:l,buffer:e.len,bufferInfo:e,stalled:{start:o}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:i,media:r}=this,o=(t=this.hls)==null?void 0:t.config;if(!r||!i||!o)return 0;const l=r.currentTime,c=_i.bufferInfo(r,l,0),f=l<c.start?c.start:c.nextStart;if(f&&this.hls){const g=c.len<=o.maxBufferHole,m=c.len>0&&c.len<1&&r.readyState<3,p=f-l;if(p>0&&(g||m)){if(p>o.maxBufferHole){let E=!1;if(l===0){const A=i.getAppendedFrag(0,Gn.MAIN);A&&f<A.end&&(E=!0)}if(!E&&e){var h;if(!((h=this.hls.loadLevelObj)!=null&&h.details)||PM(this.hls.inFlightFragments,f))return 0;let w=!1,M=e.end;for(;M<f;){const x=x0(M,i);if(x)M+=x.duration;else{w=!0;break}}if(w)return 0}}const y=Math.max(f+dK,l+cK);if(this.warn(`skipping hole, adjusting currentTime from ${l} to ${y}`),this.moved=!0,r.currentTime=y,!(e!=null&&e.gap)){const E=new Error(`fragment loaded with buffer holes, seeking from ${l} to ${y}`),A={type:ti.MEDIA_ERROR,details:Dt.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:E,reason:E.message,buffer:c.len,bufferInfo:c};e&&("fragment"in e?A.part=e:A.frag=e),this.hls.trigger(Te.ERROR,A)}return y}}return 0}_tryNudgeBuffer(e){const{hls:t,media:i,nudgeRetry:r}=this,o=t?.config;if(!i||!o)return 0;const l=i.currentTime;if(this.nudgeRetry++,r<o.nudgeMaxRetry){const c=l+(r+1)*o.nudgeOffset,f=new Error(`Nudging 'currentTime' from ${l} to ${c}`);this.warn(f.message),i.currentTime=c,t.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.BUFFER_NUDGE_ON_STALL,error:f,fatal:!1,buffer:e.len,bufferInfo:e})}else{const c=new Error(`Playhead still not moving while enough data buffered @${l} after ${o.nudgeMaxRetry} nudges`);this.error(c.message),t.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.BUFFER_STALLED_ERROR,error:c,fatal:!0,buffer:e.len,bufferInfo:e})}}}function PM(n,e){const t=UM(n.main);if(t&&t.start<=e)return t;const i=UM(n.audio);return i&&i.start<=e?i:null}function UM(n){if(!n)return null;switch(n.state){case on.IDLE:case on.STOPPED:case on.ENDED:case on.ERROR:return null}return n.frag}function x0(n,e){return e.getAppendedFrag(n,Gn.MAIN)||e.getPartialFragment(n)}const mK=.25;function LR(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function Xw(n,e,t,i,r){let o=new n(e,t,"");try{o.value=i,r&&(o.type=r)}catch{o=new n(e,t,Aa(r?ma({type:r},i):i))}return o}const C0=(()=>{const n=LR();try{n&&new n(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class gK{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Te.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Te.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Te.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Te.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Te.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Te.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,t){var i;this.media=t.media,((i=t.overrides)==null?void 0:i.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const t=(e=this.hls)==null?void 0:e.latestLevelDetails;t&&this.updateDateRangeCues(t)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&lg(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const i=e[t];if(i.kind==="metadata"&&i.label==="id3")return r3(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:i,enableID3MetadataCues:r}=this.hls.config;if(!i&&!r)return;const{samples:o}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=LR();if(l)for(let c=0;c<o.length;c++){const f=o[c].type;if(f===Qs.emsg&&!i||!r)continue;const h=MU(o[c].data),g=o[c].pts;let m=g+o[c].duration;m>C0&&(m=C0),m-g<=0&&(m=g+mK);for(let y=0;y<h.length;y++){const E=h[y];if(!NU(E)){this.updateId3CueEnds(g,f);const A=Xw(l,g,m,E,f);A&&this.id3Track.addCue(A)}}}}updateId3CueEnds(e,t){var i;const r=(i=this.id3Track)==null?void 0:i.cues;if(r)for(let o=r.length;o--;){const l=r[o];l.type===t&&l.startTime<e&&l.endTime===C0&&(l.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:i,type:r}){const{id3Track:o,hls:l}=this;if(!l)return;const{config:{enableEmsgMetadataCues:c,enableID3MetadataCues:f}}=l;if(o&&(c||f)){let h;r==="audio"?h=g=>g.type===Qs.audioId3&&f:r==="video"?h=g=>g.type===Qs.emsg&&c:h=g=>g.type===Qs.audioId3&&f||g.type===Qs.emsg&&c,xR(o,t,i,h)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.hls||!this.media)return;const{assetPlayerId:i,timelineOffset:r,enableDateRangeMetadataCues:o,interstitialsController:l}=this.hls.config;if(!o)return;const c=LR();if(i&&r&&!l){const{fragmentStart:A,fragmentEnd:w}=e;let M=this.assetCue;M?(M.startTime=A,M.endTime=w):c&&(M=this.assetCue=Xw(c,A,w,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),M&&(M.id=i,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(M),M.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:f}=this,{dateRanges:h}=e,g=Object.keys(h);let m=this.dateRangeCuesAppended;if(f&&t){var p;if((p=f.cues)!=null&&p.length){const A=Object.keys(m).filter(w=>!g.includes(w));for(let w=A.length;w--;){var y;const M=A[w],x=(y=m[M])==null?void 0:y.cues;delete m[M],x&&Object.keys(x).forEach(C=>{const O=x[C];if(O){O.removeEventListener("enter",this.onEventCueEnter);try{f.removeCue(O)}catch{}}})}}else m=this.dateRangeCuesAppended={}}const E=e.fragments[e.fragments.length-1];if(!(g.length===0||!Un(E?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let A=0;A<g.length;A++){const w=g[A],M=h[w],x=M.startTime,C=m[w],O=C?.cues||{};let z=C?.durationKnown||!1,se=C0;const{duration:F,endDate:H}=M;if(H&&F!==null)se=x+F,z=!0;else if(M.endOnNext&&!z){const Ae=g.reduce((Me,Ve)=>{if(Ve!==M.id){const Se=h[Ve];if(Se.class===M.class&&Se.startDate>M.startDate&&(!Me||M.startDate<Me.startDate))return Se}return Me},null);Ae&&(se=Ae.startTime,z=!0)}const be=Object.keys(M.attr);for(let Ae=0;Ae<be.length;Ae++){const Me=be[Ae];if(!PH(Me))continue;const Ve=O[Me];if(Ve)z&&!(C!=null&&C.durationKnown)?Ve.endTime=se:Math.abs(Ve.startTime-x)>.01&&(Ve.startTime=x,Ve.endTime=se);else if(c){let Se=M.attr[Me];UH(Me)&&(Se=H2(Se));const Ue=Xw(c,x,se,{key:Me,data:Se},Qs.dateRange);Ue&&(Ue.id=w,this.id3Track.addCue(Ue),O[Me]=Ue,l&&(Me==="X-ASSET-LIST"||Me==="X-ASSET-URL")&&Ue.addEventListener("enter",this.onEventCueEnter))}}m[w]={cues:O,dateRange:M,durationKnown:z}}}}}class pK{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,i=this.levelDetails;if(!t||!i)return;this.currentTime=t.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:l}=this.config;if(!o||l===1||!i.live)return;const c=this.targetLatency;if(c===null)return;const f=r-c,h=Math.min(this.maxLatency,c+i.targetduration);if(f<h&&f>.05&&this.forwardBufferLength>1){const m=Math.min(2,Math.max(1,l)),p=Math.round(2/(1+Math.exp(-.75*f-this.edgeStalled))*20)/20,y=Math.min(m,Math.max(1,p));this.changeMediaPlaybackRate(t,y)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:i,targetduration:r}=e,{liveSyncDuration:o,liveSyncDurationCount:l,lowLatencyMode:c}=this.config,f=this.hls.userConfig;let h=c&&i||t;(this._targetLatencyUpdated||f.liveSyncDuration||f.liveSyncDurationCount||h===0)&&(h=o!==void 0?o:l*r);const g=r;return h+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,g)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const i=this.levelDetails;if(i===null)return null;const r=i.edge,o=e-t-this.edgeStalled,l=r-i.totalduration,c=r-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(l,o),c)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const i=e.buffered.length;return(i?e.buffered.end(i-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Te.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Te.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Te.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Te.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var i;t.details===Dt.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(i=this.levelDetails)!=null&&i.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var i,r;e.playbackRate!==t&&((i=this.hls)==null||i.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(r=this.targetLatency)==null?void 0:r.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class vK extends Uk{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Te.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Te.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Te.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Te.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const i=this.hls.config.preferManagedMediaSource,r=[],o={},l={};let c=!1,f=!1,h=!1;t.levels.forEach(g=>{const m=g.attrs;let{audioCodec:p,videoCodec:y}=g;p&&(g.audioCodec=p=FT(p,i)||void 0),y&&(y=g.videoCodec=Jj(y));const{width:E,height:A,unknownCodecs:w}=g,M=w?.length||0;if(c||(c=!!(E&&A)),f||(f=!!y),h||(h=!!p),M||p&&!this.isAudioSupported(p)||y&&!this.isVideoSupported(y)){this.log(`Some or all CODECS not supported "${m.CODECS}"`);return}const{CODECS:x,"FRAME-RATE":C,"HDCP-LEVEL":O,"PATHWAY-ID":z,RESOLUTION:se,"VIDEO-RANGE":F}=m,be=`${`${z||"."}-`}${g.bitrate}-${se}-${C}-${x}-${F}-${O}`;if(o[be])if(o[be].uri!==g.url&&!g.attrs["PATHWAY-ID"]){const Ae=l[be]+=1;g.attrs["PATHWAY-ID"]=new Array(Ae+1).join(".");const Me=this.createLevel(g);o[be]=Me,r.push(Me)}else o[be].addGroupId("audio",m.AUDIO),o[be].addGroupId("text",m.SUBTITLES);else{const Ae=this.createLevel(g);o[be]=Ae,l[be]=1,r.push(Ae)}}),this.filterAndSortMediaOptions(r,t,c,f,h)}createLevel(e){const t=new Py(e),i=e.supplemental;if(i!=null&&i.videoCodec&&!this.isVideoSupported(i.videoCodec)){const r=new Error(`SUPPLEMENTAL-CODECS not supported "${i.videoCodec}"`);this.log(r.message),t.supportedResult=nU(r,[])}return t}isAudioSupported(e){return Ny(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Ny(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,i,r,o){var l;let c=[],f=[],h=e;const g=((l=t.stats)==null?void 0:l.parsing)||{};if((i||r)&&o&&(h=h.filter(({videoCodec:x,videoRange:C,width:O,height:z})=>(!!x||!!(O&&z))&&uH(C))),h.length===0){Promise.resolve().then(()=>{if(this.hls){let x="no level with compatible codecs found in manifest",C=x;t.levels.length&&(C=`one or more CODECS in variant not supported: ${Aa(t.levels.map(z=>z.attrs.CODECS).filter((z,se,F)=>F.indexOf(z)===se))}`,this.warn(C),x+=` (${C})`);const O=new Error(x);this.hls.trigger(Te.ERROR,{type:ti.MEDIA_ERROR,details:Dt.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:O,reason:C})}}),g.end=performance.now();return}t.audioTracks&&(c=t.audioTracks.filter(x=>!x.audioCodec||this.isAudioSupported(x.audioCodec)),FM(c)),t.subtitles&&(f=t.subtitles,FM(f));const m=h.slice(0);h.sort((x,C)=>{if(x.attrs["HDCP-LEVEL"]!==C.attrs["HDCP-LEVEL"])return(x.attrs["HDCP-LEVEL"]||"")>(C.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&x.height!==C.height)return x.height-C.height;if(x.frameRate!==C.frameRate)return x.frameRate-C.frameRate;if(x.videoRange!==C.videoRange)return BT.indexOf(x.videoRange)-BT.indexOf(C.videoRange);if(x.videoCodec!==C.videoCodec){const O=xL(x.videoCodec),z=xL(C.videoCodec);if(O!==z)return z-O}if(x.uri===C.uri&&x.codecSet!==C.codecSet){const O=UT(x.codecSet),z=UT(C.codecSet);if(O!==z)return z-O}return x.averageBitrate!==C.averageBitrate?x.averageBitrate-C.averageBitrate:0});let p=m[0];if(this.steering&&(h=this.steering.filterParsedLevels(h),h.length!==m.length)){for(let x=0;x<m.length;x++)if(m[x].pathwayId===h[0].pathwayId){p=m[x];break}}this._levels=h;for(let x=0;x<h.length;x++)if(h[x]===p){var y;this._firstLevel=x;const C=p.bitrate,O=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${h.length} level(s) found, first bitrate: ${C}`),((y=this.hls.userConfig)==null?void 0:y.abrEwmaDefaultEstimate)===void 0){const z=Math.min(C,this.hls.config.abrEwmaDefaultEstimateMax);z>O&&O===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=z)}break}const E=o&&!r,A=this.hls.config,w=!!(A.audioStreamController&&A.audioTrackController),M={levels:h,audioTracks:c,subtitleTracks:f,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:o,video:r,altAudio:w&&!E&&c.some(x=>!!x.url)};g.end=performance.now(),this.hls.trigger(Te.MANIFEST_PARSED,M)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const g=new Error("invalid level idx"),m=e<0;if(this.hls.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.LEVEL_SWITCH_ERROR,level:e,fatal:m,error:g,reason:g.message}),m)return;e=Math.min(e,t.length-1)}const i=this.currentLevelIndex,r=this.currentLevel,o=r?r.attrs["PATHWAY-ID"]:void 0,l=t[e],c=l.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=l,i===e&&r&&o===c)return;this.log(`Switching to level ${e} (${l.height?l.height+"p ":""}${l.videoRange?l.videoRange+" ":""}${l.codecSet?l.codecSet+" ":""}@${l.bitrate})${c?" with Pathway "+c:""} from level ${i}${o?" with Pathway "+o:""}`);const f={level:e,attrs:l.attrs,details:l.details,bitrate:l.bitrate,averageBitrate:l.averageBitrate,maxBitrate:l.maxBitrate,realBitrate:l.realBitrate,width:l.width,height:l.height,codecSet:l.codecSet,audioCodec:l.audioCodec,videoCodec:l.videoCodec,audioGroups:l.audioGroups,subtitleGroups:l.subtitleGroups,loaded:l.loaded,loadError:l.loadError,fragmentError:l.fragmentError,name:l.name,id:l.id,uri:l.uri,url:l.url,urlId:0,audioGroupIds:l.audioGroupIds,textGroupIds:l.textGroupIds};this.hls.trigger(Te.LEVEL_SWITCHING,f);const h=l.details;if(!h||h.live){const g=this.switchParams(l.uri,r?.details,h);this.loadPlaylist(g)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),i=e.filter(r=>t.indexOf(r)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=i}}onError(e,t){t.fatal||!t.context||t.context.type===Ui.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===Gn.MAIN){const i=t.elementaryStreams;if(!Object.keys(i).some(o=>!!i[o]))return;const r=this._levels[t.level];r!=null&&r.loadError&&(this.log(`Resetting level error count of ${r.loadError} on frag buffered`),r.loadError=0)}}onLevelLoaded(e,t){var i;const{level:r,details:o}=t,l=t.levelInfo;if(!l){var c;this.warn(`Invalid level index ${r}`),(c=t.deliveryDirectives)!=null&&c.skip&&(o.deltaUpdateFailed=!0);return}if(l===this.currentLevel||t.withoutMultiVariant){l.fragmentError===0&&(l.loadError=0);let f=l.details;f===t.details&&f.advanced&&(f=void 0),this.playlistLoaded(r,t,f)}else(i=t.deliveryDirectives)!=null&&i.skip&&(o.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const i=this.getUrlWithDirectives(e.uri,t),r=this.currentLevelIndex,o=e.attrs["PATHWAY-ID"],l=e.details,c=l?.age;this.log(`Loading level index ${r}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${o?" Pathway "+o:""}${c&&l.live?" age "+c.toFixed(1)+(l.type&&" "+l.type||""):""} ${i}`),this.hls.trigger(Te.LEVEL_LOADING,{url:i,level:r,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const i=this._levels.filter((o,l)=>l!==e?!0:(this.steering&&this.steering.removeLevel(o),o===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,o.details&&o.details.fragments.forEach(c=>c.level=-1)),!1));SU(i),this._levels=i,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const r=i.length-1;this._firstLevel=Math.min(this._firstLevel,r),this._startLevel&&(this._startLevel=Math.min(this._startLevel,r)),this.hls.trigger(Te.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(Te.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}}function FM(n){const e={};n.forEach(t=>{const i=t.groupId||"";t.id=e[i]=e[i]||0,e[i]++})}function y3(){return self.SourceBuffer||self.WebKitSourceBuffer}function E3(){if(!Fd())return!1;const e=y3();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function yK(){if(!E3())return!1;const n=Fd();return typeof n?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>n.isTypeSupported(Oy(e,"video")))||["mp4a.40.2","fLaC"].some(e=>n.isTypeSupported(Oy(e,"audio"))))}function EK(){var n;const e=y3();return typeof(e==null||(n=e.prototype)==null?void 0:n.changeType)=="function"}const bK=100;class _K extends xk{constructor(e,t,i){super(e,t,i,"stream-controller",Gn.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const r=this.media,o=r?r.currentTime:null;if(o===null||!Un(o)||(this.log(`Media seeked to ${o.toFixed(3)}`),!this.getBufferedFrag(o)))return;const l=this.getFwdBufferInfoAtPos(r,o,Gn.MAIN,0);if(l===null||l.len===0){this.warn(`Main forward buffer length at ${o} on "seeked" event ${l?l.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Te.LEVEL_LOADING,this.onLevelLoading,this),e.on(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Te.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Te.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Te.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Te.BUFFER_CREATED,this.onBufferCreated,this),e.on(Te.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Te.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Te.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Te.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Te.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Te.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Te.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Te.BUFFER_CREATED,this.onBufferCreated,this),e.off(Te.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Te.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Te.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:i,hls:r}=this;if(this.stopLoad(),this.setInterval(bK),this.level=-1,!this.startFragRequested){let o=r.startLevel;o===-1&&(r.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=r.firstAutoLevel),r.nextLoadLevel=o,this.level=r.loadLevel,this._hasEnoughToStart=!!t}i>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),e=i),this.state=on.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=on.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case on.WAITING_LEVEL:{const{levels:e,level:t}=this,i=e?.[t],r=i?.details;if(r&&(!r.live||this.levelLastLoaded===i&&!this.waitForLive(i))){if(this.waitForCdnTuneIn(r))break;this.state=on.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=on.IDLE;break}break}case on.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===on.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:i,media:r}=this;if(t===null||!r&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const o=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(i!=null&&i[o]))return;const l=i[o],c=this.getMainFwdBufferInfo();if(c===null)return;const f=this.getLevelDetails();if(f&&this._streamEnded(c,f)){const A={};this.altAudio===2&&(A.type="video"),this.hls.trigger(Te.BUFFER_EOS,A),this.state=on.ENDED;return}if(!this.buffering)return;e.loadLevel!==o&&e.manualLevel===-1&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=e.nextLoadLevel=o;const h=l.details;if(!h||this.state===on.WAITING_LEVEL||this.waitForLive(l)){this.level=o,this.state=on.WAITING_LEVEL,this.startFragRequested=!1;return}const g=c.len,m=this.getMaxBufferLength(l.maxBitrate);if(g>=m)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:c.end;let y=this.getNextFragment(p,h);if(this.couldBacktrack&&!this.fragPrevious&&y&&rr(y)&&this.fragmentTracker.getState(y)!==Rr.OK){var E;const w=((E=this.backtrackFragment)!=null?E:y).sn-h.startSN,M=h.fragments[w-1];M&&y.cc===M.cc&&(y=M,this.fragmentTracker.removeFragment(M))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(y&&this.isLoopLoading(y,p)){if(!y.gap){const w=this.audioOnly&&!this.altAudio?Sa.AUDIO:Sa.VIDEO,M=(w===Sa.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;M&&this.afterBufferFlushed(M,w,Gn.MAIN)}y=this.getNextFragmentLoopLoading(y,h,c,Gn.MAIN,m)}y&&(y.initSegment&&!y.initSegment.data&&!this.bitrateTest&&(y=y.initSegment),this.loadFragment(y,l,p))}loadFragment(e,t,i){const r=this.fragmentTracker.getState(e);r===Rr.NOT_LOADED||r===Rr.PARTIAL?rr(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,i):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Gn.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let i;const r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const o=this.getLevelDetails();if(o!=null&&o.live){const c=this.getMainFwdBufferInfo();if(!c||c.len<o.targetduration*2)return}if(!t.paused&&e){const c=this.hls.nextLoadLevel,f=e[c],h=this.fragLastKbps;h&&this.fragCurrent?i=this.fragCurrent.duration*f.maxBitrate/(1e3*h)+1:i=0}else i=0;const l=this.getBufferedFrag(t.currentTime+i);if(l){const c=this.followingBufferedFrag(l);if(c){this.abortCurrentFrag();const f=c.maxStartPTS?c.maxStartPTS:c.start,h=c.duration,g=Math.max(l.end,f+Math.min(Math.max(h-this.config.maxFragLookUpTolerance,h*(this.couldBacktrack?.5:.125)),h*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(g,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case on.KEY_LOADING:case on.FRAG_LOADING:case on.FRAG_LOADING_WAITING_RETRY:case on.PARSING:case on.PARSED:this.state=on.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const i=t.media;ys(i,"playing",this.onMediaPlaying),ys(i,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:i}=this;i&&(Ms(i,"playing",this.onMediaPlaying),Ms(i,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Te.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let i=!1,r=!1;for(let o=0;o<t.levels.length;o++){const l=t.levels[o].audioCodec;l&&(i=i||l.indexOf("mp4a.40.2")!==-1,r=r||l.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=i&&r&&!EK(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:i}=this;if(!i||this.state!==on.IDLE)return;const r=t.levelInfo;(!r.details||r.details.live&&(this.levelLastLoaded!==r||r.details.expired)||this.waitForCdnTuneIn(r.details))&&(this.state=on.WAITING_LEVEL)}onLevelLoaded(e,t){var i;const{levels:r,startFragRequested:o}=this,l=t.level,c=t.details,f=c.totalduration;if(!r){this.warn(`Levels were reset while loading level ${l}`);return}this.log(`Level ${l} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""}, cc [${c.startCC}, ${c.endCC}] duration:${f}`);const h=t.levelInfo,g=this.fragCurrent;g&&(this.state===on.FRAG_LOADING||this.state===on.FRAG_LOADING_WAITING_RETRY)&&g.level!==t.level&&g.loader&&this.abortCurrentFrag();let m=0;if(c.live||(i=h.details)!=null&&i.live){var p;if(this.checkLiveUpdate(c),c.deltaUpdateFailed)return;m=this.alignPlaylists(c,h.details,(p=this.levelLastLoaded)==null?void 0:p.details)}if(h.details=c,this.levelLastLoaded=h,o||this.setStartPosition(c,m),this.hls.trigger(Te.LEVEL_UPDATED,{details:c,level:l}),this.state===on.WAITING_LEVEL){if(this.waitForCdnTuneIn(c))return;this.state=on.IDLE}o&&c.live&&this.synchronizeToLiveEdge(c),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:i}=this;if(!i)return;const r=this.hls.liveSyncPosition,o=this.getLoadPosition(),l=e.fragmentStart,c=e.edge,f=o>=l-t.maxFragLookUpTolerance&&o<=c;if(r!==null&&i.duration>r&&(o<r||!f)){const g=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;if((!f&&i.readyState<4||o<c-g)&&(this._hasEnoughToStart||(this.nextLoadPosition=r),i.readyState))if(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${r.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var h;const m=_i.bufferInfo(i,r,0);if(!((h=m.buffered)!=null&&h.length)){i.currentTime=r;return}if(m.start<=o){i.currentTime=r;return}const{nextStart:y}=_i.bufferedInfo(m.buffered,o,0);y&&(i.currentTime=y)}else i.currentTime=r}}_handleFragmentLoadProgress(e){var t;const i=e.frag,{part:r,payload:o}=e,{levels:l}=this;if(!l){this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const c=l[i.level];if(!c){this.warn(`Level ${i.level} not found on progress`);return}const f=c.details;if(!f){this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),this.fragmentTracker.removeFragment(i);return}const h=c.videoCodec,g=f.PTSKnown||!f.live,m=(t=i.initSegment)==null?void 0:t.data,p=this._getAudioCodec(c),y=this.transmuxer=this.transmuxer||new GU(this.hls,Gn.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),E=r?r.index:-1,A=E!==-1,w=new Rk(i.level,i.sn,i.stats.chunkCount,o.byteLength,E,A),M=this.initPTS[i.cc];y.push(o,m,p,h,i,r,f.totalduration,g,w,M)}onAudioTrackSwitching(e,t){const i=this.hls,r=this.altAudio!==0;if(zT(t.url,i))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const l=this.fragCurrent;l&&(this.log("Switching to main audio track, cancel main fragment load"),l.abortRequests(),this.fragmentTracker.removeFragment(l)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(r){this.altAudio=0,this.fragmentTracker.removeAllFragments(),i.once(Te.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(Te.AUDIO_TRACK_SWITCHED,t)}),i.trigger(Te.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}i.trigger(Te.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const i=zT(t.url,this.hls);if(i){const r=this.videoBuffer;r&&this.mediaBuffer!==r&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=i?2:0,this.tick()}onBufferCreated(e,t){const i=t.tracks;let r,o,l=!1;for(const c in i){const f=i[c];if(f.id==="main"){if(o=c,r=f,c==="video"){const h=i[c];h&&(this.videoBuffer=h.buffer)}}else l=!0}l&&r?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:i,part:r}=t,o=i.type===Gn.MAIN;if(o){if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${r?" p: "+r.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),this.state===on.PARSED&&(this.state=on.IDLE);return}const c=r?r.stats:i.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),rr(i)&&(this.fragPrevious=i),this.fragBufferedComplete(i,r)}const l=this.media;l&&(!this._hasEnoughToStart&&_i.getBuffered(l).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),o&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var i;if(t.fatal){this.state=on.ERROR;return}switch(t.details){case Dt.FRAG_GAP:case Dt.FRAG_PARSING_ERROR:case Dt.FRAG_DECRYPT_ERROR:case Dt.FRAG_LOAD_ERROR:case Dt.FRAG_LOAD_TIMEOUT:case Dt.KEY_LOAD_ERROR:case Dt.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Gn.MAIN,t);break;case Dt.LEVEL_LOAD_ERROR:case Dt.LEVEL_LOAD_TIMEOUT:case Dt.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===on.WAITING_LEVEL&&((i=t.context)==null?void 0:i.type)===Ui.LEVEL&&(this.state=on.IDLE);break;case Dt.BUFFER_ADD_CODEC_ERROR:case Dt.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.resetLoadingState();break;case Dt.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case Dt.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=on.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Sa.AUDIO||!this.altAudio){const i=(t===Sa.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;i&&(this.afterBufferFlushed(i,t,Gn.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let i=this.startPosition;if(i>=0&&t<i){if(e.seeking){this.log(`could not seek to ${i}, already seeking at ${t}`);return}const r=this.timelineOffset;r&&i&&(i+=r);const o=this.getLevelDetails(),l=_i.getBuffered(e),c=l.length?l.start(0):0,f=c-i,h=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||f>0&&(f<h||this.loadingParts&&f<2*(o?.partTarget||0)))&&(this.log(`adjusting start position by ${f} to match buffer start`),i+=f,this.startPosition=i),t<i&&(this.log(`seek to target start position ${i} from current time ${t} buffer start ${c}`),e.currentTime=i)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(i=>{const{hls:r}=this,o=i?.frag;if(!o||this.fragContextChanged(o))return;t.fragmentError=0,this.state=on.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const l=o.stats;l.parsing.start=l.parsing.end=l.buffering.start=l.buffering.end=self.performance.now(),r.trigger(Te.FRAG_LOADED,i),o.bitrateTest=!1}).catch(i=>{this.state===on.STOPPED||this.state===on.ERROR||(this.warn(i),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const t=this.playlistType,{hls:i}=this,{remuxResult:r,chunkMeta:o}=e,l=this.getCurrentContext(o);if(!l){this.resetWhenMissingContext(o);return}const{frag:c,part:f,level:h}=l,{video:g,text:m,id3:p,initSegment:y}=r,{details:E}=h,A=this.altAudio?void 0:r.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=on.PARSING,y){const w=y.tracks;if(w){const O=c.initSegment||c;if(this.unhandledEncryptionError(y,c))return;this._bufferInitSegment(h,w,O,o),i.trigger(Te.FRAG_PARSING_INIT_SEGMENT,{frag:O,id:t,tracks:w})}const M=y.initPTS,x=y.timescale,C=this.initPTS[c.cc];if(Un(M)&&(!C||C.baseTime!==M||C.timescale!==x)){const O=y.trackId;this.initPTS[c.cc]={baseTime:M,timescale:x,trackId:O},i.trigger(Te.INIT_PTS_FOUND,{frag:c,id:t,initPTS:M,timescale:x,trackId:O})}}if(g&&E){A&&g.type==="audiovideo"&&this.logMuxedErr(c);const w=E.fragments[c.sn-1-E.startSN],M=c.sn===E.startSN,x=!w||c.cc>w.cc;if(r.independent!==!1){const{startPTS:C,endPTS:O,startDTS:z,endDTS:se}=g;if(f)f.elementaryStreams[g.type]={startPTS:C,endPTS:O,startDTS:z,endDTS:se};else if(g.firstKeyFrame&&g.independent&&o.id===1&&!x&&(this.couldBacktrack=!0),g.dropped&&g.independent){const F=this.getMainFwdBufferInfo(),H=(F?F.end:this.getLoadPosition())+this.config.maxBufferHole,be=g.firstKeyFramePTS?g.firstKeyFramePTS:C;if(!M&&H<be-this.config.maxBufferHole&&!x){this.backtrack(c);return}else x&&(c.gap=!0);c.setElementaryStreamInfo(g.type,c.start,O,c.start,se,!0)}else M&&C-(E.appliedTimelineOffset||0)>f_&&(c.gap=!0);c.setElementaryStreamInfo(g.type,C,O,z,se),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(g,c,f,o,M||x)}else if(M||x)c.gap=!0;else{this.backtrack(c);return}}if(A){const{startPTS:w,endPTS:M,startDTS:x,endDTS:C}=A;f&&(f.elementaryStreams[Sa.AUDIO]={startPTS:w,endPTS:M,startDTS:x,endDTS:C}),c.setElementaryStreamInfo(Sa.AUDIO,w,M,x,C),this.bufferFragmentData(A,c,f,o)}if(E&&p!=null&&p.samples.length){const w={id:t,frag:c,details:E,samples:p.samples};i.trigger(Te.FRAG_PARSING_METADATA,w)}if(E&&m){const w={id:t,frag:c,details:E,samples:m.samples};i.trigger(Te.FRAG_PARSING_USERDATA,w)}}logMuxedErr(e){this.warn(`${rr(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,i,r){if(this.state!==on.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(i));const{audio:o,video:l,audiovideo:c}=t;if(o){const h=e.audioCodec;let g=r_(o.codec,h);g==="mp4a"&&(g="mp4a.40.5");const m=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){g&&(g.indexOf("mp4a.40.5")!==-1?g="mp4a.40.2":g="mp4a.40.5");const p=o.metadata;p&&"channelCount"in p&&(p.channelCount||1)!==1&&m.indexOf("firefox")===-1&&(g="mp4a.40.5")}g&&g.indexOf("mp4a.40.5")!==-1&&m.indexOf("android")!==-1&&o.container!=="audio/mpeg"&&(g="mp4a.40.2",this.log(`Android: force audio codec to ${g}`)),h&&h!==g&&this.log(`Swapping manifest audio codec "${h}" for "${g}"`),o.levelCodec=g,o.id=Gn.MAIN,this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${g||""}/${h||""}/${o.codec}]`),delete t.audiovideo}if(l){l.levelCodec=e.videoCodec,l.id=Gn.MAIN;const h=l.codec;if(h?.length===4)switch(h){case"hvc1":case"hev1":l.codec="hvc1.1.6.L120.90";break;case"av01":l.codec="av01.0.04M.08";break;case"avc1":l.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${l.container}, codecs[level/parsed]=[${e.videoCodec||""}/${h}]${l.codec!==h?" parsed-corrected="+l.codec:""}${l.supplemental?" supplemental="+l.supplemental:""}`),delete t.audiovideo}c&&(this.log(`Init audiovideo buffer, container:${c.container}, codecs[level/parsed]=[${e.codecs}/${c.codec}]`),delete t.video,delete t.audio);const f=Object.keys(t);if(f.length){if(this.hls.trigger(Te.BUFFER_CODECS,t),!this.hls)return;f.forEach(h=>{const m=t[h].initSegment;m!=null&&m.byteLength&&this.hls.trigger(Te.BUFFER_APPENDING,{type:h,data:m,frag:i,part:null,chunkMeta:r,parent:i.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Gn.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,i=e?.[t];return i?this.getMaxBufferLength(i.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=on.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const i=e.currentTime;if(_i.isBuffered(e,i)?t=this.getAppendedFrag(i):_i.isBuffered(e,i+.1)&&(t=this.getAppendedFrag(i+.1)),t){this.backtrackFragment=null;const r=this.fragPlaying,o=t.level;(!r||t.sn!==r.sn||r.level!==o)&&(this.fragPlaying=t,this.hls.trigger(Te.FRAG_CHANGED,{frag:t}),(!r||r.level!==o)&&this.hls.trigger(Te.LEVEL_SWITCHED,{level:o}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Un(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Un(t)){const i=this.getLevelDetails(),r=this.currentFrag||(i?lh(null,i.fragments,t):null);if(r){const o=r.programDateTime;if(o!==null){const l=o+(t-r.start)*1e3;return new Date(l)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class TK extends Oo{constructor(e,t){super("key-loader",t),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const i in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[i].loader;if(r){var t;if(e&&e!==((t=r.context)==null?void 0:t.frag.type))return;r.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e].loader;t&&t.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,t=Dt.KEY_LOAD_ERROR,i,r,o){return new Zu({type:ti.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:o,error:i,networkDetails:r})}loadClear(e,t,i){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(t.length)for(let r=0,o=t.length;r<o;r++){const l=t[r];if(e.cc<=l.cc&&(!rr(e)||!rr(l)||e.sn<l.sn)||!i&&r==o-1)return this.emeController.selectKeySystemFormat(l).then(c=>{if(!this.emeController)return;l.setKeyFormat(c);const f=o_(c);if(f)return this.emeController.getKeySystemAccess([f])})}if(this.config.requireKeySystemAccessOnStart){const r=qv(this.config);if(r.length)return this.emeController.getKeySystemAccess(r)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var i,r;t&&e.setKeyFormat(t);const o=e.decryptdata;if(!o){const h=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,Dt.KEY_LOAD_ERROR,h))}const l=o.uri;if(!l)return Promise.reject(this.createKeyLoadError(e,Dt.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${l}"`)));const c=Zw(o);let f=this.keyIdToKeyInfo[c];if((i=f)!=null&&i.decryptdata.key)return o.key=f.decryptdata.key,Promise.resolve({frag:e,keyInfo:f});if(this.emeController&&(r=f)!=null&&r.keyLoadPromise)switch(this.emeController.getKeyStatus(f.decryptdata)){case"usable":case"usable-in-future":return f.keyLoadPromise.then(g=>{const{keyInfo:m}=g;return o.key=m.decryptdata.key,{frag:e,keyInfo:m}})}switch(this.log(`${this.keyIdToKeyInfo[c]?"Rel":"L"}oading${o.keyId?" keyId: "+Yr(o.keyId):""} URI: ${o.uri} from ${e.type} ${e.level}`),f=this.keyIdToKeyInfo[c]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return o.keyFormat==="identity"?this.loadKeyHTTP(f,e):this.loadKeyEME(f,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(f,e);default:return Promise.reject(this.createKeyLoadError(e,Dt.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(e,t){const i={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var r;if(!e.decryptdata.keyId&&(r=t.initSegment)!=null&&r.data){const l=$j(t.initSegment.data);if(l.length){let c=l[0];c.some(f=>f!==0)?(this.log(`Using keyId found in init segment ${Yr(c)}`),Od.setKeyIdForUri(e.decryptdata.uri,c)):(c=Od.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${Yr(c)}`)),e.decryptdata.keyId=c}}if(!e.decryptdata.keyId&&!rr(t))return Promise.resolve(i);const o=this.emeController.loadKey(i);return(e.keyLoadPromise=o.then(l=>(e.mediaKeySessionContext=l,i))).catch(l=>{throw e.keyLoadPromise=null,"data"in l&&(l.data.frag=t),l})}return Promise.resolve(i)}loadKeyHTTP(e,t){const i=this.config,r=i.loader,o=new r(i);return t.keyLoader=e.loader=o,e.keyLoadPromise=new Promise((l,c)=>{const f={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},h=i.keyLoadPolicy.default,g={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},m={onSuccess:(p,y,E,A)=>{const{frag:w,keyInfo:M}=E,x=Zw(M.decryptdata);if(!w.decryptdata||M!==this.keyIdToKeyInfo[x])return c(this.createKeyLoadError(w,Dt.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),A));M.decryptdata.key=w.decryptdata.key=new Uint8Array(p.data),w.keyLoader=null,M.loader=null,l({frag:w,keyInfo:M})},onError:(p,y,E,A)=>{this.resetLoader(y),c(this.createKeyLoadError(t,Dt.KEY_LOAD_ERROR,new Error(`HTTP Error ${p.code} loading key ${p.text}`),E,ma({url:f.url,data:void 0},p)))},onTimeout:(p,y,E)=>{this.resetLoader(y),c(this.createKeyLoadError(t,Dt.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),E))},onAbort:(p,y,E)=>{this.resetLoader(y),c(this.createKeyLoadError(t,Dt.INTERNAL_ABORTED,new Error("key loading aborted"),E))}};o.load(f,g,m)})}resetLoader(e){const{frag:t,keyInfo:i,url:r}=e,o=i.loader;t.keyLoader===o&&(t.keyLoader=null,i.loader=null);const l=Zw(i.decryptdata)||r;delete this.keyIdToKeyInfo[l],o&&o.destroy()}}function Zw(n){if(n.keyFormat!==Wr.FAIRPLAY){const e=n.keyId;if(e)return Yr(e)}return n.uri}function BM(n){const{type:e}=n;switch(e){case Ui.AUDIO_TRACK:return Gn.AUDIO;case Ui.SUBTITLE_TRACK:return Gn.SUBTITLE;default:return Gn.MAIN}}function Jw(n,e){let t=n.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class SK{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Te.LEVEL_LOADING,this.onLevelLoading,this),e.on(Te.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Te.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(Te.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(Te.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Te.LEVEL_LOADING,this.onLevelLoading,this),e.off(Te.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Te.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(Te.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,i=t.pLoader,r=t.loader,o=i||r,l=new o(t);return this.loaders[e.type]=l,l}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:i}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Ui.MANIFEST,url:i,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:i,level:r,pathwayId:o,url:l,deliveryDirectives:c,levelInfo:f}=t;this.load({id:i,level:r,pathwayId:o,responseType:"text",type:Ui.LEVEL,url:l,deliveryDirectives:c,levelOrTrack:f})}onAudioTrackLoading(e,t){const{id:i,groupId:r,url:o,deliveryDirectives:l,track:c}=t;this.load({id:i,groupId:r,level:null,responseType:"text",type:Ui.AUDIO_TRACK,url:o,deliveryDirectives:l,levelOrTrack:c})}onSubtitleTrackLoading(e,t){const{id:i,groupId:r,url:o,deliveryDirectives:l,track:c}=t;this.load({id:i,groupId:r,level:null,responseType:"text",type:Ui.SUBTITLE_TRACK,url:o,deliveryDirectives:l,levelOrTrack:c})}onLevelsUpdated(e,t){const i=this.loaders[Ui.LEVEL];if(i){const r=i.context;r&&!t.levels.some(o=>o===r.levelOrTrack)&&(i.abort(),delete this.loaders[Ui.LEVEL])}}load(e){var t;const i=this.hls.config;let r=this.getInternalLoader(e);if(r){const h=this.hls.logger,g=r.context;if(g&&g.levelOrTrack===e.levelOrTrack&&(g.url===e.url||g.deliveryDirectives&&!e.deliveryDirectives)){g.url===e.url?h.log(`[playlist-loader]: ignore ${e.url} ongoing request`):h.log(`[playlist-loader]: ignore ${e.url} in favor of ${g.url}`);return}h.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),r.abort()}let o;if(e.type===Ui.MANIFEST?o=i.manifestLoadPolicy.default:o=ba({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),r=this.createInternalLoader(e),Un((t=e.deliveryDirectives)==null?void 0:t.part)){let h;if(e.type===Ui.LEVEL&&e.level!==null?h=this.hls.levels[e.level].details:e.type===Ui.AUDIO_TRACK&&e.id!==null?h=this.hls.audioTracks[e.id].details:e.type===Ui.SUBTITLE_TRACK&&e.id!==null&&(h=this.hls.subtitleTracks[e.id].details),h){const g=h.partTarget,m=h.targetduration;if(g&&m){const p=Math.max(g*3,m*.8)*1e3;o=ba({},o,{maxTimeToFirstByteMs:Math.min(p,o.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(p,o.maxTimeToFirstByteMs)})}}}const l=o.errorRetry||o.timeoutRetry||{},c={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},f={onSuccess:(h,g,m,p)=>{const y=this.getInternalLoader(m);this.resetInternalLoader(m.type);const E=h.data;g.parsing.start=performance.now(),du.isMediaPlaylist(E)||m.type!==Ui.MANIFEST?this.handleTrackOrLevelPlaylist(h,g,m,p||null,y):this.handleMasterPlaylist(h,g,m,p)},onError:(h,g,m,p)=>{this.handleNetworkError(g,m,!1,h,p)},onTimeout:(h,g,m)=>{this.handleNetworkError(g,m,!0,void 0,h)}};r.load(e,c,f)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:i}=this.hls;(e||i)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,i,r){const o=this.hls,l=e.data,c=Jw(e,i),f=du.parseMasterPlaylist(l,c);if(f.playlistParsingError){t.parsing.end=performance.now(),this.handleManifestParsingError(e,i,f.playlistParsingError,r,t);return}const{contentSteering:h,levels:g,sessionData:m,sessionKeys:p,startTimeOffset:y,variableList:E}=f;this.variableList=E,g.forEach(x=>{const{unknownCodecs:C}=x;if(C){const{preferManagedMediaSource:O}=this.hls.config;let{audioCodec:z,videoCodec:se}=x;for(let F=C.length;F--;){const H=C[F];Ny(H,"audio",O)?(x.audioCodec=z=z?`${z},${H}`:H,Lg.audio[z.substring(0,4)]=2,C.splice(F,1)):Ny(H,"video",O)&&(x.videoCodec=se=se?`${se},${H}`:H,Lg.video[se.substring(0,4)]=2,C.splice(F,1))}}});const{AUDIO:A=[],SUBTITLES:w,"CLOSED-CAPTIONS":M}=du.parseMasterPlaylistMedia(l,c,f);A.length&&!A.some(C=>!C.url)&&g[0].audioCodec&&!g[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),A.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Ka({}),bitrate:0,url:""})),o.trigger(Te.MANIFEST_LOADED,{levels:g,audioTracks:A,subtitles:w,captions:M,contentSteering:h,url:c,stats:t,networkDetails:r,sessionData:m,sessionKeys:p,startTimeOffset:y,variableList:E})}handleTrackOrLevelPlaylist(e,t,i,r,o){const l=this.hls,{id:c,level:f,type:h}=i,g=Jw(e,i),m=Un(f)?f:Un(c)?c:0,p=BM(i),y=du.parseLevelPlaylist(e.data,g,m,p,0,this.variableList);if(h===Ui.MANIFEST){const E={attrs:new Ka({}),bitrate:0,details:y,name:"",url:g};y.requestScheduled=t.loading.start+bU(y,0),l.trigger(Te.MANIFEST_LOADED,{levels:[E],audioTracks:[],url:g,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),i.levelDetails=y,this.handlePlaylistLoaded(y,e,t,i,r,o)}handleManifestParsingError(e,t,i,r,o){this.hls.trigger(Te.ERROR,{type:ti.NETWORK_ERROR,details:Dt.MANIFEST_PARSING_ERROR,fatal:t.type===Ui.MANIFEST,url:e.url,err:i,error:i,reason:i.message,response:e,context:t,networkDetails:r,stats:o})}handleNetworkError(e,t,i=!1,r,o){let l=`A network ${i?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${e.type}`;e.type===Ui.LEVEL?l+=`: ${e.level} id: ${e.id}`:(e.type===Ui.AUDIO_TRACK||e.type===Ui.SUBTITLE_TRACK)&&(l+=` id: ${e.id} group-id: "${e.groupId}"`);const c=new Error(l);this.hls.logger.warn(`[playlist-loader]: ${l}`);let f=Dt.UNKNOWN,h=!1;const g=this.getInternalLoader(e);switch(e.type){case Ui.MANIFEST:f=i?Dt.MANIFEST_LOAD_TIMEOUT:Dt.MANIFEST_LOAD_ERROR,h=!0;break;case Ui.LEVEL:f=i?Dt.LEVEL_LOAD_TIMEOUT:Dt.LEVEL_LOAD_ERROR,h=!1;break;case Ui.AUDIO_TRACK:f=i?Dt.AUDIO_TRACK_LOAD_TIMEOUT:Dt.AUDIO_TRACK_LOAD_ERROR,h=!1;break;case Ui.SUBTITLE_TRACK:f=i?Dt.SUBTITLE_TRACK_LOAD_TIMEOUT:Dt.SUBTITLE_LOAD_ERROR,h=!1;break}g&&this.resetInternalLoader(e.type);const m={type:ti.NETWORK_ERROR,details:f,fatal:h,url:e.url,loader:g,context:e,error:c,networkDetails:t,stats:o};if(r){const p=t?.url||e.url;m.response=ma({url:p,data:void 0},r)}this.hls.trigger(Te.ERROR,m)}handlePlaylistLoaded(e,t,i,r,o,l){const c=this.hls,{type:f,level:h,levelOrTrack:g,id:m,groupId:p,deliveryDirectives:y}=r,E=Jw(t,r),A=BM(r);let w=typeof r.level=="number"&&A===Gn.MAIN?h:void 0;const M=e.playlistParsingError;if(M){if(this.hls.logger.warn(`${M} ${e.url}`),!c.config.ignorePlaylistParsingErrors){c.trigger(Te.ERROR,{type:ti.NETWORK_ERROR,details:Dt.LEVEL_PARSING_ERROR,fatal:!1,url:E,error:M,reason:M.message,response:t,context:r,level:w,parent:A,networkDetails:o,stats:i});return}e.playlistParsingError=null}if(!e.fragments.length){const x=e.playlistParsingError=new Error("No Segments found in Playlist");c.trigger(Te.ERROR,{type:ti.NETWORK_ERROR,details:Dt.LEVEL_EMPTY_ERROR,fatal:!1,url:E,error:x,reason:x.message,response:t,context:r,level:w,parent:A,networkDetails:o,stats:i});return}switch(e.live&&l&&(l.getCacheAge&&(e.ageHeader=l.getCacheAge()||0),(!l.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),f){case Ui.MANIFEST:case Ui.LEVEL:if(w){if(!g)w=0;else if(g!==c.levels[w]){const x=c.levels.indexOf(g);x>-1&&(w=x)}}c.trigger(Te.LEVEL_LOADED,{details:e,levelInfo:g||c.levels[0],level:w||0,id:m||0,stats:i,networkDetails:o,deliveryDirectives:y,withoutMultiVariant:f===Ui.MANIFEST});break;case Ui.AUDIO_TRACK:c.trigger(Te.AUDIO_TRACK_LOADED,{details:e,track:g,id:m||0,groupId:p||"",stats:i,networkDetails:o,deliveryDirectives:y});break;case Ui.SUBTITLE_TRACK:c.trigger(Te.SUBTITLE_TRACK_LOADED,{details:e,track:g,id:m||0,groupId:p||"",stats:i,networkDetails:o,deliveryDirectives:y});break}}}class Ar{static get version(){return Uy}static isMSESupported(){return E3()}static isSupported(){return yK()}static getMediaSource(){return Fd()}static get Events(){return Te}static get MetadataSchema(){return Qs}static get ErrorTypes(){return ti}static get ErrorDetails(){return Dt}static get DefaultConfig(){return Ar.defaultConfig?Ar.defaultConfig:sK}static set DefaultConfig(e){Ar.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ck,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=xj(e.debug||!1,"Hls instance",e.assetPlayerId),i=this.config=lK(Ar.DefaultConfig,e,t);this.userConfig=e,i.progressive&&uK(i,t);const{abrController:r,bufferController:o,capLevelController:l,errorController:c,fpsController:f}=i,h=new c(this),g=this.abrController=new r(this),m=new AH(this),p=i.interstitialsController,y=p?this.interstitialsController=new p(this,Ar):null,E=this.bufferController=new o(this,m),A=this.capLevelController=new l(this),w=new f(this),M=new SK(this),x=i.contentSteeringController,C=x?new x(this):null,O=this.levelController=new vK(this,C),z=new gK(this),se=new TK(this.config,this.logger),F=this.streamController=new _K(this,m,se),H=this.gapController=new hK(this,m);A.setStreamController(F),w.setStreamController(F);const be=[M,O,F];y&&be.splice(1,0,y),C&&be.splice(1,0,C),this.networkControllers=be;const Ae=[g,E,H,A,w,z,m];this.audioTrackController=this.createController(i.audioTrackController,be);const Me=i.audioStreamController;Me&&be.push(this.audioStreamController=new Me(this,m,se)),this.subtitleTrackController=this.createController(i.subtitleTrackController,be);const Ve=i.subtitleStreamController;Ve&&be.push(this.subtititleStreamController=new Ve(this,m,se)),this.createController(i.timelineController,Ae),se.emeController=this.emeController=this.createController(i.emeController,Ae),this.cmcdController=this.createController(i.cmcdController,Ae),this.latencyController=this.createController(pK,Ae),this.coreComponents=Ae,be.push(h);const Se=h.onErrorOut;typeof Se=="function"&&this.on(Te.ERROR,Se,h),this.on(Te.MANIFEST_LOADED,M.onManifestLoaded,M)}createController(e,t){if(e){const i=new e(this);return t&&t.push(i),i}return null}on(e,t,i=this){this._emitter.on(e,t,i)}once(e,t,i=this){this._emitter.once(e,t,i)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,i=this,r){this._emitter.off(e,t,i,r)}listeners(e){return this._emitter.listeners(e)}emit(e,t,i){return this._emitter.emit(e,t,i)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(i){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;const r=e===Te.ERROR;this.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.INTERNAL_EXCEPTION,fatal:r,event:e,error:i}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(Te.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const o=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(Te.ERROR,{type:ti.OTHER_ERROR,details:Dt.ATTACH_MEDIA_ERROR,fatal:!0,error:o});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,i=t?e.media:e,r=t?e:{media:i};this._media=i,this.trigger(Te.MEDIA_ATTACHING,r)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Te.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(Te.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,i=this._url,r=this._url=Ek.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${r}`),t&&i&&(i!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(Te.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let i=0;i<this.networkControllers.length&&(this.networkControllers[i].startLoad(e,t),!(!this.started||!this.networkControllers));i++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Gn.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Gn.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Gn.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=hV()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){lH(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const i=e.length;for(let r=0;r<i;r++)if(e[r].maxBitrate>=t)return r;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:i}=this;let r;if(t===-1&&e!=null&&e.length?r=e.length-1:r=t,i)for(let o=r;o--;){const l=e[o].attrs["HDCP-LEVEL"];if(l&&l<=i)return o}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const i=rU(t);return iU(e,i,navigator.mediaCapabilities)}}Ar.defaultConfig=void 0;const AK=n=>class extends n{static shadowRootOptions={...n.shadowRootOptions};static getTemplateHTML=(t,i={})=>{const{src:r,...o}=t;return`
        <script type="application/json" id="config">
          ${JSON.stringify(i.config||{})}
        <\/script>
        ${n.getTemplateHTML(o)}
      `};#e=null;#a=null;constructor(){super(),this.#n("config")}get config(){return this.#a}set config(t){this.#a=t}attributeChangedCallback(t,i,r){t!=="src"&&super.attributeChangedCallback(t,i,r),t==="src"&&i!=r&&this.load()}#i(){var t,i;(t=this.#e)==null||t.remove(),(i=this.nativeEl)==null||i.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.#t),this.api&&(this.api.detachMedia(),this.api.destroy(),this.api=null)}async load(){var t,i;const r=!this.api;if(this.#i(),!!this.src){if(r&&!this.#a&&(this.#a=JSON.parse(((t=this.shadowRoot.getElementById("config"))==null?void 0:t.textContent)||"{}")),Ar.isSupported()){switch(await Promise.resolve(),this.api=new Ar({liveDurationInfinity:!0,autoStartLoad:!1,...this.config}),this.api.loadSource(this.src),this.api.attachMedia(this.nativeEl),this.nativeEl.preload){case"none":{const h=()=>this.api.startLoad();this.nativeEl.addEventListener("play",h,{once:!0}),this.api.on(Ar.Events.DESTROYING,()=>{this.nativeEl.removeEventListener("play",h)});break}case"metadata":{const h=this.api.config.maxBufferLength,g=this.api.config.maxBufferSize;this.api.config.maxBufferLength=1,this.api.config.maxBufferSize=1;const m=()=>{this.api.config.maxBufferLength=h,this.api.config.maxBufferSize=g};this.nativeEl.addEventListener("play",m,{once:!0}),this.api.on(Ar.Events.DESTROYING,()=>{this.nativeEl.removeEventListener("play",m)}),this.api.startLoad();break}default:this.api.startLoad()}this.nativeEl.webkitCurrentPlaybackTargetIsWireless&&this.api.stopLoad(),this.nativeEl.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.#t),this.#e=document.createElement("source"),this.#e.setAttribute("type","application/x-mpegURL"),this.#e.setAttribute("src",this.src),this.nativeEl.disableRemotePlayback=!1,this.nativeEl.append(this.#e);const o=new WeakMap;this.api.on(Ar.Events.MANIFEST_PARSED,(h,g)=>{this.nativeEl.autoplay&&this.nativeEl.paused&&this.nativeEl.play().catch(p=>{console.warn("Autoplay failed:",p)}),f();let m=this.videoTracks.getTrackById("main");m||(m=this.addVideoTrack("main"),m.id="main",m.selected=!0);for(const[p,y]of g.levels.entries()){const E=m.addRendition(y.url[0],y.width,y.height,y.videoCodec,y.bitrate);o.set(y,`${p}`),E.id=`${p}`}for(let[p,y]of g.audioTracks.entries()){const E=y.default?"main":"alternative",A=this.addAudioTrack(E,y.name,y.lang);A.id=`${p}`,y.default&&(A.enabled=!0)}}),this.audioTracks.addEventListener("change",()=>{var h;const g=+((h=[...this.audioTracks].find(p=>p.enabled))==null?void 0:h.id),m=this.api.audioTracks.map(p=>p.id);g!=this.api.audioTrack&&m.includes(g)&&(this.api.audioTrack=g)}),this.api.on(Ar.Events.LEVELS_UPDATED,(h,g)=>{const m=this.videoTracks[this.videoTracks.selectedIndex??0];if(!m)return;const p=g.levels.map(y=>o.get(y));for(const y of this.videoRenditions)y.id&&!p.includes(y.id)&&m.removeRendition(y)});let l=null;this.api.on(Ar.Events.ERROR,(h,g)=>{g.type===Ar.ErrorTypes.NETWORK_ERROR&&g.details===Ar.ErrorDetails.FRAG_LOAD_ERROR&&(l=g.frag.level)}),this.api.on(Ar.Events.LEVEL_SWITCHED,(h,g)=>{const m=g.level;l!==null&&m<l&&(console.warn(` hls.js downgraded quality from level ${l} to ${m} due to fragment load failure.`),this.videoRenditions.selectedIndex=m,l=null)});const c=h=>{const g=h.target.selectedIndex;g!=this.api.nextLevel&&(this.api.nextLevel=g)};(i=this.videoRenditions)==null||i.addEventListener("change",c);const f=()=>{for(const h of this.videoTracks)this.removeVideoTrack(h);for(const h of this.audioTracks)this.removeAudioTrack(h)};this.api.once(Ar.Events.DESTROYING,f);return}await Promise.resolve(),this.nativeEl.canPlayType("application/vnd.apple.mpegurl")&&(this.nativeEl.src=this.src)}}#t=()=>{var t,i,r;(t=this.nativeEl)!=null&&t.webkitCurrentPlaybackTargetIsWireless?(i=this.api)==null||i.stopLoad():(r=this.api)==null||r.startLoad()};#n(t){if(Object.prototype.hasOwnProperty.call(this,t)){const i=this[t];delete this[t],this[t]=i}}},b3=AK(yk(Md));globalThis.customElements&&!globalThis.customElements.get("hls-video")&&globalThis.customElements.define("hls-video",b3);var wK=b3,RK=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),IK={className:"class",htmlFor:"for"};function _3(n){return n.toLowerCase()}function zM(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function kK({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=_3,toAttributeValue:c=zM}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(RK.has(O)){x[O]=z;continue}const se=l(IK[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=zM(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)$M(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)$M(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function $M(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var xK=kK({react:Gi,tagName:"hls-video",elementClass:wK,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":_3(n)}});const CK=Object.freeze(Object.defineProperty({__proto__:null,default:xK},Symbol.toStringTag,{value:"Module"}));class T3 extends yk(Md){static shadowRootOptions={...Md.shadowRootOptions};static getTemplateHTML=e=>{const{src:t,...i}=e;return Md.getTemplateHTML(i)};#e;attributeChangedCallback(e,t,i){e!=="src"&&super.attributeChangedCallback(e,t,i),e==="src"&&t!=i&&this.load()}async _initThumbnails(e){const t=async(c,f)=>{const h=[],g=e.timescale||1,m=e.startNumber||1,p=e.presentationTimeOffset?e.presentationTimeOffset/g:0,y=e.segmentDuration;for(let E=0;E<c;E++){const A=LK({thIndex:E,thduration:f,ttiles:c,tduration:y,startNumber:m,pto:p}),w=A+f,M=new Promise((x,C)=>{this.api.provideThumbnail(A,({url:O,width:z,height:se,x:F,y:H})=>{try{const be=new VTTCue(A,w,`${O}#xywh=${F},${H},${z},${se}`);x(be)}catch(be){C(be)}})});h.push(M)}return await Promise.all(h).catch(E=>console.error("Error processing thumbnails",E))},{totalThumbnails:i,thumbnailDuration:r}=DK(e),o=await t(i,r);let l=this.nativeEl.querySelector('track[label="thumbnails"]');if(!l){l=MK(),this.nativeEl.appendChild(l);const c=NK(o);l.src=c,l.dispatchEvent(new Event("change"))}}async load(){if(this.#e){this.api.attachSource(this.src);return}this.#e=!0;const e=await ol(()=>Promise.resolve().then(()=>dre),void 0);this.api=e.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(e.MediaPlayer.events.STREAM_INITIALIZED,()=>{const t=this.api.getRepresentationsByType("video");let i=this.videoTracks.getTrackById("main");i||(i=this.addVideoTrack("main"),i.id="main",i.selected=!0),t.forEach(r=>{const o=r.bandwidth??r.bitrate??(Number.isFinite(r.bitrateInKbit)?r.bitrateInKbit*1e3:void 0),l=i.addRendition(r.id,r.width,r.height,r.mimeType??r.codec,o);l.id=r.id}),this.videoRenditions.addEventListener("change",()=>{const r=this.videoRenditions[this.videoRenditions.selectedIndex];r?.id?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById("video",r.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})}),this.api.isDynamic()||this.api.getRepresentationsByType("image").forEach(async(o,l)=>{l>0||this._initThumbnails(o)})})}}function DK(n){var e,t;const i=n.essentialProperties[0],[r,o]=i.value.split("x").map(Number),l=r*o,c=((t=(e=n.adaptation)==null?void 0:e.period)==null?void 0:t.duration)||null,f=n.segmentDuration,h=n.timescale||1,m=f/h/l;return{totalThumbnails:c!=null?Math.ceil(c/m):Math.ceil(f/m),thumbnailDuration:m}}function LK({thIndex:n,tduration:e,thduration:t,ttiles:i,startNumber:r,pto:o}){const l=Math.floor(n/i)+r,c=n%i+1,f=(l-1)*e-o,h=(c-1)*t;return f+h}function MK(){const n=document.createElement("track");return n.kind="metadata",n.label="thumbnails",n.srclang="en",n.mode="hidden",n.default=!0,n}function NK(n){let e=`WEBVTT

`;for(const r of n)e+=`${i(r.startTime)} --> ${i(r.endTime)}
`,e+=`${r.text}

`;const t=new Blob([e],{type:"text/vtt"});return URL.createObjectURL(t);function i(r){const o=String(Math.floor(r/3600)).padStart(2,"0"),l=String(Math.floor(r%3600/60)).padStart(2,"0"),c=(r%60).toFixed(3).padStart(6,"0");return`${o}:${l}:${c}`}}globalThis.customElements&&!globalThis.customElements.get("dash-video")&&globalThis.customElements.define("dash-video",T3);var OK=T3,PK=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),UK={className:"class",htmlFor:"for"};function S3(n){return n.toLowerCase()}function qM(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function FK({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=S3,toAttributeValue:c=qM}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(PK.has(O)){x[O]=z;continue}const se=l(UK[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=qM(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)jM(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)jM(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function jM(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var BK=FK({react:Gi,tagName:"dash-video",elementClass:OK,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":S3(n)}});const zK=Object.freeze(Object.defineProperty({__proto__:null,default:BK},Symbol.toStringTag,{value:"Module"}));var $K=Object.create,A3=Object.defineProperty,qK=Object.getOwnPropertyDescriptor,jK=Object.getOwnPropertyNames,HK=Object.getPrototypeOf,GK=Object.prototype.hasOwnProperty,w3=function(n,e){return function(){return n&&(e=n(n=0)),e}},Os=function(n,e){return function(){return e||n((e={exports:{}}).exports,e),e.exports}},VK=function(n,e,t,i){if(e&&typeof e=="object"||typeof e=="function")for(var r=jK(e),o=0,l=r.length,c;o<l;o++)c=r[o],!GK.call(n,c)&&c!==t&&A3(n,c,{get:(function(f){return e[f]}).bind(null,c),enumerable:!(i=qK(e,c))||i.enumerable});return n},no=function(n,e,t){return t=n!=null?$K(HK(n)):{},VK(!n||!n.__esModule?A3(t,"default",{value:n,enumerable:!0}):t,n)},Al=Os(function(n,e){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={},e.exports=t});function ph(n,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](n):ph(n,e)}var vh=w3(function(){vh()});function R3(n){"@swc/helpers - typeof";return n&&typeof Symbol<"u"&&n.constructor===Symbol?"symbol":typeof n}var I3=w3(function(){}),k3=Os(function(n,e){var t=Array.prototype.slice;e.exports=i;function i(r,o){for(("length"in r)||(r=[r]),r=t.call(r);r.length;){var l=r.shift(),c=o(l);if(c)return c;l.childNodes&&l.childNodes.length&&(r=t.call(l.childNodes).concat(r))}}}),KK=Os(function(n,e){vh(),e.exports=t;function t(i,r){if(!ph(this,t))return new t(i,r);this.data=i,this.nodeValue=i,this.length=i.length,this.ownerDocument=r||null}t.prototype.nodeType=8,t.prototype.nodeName="#comment",t.prototype.toString=function(){return"[object Comment]"}}),YK=Os(function(n,e){vh(),e.exports=t;function t(i,r){if(!ph(this,t))return new t(i);this.data=i||"",this.length=this.data.length,this.ownerDocument=r||null}t.prototype.type="DOMTextNode",t.prototype.nodeType=3,t.prototype.nodeName="#text",t.prototype.toString=function(){return this.data},t.prototype.replaceData=function(i,r,o){var l=this.data,c=l.substring(0,i),f=l.substring(i+r,l.length);this.data=c+o+f,this.length=this.data.length}}),x3=Os(function(n,e){e.exports=t;function t(i){var r=this,o=i.type;i.target||(i.target=r),r.listeners||(r.listeners={});var l=r.listeners[o];if(l)return l.forEach(function(c){i.currentTarget=r,typeof c=="function"?c(i):c.handleEvent(i)});r.parentNode&&r.parentNode.dispatchEvent(i)}}),C3=Os(function(n,e){e.exports=t;function t(i,r){var o=this;o.listeners||(o.listeners={}),o.listeners[i]||(o.listeners[i]=[]),o.listeners[i].indexOf(r)===-1&&o.listeners[i].push(r)}}),D3=Os(function(n,e){e.exports=t;function t(i,r){var o=this;if(o.listeners&&o.listeners[i]){var l=o.listeners[i],c=l.indexOf(r);c!==-1&&l.splice(c,1)}}}),WK=Os(function(n,e){I3(),e.exports=i;var t=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function i(p){switch(p.nodeType){case 3:return g(p.data);case 8:return"<!--"+p.data+"-->";default:return r(p)}}function r(p){var y=[],E=p.tagName;return p.namespaceURI==="http://www.w3.org/1999/xhtml"&&(E=E.toLowerCase()),y.push("<"+E+h(p)+c(p)),t.indexOf(E)>-1?y.push(" />"):(y.push(">"),p.childNodes.length?y.push.apply(y,p.childNodes.map(i)):p.textContent||p.innerText?y.push(g(p.textContent||p.innerText)):p.innerHTML&&y.push(p.innerHTML),y.push("</"+E+">")),y.join("")}function o(p,y){var E=R3(p[y]);return y==="style"&&Object.keys(p.style).length>0?!0:p.hasOwnProperty(y)&&(E==="string"||E==="boolean"||E==="number")&&y!=="nodeName"&&y!=="className"&&y!=="tagName"&&y!=="textContent"&&y!=="innerText"&&y!=="namespaceURI"&&y!=="innerHTML"}function l(p){if(typeof p=="string")return p;var y="";return Object.keys(p).forEach(function(E){var A=p[E];E=E.replace(/[A-Z]/g,function(w){return"-"+w.toLowerCase()}),y+=E+":"+A+";"}),y}function c(p){var y=p.dataset,E=[];for(var A in y)E.push({name:"data-"+A,value:y[A]});return E.length?f(E):""}function f(p){var y=[];return p.forEach(function(E){var A=E.name,w=E.value;A==="style"&&(w=l(w)),y.push(A+'="'+m(w)+'"')}),y.length?" "+y.join(" "):""}function h(p){var y=[];for(var E in p)o(p,E)&&y.push({name:E,value:p[E]});for(var A in p._attributes)for(var w in p._attributes[A]){var M=p._attributes[A][w],x=(M.prefix?M.prefix+":":"")+w;y.push({name:x,value:M.value})}return p.className&&y.push({name:"class",value:p.className}),y.length?f(y):""}function g(p){var y="";return typeof p=="string"?y=p:p&&(y=p.toString()),y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(p){return g(p).replace(/"/g,"&quot;")}}),L3=Os(function(n,e){vh();var t=k3(),i=x3(),r=C3(),o=D3(),l=WK(),c="http://www.w3.org/1999/xhtml";e.exports=f;function f(h,g,m){if(!ph(this,f))return new f(h);var p=m===void 0?c:m||null;this.tagName=p===c?String(h).toUpperCase():h,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=g||null,this.namespaceURI=p,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}f.prototype.type="DOMElement",f.prototype.nodeType=1,f.prototype.appendChild=function(h){return h.parentNode&&h.parentNode.removeChild(h),this.childNodes.push(h),h.parentNode=this,h},f.prototype.replaceChild=function(h,g){h.parentNode&&h.parentNode.removeChild(h);var m=this.childNodes.indexOf(g);return g.parentNode=null,this.childNodes[m]=h,h.parentNode=this,g},f.prototype.removeChild=function(h){var g=this.childNodes.indexOf(h);return this.childNodes.splice(g,1),h.parentNode=null,h},f.prototype.insertBefore=function(h,g){h.parentNode&&h.parentNode.removeChild(h);var m=g==null?-1:this.childNodes.indexOf(g);return m>-1?this.childNodes.splice(m,0,h):this.childNodes.push(h),h.parentNode=this,h},f.prototype.setAttributeNS=function(h,g,m){var p=null,y=g,E=g.indexOf(":");if(E>-1&&(p=g.substr(0,E),y=g.substr(E+1)),this.tagName==="INPUT"&&g==="type")this.type=m;else{var A=this._attributes[h]||(this._attributes[h]={});A[y]={value:m,prefix:p}}},f.prototype.getAttributeNS=function(h,g){var m=this._attributes[h],p=m&&m[g]&&m[g].value;return this.tagName==="INPUT"&&g==="type"?this.type:typeof p!="string"?null:p},f.prototype.removeAttributeNS=function(h,g){var m=this._attributes[h];m&&delete m[g]},f.prototype.hasAttributeNS=function(h,g){var m=this._attributes[h];return!!m&&g in m},f.prototype.setAttribute=function(h,g){return this.setAttributeNS(null,h,g)},f.prototype.getAttribute=function(h){return this.getAttributeNS(null,h)},f.prototype.removeAttribute=function(h){return this.removeAttributeNS(null,h)},f.prototype.hasAttribute=function(h){return this.hasAttributeNS(null,h)},f.prototype.removeEventListener=o,f.prototype.addEventListener=r,f.prototype.dispatchEvent=i,f.prototype.focus=function(){},f.prototype.toString=function(){return l(this)},f.prototype.getElementsByClassName=function(h){var g=h.split(" "),m=[];return t(this,function(p){if(p.nodeType===1){var y=p.className||"",E=y.split(" ");g.every(function(A){return E.indexOf(A)!==-1})&&m.push(p)}}),m},f.prototype.getElementsByTagName=function(h){h=h.toLowerCase();var g=[];return t(this.childNodes,function(m){m.nodeType===1&&(h==="*"||m.tagName.toLowerCase()===h)&&g.push(m)}),g},f.prototype.contains=function(h){return t(this,function(g){return h===g})||!1}}),QK=Os(function(n,e){vh();var t=L3();e.exports=i;function i(r){if(!ph(this,i))return new i;this.childNodes=[],this.parentNode=null,this.ownerDocument=r||null}i.prototype.type="DocumentFragment",i.prototype.nodeType=11,i.prototype.nodeName="#document-fragment",i.prototype.appendChild=t.prototype.appendChild,i.prototype.replaceChild=t.prototype.replaceChild,i.prototype.removeChild=t.prototype.removeChild,i.prototype.toString=function(){return this.childNodes.map(function(r){return String(r)}).join("")}}),XK=Os(function(n,e){e.exports=t;function t(i){}t.prototype.initEvent=function(i,r,o){this.type=i,this.bubbles=r,this.cancelable=o},t.prototype.preventDefault=function(){}}),ZK=Os(function(n,e){vh();var t=k3(),i=KK(),r=YK(),o=L3(),l=QK(),c=XK(),f=x3(),h=C3(),g=D3();e.exports=m;function m(){if(!ph(this,m))return new m;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var p=m.prototype;p.createTextNode=function(y){return new r(y,this)},p.createElementNS=function(y,E){var A=y===null?null:String(y);return new o(E,this,A)},p.createElement=function(y){return new o(y,this)},p.createDocumentFragment=function(){return new l(this)},p.createEvent=function(y){return new c(y)},p.createComment=function(y){return new i(y,this)},p.getElementById=function(y){y=String(y);var E=t(this.childNodes,function(A){if(String(A.id)===y)return A});return E||null},p.getElementsByClassName=o.prototype.getElementsByClassName,p.getElementsByTagName=o.prototype.getElementsByTagName,p.contains=o.prototype.contains,p.removeEventListener=g,p.addEventListener=h,p.dispatchEvent=f}),JK=Os(function(n,e){var t=ZK();e.exports=new t}),M3=Os(function(n,e){var t=typeof global<"u"?global:typeof window<"u"?window:{},i=JK(),r;typeof document<"u"?r=document:(r=t["__GLOBAL_DOCUMENT_CACHE@4"],r||(r=t["__GLOBAL_DOCUMENT_CACHE@4"]=i)),e.exports=r});function eY(n){if(Array.isArray(n))return n}function tY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,o=!1,l,c;try{for(t=t.call(n);!(r=(l=t.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(f){o=!0,c=f}finally{try{!r&&t.return!=null&&t.return()}finally{if(o)throw c}}return i}}function nY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function N3(n,e){if(n){if(typeof n=="string")return MR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MR(n,e)}}function mc(n,e){return eY(n)||tY(n,e)||N3(n,e)||nY()}var by=no(Al()),HM=no(Al()),iY=no(Al()),aY={now:function(){var n=iY.default.performance,e=n&&n.timing,t=e&&e.navigationStart,i=typeof t=="number"&&typeof n.now=="function"?t+n.now():Date.now();return Math.round(i)}},pr=aY,$y=function(){var n,e,t;if(typeof((n=HM.default.crypto)===null||n===void 0?void 0:n.getRandomValues)=="function"){t=new Uint8Array(32),HM.default.crypto.getRandomValues(t);for(var i=0;i<32;i++)t[i]=t[i]%16}else{t=[];for(var r=0;r<32;r++)t[r]=Math.random()*16|0}var o=0;e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var h=f==="x"?t[o]:t[o]&3|8;return o++,h.toString(16)});var l=pr.now(),c=l?.toString(16).substring(3);return c?e.substring(0,28)+c:e},O3=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},al=function(n){if(n&&typeof n.nodeName<"u")return n.muxId||(n.muxId=O3()),n.muxId;var e;try{e=document.querySelector(n)}catch{}return e&&!e.muxId&&(e.muxId=n),e?.muxId||n},YT=function(n){var e;n&&typeof n.nodeName<"u"?(e=n,n=al(e)):e=document.querySelector(n);var t=e&&e.nodeName?e.nodeName.toLowerCase():"";return[e,n,t]};function rY(n){if(Array.isArray(n))return MR(n)}function sY(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function oY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rl(n){return rY(n)||sY(n)||N3(n)||oY()}var zf={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},lY=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t,i,r,o,l,c=[console,n],f=(t=console.trace).bind.apply(t,rl(c)),h=(i=console.info).bind.apply(i,rl(c)),g=(r=console.debug).bind.apply(r,rl(c)),m=(o=console.warn).bind.apply(o,rl(c)),p=(l=console.error).bind.apply(l,rl(c)),y=e;return{trace:function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];if(!(y>zf.TRACE))return f.apply(void 0,rl(A))},debug:function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];if(!(y>zf.DEBUG))return g.apply(void 0,rl(A))},info:function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];if(!(y>zf.INFO))return h.apply(void 0,rl(A))},warn:function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];if(!(y>zf.WARN))return m.apply(void 0,rl(A))},error:function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];if(!(y>zf.ERROR))return p.apply(void 0,rl(A))},get level(){return y},set level(E){E!==this.level&&(y=E??e)}}},Ta=lY("[mux]"),e1=no(Al());function NR(){var n=e1.default.doNotTrack||e1.default.navigator&&e1.default.navigator.doNotTrack;return n==="1"}function gi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}vh();function Or(n,e){if(!ph(n,e))throw new TypeError("Cannot call a class as a function")}function uY(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Tu(n,e,t){return e&&uY(n.prototype,e),n}function kn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ng(n){return Ng=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ng(n)}function cY(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=Ng(n),n!==null););return n}function h_(n,e,t){return typeof Reflect<"u"&&Reflect.get?h_=Reflect.get:h_=function(i,r,o){var l=cY(i,r);if(l){var c=Object.getOwnPropertyDescriptor(l,r);return c.get?c.get.call(o||i):c.value}},h_(n,e,t||n)}function OR(n,e){return OR=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},OR(n,e)}function dY(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&OR(n,e)}function fY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}I3();function hY(n,e){return e&&(R3(e)==="object"||typeof e=="function")?e:gi(n)}function mY(n){var e=fY();return function(){var t=Ng(n),i;if(e){var r=Ng(this).constructor;i=Reflect.construct(t,arguments,r)}else i=t.apply(this,arguments);return hY(this,i)}}var hl=function(n){return qy(n)[0]},qy=function(n){if(typeof n!="string"||n==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,t=n.match(e)||[],i=t[4],r;return i&&(r=(i.match(/[^\.]+\.[^\.]+$/)||[])[0]),[i,r]},t1=no(Al()),gY={exists:function(){var n=t1.default.performance,e=n&&n.timing;return e!==void 0},domContentLoadedEventEnd:function(){var n=t1.default.performance,e=n&&n.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var n=t1.default.performance,e=n&&n.timing;return e&&e.navigationStart}},WT=gY;function gr(n,e,t){t=t===void 0?1:t,n[e]=n[e]||0,n[e]+=t}function QT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){kn(n,r,t[r])})}return n}function pY(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t.push.apply(t,i)}return t}function jk(n,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pY(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n}var vY=["x-cdn","content-type"],P3=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],yY=vY.concat(P3);function Hk(n){n=n||"";var e={},t=n.trim().split(/[\r\n]+/);return t.forEach(function(i){if(i){var r=i.split(": "),o=r.shift();o&&(yY.indexOf(o.toLowerCase())>=0||o.toLowerCase().indexOf("x-litix-")===0)&&(e[o]=r.join(": "))}}),e}function XT(n){if(n){var e=P3.find(function(t){return n[t]!==void 0});return e?n[e]:void 0}}var EY=function(n){var e={};for(var t in n){var i=n[t],r=i["DATA-ID"].search("io.litix.data.");if(r!==-1){var o=i["DATA-ID"].replace("io.litix.data.","");e[o]=i.VALUE}}return e},U3=EY,D0=function(n){if(!n)return{};var e=WT.navigationStart(),t=n.loading,i=t?t.start:n.trequest,r=t?t.first:n.tfirst,o=t?t.end:n.tload;return{bytesLoaded:n.total,requestStart:Math.round(e+i),responseStart:Math.round(e+r),responseEnd:Math.round(e+o)}},Iv=function(n){if(!(!n||typeof n.getAllResponseHeaders!="function"))return Hk(n.getAllResponseHeaders())},bY=function(n,e,t){var i=arguments.length>4?arguments[4]:void 0,r=n.log,o=n.utils.secondsToMs,l=function(w){var M=parseInt(i.version),x;return M===1&&w.programDateTime!==null&&(x=w.programDateTime),M===0&&w.pdt!==null&&(x=w.pdt),x};if(!WT.exists()){r.warn("performance timing not supported. Not tracking HLS.js.");return}var c=function(w,M){return n.emit(e,w,M)},f=function(w,M){var x=M.levels,C=M.audioTracks,O=M.url,z=M.stats,se=M.networkDetails,F=M.sessionData,H={},be={};x.forEach(function(Ue,he){H[he]={width:Ue.width,height:Ue.height,bitrate:Ue.bitrate,attrs:Ue.attrs}}),C.forEach(function(Ue,he){be[he]={name:Ue.name,language:Ue.lang,bitrate:Ue.bitrate}});var Ae=D0(z),Me=Ae.bytesLoaded,Ve=Ae.requestStart,Se=Ae.responseStart,He=Ae.responseEnd;c("requestcompleted",jk(QT({},U3(F)),{request_event_type:w,request_bytes_loaded:Me,request_start:Ve,request_response_start:Se,request_response_end:He,request_type:"manifest",request_hostname:hl(O),request_response_headers:Iv(se),request_rendition_lists:{media:H,audio:be,video:{}}}))};t.on(i.Events.MANIFEST_LOADED,f);var h=function(w,M){var x=M.details,C=M.level,O=M.networkDetails,z=M.stats,se=D0(z),F=se.bytesLoaded,H=se.requestStart,be=se.responseStart,Ae=se.responseEnd,Me=x.fragments[x.fragments.length-1],Ve=l(Me)+o(Me.duration);c("requestcompleted",{request_event_type:w,request_bytes_loaded:F,request_start:H,request_response_start:be,request_response_end:Ae,request_current_level:C,request_type:"manifest",request_hostname:hl(x.url),request_response_headers:Iv(O),video_holdback:x.holdBack&&o(x.holdBack),video_part_holdback:x.partHoldBack&&o(x.partHoldBack),video_part_target_duration:x.partTarget&&o(x.partTarget),video_target_duration:x.targetduration&&o(x.targetduration),video_source_is_live:x.live,player_manifest_newest_program_time:isNaN(Ve)?void 0:Ve})};t.on(i.Events.LEVEL_LOADED,h);var g=function(w,M){var x=M.details,C=M.networkDetails,O=M.stats,z=D0(O),se=z.bytesLoaded,F=z.requestStart,H=z.responseStart,be=z.responseEnd;c("requestcompleted",{request_event_type:w,request_bytes_loaded:se,request_start:F,request_response_start:H,request_response_end:be,request_type:"manifest",request_hostname:hl(x.url),request_response_headers:Iv(C)})};t.on(i.Events.AUDIO_TRACK_LOADED,g);var m=function(w,M){var x=M.stats,C=M.networkDetails,O=M.frag;x=x||O.stats;var z=D0(x),se=z.bytesLoaded,F=z.requestStart,H=z.responseStart,be=z.responseEnd,Ae=C?Iv(C):void 0,Me={request_event_type:w,request_bytes_loaded:se,request_start:F,request_response_start:H,request_response_end:be,request_hostname:C?hl(C.responseURL):void 0,request_id:Ae?XT(Ae):void 0,request_response_headers:Ae,request_media_duration:O.duration,request_url:C?.responseURL};O.type==="main"?(Me.request_type="media",Me.request_current_level=O.level,Me.request_video_width=(t.levels[O.level]||{}).width,Me.request_video_height=(t.levels[O.level]||{}).height,Me.request_labeled_bitrate=(t.levels[O.level]||{}).bitrate):Me.request_type=O.type,c("requestcompleted",Me)};t.on(i.Events.FRAG_LOADED,m);var p=function(w,M){var x=M.frag,C=x.start,O=l(x),z={currentFragmentPDT:O,currentFragmentStart:o(C)};c("fragmentchange",z)};t.on(i.Events.FRAG_CHANGED,p);var y=function(w,M){var x=M.type,C=M.details,O=M.response,z=M.fatal,se=M.frag,F=M.networkDetails,H=se?.url||M.url||"",be=F?Iv(F):void 0;if((C===i.ErrorDetails.MANIFEST_LOAD_ERROR||C===i.ErrorDetails.MANIFEST_LOAD_TIMEOUT||C===i.ErrorDetails.FRAG_LOAD_ERROR||C===i.ErrorDetails.FRAG_LOAD_TIMEOUT||C===i.ErrorDetails.LEVEL_LOAD_ERROR||C===i.ErrorDetails.LEVEL_LOAD_TIMEOUT||C===i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||C===i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||C===i.ErrorDetails.SUBTITLE_LOAD_ERROR||C===i.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||C===i.ErrorDetails.KEY_LOAD_ERROR||C===i.ErrorDetails.KEY_LOAD_TIMEOUT)&&c("requestfailed",{request_error:C,request_url:H,request_hostname:hl(H),request_id:be?XT(be):void 0,request_type:C===i.ErrorDetails.FRAG_LOAD_ERROR||C===i.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":C===i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||C===i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":C===i.ErrorDetails.SUBTITLE_LOAD_ERROR||C===i.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":C===i.ErrorDetails.KEY_LOAD_ERROR||C===i.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:O?.code,request_error_text:O?.text}),z){var Ae,Me="".concat(H?"url: ".concat(H,`
`):"")+"".concat(O&&(O.code||O.text)?"response: ".concat(O.code,", ").concat(O.text,`
`):"")+"".concat(M.reason?"failure reason: ".concat(M.reason,`
`):"")+"".concat(M.level?"level: ".concat(M.level,`
`):"")+"".concat(M.parent?"parent stream controller: ".concat(M.parent,`
`):"")+"".concat(M.buffer?"buffer length: ".concat(M.buffer,`
`):"")+"".concat(M.error?"error: ".concat(M.error,`
`):"")+"".concat(M.event?"event: ".concat(M.event,`
`):"")+"".concat(M.err?"error message: ".concat((Ae=M.err)===null||Ae===void 0?void 0:Ae.message,`
`):"");c("error",{player_error_code:x,player_error_message:C,player_error_context:Me})}};t.on(i.Events.ERROR,y);var E=function(w,M){var x=M.frag,C=x&&x._url||"";c("requestcanceled",{request_event_type:w,request_url:C,request_type:"media",request_hostname:hl(C)})};t.on(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,E);var A=function(w,M){var x=M.level,C=t.levels[x];if(C&&C.attrs&&C.attrs.BANDWIDTH){var O=C.attrs.BANDWIDTH,z,se=parseFloat(C.attrs["FRAME-RATE"]);isNaN(se)||(z=se),O?c("renditionchange",{video_source_fps:z,video_source_bitrate:O,video_source_width:C.width,video_source_height:C.height,video_source_rendition_name:C.name,video_source_codec:C?.videoCodec}):r.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};t.on(i.Events.LEVEL_SWITCHED,A),t._stopMuxMonitor=function(){t.off(i.Events.MANIFEST_LOADED,f),t.off(i.Events.LEVEL_LOADED,h),t.off(i.Events.AUDIO_TRACK_LOADED,g),t.off(i.Events.FRAG_LOADED,m),t.off(i.Events.FRAG_CHANGED,p),t.off(i.Events.ERROR,y),t.off(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,E),t.off(i.Events.LEVEL_SWITCHED,A),t.off(i.Events.DESTROYING,t._stopMuxMonitor),delete t._stopMuxMonitor},t.on(i.Events.DESTROYING,t._stopMuxMonitor)},_Y=function(n){n&&typeof n._stopMuxMonitor=="function"&&n._stopMuxMonitor()},GM=function(n,e){if(!n||!n.requestEndDate)return{};var t=hl(n.url),i=n.url,r=n.bytesLoaded,o=new Date(n.requestStartDate).getTime(),l=new Date(n.firstByteDate).getTime(),c=new Date(n.requestEndDate).getTime(),f=isNaN(n.duration)?0:n.duration,h=typeof e.getMetricsFor=="function"?e.getMetricsFor(n.mediaType).HttpList:e.getDashMetrics().getHttpRequests(n.mediaType),g;h.length>0&&(g=Hk(h[h.length-1]._responseHeaders||""));var m=g?XT(g):void 0;return{requestStart:o,requestResponseStart:l,requestResponseEnd:c,requestBytesLoaded:r,requestResponseHeaders:g,requestMediaDuration:f,requestHostname:t,requestUrl:i,requestId:m}},TY=function(n,e){var t=e.getQualityFor(n),i=e.getCurrentTrackFor(n).bitrateList;return i?{currentLevel:t,renditionWidth:i[t].width||null,renditionHeight:i[t].height||null,renditionBitrate:i[t].bandwidth}:{}},SY=function(n){var e;return(e=n.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},AY=function(n){try{var e,t,i=(t=n.getVersion)===null||t===void 0||(e=t.call(n))===null||e===void 0?void 0:e.split(".").map(function(r){return parseInt(r)})[0];return i}catch{return!1}},wY=function(n,e,t){var i=n.log;if(!t||!t.on){i.warn("Invalid dash.js player reference. Monitoring blocked.");return}var r=AY(t),o=function(x,C){return n.emit(e,x,C)},l=function(x){var C=x.type,O=x.data,z=(O||{}).url;o("requestcompleted",{request_event_type:C,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:hl(z),request_url:z})};t.on("manifestLoaded",l);var c={},f=function(x){if(typeof x.getRequests!="function")return null;var C=x.getRequests({state:"executed"});return C.length===0?null:C[C.length-1]},h=function(x){var C=x.type,O=x.fragmentModel,z=x.chunk,se=f(O);g({type:C,request:se,chunk:z})},g=function(x){var C=x.type,O=x.chunk,z=x.request,se=(O||{}).mediaInfo,F=se||{},H=F.type,be=F.bitrateList;be=be||[];var Ae={};be.forEach(function(rt,De){Ae[De]={},Ae[De].width=rt.width,Ae[De].height=rt.height,Ae[De].bitrate=rt.bandwidth,Ae[De].attrs={}}),H==="video"?c.video=Ae:H==="audio"?c.audio=Ae:c.media=Ae;var Me=GM(z,t),Ve=Me.requestStart,Se=Me.requestResponseStart,He=Me.requestResponseEnd,Ue=Me.requestResponseHeaders,he=Me.requestMediaDuration,$e=Me.requestHostname,Ye=Me.requestUrl,tt=Me.requestId;o("requestcompleted",{request_event_type:C,request_start:Ve,request_response_start:Se,request_response_end:He,request_bytes_loaded:-1,request_type:H+"_init",request_response_headers:Ue,request_hostname:$e,request_id:tt,request_url:Ye,request_media_duration:he,request_rendition_lists:c})};r>=4?t.on("initFragmentLoaded",g):t.on("initFragmentLoaded",h);var m=function(x){var C=x.type,O=x.fragmentModel,z=x.chunk,se=f(O);p({type:C,request:se,chunk:z})},p=function(x){var C=x.type,O=x.chunk,z=x.request,se=O||{},F=se.mediaInfo,H=se.start,be=F||{},Ae=be.type,Me=GM(z,t),Ve=Me.requestStart,Se=Me.requestResponseStart,He=Me.requestResponseEnd,Ue=Me.requestBytesLoaded,he=Me.requestResponseHeaders,$e=Me.requestMediaDuration,Ye=Me.requestHostname,tt=Me.requestUrl,rt=Me.requestId,De=TY(Ae,t),We=De.currentLevel,ct=De.renditionWidth,It=De.renditionHeight,Fe=De.renditionBitrate;o("requestcompleted",{request_event_type:C,request_start:Ve,request_response_start:Se,request_response_end:He,request_bytes_loaded:Ue,request_type:Ae,request_response_headers:he,request_hostname:Ye,request_id:rt,request_url:tt,request_media_start_time:H,request_media_duration:$e,request_current_level:We,request_labeled_bitrate:Fe,request_video_width:ct,request_video_height:It})};r>=4?t.on("mediaFragmentLoaded",p):t.on("mediaFragmentLoaded",m);var y={video:void 0,audio:void 0,totalBitrate:void 0},E=function(){if(y.video&&typeof y.video.bitrate=="number"){if(!(y.video.width&&y.video.height)){i.warn("have bitrate info for video but missing width/height");return}var x=y.video.bitrate;if(y.audio&&typeof y.audio.bitrate=="number"&&(x+=y.audio.bitrate),x!==y.totalBitrate)return y.totalBitrate=x,{video_source_bitrate:x,video_source_height:y.video.height,video_source_width:y.video.width,video_source_codec:SY(y.video.codec)}}},A=function(x,C,O){if(typeof x.newQuality!="number"){i.warn("missing evt.newQuality in qualityChangeRendered event",x);return}var z=x.mediaType;if(z==="audio"||z==="video"){var se=t.getBitrateInfoListFor(z).find(function(H){var be=H.qualityIndex;return be===x.newQuality});if(!(se&&typeof se.bitrate=="number")){i.warn("missing bitrate info for ".concat(z));return}y[z]=jk(QT({},se),{codec:t.getCurrentTrackFor(z).codec});var F=E();F&&o("renditionchange",F)}};t.on("qualityChangeRendered",A);var w=function(x){var C=x.request,O=x.mediaType;C=C||{},o("requestcanceled",{request_event_type:C.type+"_"+C.action,request_url:C.url,request_type:O,request_hostname:hl(C.url)})};t.on("fragmentLoadingAbandoned",w);var M=function(x){var C=x.error,O,z,se=(C==null||(O=C.data)===null||O===void 0?void 0:O.request)||{},F=(C==null||(z=C.data)===null||z===void 0?void 0:z.response)||{};C?.code===27&&o("requestfailed",{request_error:se.type+"_"+se.action,request_url:se.url,request_hostname:hl(se.url),request_type:se.mediaType,request_error_code:F.status,request_error_text:F.statusText});var H="".concat(se!=null&&se.url?"url: ".concat(se.url,`
`):"")+"".concat(F!=null&&F.status||F!=null&&F.statusText?"response: ".concat(F?.status,", ").concat(F?.statusText,`
`):"");o("error",{player_error_code:C?.code,player_error_message:C?.message,player_error_context:H})};t.on("error",M),t._stopMuxMonitor=function(){t.off("manifestLoaded",l),t.off("initFragmentLoaded",g),t.off("mediaFragmentLoaded",p),t.off("qualityChangeRendered",A),t.off("error",M),t.off("fragmentLoadingAbandoned",w),delete t._stopMuxMonitor}},RY=function(n){n&&typeof n._stopMuxMonitor=="function"&&n._stopMuxMonitor()},VM=0,IY=(function(){function n(){Or(this,n),kn(this,"_listeners",void 0)}return Tu(n,[{key:"on",value:function(e,t,i){return t._eventEmitterGuid=t._eventEmitterGuid||++VM,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],i&&(t=t.bind(i)),this._listeners[e].push(t),t}},{key:"off",value:function(e,t){var i=this._listeners&&this._listeners[e];i&&i.forEach(function(r,o){r._eventEmitterGuid===t._eventEmitterGuid&&i.splice(o,1)})}},{key:"one",value:function(e,t,i){var r=this;t._eventEmitterGuid=t._eventEmitterGuid||++VM;var o=function(){r.off(e,o),t.apply(i||this,arguments)};o._eventEmitterGuid=t._eventEmitterGuid,this.on(e,o)}},{key:"emit",value:function(e,t){var i=this;if(this._listeners){t=t||{};var r=this._listeners["before*"]||[],o=this._listeners[e]||[],l=this._listeners["after"+e]||[],c=function(f,h){f=f.slice(),f.forEach(function(g){g.call(i,{type:e},h)})};c(r,t),c(o,t),c(l,t)}}}]),n})(),kY=IY,n1=no(Al()),xY=(function(){function n(e){var t=this;Or(this,n),kn(this,"_playbackHeartbeatInterval",void 0),kn(this,"_playheadShouldBeProgressing",void 0),kn(this,"pm",void 0),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){t._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?t._stopPlaybackHeartbeatInterval():t._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){t._playbackHeartbeatInterval!==null&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(i,r){t._playbackHeartbeatInterval!==null&&(n1.default.clearInterval(t._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:r.viewer_time}),t._playbackHeartbeatInterval=null)})}return Tu(n,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=n1.default.setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(n1.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),n})(),CY=xY,DY=function n(e){var t=this;Or(this,n),kn(this,"viewErrored",void 0),e.on("viewinit",function(){t.viewErrored=!1}),e.on("error",function(i,r){try{var o=e.errorTranslator({player_error_code:r.player_error_code,player_error_message:r.player_error_message,player_error_context:r.player_error_context,player_error_severity:r.player_error_severity,player_error_business_exception:r.player_error_business_exception});o&&(e.data.player_error_code=o.player_error_code||r.player_error_code,e.data.player_error_message=o.player_error_message||r.player_error_message,e.data.player_error_context=o.player_error_context||r.player_error_context,e.data.player_error_severity=o.player_error_severity||r.player_error_severity,e.data.player_error_business_exception=o.player_error_business_exception||r.player_error_business_exception,t.viewErrored=!0)}catch(l){e.mux.log.warn("Exception in error translator callback.",l),t.viewErrored=!0}}),e.on("aftererror",function(){var i,r,o,l,c;(i=e.data)===null||i===void 0||delete i.player_error_code,(r=e.data)===null||r===void 0||delete r.player_error_message,(o=e.data)===null||o===void 0||delete o.player_error_context,(l=e.data)===null||l===void 0||delete l.player_error_severity,(c=e.data)===null||c===void 0||delete c.player_error_business_exception})},LY=DY,MY=(function(){function n(e){Or(this,n),kn(this,"_watchTimeTrackerLastCheckedTime",void 0),kn(this,"pm",void 0),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return Tu(n,[{key:"_updateWatchTime",value:function(e,t){var i=t.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=i),gr(this.pm.data,"view_watch_time",i-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=i}},{key:"_clearWatchTimeState",value:function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null}}]),n})(),NY=MY,OY=(function(){function n(e){var t=this;Or(this,n),kn(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),kn(this,"_lastTime",void 0),kn(this,"_isAdPlaying",void 0),kn(this,"_callbackUpdatePlaybackTime",void 0),kn(this,"pm",void 0),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=pr.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var i=this._startPlaybackTimeTracking.bind(this);e.on("playing",i),e.on("adplaying",i),e.on("seeked",i);var r=this._stopPlaybackTimeTracking.bind(this);e.on("playbackheartbeatend",r),e.on("seeking",r),e.on("adplaying",function(){t._isAdPlaying=!0}),e.on("adended",function(){t._isAdPlaying=!1}),e.on("adpause",function(){t._isAdPlaying=!1}),e.on("adbreakstart",function(){t._isAdPlaying=!1}),e.on("adbreakend",function(){t._isAdPlaying=!1}),e.on("adplay",function(){t._isAdPlaying=!1}),e.on("viewinit",function(){t._playbackTimeTrackerLastPlayheadPosition=-1,t._lastTime=pr.now(),t._isAdPlaying=!1,t._callbackUpdatePlaybackTime=null})}return Tu(n,[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,t=pr.now(),i=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?i=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(i=t-this._lastTime),i>0&&i<=1e3&&gr(this.pm.data,"view_content_playback_time",i),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=t}}]),n})(),PY=OY,UY=(function(){function n(e){Or(this,n),kn(this,"pm",void 0),this.pm=e;var t=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",t),e.on("playbackheartbeatend",t),e.on("timeupdate",t),e.on("destroy",function(){e.off("timeupdate",t)})}return Tu(n,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=typeof this.pm.data.view_max_playhead_position>"u"?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,t){var i=this,r=function(){i.pm.currentFragmentPDT&&i.pm.currentFragmentStart&&(i.pm.data.player_program_time=i.pm.currentFragmentPDT+i.pm.data.player_playhead_time-i.pm.currentFragmentStart)};if(t&&t.player_playhead_time)this.pm.data.player_playhead_time=t.player_playhead_time,r(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var o=this.pm.getPlayheadTime();typeof o<"u"&&(this.pm.data.player_playhead_time=o,r(),this._updateMaxPlayheadPosition())}}}]),n})(),FY=UY,KM=300*1e3,BY=function n(e){if(Or(this,n),!e.disableRebufferTracking){var t,i=function(o,l){r(l),t=void 0},r=function(o){if(t){var l=o.viewer_time-t;gr(e.data,"view_rebuffer_duration",l),t=o.viewer_time,e.data.view_rebuffer_duration>KM&&(e.emit("viewend"),e.send("viewend"),e.mux.log.warn("Ending view after rebuffering for longer than ".concat(KM,"ms, future events will be ignored unless a programchange or videochange occurs.")))}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};e.on("playbackheartbeat",function(o,l){return r(l)}),e.on("rebufferstart",function(o,l){t||(gr(e.data,"view_rebuffer_count",1),t=l.viewer_time,e.one("rebufferend",i))}),e.on("viewinit",function(){t=void 0,e.off("rebufferend",i)})}},zY=BY,$Y=(function(){function n(e){var t=this;Or(this,n),kn(this,"_lastCheckedTime",void 0),kn(this,"_lastPlayheadTime",void 0),kn(this,"_lastPlayheadTimeUpdatedTime",void 0),kn(this,"_rebuffering",void 0),kn(this,"pm",void 0),this.pm=e,!(e.disableRebufferTracking||e.disablePlayheadRebufferTracking)&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){t._cleanupRebufferTracker(null,{viewer_time:pr.now()})}))}return Tu(n,[{key:"_checkIfRebuffering",value:function(e,t){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing){this._cleanupRebufferTracker(e,t);return}if(this._lastCheckedTime===null){this._prepareRebufferTrackerState(t.viewer_time);return}if(this._lastPlayheadTime!==this.pm.data.player_playhead_time){this._cleanupRebufferTracker(e,t,!0);return}var i=t.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&i>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=t.viewer_time}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:t.viewer_time});else{if(this._lastCheckedTime===null)return;var r=this.pm.data.player_playhead_time-this._lastPlayheadTime,o=t.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&r>0&&o-r>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+o-r}))}i?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}}]),n})(),qY=$Y,jY=(function(){function n(e){var t=this;Or(this,n),kn(this,"NAVIGATION_START",void 0),kn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){var i=e.data,r=i.view_id;if(!i.view_program_changed){var o=function(l,c){var f=c.viewer_time;(l.type==="playing"&&typeof e.data.view_time_to_first_frame>"u"||l.type==="adplaying"&&(typeof e.data.view_time_to_first_frame>"u"||t._inPrerollPosition()))&&t.calculateTimeToFirstFrame(f||pr.now(),r)};e.one("playing",o),e.one("adplaying",o),e.one("viewend",function(){e.off("playing",o),e.off("adplaying",o)})}})}return Tu(n,[{key:"_inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,t){t===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}]),n})(),HY=jY,GY=function n(e){var t=this;Or(this,n),kn(this,"_lastPlayerHeight",void 0),kn(this,"_lastPlayerWidth",void 0),kn(this,"_lastPlayheadPosition",void 0),kn(this,"_lastSourceHeight",void 0),kn(this,"_lastSourceWidth",void 0),e.on("viewinit",function(){t._lastPlayheadPosition=-1});var i=["pause","rebufferstart","seeking","error","adbreakstart","hb","renditionchange","orientationchange","viewend"],r=["playing","hb","renditionchange","orientationchange"];i.forEach(function(o){e.on(o,function(){if(t._lastPlayheadPosition>=0&&e.data.player_playhead_time>=0&&t._lastPlayerWidth>=0&&t._lastSourceWidth>0&&t._lastPlayerHeight>=0&&t._lastSourceHeight>0){var l=e.data.player_playhead_time-t._lastPlayheadPosition;if(l<0){t._lastPlayheadPosition=-1;return}var c=Math.min(t._lastPlayerWidth/t._lastSourceWidth,t._lastPlayerHeight/t._lastSourceHeight),f=Math.max(0,c-1),h=Math.max(0,1-c);e.data.view_max_upscale_percentage=Math.max(e.data.view_max_upscale_percentage||0,f),e.data.view_max_downscale_percentage=Math.max(e.data.view_max_downscale_percentage||0,h),gr(e.data,"view_total_content_playback_time",l),gr(e.data,"view_total_upscaling",f*l),gr(e.data,"view_total_downscaling",h*l)}t._lastPlayheadPosition=-1})}),r.forEach(function(o){e.on(o,function(){t._lastPlayheadPosition=e.data.player_playhead_time,t._lastPlayerWidth=e.data.player_width,t._lastPlayerHeight=e.data.player_height,t._lastSourceWidth=e.data.video_source_width,t._lastSourceHeight=e.data.video_source_height})})},VY=GY,KY=2e3,YY=function n(e){var t=this;Or(this,n),kn(this,"isSeeking",void 0),this.isSeeking=!1;var i=-1,r=function(){var o=pr.now(),l=(e.data.viewer_time||o)-(i||o);gr(e.data,"view_seek_duration",l),e.data.view_max_seek_time=Math.max(e.data.view_max_seek_time||0,l),t.isSeeking=!1,i=-1};e.on("seeking",function(o,l){if(Object.assign(e.data,l),t.isSeeking&&l.viewer_time-i<=KY){i=l.viewer_time;return}t.isSeeking&&r(),t.isSeeking=!0,i=l.viewer_time,gr(e.data,"view_seek_count",1),e.send("seeking")}),e.on("seeked",function(){r()}),e.on("viewend",function(){t.isSeeking&&(r(),e.send("seeked")),t.isSeeking=!1,i=-1})},WY=YY,YM=function(n,e){n.push(e),n.sort(function(t,i){return t.viewer_time-i.viewer_time})},QY=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],XY=(function(){function n(e){var t=this;Or(this,n),kn(this,"_adHasPlayed",void 0),kn(this,"_adRequests",void 0),kn(this,"_adResponses",void 0),kn(this,"_currentAdRequestNumber",void 0),kn(this,"_currentAdResponseNumber",void 0),kn(this,"_prerollPlayTime",void 0),kn(this,"_wouldBeNewAdPlay",void 0),kn(this,"isAdBreak",void 0),kn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){t.isAdBreak=!1,t._currentAdRequestNumber=0,t._currentAdResponseNumber=0,t._adRequests=[],t._adResponses=[],t._adHasPlayed=!1,t._wouldBeNewAdPlay=!0,t._prerollPlayTime=void 0}),QY.forEach(function(r){return e.on(r,t._updateAdData.bind(t))});var i=function(){t.isAdBreak=!1};e.on("adbreakstart",function(){t.isAdBreak=!0}),e.on("play",i),e.on("playing",i),e.on("viewend",i),e.on("adrequest",function(r,o){o=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdRequestNumber++},o),YM(t._adRequests,o),gr(e.data,"view_ad_request_count"),t.inPrerollPosition()&&(e.data.view_preroll_requested=!0,t._adHasPlayed||gr(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(r,o){o=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdResponseNumber++},o),YM(t._adResponses,o);var l=t.findAdRequest(o.ad_request_id);l&&gr(e.data,"view_ad_request_time",Math.max(0,o.viewer_time-l.viewer_time))}),e.on("adplay",function(r,o){t._adHasPlayed=!0,t._wouldBeNewAdPlay&&(t._wouldBeNewAdPlay=!1,gr(e.data,"view_ad_played_count")),t.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,t._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,o.viewer_time-t._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,o.viewer_time-e.data.view_start)),t._prerollPlayTime=o.viewer_time)}),e.on("adplaying",function(r,o){t.inPrerollPosition()&&typeof e.data.view_preroll_load_time>"u"&&typeof t._prerollPlayTime<"u"&&(e.data.view_preroll_load_time=o.viewer_time-t._prerollPlayTime,e.data.view_startup_preroll_load_time=o.viewer_time-t._prerollPlayTime)}),e.on("adclicked",function(r,o){t._wouldBeNewAdPlay||gr(e.data,"view_ad_clicked_count")}),e.on("adskipped",function(r,o){t._wouldBeNewAdPlay||gr(e.data,"view_ad_skipped_count")}),e.on("adended",function(){t._wouldBeNewAdPlay=!0}),e.on("aderror",function(){t._wouldBeNewAdPlay=!0})}return Tu(n,[{key:"inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]}},{key:"_updateAdData",value:function(e,t){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var i=mc(qy(t.ad_tag_url),2),r=i[0],o=i[1];this.pm.data.view_preroll_ad_tag_domain=o,this.pm.data.view_preroll_ad_tag_hostname=r}if(!this.pm.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var l=mc(qy(t.ad_asset_url),2),c=l[0],f=l[1];this.pm.data.view_preroll_ad_asset_domain=f,this.pm.data.view_preroll_ad_asset_hostname=c}}this.pm.data.ad_asset_url=t?.ad_asset_url,this.pm.data.ad_tag_url=t?.ad_tag_url,this.pm.data.ad_creative_id=t?.ad_creative_id,this.pm.data.ad_id=t?.ad_id,this.pm.data.ad_universal_id=t?.ad_universal_id}}]),n})(),ZY=XY,WM=no(Al()),JY=function n(e){Or(this,n);var t,i,r=function(){e.disableRebufferTracking||(gr(e.data,"view_waiting_rebuffer_count",1),t=pr.now(),i=WM.default.setInterval(function(){if(t){var h=pr.now();gr(e.data,"view_waiting_rebuffer_duration",h-t),t=h}},250))},o=function(){e.disableRebufferTracking||t&&(gr(e.data,"view_waiting_rebuffer_duration",pr.now()-t),t=!1,WM.default.clearInterval(i))},l=!1,c=function(){l=!0},f=function(){l=!1,o()};e.on("waiting",function(){l&&r()}),e.on("playing",function(){o(),c()}),e.on("pause",f),e.on("seeking",f)},eW=JY,tW=function n(e){var t=this;Or(this,n),kn(this,"lastWallClockTime",void 0);var i=function(){t.lastWallClockTime=pr.now(),e.on("before*",r)},r=function(o){var l=pr.now(),c=t.lastWallClockTime;t.lastWallClockTime=l,l-c>3e4&&(e.emit("devicesleep",{viewer_time:c}),Object.assign(e.data,{viewer_time:c}),e.send("devicesleep"),e.emit("devicewake",{viewer_time:l}),Object.assign(e.data,{viewer_time:l}),e.send("devicewake"))};e.one("playbackheartbeat",i),e.on("playbackheartbeatend",function(){e.off("before*",r),e.one("playbackheartbeat",i)})},nW=tW,i1=no(Al()),F3=(function(n){return n()})(function(){var n=function(){for(var t=0,i={};t<arguments.length;t++){var r=arguments[t];for(var o in r)i[o]=r[o]}return i};function e(t){function i(r,o,l){var c;if(typeof document<"u"){if(arguments.length>1){if(l=n({path:"/"},i.defaults,l),typeof l.expires=="number"){var f=new Date;f.setMilliseconds(f.getMilliseconds()+l.expires*864e5),l.expires=f}try{c=JSON.stringify(o),/^[\{\[]/.test(c)&&(o=c)}catch{}return t.write?o=t.write(o,r):o=encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),r=encodeURIComponent(String(r)),r=r.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),r=r.replace(/[\(\)]/g,escape),document.cookie=[r,"=",o,l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}r||(c={});for(var h=document.cookie?document.cookie.split("; "):[],g=/(%[0-9A-Z]{2})+/g,m=0;m<h.length;m++){var p=h[m].split("="),y=p.slice(1).join("=");y.charAt(0)==='"'&&(y=y.slice(1,-1));try{var E=p[0].replace(g,decodeURIComponent);if(y=t.read?t.read(y,E):t(y,E)||y.replace(g,decodeURIComponent),this.json)try{y=JSON.parse(y)}catch{}if(r===E){c=y;break}r||(c[E]=y)}catch{}}return c}}return i.set=i,i.get=function(r){return i.call(i,r)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(r,o){i(r,"",n(o,{expires:-1}))},i.withConverter=e,i}return e(function(){})}),B3="muxData",iW=function(n){return Object.entries(n).map(function(e){var t=mc(e,2),i=t[0],r=t[1];return"".concat(i,"=").concat(r)}).join("&")},aW=function(n){return n.split("&").reduce(function(e,t){var i=mc(t.split("="),2),r=i[0],o=i[1],l=+o,c=o&&l==o?l:o;return e[r]=c,e},{})},z3=function(){var n;try{n=aW(F3.get(B3)||"")}catch{n={}}return n},$3=function(n){try{F3.set(B3,iW(n),{expires:365})}catch{}},rW=function(){var n=z3();return n.mux_viewer_id=n.mux_viewer_id||$y(),n.msn=n.msn||Math.random(),$3(n),{mux_viewer_id:n.mux_viewer_id,mux_sample_number:n.msn}},sW=function(){var n=z3(),e=pr.now();return n.session_start&&(n.sst=n.session_start,delete n.session_start),n.session_id&&(n.sid=n.session_id,delete n.session_id),n.session_expires&&(n.sex=n.session_expires,delete n.session_expires),(!n.sex||n.sex<e)&&(n.sid=$y(),n.sst=e),n.sex=e+1500*1e3,$3(n),{session_id:n.sid,session_start:n.sst,session_expires:n.sex}};function oW(n,e){var t=e.beaconCollectionDomain,i=e.beaconDomain;if(t)return"https://"+t;n=n||"inferred";var r=i||"litix.io";return n.match(/^[a-z0-9]+$/)?"https://"+n+"."+r:"https://img.litix.io/a.gif"}var lW=no(Al()),q3=function(){var n;switch(j3()){case"cellular":n="cellular";break;case"ethernet":n="wired";break;case"wifi":n="wifi";break;case void 0:break;default:n="other"}return n},j3=function(){var n=lW.default.navigator,e=n&&(n.connection||n.mozConnection||n.webkitConnection);return e&&e.type};q3.getConnectionFromAPI=j3;var uW=q3,cW={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},dW=H3(cW),fW={ad:"ad",af:"affiliate",ag:"aggregate",ap:"api",al:"application",ao:"audio",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",bn:"brand",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ci:"client",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cq:"creator",cr:"creative",cs:"captions",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",dy:"dynamic",eb:"enabled",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",or:"origin",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pp:"pip",pr:"preload",ps:"position",pt:"part",py:"property",px:"pop",pz:"plan",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rg:"range",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sh:"shift",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",ss:"status",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},QM=H3(fW);function H3(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function PR(n){var e={},t={};return Object.keys(n).forEach(function(i){var r=!1;if(n.hasOwnProperty(i)&&n[i]!==void 0){var o=i.split("_"),l=o[0],c=dW[l];c||(Ta.info("Data key word `"+o[0]+"` not expected in "+i),c=l+"_"),o.splice(1).forEach(function(f){f==="url"&&(r=!0),QM[f]?c+=QM[f]:Number.isInteger(Number(f))?c+=f:(Ta.info("Data key word `"+f+"` not expected in "+i),c+="_"+f+"_")}),r?t[c]=n[i]:e[c]=n[i]}}),Object.assign(e,t)}var qf=no(Al()),hW=no(M3()),mW={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},gW=56*1024,pW=["hb","requestcompleted","requestfailed","requestcanceled"],vW="https://img.litix.io",pc=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=n||vW,this._eventQueue=[],this._postInFlight=!1,this._resendAfterPost=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},mW,e)};pc.prototype.queueEvent=function(n,e){var t=Object.assign({},e);return this._eventQueue.length<=this._options.maxQueueLength||n==="eventrateexceeded"?(this._eventQueue.push(t),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):!1};pc.prototype.flushEvents=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(n&&this._eventQueue.length===1){this._eventQueue.pop();return}this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending()};pc.prototype.destroy=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.destroyed=!0,n?this._clearBeaconQueue():this.flushEvents(),qf.default.clearTimeout(this._sendTimeout)};pc.prototype._clearBeaconQueue=function(){var n=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,e=this._eventQueue.slice(n);n>0&&Object.assign(e[e.length-1],PR({mux_view_message:"event queue truncated"}));var t=this._createPayload(e);G3(this._beaconUrl,t,!0,function(){})};pc.prototype._sendBeaconQueue=function(){var n=this;if(this._postInFlight){this._resendAfterPost=!0;return}var e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var t=this._createPayload(e),i=pr.now();G3(this._beaconUrl,t,!1,function(r,o){o?(n._eventQueue=e.concat(n._eventQueue),n._failureCount+=1,Ta.info("Error sending beacon: "+o)):n._failureCount=0,n._roundTripTime=pr.now()-i,n._postInFlight=!1,n._resendAfterPost&&(n._resendAfterPost=!1,n._eventQueue.length>0&&n._sendBeaconQueue())})};pc.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var n=Math.pow(2,this._failureCount-1);return n=n*Math.random(),(1+n)*this._options.baseTimeBetweenBeacons};pc.prototype._startBeaconSending=function(){var n=this;qf.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=qf.default.setTimeout(function(){n._eventQueue.length&&n._sendBeaconQueue(),n._startBeaconSending()},this._getNextBeaconTime()))};pc.prototype._createPayload=function(n){var e=this,t={transmission_timestamp:Math.round(pr.now())};this._roundTripTime&&(t.rtt_ms=Math.round(this._roundTripTime));var i,r,o,l=function(){i=JSON.stringify({metadata:t,events:r||n}),o=i.length/1024},c=function(){return o<=e._options.maxPayloadKBSize};return l(),c()||(Ta.info("Payload size is too big ("+o+" kb). Removing unnecessary events."),r=n.filter(function(f){return pW.indexOf(f.e)===-1}),l()),c()||(Ta.info("Payload size still too big ("+o+" kb). Cropping fields.."),r.forEach(function(f){for(var h in f){var g=f[h],m=50*1024;typeof g=="string"&&g.length>m&&(f[h]=g.substring(0,m))}}),l()),i};var yW=typeof hW.default.exitPictureInPicture=="function"?function(n){return n.length<=gW}:function(n){return!1},G3=function(n,e,t,i){if(t&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(n,e)){i();return}if(qf.default.fetch){qf.default.fetch(n,{method:"POST",body:e,headers:{"Content-Type":"text/plain"},keepalive:yW(e)}).then(function(o){return i(null,o.ok?null:"Error")}).catch(function(o){return i(null,o)});return}if(qf.default.XMLHttpRequest){var r=new qf.default.XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===4)return i(null,r.status!==200?"error":void 0)},r.open("POST",n),r.setRequestHeader("Content-Type","text/plain"),r.send(e);return}i()},EW=pc,bW=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception"],_W=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],TW=["ad_id","ad_creative_id","ad_universal_id"],SW=["viewstart","error","ended","viewend"],AW=600*1e3,wW=(function(){function n(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Or(this,n);var r,o,l,c,f,h,g,m,p,y,E,A;kn(this,"mux",void 0),kn(this,"envKey",void 0),kn(this,"options",void 0),kn(this,"eventQueue",void 0),kn(this,"sampleRate",void 0),kn(this,"disableCookies",void 0),kn(this,"respectDoNotTrack",void 0),kn(this,"previousBeaconData",void 0),kn(this,"lastEventTime",void 0),kn(this,"rateLimited",void 0),kn(this,"pageLevelData",void 0),kn(this,"viewerData",void 0),this.mux=e,this.envKey=t,this.options=i,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new EW(oW(this.envKey,this.options));var w;this.sampleRate=(w=this.options.sampleRate)!==null&&w!==void 0?w:1;var M;this.disableCookies=(M=this.options.disableCookies)!==null&&M!==void 0?M:!1;var x;this.respectDoNotTrack=(x=this.options.respectDoNotTrack)!==null&&x!==void 0?x:!1,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(r=this.options.platform)===null||r===void 0?void 0:r.name,viewer_application_version:(o=this.options.platform)===null||o===void 0?void 0:o.version,viewer_application_engine:(l=this.options.platform)===null||l===void 0?void 0:l.layout,viewer_device_name:(c=this.options.platform)===null||c===void 0?void 0:c.product,viewer_device_category:"",viewer_device_manufacturer:(f=this.options.platform)===null||f===void 0?void 0:f.manufacturer,viewer_os_family:(g=this.options.platform)===null||g===void 0||(h=g.os)===null||h===void 0?void 0:h.family,viewer_os_architecture:(p=this.options.platform)===null||p===void 0||(m=p.os)===null||m===void 0?void 0:m.architecture,viewer_os_version:(E=this.options.platform)===null||E===void 0||(y=E.os)===null||y===void 0?void 0:y.version,viewer_connection_type:uW(),page_url:i1.default===null||i1.default===void 0||(A=i1.default.location)===null||A===void 0?void 0:A.href},this.viewerData=this.disableCookies?{}:rW()}return Tu(n,[{key:"send",value:function(e,t){if(!(!e||!(t!=null&&t.view_id))){if(this.respectDoNotTrack&&NR())return Ta.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||typeof t!="object")return Ta.error("A data object was expected in send() but was not provided");var i=this.disableCookies?{}:sW(),r=jk(QT({},this.pageLevelData,t,i,this.viewerData),{event:e,env_key:this.envKey});r.user_id&&(r.viewer_user_id=r.user_id,delete r.user_id);var o,l=((o=r.mux_sample_number)!==null&&o!==void 0?o:0)>=this.sampleRate,c=this._deduplicateBeaconData(e,r),f=PR(c);if(this.lastEventTime=this.mux.utils.now(),l)return Ta.info("Not sending event due to sample rate restriction",e,r,f);if(this.envKey||Ta.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,r,f),!this.rateLimited){if(Ta.info("Sending event",e,r,f),this.rateLimited=!this.eventQueue.queueEvent(e,f),this.mux.WINDOW_UNLOADING&&e==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&e==="hb"?this.eventQueue.flushEvents(!0):SW.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return r.event="eventrateexceeded",f=PR(r),this.eventQueue.queueEvent(r.event,f),Ta.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,t){var i=this,r={},o=t.view_id;if(o==="-1"||e==="viewstart"||e==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=AW)r=QT({},t),o&&(this.previousBeaconData=r),o&&e==="viewend"&&(this.previousBeaconData=null);else{var l=e.indexOf("request")===0;Object.entries(t).forEach(function(c){var f=mc(c,2),h=f[0],g=f[1];i.previousBeaconData&&(g!==i.previousBeaconData[h]||bW.indexOf(h)>-1||i.objectHasChanged(l,h,g,i.previousBeaconData[h])||i.eventRequiresKey(e,h))&&(r[h]=g,i.previousBeaconData[h]=g)})}return r}},{key:"objectHasChanged",value:function(e,t,i,r){return!e||t.indexOf("request_")!==0?!1:t==="request_response_headers"||typeof i!="object"||typeof r!="object"?!0:Object.keys(i||{}).length!==Object.keys(r||{}).length}},{key:"eventRequiresKey",value:function(e,t){return!!(e==="renditionchange"&&t.indexOf("video_source_")===0||TW.includes(t)&&_W.includes(e))}}]),n})(),RW=function n(e){Or(this,n);var t=0,i=0,r=0,o=0,l=0,c=0,f=0,h=function(p,y){var E=y.request_start,A=y.request_response_start,w=y.request_response_end,M=y.request_bytes_loaded;o++;var x,C;if(A?(x=A-(E??0),C=(w??0)-A):C=(w??0)-(E??0),C>0&&M&&M>0){var O=M/C*8e3;l++,i+=M,r+=C,e.data.view_min_request_throughput=Math.min(e.data.view_min_request_throughput||1/0,O),e.data.view_average_request_throughput=i/r*8e3,e.data.view_request_count=o,x>0&&(t+=x,e.data.view_max_request_latency=Math.max(e.data.view_max_request_latency||0,x),e.data.view_average_request_latency=t/l)}},g=function(p,y){o++,c++,e.data.view_request_count=o,e.data.view_request_failed_count=c},m=function(p,y){o++,f++,e.data.view_request_count=o,e.data.view_request_canceled_count=f};e.on("requestcompleted",h),e.on("requestfailed",g),e.on("requestcanceled",m)},IW=RW,kW=3600*1e3,xW=function n(e){var t=this;Or(this,n),kn(this,"_lastEventTime",void 0),e.on("before*",function(i,r){var o=r.viewer_time,l=pr.now(),c=t._lastEventTime;if(t._lastEventTime=l,c&&l-c>kW){var f=Object.keys(e.data).reduce(function(g,m){return m.indexOf("video_")===0?Object.assign(g,kn({},m,e.data[m])):g},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view");var h=e.playbackHeartbeat._playheadShouldBeProgressing;e._resetView(Object.assign({viewer_time:o},f)),e.playbackHeartbeat._playheadShouldBeProgressing=h,e.playbackHeartbeat._playheadShouldBeProgressing&&i.type!=="play"&&i.type!=="adbreakstart"&&(e.emit("play",{viewer_time:o}),i.type!=="playing"&&e.emit("playing",{viewer_time:o}))}})},CW=xW,DW=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],LW=new Set(["requestcompleted","requestfailed","requestcanceled"]),MW=(function(n){dY(t,n);var e=mY(t);function t(i,r,o){Or(this,t);var l;l=e.call(this),kn(gi(l),"DOM_CONTENT_LOADED_EVENT_END",void 0),kn(gi(l),"NAVIGATION_START",void 0),kn(gi(l),"_destroyed",void 0),kn(gi(l),"_heartBeatTimeout",void 0),kn(gi(l),"adTracker",void 0),kn(gi(l),"dashjs",void 0),kn(gi(l),"data",void 0),kn(gi(l),"disablePlayheadRebufferTracking",void 0),kn(gi(l),"disableRebufferTracking",void 0),kn(gi(l),"errorTracker",void 0),kn(gi(l),"errorTranslator",void 0),kn(gi(l),"emitTranslator",void 0),kn(gi(l),"getAdData",void 0),kn(gi(l),"getPlayheadTime",void 0),kn(gi(l),"getStateData",void 0),kn(gi(l),"stateDataTranslator",void 0),kn(gi(l),"hlsjs",void 0),kn(gi(l),"id",void 0),kn(gi(l),"longResumeTracker",void 0),kn(gi(l),"minimumRebufferDuration",void 0),kn(gi(l),"mux",void 0),kn(gi(l),"playbackEventDispatcher",void 0),kn(gi(l),"playbackHeartbeat",void 0),kn(gi(l),"playbackHeartbeatTime",void 0),kn(gi(l),"playheadTime",void 0),kn(gi(l),"seekingTracker",void 0),kn(gi(l),"sustainedRebufferThreshold",void 0),kn(gi(l),"watchTimeTracker",void 0),kn(gi(l),"currentFragmentPDT",void 0),kn(gi(l),"currentFragmentStart",void 0),l.DOM_CONTENT_LOADED_EVENT_END=WT.domContentLoadedEventEnd(),l.NAVIGATION_START=WT.navigationStart();var c={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(p){return p},emitTranslator:function(){for(var p=arguments.length,y=new Array(p),E=0;E<p;E++)y[E]=arguments[E];return y},stateDataTranslator:function(p){return p}};l.mux=i,l.id=r,o!=null&&o.beaconDomain&&l.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),o=Object.assign(c,o),o.data=o.data||{},o.data.property_key&&(o.data.env_key=o.data.property_key,delete o.data.property_key),Ta.level=o.debug?zf.DEBUG:zf.WARN,l.getPlayheadTime=o.getPlayheadTime,l.getStateData=o.getStateData||function(){return{}},l.getAdData=o.getAdData||function(){},l.minimumRebufferDuration=o.minimumRebufferDuration,l.sustainedRebufferThreshold=o.sustainedRebufferThreshold,l.playbackHeartbeatTime=o.playbackHeartbeatTime,l.disableRebufferTracking=o.disableRebufferTracking,l.disableRebufferTracking&&l.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),l.disablePlayheadRebufferTracking=o.disablePlayheadRebufferTracking,l.errorTranslator=o.errorTranslator,l.emitTranslator=o.emitTranslator,l.stateDataTranslator=o.stateDataTranslator,l.playbackEventDispatcher=new wW(i,o.data.env_key,o),l.data={player_instance_id:$y(),mux_sample_rate:o.sampleRate,beacon_domain:o.beaconCollectionDomain||o.beaconDomain},l.data.view_sequence_number=1,l.data.player_sequence_number=1;var f=(function(){typeof this.data.view_start>"u"&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}).bind(gi(l));if(l.on("viewinit",function(p,y){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,y),this._initializeViewData(),this.one("play",f),this.one("adbreakstart",f)}),l.on("videochange",function(p,y){this._resetView(y)}),l.on("programchange",function(p,y){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),this._resetView(Object.assign(y,{view_program_changed:!0})),f(),this.emit("play"),this.emit("playing")}),l.on("fragmentchange",function(p,y){this.currentFragmentPDT=y.currentFragmentPDT,this.currentFragmentStart=y.currentFragmentStart}),l.on("destroy",l.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var h=function(){var p=typeof l.data.view_start<"u";l.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",p&&l.mux.WINDOW_HIDDEN&&(l.data.player_is_paused||l.emit("hb"))};window.addEventListener("visibilitychange",h,!1);var g=function(p){p.persisted||l.destroy()};window.addEventListener("pagehide",g,!1),l.on("destroy",function(){window.removeEventListener("visibilitychange",h),window.removeEventListener("pagehide",g)})}l.on("playerready",function(p,y){Object.assign(this.data,y)}),DW.forEach(function(p){l.on(p,function(y,E){p.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,E),this._sanitizeData()}),l.on("after"+p,function(){(p!=="error"||this.errorTracker.viewErrored)&&this.send(p)})}),l.on("viewend",function(p,y){Object.assign(l.data,y)});var m=function(p){var y=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=y-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};return l.one("playerready",m),l.longResumeTracker=new CW(gi(l)),l.errorTracker=new LY(gi(l)),new nW(gi(l)),l.seekingTracker=new WY(gi(l)),l.playheadTime=new FY(gi(l)),l.playbackHeartbeat=new CY(gi(l)),new VY(gi(l)),l.watchTimeTracker=new NY(gi(l)),new PY(gi(l)),l.adTracker=new ZY(gi(l)),new qY(gi(l)),new zY(gi(l)),new HY(gi(l)),new eW(gi(l)),new IW(gi(l)),o.hlsjs&&l.addHLSJS(o),o.dashjs&&l.addDashJS(o),l.emit("viewinit",o.data),l}return Tu(t,[{key:"emit",value:function(i,r){var o,l=Object.assign({viewer_time:this.mux.utils.now()},r),c=[i,l];if(this.emitTranslator)try{c=this.emitTranslator(i,l)}catch(f){this.mux.log.warn("Exception in emit translator callback.",f)}c!=null&&c.length&&(o=h_(Ng(t.prototype),"emit",this)).call.apply(o,[this].concat(rl(c)))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,typeof this.data.view_start<"u"&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(i){if(this.data.view_id){var r=Object.assign({},this.data),o=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(r.video_source_is_live===void 0&&(r.player_source_duration===1/0||r.video_source_duration===1/0?r.video_source_is_live=!0:(r.player_source_duration>0||r.video_source_duration>0)&&(r.video_source_is_live=!1)),r.video_source_is_live||o.forEach(function(h){r[h]=void 0}),r.video_source_url=r.video_source_url||r.player_source_url,r.video_source_url){var l=mc(qy(r.video_source_url),2),c=l[0],f=l[1];r.video_source_domain=f,r.video_source_hostname=c}delete r.ad_request_id,this.playbackEventDispatcher.send(i,r),this.data.view_sequence_number++,this.data.player_sequence_number++,LW.has(i)||this._restartHeartBeat(),i==="viewend"&&delete this.data.view_id}}},{key:"_resetView",value:function(i){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",i)}},{key:"_updateStateData",value:function(){var i=this.getStateData();if(typeof this.stateDataTranslator=="function")try{i=this.stateDataTranslator(i)}catch(r){this.mux.log.warn("Exception in stateDataTranslator translator callback.",r)}Object.assign(this.data,i),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var i=this,r=["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"];r.forEach(function(l){var c=parseInt(i.data[l],10);i.data[l]=isNaN(c)?void 0:c});var o=["player_source_url","video_source_url"];o.forEach(function(l){if(i.data[l]){var c=i.data[l].toLowerCase();(c.indexOf("data:")===0||c.indexOf("blob:")===0)&&(i.data[l]="MSE style URL")}})}},{key:"_resetVideoData",value:function(){var i=this;Object.keys(this.data).forEach(function(r){r.indexOf("video_")===0&&delete i.data[r]})}},{key:"_resetViewData",value:function(){var i=this;Object.keys(this.data).forEach(function(r){r.indexOf("view_")===0&&delete i.data[r]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var i=this,r=this.data.view_id=$y(),o=function(){r===i.data.view_id&&gr(i.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",o):o()}},{key:"_restartHeartBeat",value:function(){var i=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout(function(){i.data.player_is_paused||i.emit("hb")},1e4)}},{key:"addHLSJS",value:function(i){if(!i.hlsjs){this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.");return}if(this.hlsjs){this.mux.log.warn("An instance of HLS.js is already being monitored for this player.");return}this.hlsjs=i.hlsjs,bY(this.mux,this.id,i.hlsjs,{},i.Hls||window.Hls)}},{key:"removeHLSJS",value:function(){this.hlsjs&&(_Y(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(i){if(!i.dashjs){this.mux.log.warn("You must pass a valid dashjs instance in order to track it.");return}if(this.dashjs){this.mux.log.warn("An instance of Dash.js is already being monitored for this player.");return}this.dashjs=i.dashjs,wY(this.mux,this.id,i.dashjs)}},{key:"removeDashJS",value:function(){this.dashjs&&(RY(this.dashjs),this.dashjs=void 0)}}]),t})(kY),NW=MW,kv=no(M3());function OW(){return kv.default&&!!(kv.default.fullscreenElement||kv.default.webkitFullscreenElement||kv.default.mozFullScreenElement||kv.default.msFullscreenElement)}var PW=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],UW={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};function FW(n,e,t){var i=mc(YT(e),3),r=i[0],o=i[1],l=i[2],c=n.log,f=n.utils.getComputedStyle,h=n.utils.secondsToMs,g={automaticErrorTracking:!0};if(r){if(l!=="video"&&l!=="audio")return c.error("The element of `"+o+"` was not a media element.")}else return c.error("No element was found with the `"+o+"` query selector.");r.mux&&(r.mux.destroy(),delete r.mux,c.warn("Already monitoring this video element, replacing existing event listeners"));var m={getPlayheadTime:function(){return h(r.currentTime)},getStateData:function(){var y,E,A,w=((y=(E=this).getPlayheadTime)===null||y===void 0?void 0:y.call(E))||h(r.currentTime),M=this.hlsjs&&this.hlsjs.url,x=this.dashjs&&typeof this.dashjs.getSource=="function"&&this.dashjs.getSource(),C={player_is_paused:r.paused,player_width:parseInt(f(r,"width")),player_height:parseInt(f(r,"height")),player_autoplay_on:r.autoplay,player_preload_on:r.preload,player_language_code:r.lang,player_is_fullscreen:OW(),video_poster_url:r.poster,video_source_url:M||x||r.currentSrc,video_source_duration:h(r.duration),video_source_height:r.videoHeight,video_source_width:r.videoWidth,view_dropped_frame_count:r==null||(A=r.getVideoPlaybackQuality)===null||A===void 0?void 0:A.call(r).droppedVideoFrames};if(r.getStartDate&&w>0){var O=r.getStartDate();if(O&&typeof O.getTime=="function"&&O.getTime()){var z=O.getTime();if(C.player_program_time=z+w,r.seekable.length>0){var se=z+r.seekable.end(r.seekable.length-1);C.player_live_edge_program_time=se}}}return C}};t=Object.assign(g,t,m),t.data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:n.VERSION},t.data),r.mux=r.mux||{},r.mux.deleted=!1,r.mux.emit=function(y,E){n.emit(o,y,E)},r.mux.updateData=function(y){r.mux.emit("hb",y)};var p=function(){c.error("The monitor for this video element has already been destroyed.")};r.mux.destroy=function(){Object.keys(r.mux.listeners).forEach(function(y){r.removeEventListener(y,r.mux.listeners[y],!1)}),delete r.mux.listeners,r.mux.destroy=p,r.mux.swapElement=p,r.mux.emit=p,r.mux.addHLSJS=p,r.mux.addDashJS=p,r.mux.removeHLSJS=p,r.mux.removeDashJS=p,r.mux.updateData=p,r.mux.setEmitTranslator=p,r.mux.setStateDataTranslator=p,r.mux.setGetPlayheadTime=p,r.mux.deleted=!0,n.emit(o,"destroy")},r.mux.swapElement=function(y){var E=mc(YT(y),3),A=E[0],w=E[1],M=E[2];if(A){if(M!=="video"&&M!=="audio")return n.log.error("The element of `"+w+"` was not a media element.")}else return n.log.error("No element was found with the `"+w+"` query selector.");A.muxId=r.muxId,delete r.muxId,A.mux=A.mux||{},A.mux.listeners=Object.assign({},r.mux.listeners),delete r.mux.listeners,Object.keys(A.mux.listeners).forEach(function(x){r.removeEventListener(x,A.mux.listeners[x],!1),A.addEventListener(x,A.mux.listeners[x],!1)}),A.mux.swapElement=r.mux.swapElement,A.mux.destroy=r.mux.destroy,delete r.mux,r=A},r.mux.addHLSJS=function(y){n.addHLSJS(o,y)},r.mux.addDashJS=function(y){n.addDashJS(o,y)},r.mux.removeHLSJS=function(){n.removeHLSJS(o)},r.mux.removeDashJS=function(){n.removeDashJS(o)},r.mux.setEmitTranslator=function(y){n.setEmitTranslator(o,y)},r.mux.setStateDataTranslator=function(y){n.setStateDataTranslator(o,y)},r.mux.setGetPlayheadTime=function(y){y||(y=t.getPlayheadTime),n.setGetPlayheadTime(o,y)},n.init(o,t),n.emit(o,"playerready"),r.paused||(n.emit(o,"play"),r.readyState>2&&n.emit(o,"playing")),r.mux.listeners={},PW.forEach(function(y){y==="error"&&!t.automaticErrorTracking||(r.mux.listeners[y]=function(){var E={};if(y==="error"){if(!r.error||r.error.code===1)return;E.player_error_code=r.error.code,E.player_error_message=UW[r.error.code]||r.error.message}n.emit(o,y,E)},r.addEventListener(y,r.mux.listeners[y],!1))})}function BW(n,e,t,i){var r=i;if(n&&typeof n[e]=="function")try{r=n[e].apply(n,t)}catch(o){Ta.info("safeCall error",o)}return r}var _y=no(Al()),Pm;_y.default&&_y.default.WeakMap&&(Pm=new WeakMap);function zW(n,e){if(!n||!e||!_y.default||typeof _y.default.getComputedStyle!="function")return"";var t;return Pm&&Pm.has(n)&&(t=Pm.get(n)),t||(t=_y.default.getComputedStyle(n,null),Pm&&Pm.set(n,t)),t.getPropertyValue(e)}function $W(n){return Math.floor(n*1e3)}var Af={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},VS=function(n){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(n),this.manifest};VS.prototype.process=function(n){var e;for(this.buffer+=n,e=this.buffer.indexOf(`
`);e>-1;e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};VS.prototype.processLine=function(n){var e=n.indexOf(":"),t=GW(n,e),i=t[0],r=t.length===2?Gk(t[1]):void 0;if(i[0]!=="#")this.currentUri.uri=i,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(i){case Af.TARGET_DURATION:{if(!isFinite(r)||r<0)return;this.manifest.targetDuration=r,this.setHoldBack();break}case Af.PART_INF:{a1(this.manifest,t),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break}case Af.SERVER_CONTROL:{a1(this.manifest,t),this.setHoldBack();break}case Af.INF:{r===0?this.currentUri.duration=.01:r>0&&(this.currentUri.duration=r);break}case Af.PROGRAM_DATE_TIME:{var o=r,l=new Date(o);this.manifest.dateTimeString||(this.manifest.dateTimeString=o,this.manifest.dateTimeObject=l),this.currentUri.dateTimeString=o,this.currentUri.dateTimeObject=l;break}case Af.VERSION:{a1(this.manifest,t);break}case Af.SESSION_DATA:{var c=VW(t[1]),f=U3(c);Object.assign(this.manifest.sessionData,f)}}};VS.prototype.setHoldBack=function(){var n=this.manifest,e=n.serverControl,t=n.targetDuration,i=n.partTargetDuration;if(e){var r="holdBack",o="partHoldBack",l=t&&t*3,c=i&&i*2;t&&!e.hasOwnProperty(r)&&(e[r]=l),l&&e[r]<l&&(e[r]=l),i&&!e.hasOwnProperty(o)&&(e[o]=i*3),i&&e[o]<c&&(e[o]=c)}};var a1=function(n,e){var t=V3(e[0].replace("#EXT-X-","")),i;HW(e[1])?(i={},i=Object.assign(jW(e[1]),i)):i=Gk(e[1]),n[t]=i},V3=function(n){return n.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},Gk=function(n){if(n.toLowerCase()==="yes"||n.toLowerCase()==="no")return n.toLowerCase()==="yes";var e=n.indexOf(":")!==-1?n:parseFloat(n);return isNaN(e)?n:e},qW=function(n){var e={},t=n.split("=");if(t.length>1){var i=V3(t[0]);e[i]=Gk(t[1])}return e},jW=function(n){for(var e=n.split(","),t={},i=0;e.length>i;i++){var r=e[i],o=qW(r);t=Object.assign(o,t)}return t},HW=function(n){return n.indexOf("=")>-1},GW=function(n,e){return e===-1?[n]:[n.substring(0,e),n.substring(e+1)]},VW=function(n){var e={};if(n){var t=n.search(","),i=n.slice(0,t),r=n.slice(t+1),o=[i,r];return o.forEach(function(l,c){for(var f=l.replace(/['"]+/g,"").split("="),h=0;h<f.length;h++)f[h]==="DATA-ID"&&(e["DATA-ID"]=f[1-h]),f[h]==="VALUE"&&(e.VALUE=f[1-h])}),{data:e}}},KW=VS,YW={safeCall:BW,safeIncrement:gr,getComputedStyle:zW,secondsToMs:$W,assign:Object.assign,headersStringToObject:Hk,cdnHeadersToRequestId:XT,extractHostnameAndDomain:qy,extractHostname:hl,manifestParser:KW,generateShortID:O3,generateUUID:$y,now:pr.now,findMediaElement:YT},WW=YW,QW={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled",HEARTBEAT:"hb",DESTROY:"destroy"},XW=QW,ZW="mux-embed",JW="5.9.0",eQ="2.1",cr={},Pd=function(n){var e=arguments;typeof n=="string"?Pd.hasOwnProperty(n)?by.default.setTimeout(function(){e=Array.prototype.splice.call(e,1),Pd[n].apply(null,e)},0):Ta.warn("`"+n+"` is an unknown task"):typeof n=="function"?by.default.setTimeout(function(){n(Pd)},0):Ta.warn("`"+n+"` is invalid.")},tQ={loaded:pr.now(),NAME:ZW,VERSION:JW,API_VERSION:eQ,PLAYER_TRACKED:!1,monitor:function(n,e){return FW(Pd,n,e)},destroyMonitor:function(n){var e=mc(YT(n),1),t=e[0];t&&t.mux&&typeof t.mux.destroy=="function"?t.mux.destroy():Ta.error("A video element monitor for `"+n+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(n,e){var t=al(n);cr[t]?cr[t].addHLSJS(e):Ta.error("A monitor for `"+t+"` has not been initialized.")},addDashJS:function(n,e){var t=al(n);cr[t]?cr[t].addDashJS(e):Ta.error("A monitor for `"+t+"` has not been initialized.")},removeHLSJS:function(n){var e=al(n);cr[e]?cr[e].removeHLSJS():Ta.error("A monitor for `"+e+"` has not been initialized.")},removeDashJS:function(n){var e=al(n);cr[e]?cr[e].removeDashJS():Ta.error("A monitor for `"+e+"` has not been initialized.")},init:function(n,e){NR()&&e&&e.respectDoNotTrack&&Ta.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var t=al(n);cr[t]=new NW(Pd,t,e)},emit:function(n,e,t){var i=al(n);cr[i]?(cr[i].emit(e,t),e==="destroy"&&delete cr[i]):Ta.error("A monitor for `"+i+"` has not been initialized.")},updateData:function(n,e){var t=al(n);cr[t]?cr[t].emit("hb",e):Ta.error("A monitor for `"+t+"` has not been initialized.")},setEmitTranslator:function(n,e){var t=al(n);cr[t]?cr[t].emitTranslator=e:Ta.error("A monitor for `"+t+"` has not been initialized.")},setStateDataTranslator:function(n,e){var t=al(n);cr[t]?cr[t].stateDataTranslator=e:Ta.error("A monitor for `"+t+"` has not been initialized.")},setGetPlayheadTime:function(n,e){var t=al(n);cr[t]?cr[t].getPlayheadTime=e:Ta.error("A monitor for `"+t+"` has not been initialized.")},checkDoNotTrack:NR,log:Ta,utils:WW,events:XW,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(Pd,tQ);typeof by.default<"u"&&typeof by.default.addEventListener=="function"&&by.default.addEventListener("pagehide",function(n){n.persisted||(Pd.WINDOW_UNLOADING=!0)},!1);var Vk=Pd;var qi=Ar,xa={VIDEO:"video",THUMBNAIL:"thumbnail",STORYBOARD:"storyboard",DRM:"drm"},li={NOT_AN_ERROR:0,NETWORK_OFFLINE:2000002,NETWORK_UNKNOWN_ERROR:2e6,NETWORK_NO_STATUS:2000001,NETWORK_INVALID_URL:24e5,NETWORK_NOT_FOUND:2404e3,NETWORK_NOT_READY:2412e3,NETWORK_GENERIC_SERVER_FAIL:25e5,NETWORK_TOKEN_MISSING:2403201,NETWORK_TOKEN_MALFORMED:2412202,NETWORK_TOKEN_EXPIRED:2403210,NETWORK_TOKEN_AUD_MISSING:2403221,NETWORK_TOKEN_AUD_MISMATCH:2403222,NETWORK_TOKEN_SUB_MISMATCH:2403232,ENCRYPTED_ERROR:5e6,ENCRYPTED_UNSUPPORTED_KEY_SYSTEM:5000001,ENCRYPTED_GENERATE_REQUEST_FAILED:5000002,ENCRYPTED_UPDATE_LICENSE_FAILED:5000003,ENCRYPTED_UPDATE_SERVER_CERT_FAILED:5000004,ENCRYPTED_CDM_ERROR:5000005,ENCRYPTED_OUTPUT_RESTRICTED:5000006,ENCRYPTED_MISSING_TOKEN:5000002},KS=n=>n===xa.VIDEO?"playback":n,vd=class jv extends Error{constructor(e,t=jv.MEDIA_ERR_CUSTOM,i,r){var o;super(e),this.name="MediaError",this.code=t,this.context=r,this.fatal=i??(t>=jv.MEDIA_ERR_NETWORK&&t<=jv.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(o=jv.defaultMessages[this.code])!=null?o:"")}};vd.MEDIA_ERR_ABORTED=1,vd.MEDIA_ERR_NETWORK=2,vd.MEDIA_ERR_DECODE=3,vd.MEDIA_ERR_SRC_NOT_SUPPORTED=4,vd.MEDIA_ERR_ENCRYPTED=5,vd.MEDIA_ERR_CUSTOM=100,vd.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var Fn=vd,nQ=n=>n==null,Kk=(n,e)=>nQ(e)?!1:n in e,UR={ANY:"any",MUTED:"muted"},da={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},fu={MSE:"mse",NATIVE:"native"},Hv={HEADER:"header",QUERY:"query",NONE:"none"},ZT=Object.values(Hv),lc={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},XM={HLS:lc.M3U8};[...Object.values(lc)];var iQ={upTo720p:"720p",upTo1080p:"1080p",upTo1440p:"1440p",upTo2160p:"2160p"},aQ={noLessThan480p:"480p",noLessThan540p:"540p",noLessThan720p:"720p",noLessThan1080p:"1080p",noLessThan1440p:"1440p",noLessThan2160p:"2160p"},rQ={DESCENDING:"desc"},sQ="en",FR={code:sQ},fr=(n,e,t,i,r=n)=>{r.addEventListener(e,t,i),n.addEventListener("teardown",()=>{r.removeEventListener(e,t)},{once:!0})};function oQ(n,e,t){e&&t>e&&(t=e);for(let i=0;i<n.length;i++)if(n.start(i)<=t&&n.end(i)>=t)return!0;return!1}var Yk=n=>{let e=n.indexOf("?");if(e<0)return[n];let t=n.slice(0,e),i=n.slice(e);return[t,i]},YS=n=>{let{type:e}=n;if(e){let t=e.toUpperCase();return Kk(t,XM)?XM[t]:e}return lQ(n)},K3=n=>n==="VOD"?da.ON_DEMAND:da.LIVE,Y3=n=>n==="EVENT"?Number.POSITIVE_INFINITY:n==="VOD"?Number.NaN:0,lQ=n=>{let{src:e}=n;if(!e)return"";let t="";try{t=new URL(e).pathname}catch{console.error("invalid url")}let i=t.lastIndexOf(".");if(i<0)return cQ(n)?lc.M3U8:"";let r=t.slice(i+1).toUpperCase();return Kk(r,lc)?lc[r]:""},uQ="mux.com",cQ=({src:n,customDomain:e=uQ})=>{let t;try{t=new URL(`${n}`)}catch{return!1}let i=t.protocol==="https:",r=t.hostname===`stream.${e}`.toLowerCase(),o=t.pathname.split("/"),l=o.length===2,c=!(o!=null&&o[1].includes("."));return i&&r&&l&&c},yg=n=>{let e=(n??"").split(".")[1];if(e)try{let t=e.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}catch{return}},dQ=({exp:n},e=Date.now())=>!n||n*1e3<e,fQ=({sub:n},e)=>n!==e,hQ=({aud:n},e)=>!n,mQ=({aud:n},e)=>n!==e,W3="en";function ai(n,e=!0){var t,i;let r=e&&(i=(t=FR)==null?void 0:t[n])!=null?i:n,o=e?FR.code:W3;return new gQ(r,o)}var gQ=class{constructor(n,e=(t=>(t=FR)!=null?t:W3)()){this.message=n,this.locale=e}format(n){return this.message.replace(/\{(\w+)\}/g,(e,t)=>{var i;return(i=n[t])!=null?i:""})}toString(){return this.message}},pQ=Object.values(UR),ZM=n=>typeof n=="boolean"||typeof n=="string"&&pQ.includes(n),vQ=(n,e,t)=>{let{autoplay:i}=n,r=!1,o=!1,l=ZM(i)?i:!!i,c=()=>{r||fr(e,"playing",()=>{r=!0},{once:!0})};if(c(),fr(e,"loadstart",()=>{r=!1,c(),r1(e,l)},{once:!0}),fr(e,"loadstart",()=>{t||(n.streamType&&n.streamType!==da.UNKNOWN?o=n.streamType===da.LIVE:o=!Number.isFinite(e.duration)),r1(e,l)},{once:!0}),t&&t.once(qi.Events.LEVEL_LOADED,(f,h)=>{var g;n.streamType&&n.streamType!==da.UNKNOWN?o=n.streamType===da.LIVE:o=(g=h.details.live)!=null?g:!1}),!l){let f=()=>{!o||Number.isFinite(n.startTime)||(t!=null&&t.liveSyncPosition?e.currentTime=t.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};t&&fr(e,"play",()=>{e.preload==="metadata"?t.once(qi.Events.LEVEL_UPDATED,f):f()},{once:!0})}return f=>{r||(l=ZM(f)?f:!!f,r1(e,l))}},r1=(n,e)=>{if(!e)return;let t=n.muted,i=()=>n.muted=t;switch(e){case UR.ANY:n.play().catch(()=>{n.muted=!0,n.play().catch(i)});break;case UR.MUTED:n.muted=!0,n.play().catch(i);break;default:n.play().catch(()=>{});break}},yQ=({preload:n,src:e},t,i)=>{let r=m=>{m!=null&&["","none","metadata","auto"].includes(m)?t.setAttribute("preload",m):t.removeAttribute("preload")};if(!i)return r(n),r;let o=!1,l=!1,c=i.config.maxBufferLength,f=i.config.maxBufferSize,h=m=>{r(m);let p=m??t.preload;l||p==="none"||(p==="metadata"?(i.config.maxBufferLength=1,i.config.maxBufferSize=1):(i.config.maxBufferLength=c,i.config.maxBufferSize=f),g())},g=()=>{!o&&e&&(o=!0,i.loadSource(e))};return fr(t,"play",()=>{l=!0,i.config.maxBufferLength=c,i.config.maxBufferSize=f,g()},{once:!0}),h(n),h};function EQ(n,e){var t;if(!("videoTracks"in n))return;let i=new WeakMap;e.on(qi.Events.MANIFEST_PARSED,function(f,h){c();let g=n.addVideoTrack("main");g.selected=!0;for(let[m,p]of h.levels.entries()){let y=g.addRendition(p.url[0],p.width,p.height,p.videoCodec,p.bitrate);i.set(p,`${m}`),y.id=`${m}`}}),e.on(qi.Events.AUDIO_TRACKS_UPDATED,function(f,h){l();for(let g of h.audioTracks){let m=g.default?"main":"alternative",p=n.addAudioTrack(m,g.name,g.lang);p.id=`${g.id}`,g.default&&(p.enabled=!0)}}),n.audioTracks.addEventListener("change",()=>{var f;let h=+((f=[...n.audioTracks].find(m=>m.enabled))==null?void 0:f.id),g=e.audioTracks.map(m=>m.id);h!=e.audioTrack&&g.includes(h)&&(e.audioTrack=h)}),e.on(qi.Events.LEVELS_UPDATED,function(f,h){var g;let m=n.videoTracks[(g=n.videoTracks.selectedIndex)!=null?g:0];if(!m)return;let p=h.levels.map(y=>i.get(y));for(let y of n.videoRenditions)y.id&&!p.includes(y.id)&&m.removeRendition(y)});let r=f=>{let h=f.target.selectedIndex;h!=e.nextLevel&&(e.nextLevel=h)};(t=n.videoRenditions)==null||t.addEventListener("change",r);let o=()=>{for(let f of n.videoTracks)n.removeVideoTrack(f)},l=()=>{for(let f of n.audioTracks)n.removeAudioTrack(f)},c=()=>{o(),l()};e.once(qi.Events.DESTROYING,c)}var s1=n=>"time"in n?n.time:n.startTime;function bQ(n,e){e.on(qi.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(r,{tracks:o})=>{o.forEach(l=>{var c,f;let h=(c=l.subtitleTrack)!=null?c:l.closedCaptions,g=e.subtitleTracks.findIndex(({lang:p,name:y,type:E})=>p==h?.lang&&y===l.label&&E.toLowerCase()===l.kind),m=((f=l._id)!=null?f:l.default)?"default":`${l.kind}${g}`;Wk(n,l.kind,l.label,h?.lang,m,l.default)})});let t=()=>{if(!e.subtitleTracks.length)return;let r=Array.from(n.textTracks).find(c=>c.id&&c.mode==="showing"&&["subtitles","captions"].includes(c.kind));if(!r)return;let o=e.subtitleTracks[e.subtitleTrack],l=o?o.default?"default":`${e.subtitleTracks[e.subtitleTrack].type.toLowerCase()}${e.subtitleTrack}`:void 0;if(e.subtitleTrack<0||r?.id!==l){let c=e.subtitleTracks.findIndex(({lang:f,name:h,type:g,default:m})=>r.id==="default"&&m||f==r.language&&h===r.label&&g.toLowerCase()===r.kind);e.subtitleTrack=c}r?.id===l&&r.cues&&Array.from(r.cues).forEach(c=>{r.addCue(c)})};n.textTracks.addEventListener("change",t),e.on(qi.Events.CUES_PARSED,(r,{track:o,cues:l})=>{let c=n.textTracks.getTrackById(o);if(!c)return;let f=c.mode==="disabled";f&&(c.mode="hidden"),l.forEach(h=>{var g;(g=c.cues)!=null&&g.getCueById(h.id)||c.addCue(h)}),f&&(c.mode="disabled")}),e.once(qi.Events.DESTROYING,()=>{n.textTracks.removeEventListener("change",t),n.querySelectorAll("track[data-removeondestroy]").forEach(r=>{r.remove()})});let i=()=>{Array.from(n.textTracks).forEach(r=>{var o,l;if(!["subtitles","caption"].includes(r.kind)&&(r.label==="thumbnails"||r.kind==="chapters")){if(!((o=r.cues)!=null&&o.length)){let c="track";r.kind&&(c+=`[kind="${r.kind}"]`),r.label&&(c+=`[label="${r.label}"]`);let f=n.querySelector(c),h=(l=f?.getAttribute("src"))!=null?l:"";f?.removeAttribute("src"),setTimeout(()=>{f?.setAttribute("src",h)},0)}r.mode!=="hidden"&&(r.mode="hidden")}})};e.once(qi.Events.MANIFEST_LOADED,i),e.once(qi.Events.MEDIA_ATTACHED,i)}function Wk(n,e,t,i,r,o){let l=document.createElement("track");return l.kind=e,l.label=t,i&&(l.srclang=i),r&&(l.id=r),o&&(l.default=!0),l.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",l.setAttribute("data-removeondestroy",""),n.append(l),l.track}function _Q(n,e){let t=Array.prototype.find.call(n.querySelectorAll("track"),i=>i.track===e);t?.remove()}function gE(n,e,t){var i;return(i=Array.from(n.querySelectorAll("track")).find(r=>r.track.label===e&&r.track.kind===t))==null?void 0:i.track}async function Q3(n,e,t,i){let r=gE(n,t,i);return r||(r=Wk(n,i,t),r.mode="hidden",await new Promise(o=>setTimeout(()=>o(void 0),0))),r.mode!=="hidden"&&(r.mode="hidden"),[...e].sort((o,l)=>s1(l)-s1(o)).forEach(o=>{var l,c;let f=o.value,h=s1(o);if("endTime"in o&&o.endTime!=null)r?.addCue(new VTTCue(h,o.endTime,i==="chapters"?f:JSON.stringify(f??null)));else{let g=Array.prototype.findIndex.call(r?.cues,E=>E.startTime>=h),m=(l=r?.cues)==null?void 0:l[g],p=m?m.startTime:Number.isFinite(n.duration)?n.duration:Number.MAX_SAFE_INTEGER,y=(c=r?.cues)==null?void 0:c[g-1];y&&(y.endTime=h),r?.addCue(new VTTCue(h,p,i==="chapters"?f:JSON.stringify(f??null)))}}),n.textTracks.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),r}var Qk="cuepoints",X3=Object.freeze({label:Qk});async function Z3(n,e,t=X3){return Q3(n,e,t.label,"metadata")}var BR=n=>({time:n.startTime,value:JSON.parse(n.text)});function TQ(n,e={label:Qk}){let t=gE(n,e.label,"metadata");return t!=null&&t.cues?Array.from(t.cues,i=>BR(i)):[]}function J3(n,e={label:Qk}){var t,i;let r=gE(n,e.label,"metadata");if(!((t=r?.activeCues)!=null&&t.length))return;if(r.activeCues.length===1)return BR(r.activeCues[0]);let{currentTime:o}=n,l=Array.prototype.find.call((i=r.activeCues)!=null?i:[],({startTime:c,endTime:f})=>c<=o&&f>o);return BR(l||r.activeCues[0])}async function SQ(n,e=X3){return new Promise(t=>{fr(n,"loadstart",async()=>{let i=await Z3(n,[],e);fr(n,"cuechange",()=>{let r=J3(n);if(r){let o=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:r});n.dispatchEvent(o)}},{},i),t(i)})})}var Xk="chapters",eF=Object.freeze({label:Xk}),zR=n=>({startTime:n.startTime,endTime:n.endTime,value:n.text});async function tF(n,e,t=eF){return Q3(n,e,t.label,"chapters")}function AQ(n,e={label:Xk}){var t;let i=gE(n,e.label,"chapters");return(t=i?.cues)!=null&&t.length?Array.from(i.cues,r=>zR(r)):[]}function nF(n,e={label:Xk}){var t,i;let r=gE(n,e.label,"chapters");if(!((t=r?.activeCues)!=null&&t.length))return;if(r.activeCues.length===1)return zR(r.activeCues[0]);let{currentTime:o}=n,l=Array.prototype.find.call((i=r.activeCues)!=null?i:[],({startTime:c,endTime:f})=>c<=o&&f>o);return zR(l||r.activeCues[0])}async function wQ(n,e=eF){return new Promise(t=>{fr(n,"loadstart",async()=>{let i=await tF(n,[],e);fr(n,"cuechange",()=>{let r=nF(n);if(r){let o=new CustomEvent("chapterchange",{composed:!0,bubbles:!0,detail:r});n.dispatchEvent(o)}},{},i),t(i)})})}function RQ(n,e){if(e){let t=e.playingDate;if(t!=null)return new Date(t.getTime()-n.currentTime*1e3)}return typeof n.getStartDate=="function"?n.getStartDate():new Date(NaN)}function IQ(n,e){if(e&&e.playingDate)return e.playingDate;if(typeof n.getStartDate=="function"){let t=n.getStartDate();return new Date(t.getTime()+n.currentTime*1e3)}return new Date(NaN)}var Ty={VIDEO:"v",THUMBNAIL:"t",STORYBOARD:"s",DRM:"d"},kQ=n=>{if(n===xa.VIDEO)return Ty.VIDEO;if(n===xa.DRM)return Ty.DRM},xQ=(n,e)=>{var t,i;let r=KS(n),o=`${r}Token`;return(t=e.tokens)!=null&&t[r]?(i=e.tokens)==null?void 0:i[r]:Kk(o,e)?e[o]:void 0},JT=(n,e,t,i,r=!1,o=!(l=>(l=globalThis.navigator)==null?void 0:l.onLine)())=>{var l,c;if(o){let M=ai("Your device appears to be offline",r),x,C=Fn.MEDIA_ERR_NETWORK,O=new Fn(M,C,!1,x);return O.errorCategory=e,O.muxCode=li.NETWORK_OFFLINE,O.data=n,O}let f="status"in n?n.status:n.code,h=Date.now(),g=Fn.MEDIA_ERR_NETWORK;if(f===200)return;let m=KS(e),p=xQ(e,t),y=kQ(e),[E]=Yk((l=t.playbackId)!=null?l:"");if(!f||!E)return;let A=yg(p);if(p&&!A){let M=ai("The {tokenNamePrefix}-token provided is invalid or malformed.",r).format({tokenNamePrefix:m}),x=ai("Compact JWT string: {token}",r).format({token:p}),C=new Fn(M,g,!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_TOKEN_MALFORMED,C.data=n,C}if(f>=500){let M=new Fn("",g,i??!0);return M.errorCategory=e,M.muxCode=li.NETWORK_UNKNOWN_ERROR,M}if(f===403)if(A){if(dQ(A,h)){let M={timeStyle:"medium",dateStyle:"medium"},x=ai("The videos secured {tokenNamePrefix}-token has expired.",r).format({tokenNamePrefix:m}),C=ai("Expired at: {expiredDate}. Current time: {currentDate}.",r).format({expiredDate:new Intl.DateTimeFormat("en",M).format((c=A.exp)!=null?c:0*1e3),currentDate:new Intl.DateTimeFormat("en",M).format(h)}),O=new Fn(x,g,!0,C);return O.errorCategory=e,O.muxCode=li.NETWORK_TOKEN_EXPIRED,O.data=n,O}if(fQ(A,E)){let M=ai("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",r).format({tokenNamePrefix:m}),x=ai("Specified playback ID: {playbackId} and the playback ID encoded in the {tokenNamePrefix}-token: {tokenPlaybackId}",r).format({tokenNamePrefix:m,playbackId:E,tokenPlaybackId:A.sub}),C=new Fn(M,g,!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_TOKEN_SUB_MISMATCH,C.data=n,C}if(hQ(A)){let M=ai("The {tokenNamePrefix}-token is formatted with incorrect information.",r).format({tokenNamePrefix:m}),x=ai("The {tokenNamePrefix}-token has no aud value. aud value should be {expectedAud}.",r).format({tokenNamePrefix:m,expectedAud:y}),C=new Fn(M,g,!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_TOKEN_AUD_MISSING,C.data=n,C}if(mQ(A,y)){let M=ai("The {tokenNamePrefix}-token is formatted with incorrect information.",r).format({tokenNamePrefix:m}),x=ai("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.",r).format({tokenNamePrefix:m,expectedAud:y,aud:A.aud}),C=new Fn(M,g,!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_TOKEN_AUD_MISMATCH,C.data=n,C}}else{let M=ai("Authorization error trying to access this {category} URL. If this is a signed URL, you might need to provide a {tokenNamePrefix}-token.",r).format({tokenNamePrefix:m,category:e}),x=ai("Specified playback ID: {playbackId}",r).format({playbackId:E}),C=new Fn(M,g,i??!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_TOKEN_MISSING,C.data=n,C}if(f===412){let M=ai("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",r),x=ai("Specified playback ID: {playbackId}",r).format({playbackId:E}),C=new Fn(M,g,i??!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_NOT_READY,C.streamType=t.streamType===da.LIVE?"live":t.streamType===da.ON_DEMAND?"on-demand":"unknown",C.data=n,C}if(f===404){let M=ai("This URL or playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",r),x=ai("Specified playback ID: {playbackId}",r).format({playbackId:E}),C=new Fn(M,g,i??!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_NOT_FOUND,C.data=n,C}if(f===400){let M=ai("The URL or playback-id was invalid. You may have used an invalid value as a playback-id."),x=ai("Specified playback ID: {playbackId}",r).format({playbackId:E}),C=new Fn(M,g,i??!0,x);return C.errorCategory=e,C.muxCode=li.NETWORK_INVALID_URL,C.data=n,C}let w=new Fn("",g,i??!0);return w.errorCategory=e,w.muxCode=li.NETWORK_UNKNOWN_ERROR,w.data=n,w},JM=qi.DefaultConfig.capLevelController,CQ={"720p":921600,"1080p":2073600,"1440p":4194304,"2160p":8294400};function DQ(n){let e=n.toLowerCase().trim();return CQ[e]}var $R=class Gv extends JM{constructor(e){super(e)}static setMaxAutoResolution(e,t){t?Gv.maxAutoResolution.set(e,t):Gv.maxAutoResolution.delete(e)}getMaxAutoResolution(){var e;let t=this.hls;return(e=Gv.maxAutoResolution.get(t))!=null?e:void 0}get levels(){var e;return(e=this.hls.levels)!=null?e:[]}getValidLevels(e){return this.levels.filter((t,i)=>this.isLevelAllowed(t)&&i<=e)}getMaxLevelCapped(e){let t=this.getValidLevels(e),i=this.getMaxAutoResolution();if(!i)return super.getMaxLevel(e);let r=DQ(i);if(!r)return super.getMaxLevel(e);let o=t.filter(f=>f.width*f.height<=r),l=o.findIndex(f=>f.width*f.height===r);if(l!==-1){let f=o[l];return t.findIndex(h=>h===f)}if(o.length===0)return 0;let c=o[o.length-1];return t.findIndex(f=>f===c)}getMaxLevel(e){if(this.getMaxAutoResolution()!==void 0)return this.getMaxLevelCapped(e);let t=super.getMaxLevel(e),i=this.getValidLevels(e);if(!i[t])return t;let r=Math.min(i[t].width,i[t].height),o=Gv.minMaxResolution;return r>=o?t:JM.getMaxLevelByMediaSize(i,o*(16/9),o)}};$R.minMaxResolution=720,$R.maxAutoResolution=new WeakMap;var LQ=$R,o1=LQ,m_={FAIRPLAY:"fairplay",PLAYREADY:"playready",WIDEVINE:"widevine"},MQ=n=>{if(n.includes("fps"))return m_.FAIRPLAY;if(n.includes("playready"))return m_.PLAYREADY;if(n.includes("widevine"))return m_.WIDEVINE},NQ=n=>{let e=n.split(`
`).find((t,i,r)=>i&&r[i-1].startsWith("#EXT-X-STREAM-INF"));return fetch(e).then(t=>t.status!==200?Promise.reject(t):t.text())},OQ=n=>{let e=n.split(`
`).filter(i=>i.startsWith("#EXT-X-SESSION-DATA"));if(!e.length)return{};let t={};for(let i of e){let r=UQ(i),o=r["DATA-ID"];o&&(t[o]={...r})}return{sessionData:t}},PQ=/([A-Z0-9-]+)="?(.*?)"?(?:,|$)/g;function UQ(n){let e=[...n.matchAll(PQ)];return Object.fromEntries(e.map(([,t,i])=>[t,i]))}var FQ=n=>{var e,t,i;let r=n.split(`
`),o=(t=((e=r.find(h=>h.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:t.trim(),l=K3(o),c=Y3(o),f;if(l===da.LIVE){let h=r.find(g=>g.startsWith("#EXT-X-PART-INF"));if(h)f=+h.split(":")[1].split("=")[1]*2;else{let g=r.find(p=>p.startsWith("#EXT-X-TARGETDURATION")),m=(i=g?.split(":"))==null?void 0:i[1];f=+(m??6)*3}}return{streamType:l,targetLiveWindow:c,liveEdgeStartOffset:f}},BQ=async(n,e)=>{if(e===lc.MP4)return{streamType:da.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0,sessionData:void 0};if(e===lc.M3U8){let t=await fetch(n);if(!t.ok)return Promise.reject(t);let i=await t.text(),r=await NQ(i);return{...OQ(i),...FQ(r)}}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${n}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0,sessionData:void 0}},zQ=async(n,e,t=YS({src:n}))=>{var i,r,o,l;let{streamType:c,targetLiveWindow:f,liveEdgeStartOffset:h,sessionData:g}=await BQ(n,t),m=g?.["com.apple.hls.chapters"];(m!=null&&m.URI||m!=null&&m.VALUE.toLocaleLowerCase().startsWith("http"))&&Zk((i=m.URI)!=null?i:m.VALUE,e),((r=tr.get(e))!=null?r:{}).liveEdgeStartOffset=h,((o=tr.get(e))!=null?o:{}).targetLiveWindow=f,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((l=tr.get(e))!=null?l:{}).streamType=c,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},Zk=async(n,e)=>{var t,i;try{let r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch Mux metadata: ${r.status} ${r.statusText}`);let o=await r.json(),l={};if(!((t=o?.[0])!=null&&t.metadata))return;for(let f of o[0].metadata)f.key&&f.value&&(l[f.key]=f.value);((i=tr.get(e))!=null?i:{}).metadata=l;let c=new CustomEvent("muxmetadata");e.dispatchEvent(c)}catch(r){console.error(r)}},$Q=n=>{var e;let t=n.type,i=K3(t),r=Y3(t),o,l=!!((e=n.partList)!=null&&e.length);return i===da.LIVE&&(o=l?n.partTarget*2:n.targetduration*3),{streamType:i,targetLiveWindow:r,liveEdgeStartOffset:o,lowLatency:l}},qQ=(n,e,t)=>{var i,r,o,l,c,f,h,g;let{streamType:m,targetLiveWindow:p,liveEdgeStartOffset:y,lowLatency:E}=$Q(n);if(m===da.LIVE){E?(t.config.backBufferLength=(i=t.userConfig.backBufferLength)!=null?i:4,t.config.maxFragLookUpTolerance=(r=t.userConfig.maxFragLookUpTolerance)!=null?r:.001,t.config.abrBandWidthUpFactor=(o=t.userConfig.abrBandWidthUpFactor)!=null?o:t.config.abrBandWidthFactor):t.config.backBufferLength=(l=t.userConfig.backBufferLength)!=null?l:8;let A=Object.freeze({get length(){return e.seekable.length},start(w){return e.seekable.start(w)},end(w){var M;return w>this.length||w<0||Number.isFinite(e.duration)?e.seekable.end(w):(M=t.liveSyncPosition)!=null?M:e.seekable.end(w)}});((c=tr.get(e))!=null?c:{}).seekable=A}((f=tr.get(e))!=null?f:{}).liveEdgeStartOffset=y,((h=tr.get(e))!=null?h:{}).targetLiveWindow=p,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((g=tr.get(e))!=null?g:{}).streamType=m,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},eN,tN,iF=(tN=(eN=globalThis?.navigator)==null?void 0:eN.userAgent)!=null?tN:"",nN,iN,aN,jQ=(aN=(iN=(nN=globalThis?.navigator)==null?void 0:nN.userAgentData)==null?void 0:iN.platform)!=null?aN:"",HQ=iF.toLowerCase().includes("android")||["x11","android"].some(n=>jQ.toLowerCase().includes(n)),GQ=n=>/^((?!chrome|android).)*safari/i.test(iF)&&!!n.canPlayType("application/vnd.apple.mpegurl"),tr=new WeakMap,uc="mux.com",rN,sN,aF=(sN=(rN=qi).isSupported)==null?void 0:sN.call(rN),VQ=n=>HQ||!GQ(n),WS=()=>{if(typeof window<"u")return Vk.utils.now()},KQ=Vk.utils.generateUUID,qR=({playbackId:n,customDomain:e=uc,maxResolution:t,minResolution:i,renditionOrder:r,programStartTime:o,programEndTime:l,assetStartTime:c,assetEndTime:f,playbackToken:h,tokens:{playback:g=h}={},extraSourceParams:m={}}={})=>{if(!n)return;let[p,y=""]=Yk(n),E=new URL(`https://stream.${e}/${p}.m3u8${y}`);return g||E.searchParams.has("token")?(E.searchParams.forEach((A,w)=>{w!="token"&&E.searchParams.delete(w)}),g&&E.searchParams.set("token",g)):(t&&E.searchParams.set("max_resolution",t),i&&(E.searchParams.set("min_resolution",i),t&&+t.slice(0,-1)<+i.slice(0,-1)&&console.error("minResolution must be <= maxResolution","minResolution",i,"maxResolution",t)),r&&E.searchParams.set("rendition_order",r),o&&E.searchParams.set("program_start_time",`${o}`),l&&E.searchParams.set("program_end_time",`${l}`),c&&E.searchParams.set("asset_start_time",`${c}`),f&&E.searchParams.set("asset_end_time",`${f}`),Object.entries(m).forEach(([A,w])=>{w!=null&&E.searchParams.set(A,w)})),E.toString()},QS=n=>{if(!n)return;let[e]=n.split("?");return e||void 0},Jk=n=>{if(!n||!n.startsWith("https://stream."))return;let[e]=new URL(n).pathname.slice(1).split(/\.m3u8|\//);return e||void 0},YQ=n=>{var e,t,i;return(e=n?.metadata)!=null&&e.video_id?n.metadata.video_id:fF(n)&&(i=(t=QS(n.playbackId))!=null?t:Jk(n.src))!=null?i:n.src},rF=n=>{var e;return(e=tr.get(n))==null?void 0:e.error},WQ=n=>{var e;return(e=tr.get(n))==null?void 0:e.metadata},jR=n=>{var e,t;return(t=(e=tr.get(n))==null?void 0:e.streamType)!=null?t:da.UNKNOWN},QQ=n=>{var e,t;return(t=(e=tr.get(n))==null?void 0:e.targetLiveWindow)!=null?t:Number.NaN},ex=n=>{var e,t;return(t=(e=tr.get(n))==null?void 0:e.seekable)!=null?t:n.seekable},XQ=n=>{var e;let t=(e=tr.get(n))==null?void 0:e.liveEdgeStartOffset;if(typeof t!="number")return Number.NaN;let i=ex(n);return i.length?i.end(i.length-1)-t:Number.NaN},tx=.034,ZQ=(n,e,t=tx)=>Math.abs(n-e)<=t,sF=(n,e,t=tx)=>n>e||ZQ(n,e,t),JQ=(n,e=tx)=>n.paused&&sF(n.currentTime,n.duration,e),oF=(n,e)=>{var t,i,r;if(!e||!n.buffered.length)return;if(n.readyState>2)return!1;let o=e.currentLevel>=0?(i=(t=e.levels)==null?void 0:t[e.currentLevel])==null?void 0:i.details:(r=e.levels.find(m=>!!m.details))==null?void 0:r.details;if(!o||o.live)return;let{fragments:l}=o;if(!(l!=null&&l.length))return;if(n.currentTime<n.duration-(o.targetduration+.5))return!1;let c=l[l.length-1];if(n.currentTime<=c.start)return!1;let f=c.start+c.duration/2,h=n.buffered.start(n.buffered.length-1),g=n.buffered.end(n.buffered.length-1);return f>h&&f<g},lF=(n,e)=>n.ended||n.loop?n.ended:e&&oF(n,e)?!0:JQ(n),eX=(n,e,t)=>{uF(e,t,n);let{metadata:i={}}=n,{view_session_id:r=KQ()}=i,o=YQ(n);i.view_session_id=r,i.video_id=o,n.metadata=i;let l=g=>{var m;(m=e.mux)==null||m.emit("hb",{view_drm_type:g})};n.drmTypeCb=l,tr.set(e,{retryCount:0});let c=tX(n,e),f=yQ(n,e,c);n!=null&&n.muxDataKeepSession&&e!=null&&e.mux&&!e.mux.deleted?c&&e.mux.addHLSJS({hlsjs:c,Hls:c?qi:void 0}):oX(n,e,c),lX(n,e,c),SQ(e),wQ(e);let h=vQ(n,e,c);return{engine:c,setAutoplay:h,setPreload:f}},uF=(n,e,t)=>{let i=e?.engine;n!=null&&n.mux&&!n.mux.deleted&&(t!=null&&t.muxDataKeepSession?i&&n.mux.removeHLSJS():(n.mux.destroy(),delete n.mux)),i&&(i.detachMedia(),i.destroy()),n&&(n.hasAttribute("src")&&(n.removeAttribute("src"),n.load()),n.removeEventListener("error",mF),n.removeEventListener("error",HR),n.removeEventListener("durationchange",hF),tr.delete(n),n.dispatchEvent(new Event("teardown")))};function cF(n,e){var t;let i=YS(n);if(i!==lc.M3U8)return!0;let r=!i||((t=e.canPlayType(i))!=null?t:!0),{preferPlayback:o}=n,l=o===fu.MSE,c=o===fu.NATIVE,f=aF&&(l||VQ(e));return r&&(c||!f)}var tX=(n,e)=>{let{debug:t,streamType:i,startTime:r=-1,metadata:o,preferCmcd:l,_hlsConfig:c={},maxAutoResolution:f}=n,h=YS(n)===lc.M3U8,g=cF(n,e);if(h&&!g&&aF){let m={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0},p=nX(i),y=iX(n),E=[Hv.QUERY,Hv.HEADER].includes(l)?{useHeaders:l===Hv.HEADER,sessionId:o?.view_session_id,contentId:o?.video_id}:void 0,A=c.capLevelToPlayerSize==null?{capLevelController:o1}:{},w=new qi({debug:t,startPosition:r,cmcd:E,xhrSetup:(M,x)=>{var C,O;if(l&&l!==Hv.QUERY)return;let z=new URL(x);if(!z.searchParams.has("CMCD"))return;let se=((O=(C=z.searchParams.get("CMCD"))==null?void 0:C.split(","))!=null?O:[]).filter(F=>F.startsWith("sid")||F.startsWith("cid")).join(",");z.searchParams.set("CMCD",se),M.open("GET",z)},...A,...m,...p,...y,...c});return A.capLevelController===o1&&f!==void 0&&o1.setMaxAutoResolution(w,f),w.on(qi.Events.MANIFEST_PARSED,async function(M,x){var C,O;let z=(C=x.sessionData)==null?void 0:C["com.apple.hls.chapters"];(z!=null&&z.URI||z!=null&&z.VALUE.toLocaleLowerCase().startsWith("http"))&&Zk((O=z?.URI)!=null?O:z?.VALUE,e)}),w}},nX=n=>n===da.LIVE?{backBufferLength:8}:{},iX=n=>{let{tokens:{drm:e}={},playbackId:t,drmTypeCb:i}=n,r=QS(t);return!e||!r?{}:{emeEnabled:!0,drmSystems:{"com.apple.fps":{licenseUrl:g_(n,"fairplay"),serverCertificateUrl:dF(n,"fairplay")},"com.widevine.alpha":{licenseUrl:g_(n,"widevine")},"com.microsoft.playready":{licenseUrl:g_(n,"playready")}},requestMediaKeySystemAccessFunc:(o,l)=>(o==="com.widevine.alpha"&&(l=[...l.map(c=>{var f;let h=(f=c.videoCapabilities)==null?void 0:f.map(g=>({...g,robustness:"HW_SECURE_ALL"}));return{...c,videoCapabilities:h}}),...l]),navigator.requestMediaKeySystemAccess(o,l).then(c=>{let f=MQ(o);return i?.(f),c}))}},aX=async n=>{let e=await fetch(n);return e.status!==200?Promise.reject(e):await e.arrayBuffer()},rX=async(n,e)=>{let t=await fetch(e,{method:"POST",headers:{"Content-type":"application/octet-stream"},body:n});if(t.status!==200)return Promise.reject(t);let i=await t.arrayBuffer();return new Uint8Array(i)},sX=(n,e)=>{let t=async o=>{let l=await navigator.requestMediaKeySystemAccess("com.apple.fps",[{initDataTypes:[o],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]}]).then(f=>{var h;return(h=n.drmTypeCb)==null||h.call(n,m_.FAIRPLAY),f}).catch(()=>{let f=ai("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser."),h=new Fn(f,Fn.MEDIA_ERR_ENCRYPTED,!0);h.errorCategory=xa.DRM,h.muxCode=li.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM,Xs(e,h)});if(!l)return;let c=await l.createMediaKeys();try{let f=await aX(dF(n,"fairplay")).catch(h=>{if(h instanceof Response){let g=JT(h,xa.DRM,n);return console.error("mediaError",g?.message,g?.context),g?Promise.reject(g):Promise.reject(new Error("Unexpected error in app cert request"))}return Promise.reject(h)});await c.setServerCertificate(f).catch(()=>{let h=ai("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate."),g=new Fn(h,Fn.MEDIA_ERR_ENCRYPTED,!0);return g.errorCategory=xa.DRM,g.muxCode=li.ENCRYPTED_UPDATE_SERVER_CERT_FAILED,Promise.reject(g)})}catch(f){Xs(e,f);return}await e.setMediaKeys(c)},i=o=>{let l;if(o==="internal-error"){let c=ai("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");l=new Fn(c,Fn.MEDIA_ERR_ENCRYPTED,!0),l.errorCategory=xa.DRM,l.muxCode=li.ENCRYPTED_CDM_ERROR}else if(o==="output-restricted"||o==="output-downscaled"){let c=ai("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");l=new Fn(c,Fn.MEDIA_ERR_ENCRYPTED,!1),l.errorCategory=xa.DRM,l.muxCode=li.ENCRYPTED_OUTPUT_RESTRICTED}l&&Xs(e,l)},r=async(o,l)=>{let c=e.mediaKeys.createSession(),f=()=>{c.keyStatuses.forEach(g=>i(g))},h=async g=>{let m=g.message;try{let p=await rX(m,g_(n,"fairplay"));try{await c.update(p)}catch{let y=ai("Failed to update DRM license. This may be an issue with the player or your protected content."),E=new Fn(y,Fn.MEDIA_ERR_ENCRYPTED,!0);E.errorCategory=xa.DRM,E.muxCode=li.ENCRYPTED_UPDATE_LICENSE_FAILED,Xs(e,E)}}catch(p){if(p instanceof Response){let y=JT(p,xa.DRM,n);if(console.error("mediaError",y?.message,y?.context),y){Xs(e,y);return}console.error("Unexpected error in license key request",p);return}console.error(p)}};c.addEventListener("keystatuseschange",f),c.addEventListener("message",h),e.addEventListener("teardown",()=>{c.removeEventListener("keystatuseschange",f),c.removeEventListener("message",h),c.close()},{once:!0}),await c.generateRequest(o,l).catch(g=>{console.error("Failed to generate license request",g);let m=ai("Failed to generate a DRM license request. This may be an issue with the player or your protected content."),p=new Fn(m,Fn.MEDIA_ERR_ENCRYPTED,!0);return p.errorCategory=xa.DRM,p.muxCode=li.ENCRYPTED_GENERATE_REQUEST_FAILED,Promise.reject(p)})};fr(e,"encrypted",async o=>{try{let l=o.initDataType;if(l!=="skd"){console.error(`Received unexpected initialization data type "${l}"`);return}e.mediaKeys||await t(l);let c=o.initData;if(c==null){console.error(`Could not start encrypted playback due to missing initData in ${o.type} event`);return}await r(l,c)}catch(l){Xs(e,l);return}})},g_=({playbackId:n,tokens:{drm:e}={},customDomain:t=uc},i)=>{let r=QS(n);return`https://license.${t.toLocaleLowerCase().endsWith(uc)?t:uc}/license/${i}/${r}?token=${e}`},dF=({playbackId:n,tokens:{drm:e}={},customDomain:t=uc},i)=>{let r=QS(n);return`https://license.${t.toLocaleLowerCase().endsWith(uc)?t:uc}/appcert/${i}/${r}?token=${e}`},fF=({playbackId:n,src:e,customDomain:t})=>{if(n)return!0;if(typeof e!="string")return!1;let i=window?.location.href,r=new URL(e,i).hostname.toLocaleLowerCase();return r.includes(uc)||!!t&&r.includes(t.toLocaleLowerCase())},oX=(n,e,t)=>{var i;let{envKey:r,disableTracking:o,muxDataSDK:l=Vk,muxDataSDKOptions:c={}}=n,f=fF(n);if(!o&&(r||f)){let{playerInitTime:h,playerSoftwareName:g,playerSoftwareVersion:m,beaconCollectionDomain:p,debug:y,disableCookies:E}=n,A={...n.metadata,video_title:((i=n?.metadata)==null?void 0:i.video_title)||void 0},w=M=>typeof M.player_error_code=="string"?!1:typeof n.errorTranslator=="function"?n.errorTranslator(M):M;l.monitor(e,{debug:y,beaconCollectionDomain:p,hlsjs:t,Hls:t?qi:void 0,automaticErrorTracking:!1,errorTranslator:w,disableCookies:E,...c,data:{...r?{env_key:r}:{},player_software_name:g,player_software:g,player_software_version:m,player_init_time:h,...A}})}},lX=(n,e,t)=>{var i,r;let o=cF(n,e),{src:l,customDomain:c=uc}=n,f=()=>{e.ended||n.disablePseudoEnded||!lF(e,t)||(oF(e,t)?e.currentTime=e.buffered.end(e.buffered.length-1):e.dispatchEvent(new Event("ended")))},h,g,m=()=>{let p=ex(e),y,E;p.length>0&&(y=p.start(0),E=p.end(0)),(g!==E||h!==y)&&e.dispatchEvent(new CustomEvent("seekablechange",{composed:!0})),h=y,g=E};if(fr(e,"durationchange",m),e&&o){let p=YS(n);if(typeof l=="string"){if(l.endsWith(".mp4")&&l.includes(c)){let A=Jk(l),w=new URL(`https://stream.${c}/${A}/metadata.json`);Zk(w.toString(),e)}let y=()=>{if(jR(e)!==da.LIVE||Number.isFinite(e.duration))return;let A=setInterval(m,1e3);e.addEventListener("teardown",()=>{clearInterval(A)},{once:!0}),fr(e,"durationchange",()=>{Number.isFinite(e.duration)&&clearInterval(A)})},E=async()=>zQ(l,e,p).then(y).catch(A=>{if(A instanceof Response){let w=JT(A,xa.VIDEO,n);if(w){Xs(e,w);return}}});if(e.preload==="none"){let A=()=>{E(),e.removeEventListener("loadedmetadata",w)},w=()=>{E(),e.removeEventListener("play",A)};fr(e,"play",A,{once:!0}),fr(e,"loadedmetadata",w,{once:!0})}else E();(i=n.tokens)!=null&&i.drm?sX(n,e):fr(e,"encrypted",()=>{let A=ai("Attempting to play DRM-protected content without providing a DRM token."),w=new Fn(A,Fn.MEDIA_ERR_ENCRYPTED,!0);w.errorCategory=xa.DRM,w.muxCode=li.ENCRYPTED_MISSING_TOKEN,Xs(e,w)},{once:!0}),e.setAttribute("src",l),n.startTime&&(((r=tr.get(e))!=null?r:{}).startTime=n.startTime,e.addEventListener("durationchange",hF,{once:!0}))}else e.removeAttribute("src");e.addEventListener("error",mF),e.addEventListener("error",HR),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(y=>{y.remove()})},{once:!0}),fr(e,"pause",f),fr(e,"seeked",f),fr(e,"play",()=>{e.ended||sF(e.currentTime,e.duration)&&(e.currentTime=e.seekable.length?e.seekable.start(0):0)})}else t&&l?(t.once(qi.Events.LEVEL_LOADED,(p,y)=>{qQ(y.details,e,t),m(),jR(e)===da.LIVE&&!Number.isFinite(e.duration)&&(t.on(qi.Events.LEVEL_UPDATED,m),fr(e,"durationchange",()=>{Number.isFinite(e.duration)&&t.off(qi.Events.LEVELS_UPDATED,m)}))}),t.on(qi.Events.ERROR,(p,y)=>{var E,A;let w=uX(y,n);if(w.muxCode===li.NETWORK_NOT_READY){let M=(E=tr.get(e))!=null?E:{},x=(A=M.retryCount)!=null?A:0;if(x<6){let C=x===0?5e3:6e4,O=new Fn(`Retrying in ${C/1e3} seconds...`,w.code,w.fatal);Object.assign(O,w),Xs(e,O),setTimeout(()=>{M.retryCount=x+1,y.details==="manifestLoadError"&&y.url&&t.loadSource(y.url)},C);return}else{M.retryCount=0;let C=new Fn('Try again later or <a href="#" onclick="window.location.reload(); return false;" style="color: #4a90e2;">click here to retry</a>',w.code,w.fatal);Object.assign(C,w),Xs(e,C);return}}Xs(e,w)}),t.on(qi.Events.MANIFEST_LOADED,()=>{let p=tr.get(e);p&&p.error&&(p.error=null,p.retryCount=0,e.dispatchEvent(new Event("emptied")),e.dispatchEvent(new Event("loadstart")))}),e.addEventListener("error",HR),fr(e,"waiting",f),EQ(n,t),bQ(e,t),t.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function hF(n){var e;let t=n.target,i=(e=tr.get(t))==null?void 0:e.startTime;if(i&&oQ(t.seekable,t.duration,i)){let r=t.preload==="auto";r&&(t.preload="none"),t.currentTime=i,r&&(t.preload="auto")}}async function mF(n){if(!n.isTrusted)return;n.stopImmediatePropagation();let e=n.target;if(!(e!=null&&e.error))return;let{message:t,code:i}=e.error,r=new Fn(t,i);if(e.src&&i===Fn.MEDIA_ERR_SRC_NOT_SUPPORTED&&e.readyState===HTMLMediaElement.HAVE_NOTHING){setTimeout(()=>{var o;let l=(o=rF(e))!=null?o:e.error;l?.code===Fn.MEDIA_ERR_SRC_NOT_SUPPORTED&&Xs(e,r)},500);return}if(e.src&&(i!==Fn.MEDIA_ERR_DECODE||i!==void 0))try{let{status:o}=await fetch(e.src);r.data={response:{code:o}}}catch{}Xs(e,r)}function Xs(n,e){var t;e.fatal&&(((t=tr.get(n))!=null?t:{}).error=e,n.dispatchEvent(new CustomEvent("error",{detail:e})))}function HR(n){var e,t;if(!(n instanceof CustomEvent)||!(n.detail instanceof Fn))return;let i=n.target,r=n.detail;!r||!r.fatal||(((e=tr.get(i))!=null?e:{}).error=r,(t=i.mux)==null||t.emit("error",{player_error_code:r.code,player_error_message:r.message,player_error_context:r.context}))}var uX=(n,e)=>{var t,i,r;n.fatal?console.error("getErrorFromHlsErrorData()",n):e.debug&&console.warn("getErrorFromHlsErrorData() (non-fatal)",n);let o={[qi.ErrorTypes.NETWORK_ERROR]:Fn.MEDIA_ERR_NETWORK,[qi.ErrorTypes.MEDIA_ERROR]:Fn.MEDIA_ERR_DECODE,[qi.ErrorTypes.KEY_SYSTEM_ERROR]:Fn.MEDIA_ERR_ENCRYPTED},l=g=>[qi.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,qi.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED].includes(g.details)?Fn.MEDIA_ERR_NETWORK:o[g.type],c=g=>{if(g.type===qi.ErrorTypes.KEY_SYSTEM_ERROR)return xa.DRM;if(g.type===qi.ErrorTypes.NETWORK_ERROR)return xa.VIDEO},f,h=l(n);if(h===Fn.MEDIA_ERR_NETWORK&&n.response){let g=(t=c(n))!=null?t:xa.VIDEO;f=(i=JT(n.response,g,e,n.fatal))!=null?i:new Fn("",h,n.fatal)}else if(h===Fn.MEDIA_ERR_ENCRYPTED)if(n.details===qi.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE){let g=ai("Attempting to play DRM-protected content without providing a DRM token.");f=new Fn(g,Fn.MEDIA_ERR_ENCRYPTED,n.fatal),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_MISSING_TOKEN}else if(n.details===qi.ErrorDetails.KEY_SYSTEM_NO_ACCESS){let g=ai("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser.");f=new Fn(g,Fn.MEDIA_ERR_ENCRYPTED,n.fatal),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM}else if(n.details===qi.ErrorDetails.KEY_SYSTEM_NO_SESSION){let g=ai("Failed to generate a DRM license request. This may be an issue with the player or your protected content.");f=new Fn(g,Fn.MEDIA_ERR_ENCRYPTED,!0),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_GENERATE_REQUEST_FAILED}else if(n.details===qi.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED){let g=ai("Failed to update DRM license. This may be an issue with the player or your protected content.");f=new Fn(g,Fn.MEDIA_ERR_ENCRYPTED,n.fatal),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_UPDATE_LICENSE_FAILED}else if(n.details===qi.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED){let g=ai("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate.");f=new Fn(g,Fn.MEDIA_ERR_ENCRYPTED,n.fatal),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_UPDATE_SERVER_CERT_FAILED}else if(n.details===qi.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR){let g=ai("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");f=new Fn(g,Fn.MEDIA_ERR_ENCRYPTED,n.fatal),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_CDM_ERROR}else if(n.details===qi.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED){let g=ai("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");f=new Fn(g,Fn.MEDIA_ERR_ENCRYPTED,!1),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_OUTPUT_RESTRICTED}else f=new Fn(n.error.message,Fn.MEDIA_ERR_ENCRYPTED,n.fatal),f.errorCategory=xa.DRM,f.muxCode=li.ENCRYPTED_ERROR;else f=new Fn("",h,n.fatal);return f.context||(f.context=`${n.url?`url: ${n.url}
`:""}${n.response&&(n.response.code||n.response.text)?`response: ${n.response.code}, ${n.response.text}
`:""}${n.reason?`failure reason: ${n.reason}
`:""}${n.level?`level: ${n.level}
`:""}${n.parent?`parent stream controller: ${n.parent}
`:""}${n.buffer?`buffer length: ${n.buffer}
`:""}${n.error?`error: ${n.error}
`:""}${n.event?`event: ${n.event}
`:""}${n.err?`error message: ${(r=n.err)==null?void 0:r.message}
`:""}`),f.data=n,f},gF=n=>{throw TypeError(n)},nx=(n,e,t)=>e.has(n)||gF("Cannot "+t),Vr=(n,e,t)=>(nx(n,e,"read from private field"),t?t.call(n):e.get(n)),il=(n,e,t)=>e.has(n)?gF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),So=(n,e,t,i)=>(nx(n,e,"write to private field"),e.set(n,t),t),L0=(n,e,t)=>(nx(n,e,"access private method"),t),cX=()=>{try{return"0.29.2"}catch{}return"UNKNOWN"},dX=cX(),fX=()=>dX,hX=`
<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" part="logo" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 1600 500"><g fill="#fff"><path d="M994.287 93.486c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m0-93.486c-34.509 0-62.484 27.976-62.484 62.486v187.511c0 68.943-56.09 125.033-125.032 125.033s-125.03-56.09-125.03-125.033V62.486C681.741 27.976 653.765 0 619.256 0s-62.484 27.976-62.484 62.486v187.511C556.772 387.85 668.921 500 806.771 500c137.851 0 250.001-112.15 250.001-250.003V62.486c0-34.51-27.976-62.486-62.485-62.486M1537.51 468.511c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m-275.883-218.509-143.33 143.329c-24.402 24.402-24.402 63.966 0 88.368 24.402 24.402 63.967 24.402 88.369 0l143.33-143.329 143.328 143.329c24.402 24.4 63.967 24.402 88.369 0 24.403-24.402 24.403-63.966.001-88.368l-143.33-143.329.001-.004 143.329-143.329c24.402-24.402 24.402-63.965 0-88.367s-63.967-24.402-88.369 0L1349.996 161.63 1206.667 18.302c-24.402-24.401-63.967-24.402-88.369 0s-24.402 63.965 0 88.367l143.329 143.329v.004ZM437.511 468.521c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31M461.426 4.759C438.078-4.913 411.2.432 393.33 18.303L249.999 161.632 106.669 18.303C88.798.432 61.922-4.913 38.573 4.759 15.224 14.43-.001 37.214-.001 62.488v375.026c0 34.51 27.977 62.486 62.487 62.486 34.51 0 62.486-27.976 62.486-62.486V213.341l80.843 80.844c24.404 24.402 63.965 24.402 88.369 0l80.843-80.844v224.173c0 34.51 27.976 62.486 62.486 62.486s62.486-27.976 62.486-62.486V62.488c0-25.274-15.224-48.058-38.573-57.729" style="fill-rule:nonzero"/></g></svg>`,Ct={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",MAX_AUTO_RESOLUTION:"max-auto-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_INIT_TIME:"player-init-time",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type",LOGO:"logo"},mX=Object.values(Ct),oN=fX(),lN="mux-video",Gl,Vv,p_,Kv,v_,y_,E_,b_,__,Yv,Um,Wv,gX=class extends Md{constructor(){super(),il(this,Um),il(this,Gl),il(this,Vv),il(this,p_),il(this,Kv,{}),il(this,v_,{}),il(this,y_),il(this,E_),il(this,b_),il(this,__),il(this,Yv,""),So(this,p_,WS()),this.nativeEl.addEventListener("muxmetadata",e=>{var t;let i=WQ(this.nativeEl),r=(t=this.metadata)!=null?t:{};this.metadata={...i,...r},i?.["com.mux.video.branding"]==="mux-free-plan"&&(So(this,Yv,"default"),this.updateLogo())})}static get NAME(){return lN}static get VERSION(){return oN}static get observedAttributes(){var e;return[...mX,...(e=Md.observedAttributes)!=null?e:[]]}static getLogoHTML(e){return!e||e==="false"?"":e==="default"?hX:`<img part="logo" src="${e}" />`}static getTemplateHTML(e={}){var t;return`
      ${Md.getTemplateHTML(e)}
      <style>
        :host {
          position: relative;
        }
        slot[name="logo"] {
          display: flex;
          justify-content: end;
          position: absolute;
          top: 1rem;
          right: 1rem;
          opacity: 0;
          transition: opacity 0.25s ease-in-out;
          z-index: 1;
        }
        slot[name="logo"]:has([part="logo"]) {
          opacity: 1;
        }
        slot[name="logo"] [part="logo"] {
          width: 5rem;
          pointer-events: none;
          user-select: none;
        }
      </style>
      <slot name="logo">
        ${this.getLogoHTML((t=e[Ct.LOGO])!=null?t:"")}
      </slot>
    `}get preferCmcd(){var e;return(e=this.getAttribute(Ct.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?ZT.includes(e)?this.setAttribute(Ct.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${ZT.join()}`):this.removeAttribute(Ct.PREFER_CMCD))}get playerInitTime(){return this.hasAttribute(Ct.PLAYER_INIT_TIME)?+this.getAttribute(Ct.PLAYER_INIT_TIME):Vr(this,p_)}set playerInitTime(e){e!=this.playerInitTime&&(e==null?this.removeAttribute(Ct.PLAYER_INIT_TIME):this.setAttribute(Ct.PLAYER_INIT_TIME,`${+e}`))}get playerSoftwareName(){var e;return(e=Vr(this,b_))!=null?e:lN}set playerSoftwareName(e){So(this,b_,e)}get playerSoftwareVersion(){var e;return(e=Vr(this,E_))!=null?e:oN}set playerSoftwareVersion(e){So(this,E_,e)}get _hls(){var e;return(e=Vr(this,Gl))==null?void 0:e.engine}get mux(){var e;return(e=this.nativeEl)==null?void 0:e.mux}get error(){var e;return(e=rF(this.nativeEl))!=null?e:null}get errorTranslator(){return Vr(this,__)}set errorTranslator(e){So(this,__,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(Ct.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(Ct.TYPE,e):this.removeAttribute(Ct.TYPE))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(Ct.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(Ct.DEBUG,""):this.removeAttribute(Ct.DEBUG))}get disableTracking(){return this.hasAttribute(Ct.DISABLE_TRACKING)}set disableTracking(e){e!==this.disableTracking&&this.toggleAttribute(Ct.DISABLE_TRACKING,!!e)}get disableCookies(){return this.hasAttribute(Ct.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(Ct.DISABLE_COOKIES,""):this.removeAttribute(Ct.DISABLE_COOKIES))}get disablePseudoEnded(){return this.hasAttribute(Ct.DISABLE_PSEUDO_ENDED)}set disablePseudoEnded(e){e!==this.disablePseudoEnded&&(e?this.setAttribute(Ct.DISABLE_PSEUDO_ENDED,""):this.removeAttribute(Ct.DISABLE_PSEUDO_ENDED))}get startTime(){let e=this.getAttribute(Ct.START_TIME);if(e==null)return;let t=+e;return Number.isNaN(t)?void 0:t}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(Ct.START_TIME):this.setAttribute(Ct.START_TIME,`${e}`))}get playbackId(){var e;return this.hasAttribute(Ct.PLAYBACK_ID)?this.getAttribute(Ct.PLAYBACK_ID):(e=Jk(this.src))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(Ct.PLAYBACK_ID,e):this.removeAttribute(Ct.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(Ct.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(Ct.MAX_RESOLUTION,e):this.removeAttribute(Ct.MAX_RESOLUTION))}get minResolution(){var e;return(e=this.getAttribute(Ct.MIN_RESOLUTION))!=null?e:void 0}set minResolution(e){e!==this.minResolution&&(e?this.setAttribute(Ct.MIN_RESOLUTION,e):this.removeAttribute(Ct.MIN_RESOLUTION))}get maxAutoResolution(){var e;return(e=this.getAttribute(Ct.MAX_AUTO_RESOLUTION))!=null?e:void 0}set maxAutoResolution(e){e==null?this.removeAttribute(Ct.MAX_AUTO_RESOLUTION):this.setAttribute(Ct.MAX_AUTO_RESOLUTION,e)}get renditionOrder(){var e;return(e=this.getAttribute(Ct.RENDITION_ORDER))!=null?e:void 0}set renditionOrder(e){e!==this.renditionOrder&&(e?this.setAttribute(Ct.RENDITION_ORDER,e):this.removeAttribute(Ct.RENDITION_ORDER))}get programStartTime(){let e=this.getAttribute(Ct.PROGRAM_START_TIME);if(e==null)return;let t=+e;return Number.isNaN(t)?void 0:t}set programStartTime(e){e==null?this.removeAttribute(Ct.PROGRAM_START_TIME):this.setAttribute(Ct.PROGRAM_START_TIME,`${e}`)}get programEndTime(){let e=this.getAttribute(Ct.PROGRAM_END_TIME);if(e==null)return;let t=+e;return Number.isNaN(t)?void 0:t}set programEndTime(e){e==null?this.removeAttribute(Ct.PROGRAM_END_TIME):this.setAttribute(Ct.PROGRAM_END_TIME,`${e}`)}get assetStartTime(){let e=this.getAttribute(Ct.ASSET_START_TIME);if(e==null)return;let t=+e;return Number.isNaN(t)?void 0:t}set assetStartTime(e){e==null?this.removeAttribute(Ct.ASSET_START_TIME):this.setAttribute(Ct.ASSET_START_TIME,`${e}`)}get assetEndTime(){let e=this.getAttribute(Ct.ASSET_END_TIME);if(e==null)return;let t=+e;return Number.isNaN(t)?void 0:t}set assetEndTime(e){e==null?this.removeAttribute(Ct.ASSET_END_TIME):this.setAttribute(Ct.ASSET_END_TIME,`${e}`)}get customDomain(){var e;return(e=this.getAttribute(Ct.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(Ct.CUSTOM_DOMAIN,e):this.removeAttribute(Ct.CUSTOM_DOMAIN))}get drmToken(){var e;return(e=this.getAttribute(Ct.DRM_TOKEN))!=null?e:void 0}set drmToken(e){e!==this.drmToken&&(e?this.setAttribute(Ct.DRM_TOKEN,e):this.removeAttribute(Ct.DRM_TOKEN))}get playbackToken(){var e,t,i,r;if(this.hasAttribute(Ct.PLAYBACK_TOKEN))return(e=this.getAttribute(Ct.PLAYBACK_TOKEN))!=null?e:void 0;if(this.hasAttribute(Ct.PLAYBACK_ID)){let[,o]=Yk((t=this.playbackId)!=null?t:"");return(i=new URLSearchParams(o).get("token"))!=null?i:void 0}if(this.src)return(r=new URLSearchParams(this.src).get("token"))!=null?r:void 0}set playbackToken(e){e!==this.playbackToken&&(e?this.setAttribute(Ct.PLAYBACK_TOKEN,e):this.removeAttribute(Ct.PLAYBACK_TOKEN))}get tokens(){let e=this.getAttribute(Ct.PLAYBACK_TOKEN),t=this.getAttribute(Ct.DRM_TOKEN);return{...Vr(this,v_),...e!=null?{playback:e}:{},...t!=null?{drm:t}:{}}}set tokens(e){So(this,v_,e??{})}get ended(){return lF(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(Ct.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(Ct.ENV_KEY,e):this.removeAttribute(Ct.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(Ct.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(Ct.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(Ct.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(Ct.STREAM_TYPE))!=null?e:jR(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(Ct.STREAM_TYPE,e):this.removeAttribute(Ct.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(Ct.TARGET_LIVE_WINDOW)?+this.getAttribute(Ct.TARGET_LIVE_WINDOW):QQ(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(Ct.TARGET_LIVE_WINDOW):this.setAttribute(Ct.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,t;if(this.hasAttribute(Ct.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:i}=this,r=(e=this.nativeEl.seekable.end(0))!=null?e:0,o=(t=this.nativeEl.seekable.start(0))!=null?t:0;return Math.max(o,r-i)}return XQ(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(Ct.LIVE_EDGE_OFFSET))return+this.getAttribute(Ct.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.liveEdgeOffset&&(e==null?this.removeAttribute(Ct.LIVE_EDGE_OFFSET):this.setAttribute(Ct.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return ex(this.nativeEl)}async addCuePoints(e){return Z3(this.nativeEl,e)}get activeCuePoint(){return J3(this.nativeEl)}get cuePoints(){return TQ(this.nativeEl)}async addChapters(e){return tF(this.nativeEl,e)}get activeChapter(){return nF(this.nativeEl)}get chapters(){return AQ(this.nativeEl)}getStartDate(){return RQ(this.nativeEl,this._hls)}get currentPdt(){return IQ(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(Ct.PREFER_PLAYBACK);if(e===fu.MSE||e===fu.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===fu.MSE||e===fu.NATIVE?this.setAttribute(Ct.PREFER_PLAYBACK,e):this.removeAttribute(Ct.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(e=>e.startsWith("metadata-")&&![Ct.METADATA_URL].includes(e)).reduce((e,t)=>{let i=this.getAttribute(t);return i!=null&&(e[t.replace(/^metadata-/,"").replace(/-/g,"_")]=i),e},{}),...Vr(this,Kv)}}set metadata(e){So(this,Kv,e??{}),this.mux&&this.mux.emit("hb",Vr(this,Kv))}get _hlsConfig(){return Vr(this,y_)}set _hlsConfig(e){So(this,y_,e)}get logo(){var e;return(e=this.getAttribute(Ct.LOGO))!=null?e:Vr(this,Yv)}set logo(e){e?this.setAttribute(Ct.LOGO,e):this.removeAttribute(Ct.LOGO)}load(){So(this,Gl,eX(this,this.nativeEl,Vr(this,Gl)))}unload(){uF(this.nativeEl,Vr(this,Gl),this),So(this,Gl,void 0)}attributeChangedCallback(e,t,i){var r,o;switch(Md.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,t,i),e){case Ct.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=i??void 0;break;case Ct.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=i??void 0;break;case"src":{let l=!!t,c=!!i;!l&&c?L0(this,Um,Wv).call(this):l&&!c?this.unload():l&&c&&(this.unload(),L0(this,Um,Wv).call(this));break}case"autoplay":if(i===t)break;(r=Vr(this,Gl))==null||r.setAutoplay(this.autoplay);break;case"preload":if(i===t)break;(o=Vr(this,Gl))==null||o.setPreload(i);break;case Ct.PLAYBACK_ID:this.src=qR(this);break;case Ct.DEBUG:{let l=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=l);break}case Ct.METADATA_URL:i&&fetch(i).then(l=>l.json()).then(l=>this.metadata=l).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${i}!`));break;case Ct.STREAM_TYPE:(i==null||i!==t)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case Ct.TARGET_LIVE_WINDOW:(i==null||i!==t)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;case Ct.LOGO:(i==null||i!==t)&&this.updateLogo();break;case Ct.DISABLE_TRACKING:{if(i==null||i!==t){let l=this.currentTime,c=this.paused;this.unload(),L0(this,Um,Wv).call(this).then(()=>{this.currentTime=l,c||this.play()})}break}case Ct.DISABLE_COOKIES:{(i==null||i!==t)&&this.disableCookies&&document.cookie.split(";").forEach(l=>{l.trim().startsWith("muxData")&&(document.cookie=l.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/"))});break}}}updateLogo(){if(!this.shadowRoot)return;let e=this.shadowRoot.querySelector('slot[name="logo"]');if(!e)return;let t=this.constructor.getLogoHTML(Vr(this,Yv)||this.logo);e.innerHTML=t}connectedCallback(){var e;(e=super.connectedCallback)==null||e.call(this),this.nativeEl&&this.src&&!Vr(this,Gl)&&L0(this,Um,Wv).call(this)}disconnectedCallback(){this.unload()}handleEvent(e){e.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(e.type,{composed:!0,detail:e.detail}))}};Gl=new WeakMap,Vv=new WeakMap,p_=new WeakMap,Kv=new WeakMap,v_=new WeakMap,y_=new WeakMap,E_=new WeakMap,b_=new WeakMap,__=new WeakMap,Yv=new WeakMap,Um=new WeakSet,Wv=async function(){Vr(this,Vv)||(await So(this,Vv,Promise.resolve()),So(this,Vv,null),this.load())};const Qf=new WeakMap;class l1 extends Error{}class pX extends Error{}const vX=["application/x-mpegURL","application/vnd.apple.mpegurl","audio/mpegurl"],yX=globalThis.WeakRef?class extends Set{add(n){super.add(new WeakRef(n))}forEach(n){super.forEach(e=>{const t=e.deref();t&&n(t)})}}:Set;function EX(n){globalThis.chrome?.cast?.isAvailable?globalThis.cast?.framework?n():customElements.whenDefined("google-cast-button").then(n):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(n)}}function bX(){return globalThis.chrome}function _X(){const n="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if(globalThis.chrome?.cast||document.querySelector(`script[src="${n}"]`))return;const e=document.createElement("script");e.src=n,document.head.append(e)}function Nd(){return globalThis.cast?.framework?.CastContext.getInstance()}function ix(){return Nd()?.getCurrentSession()}function ax(){return ix()?.getSessionObj().media[0]}function TX(n){return new Promise((e,t)=>{ax().editTracksInfo(n,e,t)})}function SX(n){return new Promise((e,t)=>{ax().getStatus(n,e,t)})}function uN(n){return Nd().setOptions({...pF(),...n})}function pF(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}function AX(n){if(!n)return;const e=/\.([a-zA-Z0-9]+)(?:\?.*)?$/,t=n.match(e);return t?t[1]:null}function wX(n){const e=n.split(`
`),t=[];for(let i=0;i<e.length;i++)if(e[i].trim().startsWith("#EXT-X-STREAM-INF")){const o=e[i+1]?e[i+1].trim():"";o&&!o.startsWith("#")&&t.push(o)}return t}function RX(n){return n.split(`
`).find(i=>!i.trim().startsWith("#")&&i.trim()!=="")}async function IX(n){try{const t=(await fetch(n,{method:"HEAD"})).headers.get("Content-Type");return vX.some(i=>t===i)}catch(e){return console.error("Error while trying to get the Content-Type of the manifest",e),!1}}async function kX(n){try{const e=await(await fetch(n)).text();let t=e;const i=wX(e);if(i.length>0){const l=new URL(i[0],n).toString();t=await(await fetch(l)).text()}const r=RX(t);return AX(r)}catch(e){console.error("Error while trying to parse the manifest playlist",e);return}}const T_=new yX,fd=new WeakSet;let Tr;EX(()=>{if(!globalThis.chrome?.cast?.isAvailable){console.debug("chrome.cast.isAvailable",globalThis.chrome?.cast?.isAvailable);return}Tr||(Tr=cast.framework,Nd().addEventListener(Tr.CastContextEventType.CAST_STATE_CHANGED,n=>{T_.forEach(e=>Qf.get(e).onCastStateChanged?.(n))}),Nd().addEventListener(Tr.CastContextEventType.SESSION_STATE_CHANGED,n=>{T_.forEach(e=>Qf.get(e).onSessionStateChanged?.(n))}),T_.forEach(n=>Qf.get(n).init?.()))});let cN=0;class xX extends EventTarget{#e;#a;#i;#t;#n="disconnected";#o=!1;#r=new Set;#l=new WeakMap;constructor(e){super(),this.#e=e,T_.add(this),Qf.set(this,{init:()=>this.#h(),onCastStateChanged:()=>this.#d(),onSessionStateChanged:()=>this.#f(),getCastPlayer:()=>this.#s}),this.#h()}get#s(){if(fd.has(this.#e))return this.#i}get state(){return this.#n}async watchAvailability(e){if(this.#e.disableRemotePlayback)throw new l1("disableRemotePlayback attribute is present.");return this.#l.set(e,++cN),this.#r.add(e),queueMicrotask(()=>e(this.#c())),cN}async cancelWatchAvailability(e){if(this.#e.disableRemotePlayback)throw new l1("disableRemotePlayback attribute is present.");e?this.#r.delete(e):this.#r.clear()}async prompt(){if(this.#e.disableRemotePlayback)throw new l1("disableRemotePlayback attribute is present.");if(!globalThis.chrome?.cast?.isAvailable)throw new pX("The RemotePlayback API is disabled on this platform.");const e=fd.has(this.#e);fd.add(this.#e),uN(this.#e.castOptions),Object.entries(this.#t).forEach(([t,i])=>{this.#i.controller.addEventListener(t,i)});try{await Nd().requestSession()}catch(t){if(e||fd.delete(this.#e),t==="cancel")return;throw new Error(t)}Qf.get(this.#e)?.loadOnPrompt?.()}#u(){fd.has(this.#e)&&(Object.entries(this.#t).forEach(([e,t])=>{this.#i.controller.removeEventListener(e,t)}),fd.delete(this.#e),this.#e.muted=this.#i.isMuted,this.#e.currentTime=this.#i.savedPlayerState.currentTime,this.#i.savedPlayerState.isPaused===!1&&this.#e.play())}#c(){const e=Nd()?.getCastState();return e&&e!=="NO_DEVICES_AVAILABLE"}#d(){const e=Nd().getCastState();if(fd.has(this.#e)&&e==="CONNECTING"&&(this.#n="connecting",this.dispatchEvent(new Event("connecting"))),!this.#o&&e?.includes("CONNECT")){this.#o=!0;for(let t of this.#r)t(!0)}else if(this.#o&&(!e||e==="NO_DEVICES_AVAILABLE")){this.#o=!1;for(let t of this.#r)t(!1)}}async#f(){const{SESSION_RESUMED:e}=Tr.SessionState;if(Nd().getSessionState()===e&&this.#e.castSrc===ax()?.media.contentId){fd.add(this.#e),Object.entries(this.#t).forEach(([t,i])=>{this.#i.controller.addEventListener(t,i)});try{await SX(new chrome.cast.media.GetStatusRequest)}catch(t){console.error(t)}this.#t[Tr.RemotePlayerEventType.IS_PAUSED_CHANGED](),this.#t[Tr.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}}#h(){!Tr||this.#a||(this.#a=!0,uN(this.#e.castOptions),this.#e.textTracks.addEventListener("change",()=>this.#g()),this.#d(),this.#i=new Tr.RemotePlayer,new Tr.RemotePlayerController(this.#i),this.#t={[Tr.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:e})=>{e===!0?(this.#n="connected",this.dispatchEvent(new Event("connect"))):(this.#u(),this.#n="disconnected",this.dispatchEvent(new Event("disconnect")))},[Tr.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.#e.dispatchEvent(new Event("durationchange"))},[Tr.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[Tr.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[Tr.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{this.#s?.isMediaLoaded&&this.#e.dispatchEvent(new Event("timeupdate"))},[Tr.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.#e.dispatchEvent(new Event("resize"))},[Tr.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.#e.dispatchEvent(new Event(this.paused?"pause":"play"))},[Tr.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{this.#s?.playerState!==chrome.cast.media.PlayerState.PAUSED&&this.#e.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[this.#s?.playerState]))},[Tr.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{this.#s?.isMediaLoaded&&(await Promise.resolve(),this.#m())}})}#m(){this.#g()}async#g(){if(!this.#s)return;const t=(this.#i.mediaInfo?.tracks??[]).filter(({type:m})=>m===chrome.cast.media.TrackType.TEXT),i=[...this.#e.textTracks].filter(({kind:m})=>m==="subtitles"||m==="captions"),r=t.map(({language:m,name:p,trackId:y})=>{const{mode:E}=i.find(A=>A.language===m&&A.label===p)??{};return E?{mode:E,trackId:y}:!1}).filter(Boolean),l=r.filter(({mode:m})=>m!=="showing").map(({trackId:m})=>m),c=r.find(({mode:m})=>m==="showing"),f=ix()?.getSessionObj().media[0]?.activeTrackIds??[];let h=f;if(f.length&&(h=h.filter(m=>!l.includes(m))),c?.trackId&&(h=[...h,c.trackId]),h=[...new Set(h)],!((m,p)=>m.length===p.length&&m.every(y=>p.includes(y)))(f,h))try{const m=new chrome.cast.media.EditTracksInfoRequest(h);await TX(m)}catch(m){console.error(m)}}}const CX=n=>class extends n{static observedAttributes=[...n.observedAttributes??[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"];#e={paused:!1};#a=pF();#i;#t;get remote(){return this.#t?this.#t:bX()?(this.disableRemotePlayback||_X(),Qf.set(this,{loadOnPrompt:()=>this.#o()}),this.#t=new xX(this)):super.remote}get#n(){return Qf.get(this.remote)?.getCastPlayer?.()}attributeChangedCallback(t,i,r){if(super.attributeChangedCallback(t,i,r),t==="cast-receiver"&&r){this.#a.receiverApplicationId=r;return}if(this.#n)switch(t){case"cast-stream-type":case"cast-src":this.load();break}}async#o(){this.#e.paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(t){console.error(t)}}async load(){if(!this.#n)return super.load();const t=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);t.customData=this.castCustomData;const i=[...this.querySelectorAll("track")].filter(({kind:c,src:f})=>f&&(c==="subtitles"||c==="captions")),r=[];let o=0;if(i.length&&(t.tracks=i.map(c=>{const f=++o;r.length===0&&c.track.mode==="showing"&&r.push(f);const h=new chrome.cast.media.Track(f,chrome.cast.media.TrackType.TEXT);return h.trackContentId=c.src,h.trackContentType="text/vtt",h.subtype=c.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,h.name=c.label,h.language=c.srclang,h})),this.castStreamType==="live"?t.streamType=chrome.cast.media.StreamType.LIVE:t.streamType=chrome.cast.media.StreamType.BUFFERED,t.metadata=new chrome.cast.media.GenericMediaMetadata,t.metadata.title=this.title,t.metadata.images=[{url:this.poster}],IX(this.castSrc)){const c=await kX(this.castSrc);c?.includes("m4s")||c?.includes("mp4")?(t.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.FMP4,t.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.FMP4):c?.includes("ts")&&(t.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.TS,t.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.TS)}const l=new chrome.cast.media.LoadRequest(t);l.currentTime=super.currentTime??0,l.autoplay=!this.#e.paused,l.activeTrackIds=r,await ix()?.loadMedia(l),this.dispatchEvent(new Event("volumechange"))}play(){if(this.#n){this.#n.isPaused&&this.#n.controller?.playOrPause();return}return super.play()}pause(){if(this.#n){this.#n.isPaused||this.#n.controller?.playOrPause();return}super.pause()}get castOptions(){return this.#a}get castReceiver(){return this.getAttribute("cast-receiver")??void 0}set castReceiver(t){this.castReceiver!=t&&this.setAttribute("cast-receiver",`${t}`)}get castSrc(){return this.getAttribute("cast-src")??this.querySelector("source")?.src??this.currentSrc}set castSrc(t){this.castSrc!=t&&this.setAttribute("cast-src",`${t}`)}get castContentType(){return this.getAttribute("cast-content-type")??void 0}set castContentType(t){this.setAttribute("cast-content-type",`${t}`)}get castStreamType(){return this.getAttribute("cast-stream-type")??this.streamType??void 0}set castStreamType(t){this.setAttribute("cast-stream-type",`${t}`)}get castCustomData(){return this.#i}set castCustomData(t){const i=typeof t;if(!["object","undefined"].includes(i)){console.error(`castCustomData must be nullish or an object but value was of type ${i}`);return}this.#i=t}get readyState(){if(this.#n)switch(this.#n.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.#n?this.#n.isPaused:super.paused}get muted(){return this.#n?this.#n?.isMuted:super.muted}set muted(t){if(this.#n){(t&&!this.#n.isMuted||!t&&this.#n.isMuted)&&this.#n.controller?.muteOrUnmute();return}super.muted=t}get volume(){return this.#n?this.#n?.volumeLevel??1:super.volume}set volume(t){if(this.#n){this.#n.volumeLevel=+t,this.#n.controller?.setVolumeLevel();return}super.volume=t}get duration(){return this.#n&&this.#n?.isMediaLoaded?this.#n?.duration??NaN:super.duration}get currentTime(){return this.#n&&this.#n?.isMediaLoaded?this.#n?.currentTime??0:super.currentTime}set currentTime(t){if(this.#n){this.#n.currentTime=t,this.#n.controller?.seek();return}super.currentTime=t}};var vF=n=>{throw TypeError(n)},yF=(n,e,t)=>e.has(n)||vF("Cannot "+t),DX=(n,e,t)=>(yF(n,e,"read from private field"),t?t.call(n):e.get(n)),LX=(n,e,t)=>e.has(n)?vF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),MX=(n,e,t,i)=>(yF(n,e,"write to private field"),e.set(n,t),t),EF=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class n extends EF{}globalThis.DocumentFragment=n}var NX=class extends EF{},OX={get(n){},define(n,e,t){},getName(n){return null},upgrade(n){},whenDefined(n){return Promise.resolve(NX)}},PX={customElements:OX},UX=typeof window>"u"||typeof globalThis.customElements>"u",u1=UX?PX:globalThis,S_,dN=class extends CX(yk(gX)){constructor(){super(...arguments),LX(this,S_)}get autoplay(){let e=this.getAttribute("autoplay");return e===null?!1:e===""?!0:e}set autoplay(e){let t=this.autoplay;e!==t&&(e?this.setAttribute("autoplay",typeof e=="string"?e:""):this.removeAttribute("autoplay"))}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var e;return(e=DX(this,S_))!=null?e:this.muxCastCustomData}set castCustomData(e){MX(this,S_,e)}};S_=new WeakMap;u1.customElements.get("mux-video")||(u1.customElements.define("mux-video",dN),u1.MuxVideoElement=dN);const Pn={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_LOOP_REQUEST:"medialooprequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},ra={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},bF={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_BUFFERED:"mediaBuffered",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_CHAPTERS_CUES:"mediaChaptersCues",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_ENDED:"mediaEnded",MEDIA_ERROR:"mediaError",MEDIA_ERROR_CODE:"mediaErrorCode",MEDIA_ERROR_MESSAGE:"mediaErrorMessage",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_HEIGHT:"mediaHeight",MEDIA_IS_AIRPLAYING:"mediaIsAirplaying",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_IS_PIP:"mediaIsPip",MEDIA_LOADING:"mediaLoading",MEDIA_MUTED:"mediaMuted",MEDIA_LOOP:"mediaLoop",MEDIA_PAUSED:"mediaPaused",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_PREVIEW_CHAPTER:"mediaPreviewChapter",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_LANG:"mediaLang",MEDIA_WIDTH:"mediaWidth"},_F=Object.entries(bF),Ke=_F.reduce((n,[e,t])=>(n[e]=t.toLowerCase(),n),{}),FX={USER_INACTIVE_CHANGE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"},gc=_F.reduce((n,[e,t])=>(n[e]=t.toLowerCase(),n),{...FX});Object.entries(gc).reduce((n,[e,t])=>{const i=Ke[e];return i&&(n[t]=i),n},{userinactivechange:"userinactive"});const BX=Object.entries(Ke).reduce((n,[e,t])=>{const i=gc[e];return i&&(n[t]=i),n},{userinactive:"userinactivechange"}),yu={SUBTITLES:"subtitles",CAPTIONS:"captions",CHAPTERS:"chapters",METADATA:"metadata"},Eg={DISABLED:"disabled",SHOWING:"showing"},c1={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},qs={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},ec={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},zX={FULLSCREEN:"fullscreen"};function $X(n){return n?.map(jX).join(" ")}function qX(n){return n?.split(/\s+/).map(HX)}function jX(n){if(n){const{id:e,width:t,height:i}=n;return[e,t,i].filter(r=>r!=null).join(":")}}function HX(n){if(n){const[e,t,i]=n.split(":");return{id:e,width:+t,height:+i}}}function GX(n){return n?.map(KX).join(" ")}function VX(n){return n?.split(/\s+/).map(YX)}function KX(n){if(n){const{id:e,kind:t,language:i,label:r}=n;return[e,t,i,r].filter(o=>o!=null).join(":")}}function YX(n){if(n){const[e,t,i,r]=n.split(":");return{id:e,kind:t,language:i,label:r}}}function WX(n){return n.replace(/[-_]([a-z])/g,(e,t)=>t.toUpperCase())}function rx(n){return typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n)}function TF(n){return typeof n!="string"?!1:!isNaN(n)&&!isNaN(parseFloat(n))}const SF=n=>new Promise(e=>setTimeout(e,n)),fN=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],QX=(n,e)=>{const t=n===1?fN[e].singular:fN[e].plural;return`${n} ${t}`},Sy=n=>{if(!rx(n))return"";const e=Math.abs(n),t=e!==n,i=new Date(0,0,0,0,0,e,0);return`${[i.getHours(),i.getMinutes(),i.getSeconds()].map((c,f)=>c&&QX(c,f)).filter(c=>c).join(", ")}${t?" remaining":""}`};function Ud(n,e){let t=!1;n<0&&(t=!0,n=0-n),n=n<0?0:n;let i=Math.floor(n%60),r=Math.floor(n/60%60),o=Math.floor(n/3600);const l=Math.floor(e/60%60),c=Math.floor(e/3600);return(isNaN(n)||n===1/0)&&(o=r=i="0"),o=o>0||c>0?o+":":"",r=((o||l>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,(t?"-":"")+o+r+i}const XX={"Start airplay":"Start airplay","Stop airplay":"Stop airplay",Audio:"Audio",Captions:"Captions","Enable captions":"Enable captions","Disable captions":"Disable captions","Start casting":"Start casting","Stop casting":"Stop casting","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",Mute:"Mute",Unmute:"Unmute",Loop:"Loop","Enter picture in picture mode":"Enter picture in picture mode","Exit picture in picture mode":"Exit picture in picture mode",Play:"Play",Pause:"Pause","Playback rate":"Playback rate","Playback rate {playbackRate}":"Playback rate {playbackRate}",Quality:"Quality","Seek backward":"Seek backward","Seek forward":"Seek forward",Settings:"Settings",Auto:"Auto","audio player":"audio player","video player":"video player",volume:"volume",seek:"seek","closed captions":"closed captions","current playback rate":"current playback rate","playback time":"playback time","media loading":"media loading",settings:"settings","audio tracks":"audio tracks",quality:"quality",play:"play",pause:"pause",mute:"mute",unmute:"unmute","chapter: {chapterName}":"chapter: {chapterName}",live:"live",Off:"Off","start airplay":"start airplay","stop airplay":"stop airplay","start casting":"start casting","stop casting":"stop casting","enter fullscreen mode":"enter fullscreen mode","exit fullscreen mode":"exit fullscreen mode","enter picture in picture mode":"enter picture in picture mode","exit picture in picture mode":"exit picture in picture mode","seek to live":"seek to live","playing live":"playing live","seek back {seekOffset} seconds":"seek back {seekOffset} seconds","seek forward {seekOffset} seconds":"seek forward {seekOffset} seconds","Network Error":"Network Error","Decode Error":"Decode Error","Source Not Supported":"Source Not Supported","Encryption Error":"Encryption Error","A network error caused the media download to fail.":"A network error caused the media download to fail.","A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.":"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.","An unsupported error occurred. The server or network failed, or your browser does not support this format.":"An unsupported error occurred. The server or network failed, or your browser does not support this format.","The media is encrypted and there are no keys to decrypt it.":"The media is encrypted and there are no keys to decrypt it."};var hN;const d1={en:XX};let GR=((hN=globalThis.navigator)==null?void 0:hN.language)||"en";const ZX=n=>{GR=n},JX=n=>{var e,t,i;const[r]=GR.split("-");return((e=d1[GR])==null?void 0:e[n])||((t=d1[r])==null?void 0:t[n])||((i=d1.en)==null?void 0:i[n])||n},Kn=(n,e={})=>JX(n).replace(/\{(\w+)\}/g,(t,i)=>i in e?String(e[i]):`{${i}}`);let AF=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},wF=class extends AF{},mN=class extends wF{constructor(){super(...arguments),this.role=null}},eZ=class{observe(){}unobserve(){}disconnect(){}};const RF={createElement:function(){return new jy.HTMLElement},createElementNS:function(){return new jy.HTMLElement},addEventListener(){},removeEventListener(){},dispatchEvent(n){return!1}},jy={ResizeObserver:eZ,document:RF,Node:wF,Element:mN,HTMLElement:class extends mN{constructor(){super(...arguments),this.innerHTML=""}get content(){return new jy.DocumentFragment}},DocumentFragment:class extends AF{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},localStorage:{getItem(n){return null},setItem(n,e){},removeItem(n){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[],get userAgent(){return""}},matchMedia(n){return{matches:!1,media:n}},DOMParser:class{parseFromString(e,t){return{body:{textContent:e}}}}},IF="global"in globalThis&&globalThis?.global===globalThis||typeof window>"u"||typeof window.customElements>"u",kF=Object.keys(jy).every(n=>n in globalThis),bt=IF&&!kF?jy:globalThis,vr=IF&&!kF?RF:globalThis.document,gN=new WeakMap,sx=n=>{let e=gN.get(n);return e||gN.set(n,e=new Set),e},xF=new bt.ResizeObserver(n=>{for(const e of n)for(const t of sx(e.target))t(e)});function Og(n,e){sx(n).add(e),xF.observe(n)}function Pg(n,e){const t=sx(n);t.delete(e),t.size||xF.unobserve(n)}function io(n){const e={};for(const t of n)e[t.name]=t.value;return e}function Ns(n){var e;return(e=VR(n))!=null?e:Vg(n,"media-controller")}function VR(n){var e;const{MEDIA_CONTROLLER:t}=ra,i=n.getAttribute(t);if(i)return(e=XS(n))==null?void 0:e.getElementById(i)}const CF=(n,e,t=".value")=>{const i=n.querySelector(t);i&&(i.textContent=e)},tZ=(n,e)=>{const t=`slot[name="${e}"]`,i=n.shadowRoot.querySelector(t);return i?i.children:[]},DF=(n,e)=>tZ(n,e)[0],vc=(n,e)=>!n||!e?!1:n?.contains(e)?!0:vc(n,e.getRootNode().host),Vg=(n,e)=>{if(!n)return null;const t=n.closest(e);return t||Vg(n.getRootNode().host,e)};function ox(n=document){var e;const t=n?.activeElement;return t?(e=ox(t.shadowRoot))!=null?e:t:null}function XS(n){var e;const t=(e=n?.getRootNode)==null?void 0:e.call(n);return t instanceof ShadowRoot||t instanceof Document?t:null}function LF(n,{depth:e=3,checkOpacity:t=!0,checkVisibilityCSS:i=!0}={}){if(n.checkVisibility)return n.checkVisibility({checkOpacity:t,checkVisibilityCSS:i});let r=n;for(;r&&e>0;){const o=getComputedStyle(r);if(t&&o.opacity==="0"||i&&o.visibility==="hidden"||o.display==="none")return!1;r=r.parentElement,e--}return!0}function nZ(n,e,t,i){const r=i.x-t.x,o=i.y-t.y,l=r*r+o*o;if(l===0)return 0;const c=((n-t.x)*r+(e-t.y)*o)/l;return Math.max(0,Math.min(1,c))}function Ir(n,e){const t=iZ(n,i=>i===e);return t||lx(n,e)}function iZ(n,e){var t,i;let r;for(r of(t=n.querySelectorAll("style:not([media])"))!=null?t:[]){let o;try{o=(i=r.sheet)==null?void 0:i.cssRules}catch{continue}for(const l of o??[])if(e(l.selectorText))return l}}function lx(n,e){var t,i;const r=(t=n.querySelectorAll("style:not([media])"))!=null?t:[],o=r?.[r.length-1];return o?.sheet?(o?.sheet.insertRule(`${e}{}`,o.sheet.cssRules.length),(i=o.sheet.cssRules)==null?void 0:i[o.sheet.cssRules.length-1]):(console.warn("Media Chrome: No style sheet found on style tag of",n),{style:{setProperty:()=>{},removeProperty:()=>"",getPropertyValue:()=>""}})}function Ca(n,e,t=Number.NaN){const i=n.getAttribute(e);return i!=null?+i:t}function nr(n,e,t){const i=+t;if(t==null||Number.isNaN(i)){n.hasAttribute(e)&&n.removeAttribute(e);return}Ca(n,e,void 0)!==i&&n.setAttribute(e,`${i}`)}function ji(n,e){return n.hasAttribute(e)}function Hi(n,e,t){if(t==null){n.hasAttribute(e)&&n.removeAttribute(e);return}ji(n,e)!=t&&n.toggleAttribute(e,t)}function Da(n,e,t=null){var i;return(i=n.getAttribute(e))!=null?i:t}function La(n,e,t){if(t==null){n.hasAttribute(e)&&n.removeAttribute(e);return}const i=`${t}`;Da(n,e,void 0)!==i&&n.setAttribute(e,i)}var MF=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},hd=(n,e,t)=>(MF(n,e,"read from private field"),t?t.call(n):e.get(n)),aZ=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},M0=(n,e,t,i)=>(MF(n,e,"write to private field"),e.set(n,t),t),Cs;function rZ(n){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
        box-sizing: border-box;
      }
    </style>
  `}class ZS extends bt.HTMLElement{constructor(){if(super(),aZ(this,Cs,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ra.MEDIA_CONTROLLER,Ke.MEDIA_PAUSED]}attributeChangedCallback(e,t,i){var r,o,l,c,f;e===ra.MEDIA_CONTROLLER&&(t&&((o=(r=hd(this,Cs))==null?void 0:r.unassociateElement)==null||o.call(r,this),M0(this,Cs,null)),i&&this.isConnected&&(M0(this,Cs,(l=this.getRootNode())==null?void 0:l.getElementById(i)),(f=(c=hd(this,Cs))==null?void 0:c.associateElement)==null||f.call(c,this)))}connectedCallback(){var e,t,i,r;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),M0(this,Cs,sZ(this)),this.getAttribute(ra.MEDIA_CONTROLLER)&&((t=(e=hd(this,Cs))==null?void 0:e.associateElement)==null||t.call(e,this)),(i=hd(this,Cs))==null||i.addEventListener("pointerdown",this),(r=hd(this,Cs))==null||r.addEventListener("click",this)}disconnectedCallback(){var e,t,i,r;this.getAttribute(ra.MEDIA_CONTROLLER)&&((t=(e=hd(this,Cs))==null?void 0:e.unassociateElement)==null||t.call(e,this)),(i=hd(this,Cs))==null||i.removeEventListener("pointerdown",this),(r=hd(this,Cs))==null||r.removeEventListener("click",this),M0(this,Cs,null)}handleEvent(e){var t;const i=(t=e.composedPath())==null?void 0:t[0];if(["video","media-controller"].includes(i?.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:o,clientY:l}=e,{left:c,top:f,width:h,height:g}=this.getBoundingClientRect(),m=o-c,p=l-f;if(m<0||p<0||m>h||p>g||h===0&&g===0)return;const y=this._pointerType||"mouse";if(this._pointerType=void 0,y===c1.TOUCH){this.handleTap(e);return}else if(y===c1.MOUSE||y===c1.PEN){this.handleMouseClick(e);return}}}}get mediaPaused(){return ji(this,Ke.MEDIA_PAUSED)}set mediaPaused(e){Hi(this,Ke.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const t=this.mediaPaused?Pn.MEDIA_PLAY_REQUEST:Pn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new bt.CustomEvent(t,{composed:!0,bubbles:!0}))}}Cs=new WeakMap;ZS.shadowRootOptions={mode:"open"};ZS.getTemplateHTML=rZ;function sZ(n){var e;const t=n.getAttribute(ra.MEDIA_CONTROLLER);return t?(e=n.getRootNode())==null?void 0:e.getElementById(t):Vg(n,"media-controller")}bt.customElements.get("media-gesture-receiver")||bt.customElements.define("media-gesture-receiver",ZS);var pN=ZS,ux=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Ws=(n,e,t)=>(ux(n,e,"read from private field"),t?t.call(n):e.get(n)),js=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Cf=(n,e,t,i)=>(ux(n,e,"write to private field"),e.set(n,t),t),ko=(n,e,t)=>(ux(n,e,"access private method"),t),eS,Fm,Hy,ug,A_,KR,NF,Qv,w_,YR,OF,WR,PF,Gy,JS,eA,cx,Ug,Vy;const oi={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive",AUTOHIDE_OVER_CONTROLS:"autohideovercontrols"};function oZ(n){return`
    <style>
      
      :host([${Ke.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
        outline: none;
      }

      :host {
        box-sizing: border-box;
        position: relative;
        display: inline-block;
        line-height: 0;
        background-color: var(--media-background-color, #000);
        overflow: hidden;
      }

      :host(:not([${oi.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        display: flex;
        flex-flow: column nowrap;
        align-items: start;
        pointer-events: none;
        background: none;
      }

      slot[name=media] {
        display: var(--media-slot-display, contents);
      }

      
      :host([${oi.AUDIO}]) slot[name=media] {
        display: var(--media-slot-display, none);
      }

      
      :host([${oi.AUDIO}]) [part~=layer][part~=gesture-layer] {
        height: 0;
        display: block;
      }

      
      :host(:not([${oi.AUDIO}])[${oi.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
          :host(:not([${oi.AUDIO}])[${oi.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
        display: none;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {
        pointer-events: auto;
      }

      :host(:not([${oi.AUDIO}])) *[part~=layer][part~=centered-layer] {
        align-items: center;
        justify-content: center;
      }

      :host(:not([${oi.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
      :host(:not([${oi.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
        align-self: stretch;
        flex-grow: 1;
      }

      slot[name=middle-chrome] {
        display: inline;
        flex-grow: 1;
        pointer-events: none;
        background: none;
      }

      
      ::slotted([slot=media]),
      ::slotted([slot=poster]) {
        width: 100%;
        height: 100%;
      }

      
      :host(:not([${oi.AUDIO}])) .spacer {
        flex-grow: 1;
      }

      
      :host(:-webkit-full-screen) {
        
        width: 100% !important;
        height: 100% !important;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not([${oi.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {
        opacity: 1;
        transition: var(--media-control-transition-in, opacity 0.25s);
      }

      
      :host([${oi.USER_INACTIVE}]:not([${Ke.MEDIA_PAUSED}]):not([${Ke.MEDIA_IS_AIRPLAYING}]):not([${Ke.MEDIA_IS_CASTING}]):not([${oi.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${oi.NO_AUTOHIDE}]):not([role=dialog])) {
        opacity: 0;
        transition: var(--media-control-transition-out, opacity 1s);
      }

      :host([${oi.USER_INACTIVE}]:not([${oi.NO_AUTOHIDE}]):not([${Ke.MEDIA_PAUSED}]):not([${Ke.MEDIA_IS_CASTING}]):not([${oi.AUDIO}])) ::slotted([slot=media]) {
        cursor: none;
      }

      :host([${oi.USER_INACTIVE}][${oi.AUTOHIDE_OVER_CONTROLS}]:not([${oi.NO_AUTOHIDE}]):not([${Ke.MEDIA_PAUSED}]):not([${Ke.MEDIA_IS_CASTING}]):not([${oi.AUDIO}])) * {
        --media-cursor: none;
        cursor: none;
      }


      ::slotted(media-control-bar)  {
        align-self: stretch;
      }

      
      :host(:not([${oi.AUDIO}])[${Ke.MEDIA_HAS_PLAYED}]) slot[name=poster] {
        display: none;
      }

      ::slotted([role=dialog]) {
        width: 100%;
        height: 100%;
        align-self: center;
      }

      ::slotted([role=menu]) {
        align-self: end;
      }
    </style>

    <slot name="media" part="layer media-layer"></slot>
    <slot name="poster" part="layer poster-layer"></slot>
    <slot name="gestures-chrome" part="layer gesture-layer">
      <media-gesture-receiver slot="gestures-chrome">
        <template shadowrootmode="${pN.shadowRootOptions.mode}">
          ${pN.getTemplateHTML({})}
        </template>
      </media-gesture-receiver>
    </slot>
    <span part="layer vertical-layer">
      <slot name="top-chrome" part="top chrome"></slot>
      <slot name="middle-chrome" part="middle chrome"></slot>
      <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
      
      <slot part="bottom chrome"></slot>
    </span>
    <slot name="dialog" part="layer dialog-layer"></slot>
  `}const lZ=Object.values(Ke),uZ="sm:384 md:576 lg:768 xl:960";function cZ(n){UF(n.target,n.contentRect.width)}function UF(n,e){var t;if(!n.isConnected)return;const i=(t=n.getAttribute(oi.BREAKPOINTS))!=null?t:uZ,r=dZ(i),o=fZ(r,e);let l=!1;if(Object.keys(r).forEach(c=>{if(o.includes(c)){n.hasAttribute(`breakpoint${c}`)||(n.setAttribute(`breakpoint${c}`,""),l=!0);return}n.hasAttribute(`breakpoint${c}`)&&(n.removeAttribute(`breakpoint${c}`),l=!0)}),l){const c=new CustomEvent(gc.BREAKPOINTS_CHANGE,{detail:o});n.dispatchEvent(c)}n.breakpointsComputed||(n.breakpointsComputed=!0,n.dispatchEvent(new CustomEvent(gc.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))}function dZ(n){const e=n.split(/\s+/);return Object.fromEntries(e.map(t=>t.split(":")))}function fZ(n,e){return Object.keys(n).filter(t=>e>=parseInt(n[t]))}class tA extends bt.HTMLElement{constructor(){if(super(),js(this,KR),js(this,YR),js(this,WR),js(this,Gy),js(this,eA),js(this,Ug),js(this,eS,0),js(this,Fm,null),js(this,Hy,null),js(this,ug,void 0),this.breakpointsComputed=!1,js(this,A_,new MutationObserver(ko(this,KR,NF).bind(this))),js(this,Qv,!1),js(this,w_,t=>{Ws(this,Qv)||(setTimeout(()=>{cZ(t),Cf(this,Qv,!1)},0),Cf(this,Qv,!0))}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const t=io(this.attributes),i=this.constructor.getTemplateHTML(t);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(i):this.shadowRoot.innerHTML=i}const e=this.querySelector(":scope > slot[slot=media]");e&&e.addEventListener("slotchange",()=>{if(!e.assignedElements({flatten:!0}).length){Ws(this,Fm)&&this.mediaUnsetCallback(Ws(this,Fm));return}this.handleMediaUpdated(this.media)})}static get observedAttributes(){return[oi.AUTOHIDE,oi.GESTURES_DISABLED].concat(lZ).filter(e=>![Ke.MEDIA_RENDITION_LIST,Ke.MEDIA_AUDIO_TRACK_LIST,Ke.MEDIA_CHAPTERS_CUES,Ke.MEDIA_WIDTH,Ke.MEDIA_HEIGHT,Ke.MEDIA_ERROR,Ke.MEDIA_ERROR_MESSAGE].includes(e))}attributeChangedCallback(e,t,i){e.toLowerCase()==oi.AUTOHIDE&&(this.autohide=i)}get media(){let e=this.querySelector(":scope > [slot=media]");return e?.nodeName=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){e&&(Cf(this,Fm,e),e.localName.includes("-")&&await bt.customElements.whenDefined(e.localName),this.mediaSetCallback(e))}connectedCallback(){var e;Ws(this,A_).observe(this,{childList:!0,subtree:!0}),Og(this,Ws(this,w_));const t=this.getAttribute(oi.AUDIO)!=null,i=Kn(t?"audio player":"video player");this.setAttribute("role","region"),this.setAttribute("aria-label",i),this.handleMediaUpdated(this.media),this.setAttribute(oi.USER_INACTIVE,""),UF(this,this.getBoundingClientRect().width),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=bt.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;Ws(this,A_).disconnect(),Pg(this,Ws(this,w_)),this.media&&this.mediaUnsetCallback(this.media),(e=bt.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){Cf(this,Fm,null)}handleEvent(e){switch(e.type){case"pointerdown":Cf(this,eS,e.timeStamp);break;case"pointermove":ko(this,YR,OF).call(this,e);break;case"pointerup":ko(this,WR,PF).call(this,e);break;case"mouseleave":ko(this,Gy,JS).call(this);break;case"mouseup":this.removeAttribute(oi.KEYBOARD_CONTROL);break;case"keyup":ko(this,Ug,Vy).call(this),this.setAttribute(oi.KEYBOARD_CONTROL,"");break}}set autohide(e){const t=Number(e);Cf(this,ug,isNaN(t)?0:t)}get autohide(){return(Ws(this,ug)===void 0?2:Ws(this,ug)).toString()}get breakpoints(){return Da(this,oi.BREAKPOINTS)}set breakpoints(e){La(this,oi.BREAKPOINTS,e)}get audio(){return ji(this,oi.AUDIO)}set audio(e){Hi(this,oi.AUDIO,e)}get gesturesDisabled(){return ji(this,oi.GESTURES_DISABLED)}set gesturesDisabled(e){Hi(this,oi.GESTURES_DISABLED,e)}get keyboardControl(){return ji(this,oi.KEYBOARD_CONTROL)}set keyboardControl(e){Hi(this,oi.KEYBOARD_CONTROL,e)}get noAutohide(){return ji(this,oi.NO_AUTOHIDE)}set noAutohide(e){Hi(this,oi.NO_AUTOHIDE,e)}get autohideOverControls(){return ji(this,oi.AUTOHIDE_OVER_CONTROLS)}set autohideOverControls(e){Hi(this,oi.AUTOHIDE_OVER_CONTROLS,e)}get userInteractive(){return ji(this,oi.USER_INACTIVE)}set userInteractive(e){Hi(this,oi.USER_INACTIVE,e)}}eS=new WeakMap;Fm=new WeakMap;Hy=new WeakMap;ug=new WeakMap;A_=new WeakMap;KR=new WeakSet;NF=function(n){const e=this.media;for(const t of n){if(t.type!=="childList")continue;const i=t.removedNodes;for(const r of i){if(r.slot!="media"||t.target!=this)continue;let o=t.previousSibling&&t.previousSibling.previousElementSibling;if(!o||!e)this.mediaUnsetCallback(r);else{let l=o.slot!=="media";for(;(o=o.previousSibling)!==null;)o.slot=="media"&&(l=!1);l&&this.mediaUnsetCallback(r)}}if(e)for(const r of t.addedNodes)r===e&&this.handleMediaUpdated(e)}};Qv=new WeakMap;w_=new WeakMap;YR=new WeakSet;OF=function(n){if(n.pointerType!=="mouse"&&n.timeStamp-Ws(this,eS)<250)return;ko(this,eA,cx).call(this),clearTimeout(Ws(this,Hy));const e=this.hasAttribute(oi.AUTOHIDE_OVER_CONTROLS);([this,this.media].includes(n.target)||e)&&ko(this,Ug,Vy).call(this)};WR=new WeakSet;PF=function(n){if(n.pointerType==="touch"){const e=!this.hasAttribute(oi.USER_INACTIVE);[this,this.media].includes(n.target)&&e?ko(this,Gy,JS).call(this):ko(this,Ug,Vy).call(this)}else n.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e?.localName))&&ko(this,Ug,Vy).call(this)};Gy=new WeakSet;JS=function(){if(Ws(this,ug)<0||this.hasAttribute(oi.USER_INACTIVE))return;this.setAttribute(oi.USER_INACTIVE,"");const n=new bt.CustomEvent(gc.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(n)};eA=new WeakSet;cx=function(){if(!this.hasAttribute(oi.USER_INACTIVE))return;this.removeAttribute(oi.USER_INACTIVE);const n=new bt.CustomEvent(gc.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(n)};Ug=new WeakSet;Vy=function(){ko(this,eA,cx).call(this),clearTimeout(Ws(this,Hy));const n=parseInt(this.autohide);n<0||Cf(this,Hy,setTimeout(()=>{ko(this,Gy,JS).call(this)},n*1e3))};tA.shadowRootOptions={mode:"open"};tA.getTemplateHTML=oZ;bt.customElements.get("media-container")||bt.customElements.define("media-container",tA);var FF=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Mr=(n,e,t)=>(FF(n,e,"read from private field"),t?t.call(n):e.get(n)),xv=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},N0=(n,e,t,i)=>(FF(n,e,"write to private field"),e.set(n,t),t),Bm,zm,tS,jf,Wu,yd;class dx{constructor(e,t,{defaultValue:i}={defaultValue:void 0}){xv(this,Wu),xv(this,Bm,void 0),xv(this,zm,void 0),xv(this,tS,void 0),xv(this,jf,new Set),N0(this,Bm,e),N0(this,zm,t),N0(this,tS,new Set(i))}[Symbol.iterator](){return Mr(this,Wu,yd).values()}get length(){return Mr(this,Wu,yd).size}get value(){var e;return(e=[...Mr(this,Wu,yd)].join(" "))!=null?e:""}set value(e){var t;e!==this.value&&(N0(this,jf,new Set),this.add(...(t=e?.split(" "))!=null?t:[]))}toString(){return this.value}item(e){return[...Mr(this,Wu,yd)][e]}values(){return Mr(this,Wu,yd).values()}forEach(e,t){Mr(this,Wu,yd).forEach(e,t)}add(...e){var t,i;e.forEach(r=>Mr(this,jf).add(r)),!(this.value===""&&!((t=Mr(this,Bm))!=null&&t.hasAttribute(`${Mr(this,zm)}`)))&&((i=Mr(this,Bm))==null||i.setAttribute(`${Mr(this,zm)}`,`${this.value}`))}remove(...e){var t;e.forEach(i=>Mr(this,jf).delete(i)),(t=Mr(this,Bm))==null||t.setAttribute(`${Mr(this,zm)}`,`${this.value}`)}contains(e){return Mr(this,Wu,yd).has(e)}toggle(e,t){return typeof t<"u"?t?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,t){return this.remove(e),this.add(t),e===t}}Bm=new WeakMap;zm=new WeakMap;tS=new WeakMap;jf=new WeakMap;Wu=new WeakSet;yd=function(){return Mr(this,jf).size?Mr(this,jf):Mr(this,tS)};const hZ=(n="")=>n.split(/\s+/),BF=(n="")=>{const[e,t,i]=n.split(":"),r=i?decodeURIComponent(i):void 0;return{kind:e==="cc"?yu.CAPTIONS:yu.SUBTITLES,language:t,label:r}},nA=(n="",e={})=>hZ(n).map(t=>{const i=BF(t);return{...e,...i}}),zF=n=>n?Array.isArray(n)?n.map(e=>typeof e=="string"?BF(e):e):typeof n=="string"?nA(n):[n]:[],QR=({kind:n,label:e,language:t}={kind:"subtitles"})=>e?`${n==="captions"?"cc":"sb"}:${t}:${encodeURIComponent(e)}`:t,Ky=(n=[])=>Array.prototype.map.call(n,QR).join(" "),mZ=(n,e)=>t=>t[n]===e,$F=n=>{const e=Object.entries(n).map(([t,i])=>mZ(t,i));return t=>e.every(i=>i(t))},Ay=(n,e=[],t=[])=>{const i=zF(t).map($F),r=o=>i.some(l=>l(o));Array.from(e).filter(r).forEach(o=>{o.mode=n})},iA=(n,e=()=>!0)=>{if(!n?.textTracks)return[];const t=typeof e=="function"?e:$F(e);return Array.from(n.textTracks).filter(t)},qF=n=>{var e;return!!((e=n.mediaSubtitlesShowing)!=null&&e.length)||n.hasAttribute(Ke.MEDIA_SUBTITLES_SHOWING)},gZ=n=>{var e;const{media:t,fullscreenElement:i}=n;try{const r=i&&"requestFullscreen"in i?"requestFullscreen":i&&"webkitRequestFullScreen"in i?"webkitRequestFullScreen":void 0;if(r){const o=(e=i[r])==null?void 0:e.call(i);if(o instanceof Promise)return o.catch(()=>{})}else t?.webkitEnterFullscreen?t.webkitEnterFullscreen():t?.requestFullscreen&&t.requestFullscreen()}catch(r){console.error(r)}},vN="exitFullscreen"in vr?"exitFullscreen":"webkitExitFullscreen"in vr?"webkitExitFullscreen":"webkitCancelFullScreen"in vr?"webkitCancelFullScreen":void 0,pZ=n=>{var e;const{documentElement:t}=n;if(vN){const i=(e=t?.[vN])==null?void 0:e.call(t);if(i instanceof Promise)return i.catch(()=>{})}},Xv="fullscreenElement"in vr?"fullscreenElement":"webkitFullscreenElement"in vr?"webkitFullscreenElement":void 0,vZ=n=>{const{documentElement:e,media:t}=n,i=e?.[Xv];return!i&&"webkitDisplayingFullscreen"in t&&"webkitPresentationMode"in t&&t.webkitDisplayingFullscreen&&t.webkitPresentationMode===zX.FULLSCREEN?t:i},yZ=n=>{var e;const{media:t,documentElement:i,fullscreenElement:r=t}=n;if(!t||!i)return!1;const o=vZ(n);if(!o)return!1;if(o===r||o===t)return!0;if(o.localName.includes("-")){let l=o.shadowRoot;if(!(Xv in l))return vc(o,r);for(;l?.[Xv];){if(l[Xv]===r)return!0;l=(e=l[Xv])==null?void 0:e.shadowRoot}}return!1},EZ="fullscreenEnabled"in vr?"fullscreenEnabled":"webkitFullscreenEnabled"in vr?"webkitFullscreenEnabled":void 0,bZ=n=>{const{documentElement:e,media:t}=n;return!!e?.[EZ]||t&&"webkitSupportsFullscreen"in t};let O0;const fx=()=>{var n,e;return O0||(O0=(e=(n=vr)==null?void 0:n.createElement)==null?void 0:e.call(n,"video"),O0)},_Z=async(n=fx())=>{if(!n)return!1;const e=n.volume;n.volume=e/2+.1;const t=new AbortController,i=await Promise.race([TZ(n,t.signal),SZ(n,e)]);return t.abort(),i},TZ=(n,e)=>new Promise(t=>{n.addEventListener("volumechange",()=>t(!0),{signal:e})}),SZ=async(n,e)=>{for(let t=0;t<10;t++){if(n.volume===e)return!1;await SF(10)}return n.volume!==e},AZ=/.*Version\/.*Safari\/.*/.test(bt.navigator.userAgent),jF=(n=fx())=>bt.matchMedia("(display-mode: standalone)").matches&&AZ?!1:typeof n?.requestPictureInPicture=="function",HF=(n=fx())=>bZ({documentElement:vr,media:n}),wZ=HF(),RZ=jF(),IZ=!!bt.WebKitPlaybackTargetAvailabilityEvent,kZ=!!bt.chrome,nS=n=>iA(n.media,e=>[yu.SUBTITLES,yu.CAPTIONS].includes(e.kind)).sort((e,t)=>e.kind>=t.kind?1:-1),GF=n=>iA(n.media,e=>e.mode===Eg.SHOWING&&[yu.SUBTITLES,yu.CAPTIONS].includes(e.kind)),VF=(n,e)=>{const t=nS(n),i=GF(n),r=!!i.length;if(t.length){if(e===!1||r&&e!==!0)Ay(Eg.DISABLED,t,i);else if(e===!0||!r&&e!==!1){let o=t[0];const{options:l}=n;if(!l?.noSubtitlesLangPref){const g=globalThis.localStorage.getItem("media-chrome-pref-subtitles-lang"),m=g?[g,...globalThis.navigator.languages]:globalThis.navigator.languages,p=t.filter(y=>m.some(E=>y.language.toLowerCase().startsWith(E.split("-")[0]))).sort((y,E)=>{const A=m.findIndex(M=>y.language.toLowerCase().startsWith(M.split("-")[0])),w=m.findIndex(M=>E.language.toLowerCase().startsWith(M.split("-")[0]));return A-w});p[0]&&(o=p[0])}const{language:c,label:f,kind:h}=o;Ay(Eg.DISABLED,t,i),Ay(Eg.SHOWING,t,[{language:c,label:f,kind:h}])}}},hx=(n,e)=>n===e?!0:n==null||e==null||typeof n!=typeof e?!1:typeof n=="number"&&Number.isNaN(n)&&Number.isNaN(e)?!0:typeof n!="object"?!1:Array.isArray(n)?xZ(n,e):Object.entries(n).every(([t,i])=>t in e&&hx(i,e[t])),xZ=(n,e)=>{const t=Array.isArray(n),i=Array.isArray(e);return t!==i?!1:t||i?n.length!==e.length?!1:n.every((r,o)=>hx(r,e[o])):!0},CZ=Object.values(ec);let iS;const DZ=_Z().then(n=>(iS=n,iS)),LZ=async(...n)=>{await Promise.all(n.filter(e=>e).map(async e=>{if(!("localName"in e&&e instanceof bt.HTMLElement))return;const t=e.localName;if(!t.includes("-"))return;const i=bt.customElements.get(t);i&&e instanceof i||(await bt.customElements.whenDefined(t),bt.customElements.upgrade(e))}))},MZ=new bt.DOMParser,NZ=n=>n&&(MZ.parseFromString(n,"text/html").body.textContent||n),Zv={mediaError:{get(n,e){const{media:t}=n;if(e?.type!=="playing")return t?.error},mediaEvents:["emptied","error","playing"]},mediaErrorCode:{get(n,e){var t;const{media:i}=n;if(e?.type!=="playing")return(t=i?.error)==null?void 0:t.code},mediaEvents:["emptied","error","playing"]},mediaErrorMessage:{get(n,e){var t,i;const{media:r}=n;if(e?.type!=="playing")return(i=(t=r?.error)==null?void 0:t.message)!=null?i:""},mediaEvents:["emptied","error","playing"]},mediaWidth:{get(n){var e;const{media:t}=n;return(e=t?.videoWidth)!=null?e:0},mediaEvents:["resize"]},mediaHeight:{get(n){var e;const{media:t}=n;return(e=t?.videoHeight)!=null?e:0},mediaEvents:["resize"]},mediaPaused:{get(n){var e;const{media:t}=n;return(e=t?.paused)!=null?e:!0},set(n,e){var t;const{media:i}=e;i&&(n?i.pause():(t=i.play())==null||t.catch(()=>{}))},mediaEvents:["play","playing","pause","emptied"]},mediaHasPlayed:{get(n,e){const{media:t}=n;return t?e?e.type==="playing":!t.paused:!1},mediaEvents:["playing","emptied"]},mediaEnded:{get(n){var e;const{media:t}=n;return(e=t?.ended)!=null?e:!1},mediaEvents:["seeked","ended","emptied"]},mediaPlaybackRate:{get(n){var e;const{media:t}=n;return(e=t?.playbackRate)!=null?e:1},set(n,e){const{media:t}=e;t&&Number.isFinite(+n)&&(t.playbackRate=+n)},mediaEvents:["ratechange","loadstart"]},mediaMuted:{get(n){var e;const{media:t}=n;return(e=t?.muted)!=null?e:!1},set(n,e){const{media:t,options:{noMutedPref:i}={}}=e;if(t){t.muted=n;try{const r=bt.localStorage.getItem("media-chrome-pref-muted")!==null,o=t.hasAttribute("muted");if(i){r&&bt.localStorage.removeItem("media-chrome-pref-muted");return}if(o&&!r)return;bt.localStorage.setItem("media-chrome-pref-muted",n?"true":"false")}catch(r){console.debug("Error setting muted pref",r)}}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(n,e)=>{const{options:{noMutedPref:t}}=e,{media:i}=e;if(!(!i||i.muted||t))try{const r=bt.localStorage.getItem("media-chrome-pref-muted")==="true";Zv.mediaMuted.set(r,e),n(r)}catch(r){console.debug("Error getting muted pref",r)}}]},mediaLoop:{get(n){const{media:e}=n;return e?.loop},set(n,e){const{media:t}=e;t&&(t.loop=n)},mediaEvents:["medialooprequest"]},mediaVolume:{get(n){var e;const{media:t}=n;return(e=t?.volume)!=null?e:1},set(n,e){const{media:t,options:{noVolumePref:i}={}}=e;if(t){try{n==null?bt.localStorage.removeItem("media-chrome-pref-volume"):!t.hasAttribute("muted")&&!i&&bt.localStorage.setItem("media-chrome-pref-volume",n.toString())}catch(r){console.debug("Error setting volume pref",r)}Number.isFinite(+n)&&(t.volume=+n)}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(n,e)=>{const{options:{noVolumePref:t}}=e;if(!t)try{const{media:i}=e;if(!i)return;const r=bt.localStorage.getItem("media-chrome-pref-volume");if(r==null)return;Zv.mediaVolume.set(+r,e),n(+r)}catch(i){console.debug("Error getting volume pref",i)}}]},mediaVolumeLevel:{get(n){const{media:e}=n;return typeof e?.volume>"u"?"high":e.muted||e.volume===0?"off":e.volume<.5?"low":e.volume<.75?"medium":"high"},mediaEvents:["volumechange"]},mediaCurrentTime:{get(n){var e;const{media:t}=n;return(e=t?.currentTime)!=null?e:0},set(n,e){const{media:t}=e;!t||!rx(n)||(t.currentTime=n)},mediaEvents:["timeupdate","loadedmetadata"]},mediaDuration:{get(n){const{media:e,options:{defaultDuration:t}={}}=n;return t&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?t:Number.isFinite(e?.duration)?e.duration:Number.NaN},mediaEvents:["durationchange","loadedmetadata","emptied"]},mediaLoading:{get(n){const{media:e}=n;return e?.readyState<3},mediaEvents:["waiting","playing","emptied"]},mediaSeekable:{get(n){var e;const{media:t}=n;if(!((e=t?.seekable)!=null&&e.length))return;const i=t.seekable.start(0),r=t.seekable.end(t.seekable.length-1);if(!(!i&&!r))return[Number(i.toFixed(3)),Number(r.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress","seekablechange"]},mediaBuffered:{get(n){var e;const{media:t}=n,i=(e=t?.buffered)!=null?e:[];return Array.from(i).map((r,o)=>[Number(i.start(o).toFixed(3)),Number(i.end(o).toFixed(3))])},mediaEvents:["progress","emptied"]},mediaStreamType:{get(n){const{media:e,options:{defaultStreamType:t}={}}=n,i=[ec.LIVE,ec.ON_DEMAND].includes(t)?t:void 0;if(!e)return i;const{streamType:r}=e;if(CZ.includes(r))return r===ec.UNKNOWN?i:r;const o=e.duration;return o===1/0?ec.LIVE:Number.isFinite(o)?ec.ON_DEMAND:i},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},mediaTargetLiveWindow:{get(n){const{media:e}=n;if(!e)return Number.NaN;const{targetLiveWindow:t}=e,i=Zv.mediaStreamType.get(n);return(t==null||Number.isNaN(t))&&i===ec.LIVE?0:t},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},mediaTimeIsLive:{get(n){const{media:e,options:{liveEdgeOffset:t=10}={}}=n;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(Zv.mediaStreamType.get(n)===ec.LIVE))return!1;const r=e.seekable;if(!r)return!0;if(!r.length)return!1;const o=r.end(r.length-1)-t;return e.currentTime>=o},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},mediaSubtitlesList:{get(n){return nS(n).map(({kind:e,label:t,language:i})=>({kind:e,label:t,language:i}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},mediaSubtitlesShowing:{get(n){return GF(n).map(({kind:e,label:t,language:i})=>({kind:e,label:t,language:i}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(n,e)=>{var t,i;const{media:r,options:o}=e;if(!r)return;const l=c=>{var f;!o.defaultSubtitles||c&&![yu.CAPTIONS,yu.SUBTITLES].includes((f=c?.track)==null?void 0:f.kind)||VF(e,!0)};return r.addEventListener("loadstart",l),(t=r.textTracks)==null||t.addEventListener("addtrack",l),(i=r.textTracks)==null||i.addEventListener("removetrack",l),()=>{var c,f;r.removeEventListener("loadstart",l),(c=r.textTracks)==null||c.removeEventListener("addtrack",l),(f=r.textTracks)==null||f.removeEventListener("removetrack",l)}}]},mediaChaptersCues:{get(n){var e;const{media:t}=n;if(!t)return[];const[i]=iA(t,{kind:yu.CHAPTERS});return Array.from((e=i?.cues)!=null?e:[]).map(({text:r,startTime:o,endTime:l})=>({text:NZ(r),startTime:o,endTime:l}))},mediaEvents:["loadstart","loadedmetadata"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(n,e)=>{var t;const{media:i}=e;if(!i)return;const r=i.querySelector('track[kind="chapters"][default][src]'),o=(t=i.shadowRoot)==null?void 0:t.querySelector(':is(video,audio) > track[kind="chapters"][default][src]');return r?.addEventListener("load",n),o?.addEventListener("load",n),()=>{r?.removeEventListener("load",n),o?.removeEventListener("load",n)}}]},mediaIsPip:{get(n){var e,t;const{media:i,documentElement:r}=n;if(!i||!r||!r.pictureInPictureElement)return!1;if(r.pictureInPictureElement===i)return!0;if(r.pictureInPictureElement instanceof HTMLMediaElement)return(e=i.localName)!=null&&e.includes("-")?vc(i,r.pictureInPictureElement):!1;if(r.pictureInPictureElement.localName.includes("-")){let o=r.pictureInPictureElement.shadowRoot;for(;o?.pictureInPictureElement;){if(o.pictureInPictureElement===i)return!0;o=(t=o.pictureInPictureElement)==null?void 0:t.shadowRoot}}return!1},set(n,e){const{media:t}=e;if(t)if(n){if(!vr.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!t.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}const i=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};t.requestPictureInPicture().catch(r=>{if(r.code===11){if(!t.src){console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a src set.");return}if(t.readyState===0&&t.preload==="none"){const o=()=>{t.removeEventListener("loadedmetadata",l),t.preload="none"},l=()=>{t.requestPictureInPicture().catch(i),o()};t.addEventListener("loadedmetadata",l),t.preload="metadata",setTimeout(()=>{t.readyState===0&&i(),o()},1e3)}else throw r}else throw r})}else vr.pictureInPictureElement&&vr.exitPictureInPicture()},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},mediaRenditionList:{get(n){var e;const{media:t}=n;return[...(e=t?.videoRenditions)!=null?e:[]].map(i=>({...i}))},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaRenditionSelected:{get(n){var e,t,i;const{media:r}=n;return(i=(t=r?.videoRenditions)==null?void 0:t[(e=r.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:i.id},set(n,e){const{media:t}=e;if(!t?.videoRenditions){console.warn("MediaController: Rendition selection not supported by this media.");return}const i=n,r=Array.prototype.findIndex.call(t.videoRenditions,o=>o.id==i);t.videoRenditions.selectedIndex!=r&&(t.videoRenditions.selectedIndex=r)},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},mediaAudioTrackList:{get(n){var e;const{media:t}=n;return[...(e=t?.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaAudioTrackEnabled:{get(n){var e,t;const{media:i}=n;return(t=[...(e=i?.audioTracks)!=null?e:[]].find(r=>r.enabled))==null?void 0:t.id},set(n,e){const{media:t}=e;if(!t?.audioTracks){console.warn("MediaChrome: Audio track selection not supported by this media.");return}const i=n;for(const r of t.audioTracks)r.enabled=i==r.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]},mediaIsFullscreen:{get(n){return yZ(n)},set(n,e,t){var i;n?(gZ(e),t.detail&&((i=e.media)==null||i.focus())):pZ(e)},rootEvents:["fullscreenchange","webkitfullscreenchange"],mediaEvents:["webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"]},mediaIsCasting:{get(n){var e;const{media:t}=n;return!t?.remote||((e=t.remote)==null?void 0:e.state)==="disconnected"?!1:!!t.remote.state},set(n,e){var t,i;const{media:r}=e;if(r&&!(n&&((t=r.remote)==null?void 0:t.state)!=="disconnected")&&!(!n&&((i=r.remote)==null?void 0:i.state)!=="connected")){if(typeof r.remote.prompt!="function"){console.warn("MediaChrome: Casting is not supported in this environment");return}r.remote.prompt().catch(()=>{})}},remoteEvents:["connect","connecting","disconnect"]},mediaIsAirplaying:{get(){return!1},set(n,e){const{media:t}=e;if(t){if(!(t.webkitShowPlaybackTargetPicker&&bt.WebKitPlaybackTargetAvailabilityEvent)){console.error("MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment");return}t.webkitShowPlaybackTargetPicker()}},mediaEvents:["webkitcurrentplaybacktargetiswirelesschanged"]},mediaFullscreenUnavailable:{get(n){const{media:e}=n;if(!wZ||!HF(e))return qs.UNSUPPORTED}},mediaPipUnavailable:{get(n){const{media:e}=n;if(!RZ||!jF(e))return qs.UNSUPPORTED;if(e?.disablePictureInPicture)return qs.UNAVAILABLE}},mediaVolumeUnavailable:{get(n){const{media:e}=n;if(iS===!1||e?.volume==null)return qs.UNSUPPORTED},stateOwnersUpdateHandlers:[n=>{iS==null&&DZ.then(e=>n(e?void 0:qs.UNSUPPORTED))}]},mediaCastUnavailable:{get(n,{availability:e="not-available"}={}){var t;const{media:i}=n;if(!kZ||!((t=i?.remote)!=null&&t.state))return qs.UNSUPPORTED;if(!(e==null||e==="available"))return qs.UNAVAILABLE},stateOwnersUpdateHandlers:[(n,e)=>{var t;const{media:i}=e;return i?(i.disableRemotePlayback||i.hasAttribute("disableremoteplayback")||(t=i?.remote)==null||t.watchAvailability(o=>{n({availability:o?"available":"not-available"})}).catch(o=>{o.name==="NotSupportedError"?n({availability:null}):n({availability:"not-available"})}),()=>{var o;(o=i?.remote)==null||o.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaAirplayUnavailable:{get(n,e){if(!IZ)return qs.UNSUPPORTED;if(e?.availability==="not-available")return qs.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"],stateOwnersUpdateHandlers:[(n,e)=>{var t;const{media:i}=e;return i?(i.disableRemotePlayback||i.hasAttribute("disableremoteplayback")||(t=i?.remote)==null||t.watchAvailability(o=>{n({availability:o?"available":"not-available"})}).catch(o=>{o.name==="NotSupportedError"?n({availability:null}):n({availability:"not-available"})}),()=>{var o;(o=i?.remote)==null||o.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaRenditionUnavailable:{get(n){var e;const{media:t}=n;if(!t?.videoRenditions)return qs.UNSUPPORTED;if(!((e=t.videoRenditions)!=null&&e.length))return qs.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaAudioTrackUnavailable:{get(n){var e,t;const{media:i}=n;if(!i?.audioTracks)return qs.UNSUPPORTED;if(((t=(e=i.audioTracks)==null?void 0:e.length)!=null?t:0)<=1)return qs.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaLang:{get(n){const{options:{mediaLang:e}={}}=n;return e??"en"}}},OZ={[Pn.MEDIA_PREVIEW_REQUEST](n,e,{detail:t}){var i,r,o;const{media:l}=e,c=t??void 0;let f,h;if(l&&c!=null){const[y]=iA(l,{kind:yu.METADATA,label:"thumbnails"}),E=Array.prototype.find.call((i=y?.cues)!=null?i:[],(A,w,M)=>w===0?A.endTime>c:w===M.length-1?A.startTime<=c:A.startTime<=c&&A.endTime>c);if(E){const A=/'^(?:[a-z]+:)?\/\//i.test(E.text)||(r=l?.querySelector('track[label="thumbnails"]'))==null?void 0:r.src,w=new URL(E.text,A);h=new URLSearchParams(w.hash).get("#xywh").split(",").map(x=>+x),f=w.href}}const g=n.mediaDuration.get(e);let p=(o=n.mediaChaptersCues.get(e).find((y,E,A)=>E===A.length-1&&g===y.endTime?y.startTime<=c&&y.endTime>=c:y.startTime<=c&&y.endTime>c))==null?void 0:o.text;return t!=null&&p==null&&(p=""),{mediaPreviewTime:c,mediaPreviewImage:f,mediaPreviewCoords:h,mediaPreviewChapter:p}},[Pn.MEDIA_PAUSE_REQUEST](n,e){n["mediaPaused"].set(!0,e)},[Pn.MEDIA_PLAY_REQUEST](n,e){var t,i,r,o;const l="mediaPaused",f=n.mediaStreamType.get(e)===ec.LIVE,h=!((t=e.options)!=null&&t.noAutoSeekToLive),g=n.mediaTargetLiveWindow.get(e)>0;if(f&&h&&!g){const m=(i=n.mediaSeekable.get(e))==null?void 0:i[1];if(m){const p=(o=(r=e.options)==null?void 0:r.seekToLiveOffset)!=null?o:0,y=m-p;n.mediaCurrentTime.set(y,e)}}n[l].set(!1,e)},[Pn.MEDIA_PLAYBACK_RATE_REQUEST](n,e,{detail:t}){const i="mediaPlaybackRate",r=t;n[i].set(r,e)},[Pn.MEDIA_MUTE_REQUEST](n,e){n["mediaMuted"].set(!0,e)},[Pn.MEDIA_UNMUTE_REQUEST](n,e){const t="mediaMuted";n.mediaVolume.get(e)||n.mediaVolume.set(.25,e),n[t].set(!1,e)},[Pn.MEDIA_LOOP_REQUEST](n,e,{detail:t}){const i="mediaLoop",r=!!t;return n[i].set(r,e),{mediaLoop:r}},[Pn.MEDIA_VOLUME_REQUEST](n,e,{detail:t}){const i="mediaVolume",r=t;r&&n.mediaMuted.get(e)&&n.mediaMuted.set(!1,e),n[i].set(r,e)},[Pn.MEDIA_SEEK_REQUEST](n,e,{detail:t}){const i="mediaCurrentTime",r=t;n[i].set(r,e)},[Pn.MEDIA_SEEK_TO_LIVE_REQUEST](n,e){var t,i,r;const o="mediaCurrentTime",l=(t=n.mediaSeekable.get(e))==null?void 0:t[1];if(Number.isNaN(Number(l)))return;const c=(r=(i=e.options)==null?void 0:i.seekToLiveOffset)!=null?r:0,f=l-c;n[o].set(f,e)},[Pn.MEDIA_SHOW_SUBTITLES_REQUEST](n,e,{detail:t}){var i;const{options:r}=e,o=nS(e),l=zF(t),c=(i=l[0])==null?void 0:i.language;c&&!r.noSubtitlesLangPref&&bt.localStorage.setItem("media-chrome-pref-subtitles-lang",c),Ay(Eg.SHOWING,o,l)},[Pn.MEDIA_DISABLE_SUBTITLES_REQUEST](n,e,{detail:t}){const i=nS(e),r=t??[];Ay(Eg.DISABLED,i,r)},[Pn.MEDIA_TOGGLE_SUBTITLES_REQUEST](n,e,{detail:t}){VF(e,t)},[Pn.MEDIA_RENDITION_REQUEST](n,e,{detail:t}){const i="mediaRenditionSelected",r=t;n[i].set(r,e)},[Pn.MEDIA_AUDIO_TRACK_REQUEST](n,e,{detail:t}){const i="mediaAudioTrackEnabled",r=t;n[i].set(r,e)},[Pn.MEDIA_ENTER_PIP_REQUEST](n,e){const t="mediaIsPip";n.mediaIsFullscreen.get(e)&&n.mediaIsFullscreen.set(!1,e),n[t].set(!0,e)},[Pn.MEDIA_EXIT_PIP_REQUEST](n,e){n["mediaIsPip"].set(!1,e)},[Pn.MEDIA_ENTER_FULLSCREEN_REQUEST](n,e,t){const i="mediaIsFullscreen";n.mediaIsPip.get(e)&&n.mediaIsPip.set(!1,e),n[i].set(!0,e,t)},[Pn.MEDIA_EXIT_FULLSCREEN_REQUEST](n,e){n["mediaIsFullscreen"].set(!1,e)},[Pn.MEDIA_ENTER_CAST_REQUEST](n,e){const t="mediaIsCasting";n.mediaIsFullscreen.get(e)&&n.mediaIsFullscreen.set(!1,e),n[t].set(!0,e)},[Pn.MEDIA_EXIT_CAST_REQUEST](n,e){n["mediaIsCasting"].set(!1,e)},[Pn.MEDIA_AIRPLAY_REQUEST](n,e){n["mediaIsAirplaying"].set(!0,e)}},PZ=({media:n,fullscreenElement:e,documentElement:t,stateMediator:i=Zv,requestMap:r=OZ,options:o={},monitorStateOwnersOnlyWithSubscriptions:l=!0})=>{const c=[],f={options:{...o}};let h=Object.freeze({mediaPreviewTime:void 0,mediaPreviewImage:void 0,mediaPreviewCoords:void 0,mediaPreviewChapter:void 0});const g=A=>{A!=null&&(hx(A,h)||(h=Object.freeze({...h,...A}),c.forEach(w=>w(h))))},m=()=>{const A=Object.entries(i).reduce((w,[M,{get:x}])=>(w[M]=x(f),w),{});g(A)},p={};let y;const E=async(A,w)=>{var M,x,C,O,z,se,F,H,be,Ae,Me,Ve,Se,He,Ue,he;const $e=!!y;if(y={...f,...y??{},...A},$e)return;await LZ(...Object.values(A));const Ye=c.length>0&&w===0&&l,tt=f.media!==y.media,rt=((M=f.media)==null?void 0:M.textTracks)!==((x=y.media)==null?void 0:x.textTracks),De=((C=f.media)==null?void 0:C.videoRenditions)!==((O=y.media)==null?void 0:O.videoRenditions),We=((z=f.media)==null?void 0:z.audioTracks)!==((se=y.media)==null?void 0:se.audioTracks),ct=((F=f.media)==null?void 0:F.remote)!==((H=y.media)==null?void 0:H.remote),It=f.documentElement!==y.documentElement,Fe=!!f.media&&(tt||Ye),ze=!!((be=f.media)!=null&&be.textTracks)&&(rt||Ye),pt=!!((Ae=f.media)!=null&&Ae.videoRenditions)&&(De||Ye),re=!!((Me=f.media)!=null&&Me.audioTracks)&&(We||Ye),ee=!!((Ve=f.media)!=null&&Ve.remote)&&(ct||Ye),P=!!f.documentElement&&(It||Ye),G=Fe||ze||pt||re||ee||P,ve=c.length===0&&w===1&&l,ce=!!y.media&&(tt||ve),Qe=!!((Se=y.media)!=null&&Se.textTracks)&&(rt||ve),ht=!!((He=y.media)!=null&&He.videoRenditions)&&(De||ve),Je=!!((Ue=y.media)!=null&&Ue.audioTracks)&&(We||ve),it=!!((he=y.media)!=null&&he.remote)&&(ct||ve),Xe=!!y.documentElement&&(It||ve),lt=ce||Qe||ht||Je||it||Xe;if(!(G||lt)){Object.entries(y).forEach(([dt,Bt])=>{f[dt]=Bt}),m(),y=void 0;return}Object.entries(i).forEach(([dt,{get:Bt,mediaEvents:wn=[],textTracksEvents:Zt=[],videoRenditionsEvents:gn=[],audioTracksEvents:en=[],remoteEvents:Wn=[],rootEvents:Ti=[],stateOwnersUpdateHandlers:Xi=[]}])=>{p[dt]||(p[dt]={});const zi=Gt=>{const $t=Bt(f,Gt);g({[dt]:$t})};let ki;ki=p[dt].mediaEvents,wn.forEach(Gt=>{ki&&Fe&&(f.media.removeEventListener(Gt,ki),p[dt].mediaEvents=void 0),ce&&(y.media.addEventListener(Gt,zi),p[dt].mediaEvents=zi)}),ki=p[dt].textTracksEvents,Zt.forEach(Gt=>{var $t,Lt;ki&&ze&&(($t=f.media.textTracks)==null||$t.removeEventListener(Gt,ki),p[dt].textTracksEvents=void 0),Qe&&((Lt=y.media.textTracks)==null||Lt.addEventListener(Gt,zi),p[dt].textTracksEvents=zi)}),ki=p[dt].videoRenditionsEvents,gn.forEach(Gt=>{var $t,Lt;ki&&pt&&(($t=f.media.videoRenditions)==null||$t.removeEventListener(Gt,ki),p[dt].videoRenditionsEvents=void 0),ht&&((Lt=y.media.videoRenditions)==null||Lt.addEventListener(Gt,zi),p[dt].videoRenditionsEvents=zi)}),ki=p[dt].audioTracksEvents,en.forEach(Gt=>{var $t,Lt;ki&&re&&(($t=f.media.audioTracks)==null||$t.removeEventListener(Gt,ki),p[dt].audioTracksEvents=void 0),Je&&((Lt=y.media.audioTracks)==null||Lt.addEventListener(Gt,zi),p[dt].audioTracksEvents=zi)}),ki=p[dt].remoteEvents,Wn.forEach(Gt=>{var $t,Lt;ki&&ee&&(($t=f.media.remote)==null||$t.removeEventListener(Gt,ki),p[dt].remoteEvents=void 0),it&&((Lt=y.media.remote)==null||Lt.addEventListener(Gt,zi),p[dt].remoteEvents=zi)}),ki=p[dt].rootEvents,Ti.forEach(Gt=>{ki&&P&&(f.documentElement.removeEventListener(Gt,ki),p[dt].rootEvents=void 0),Xe&&(y.documentElement.addEventListener(Gt,zi),p[dt].rootEvents=zi)});const wa=p[dt].stateOwnersUpdateHandlers;if(wa&&G&&(Array.isArray(wa)?wa:[wa]).forEach($t=>{typeof $t=="function"&&$t()}),lt){const Gt=Xi.map($t=>$t(zi,y)).filter($t=>typeof $t=="function");p[dt].stateOwnersUpdateHandlers=Gt.length===1?Gt[0]:Gt}else G&&(p[dt].stateOwnersUpdateHandlers=void 0)}),Object.entries(y).forEach(([dt,Bt])=>{f[dt]=Bt}),m(),y=void 0};return E({media:n,fullscreenElement:e,documentElement:t,options:o}),{dispatch(A){const{type:w,detail:M}=A;if(r[w]&&h.mediaErrorCode==null){g(r[w](i,f,A));return}w==="mediaelementchangerequest"?E({media:M}):w==="fullscreenelementchangerequest"?E({fullscreenElement:M}):w==="documentelementchangerequest"?E({documentElement:M}):w==="optionschangerequest"&&(Object.entries(M??{}).forEach(([x,C])=>{f.options[x]=C}),m())},getState(){return h},subscribe(A){return E({},c.length+1),c.push(A),A(h),()=>{const w=c.indexOf(A);w>=0&&(E({},c.length-1),c.splice(w,1))}}}};var mx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},ui=(n,e,t)=>(mx(n,e,"read from private field"),t?t.call(n):e.get(n)),Eo=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Vl=(n,e,t,i)=>(mx(n,e,"write to private field"),e.set(n,t),t),ru=(n,e,t)=>(mx(n,e,"access private method"),t),kd,Jv,Yi,Hf,ey,Kl,R_,ty,I_,XR,Xf,bg,k_,ZR,JR,KF;const YF=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"," ","f","m","k","c","l","j",">","<","p"],yN=10,EN=.025,bN=.25,UZ=.25,FZ=2,In={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYBOARD_BACKWARD_SEEK_OFFSET:"keyboardbackwardseekoffset",KEYBOARD_FORWARD_SEEK_OFFSET:"keyboardforwardseekoffset",KEYBOARD_DOWN_VOLUME_STEP:"keyboarddownvolumestep",KEYBOARD_UP_VOLUME_STEP:"keyboardupvolumestep",KEYS_USED:"keysused",LANG:"lang",LOOP:"loop",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_DEFAULT_STORE:"nodefaultstore",NO_HOTKEYS:"nohotkeys",NO_MUTED_PREF:"nomutedpref",NO_SUBTITLES_LANG_PREF:"nosubtitleslangpref",NO_VOLUME_PREF:"novolumepref",SEEK_TO_LIVE_OFFSET:"seektoliveoffset"};class WF extends tA{constructor(){super(),Eo(this,I_),Eo(this,Xf),Eo(this,k_),Eo(this,JR),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,Eo(this,kd,new dx(this,In.HOTKEYS)),Eo(this,Jv,void 0),Eo(this,Yi,void 0),Eo(this,Hf,null),Eo(this,ey,void 0),Eo(this,Kl,void 0),Eo(this,R_,t=>{var i;(i=ui(this,Yi))==null||i.dispatch(t)}),Eo(this,ty,void 0),this.associateElement(this);let e={};Vl(this,ey,t=>{Object.entries(t).forEach(([i,r])=>{if(i in e&&e[i]===r)return;this.propagateMediaState(i,r);const o=i.toLowerCase(),l=new bt.CustomEvent(BX[o],{composed:!0,detail:r});this.dispatchEvent(l)}),e=t}),this.hasAttribute(In.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(In.NO_HOTKEYS,In.HOTKEYS,In.DEFAULT_STREAM_TYPE,In.DEFAULT_SUBTITLES,In.DEFAULT_DURATION,In.NO_MUTED_PREF,In.NO_VOLUME_PREF,In.LANG,In.LOOP)}get mediaStore(){return ui(this,Yi)}set mediaStore(e){var t,i;if(ui(this,Yi)&&((t=ui(this,Kl))==null||t.call(this),Vl(this,Kl,void 0)),Vl(this,Yi,e),!ui(this,Yi)&&!this.hasAttribute(In.NO_DEFAULT_STORE)){ru(this,I_,XR).call(this);return}Vl(this,Kl,(i=ui(this,Yi))==null?void 0:i.subscribe(ui(this,ey)))}get fullscreenElement(){var e;return(e=ui(this,Jv))!=null?e:this}set fullscreenElement(e){var t;this.hasAttribute(In.FULLSCREEN_ELEMENT)&&this.removeAttribute(In.FULLSCREEN_ELEMENT),Vl(this,Jv,e),(t=ui(this,Yi))==null||t.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}get defaultSubtitles(){return ji(this,In.DEFAULT_SUBTITLES)}set defaultSubtitles(e){Hi(this,In.DEFAULT_SUBTITLES,e)}get defaultStreamType(){return Da(this,In.DEFAULT_STREAM_TYPE)}set defaultStreamType(e){La(this,In.DEFAULT_STREAM_TYPE,e)}get defaultDuration(){return Ca(this,In.DEFAULT_DURATION)}set defaultDuration(e){nr(this,In.DEFAULT_DURATION,e)}get noHotkeys(){return ji(this,In.NO_HOTKEYS)}set noHotkeys(e){Hi(this,In.NO_HOTKEYS,e)}get keysUsed(){return Da(this,In.KEYS_USED)}set keysUsed(e){La(this,In.KEYS_USED,e)}get liveEdgeOffset(){return Ca(this,In.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){nr(this,In.LIVE_EDGE_OFFSET,e)}get noAutoSeekToLive(){return ji(this,In.NO_AUTO_SEEK_TO_LIVE)}set noAutoSeekToLive(e){Hi(this,In.NO_AUTO_SEEK_TO_LIVE,e)}get noVolumePref(){return ji(this,In.NO_VOLUME_PREF)}set noVolumePref(e){Hi(this,In.NO_VOLUME_PREF,e)}get noMutedPref(){return ji(this,In.NO_MUTED_PREF)}set noMutedPref(e){Hi(this,In.NO_MUTED_PREF,e)}get noSubtitlesLangPref(){return ji(this,In.NO_SUBTITLES_LANG_PREF)}set noSubtitlesLangPref(e){Hi(this,In.NO_SUBTITLES_LANG_PREF,e)}get noDefaultStore(){return ji(this,In.NO_DEFAULT_STORE)}set noDefaultStore(e){Hi(this,In.NO_DEFAULT_STORE,e)}attributeChangedCallback(e,t,i){var r,o,l,c,f,h,g,m,p,y,E,A;if(super.attributeChangedCallback(e,t,i),e===In.NO_HOTKEYS)i!==t&&i===""?(this.hasAttribute(In.HOTKEYS)&&console.warn("Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):i!==t&&i===null&&this.enableHotkeys();else if(e===In.HOTKEYS)ui(this,kd).value=i;else if(e===In.DEFAULT_SUBTITLES&&i!==t)(r=ui(this,Yi))==null||r.dispatch({type:"optionschangerequest",detail:{defaultSubtitles:this.hasAttribute(In.DEFAULT_SUBTITLES)}});else if(e===In.DEFAULT_STREAM_TYPE)(l=ui(this,Yi))==null||l.dispatch({type:"optionschangerequest",detail:{defaultStreamType:(o=this.getAttribute(In.DEFAULT_STREAM_TYPE))!=null?o:void 0}});else if(e===In.LIVE_EDGE_OFFSET)(c=ui(this,Yi))==null||c.dispatch({type:"optionschangerequest",detail:{liveEdgeOffset:this.hasAttribute(In.LIVE_EDGE_OFFSET)?+this.getAttribute(In.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(In.SEEK_TO_LIVE_OFFSET)?void 0:+this.getAttribute(In.LIVE_EDGE_OFFSET)}});else if(e===In.SEEK_TO_LIVE_OFFSET)(f=ui(this,Yi))==null||f.dispatch({type:"optionschangerequest",detail:{seekToLiveOffset:this.hasAttribute(In.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(In.SEEK_TO_LIVE_OFFSET):void 0}});else if(e===In.NO_AUTO_SEEK_TO_LIVE)(h=ui(this,Yi))==null||h.dispatch({type:"optionschangerequest",detail:{noAutoSeekToLive:this.hasAttribute(In.NO_AUTO_SEEK_TO_LIVE)}});else if(e===In.FULLSCREEN_ELEMENT){const w=i?(g=this.getRootNode())==null?void 0:g.getElementById(i):void 0;Vl(this,Jv,w),(m=ui(this,Yi))==null||m.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}else e===In.LANG&&i!==t?(ZX(i),(p=ui(this,Yi))==null||p.dispatch({type:"optionschangerequest",detail:{mediaLang:i}})):e===In.LOOP&&i!==t?(y=ui(this,Yi))==null||y.dispatch({type:Pn.MEDIA_LOOP_REQUEST,detail:i!=null}):e===In.NO_VOLUME_PREF&&i!==t?(E=ui(this,Yi))==null||E.dispatch({type:"optionschangerequest",detail:{noVolumePref:this.hasAttribute(In.NO_VOLUME_PREF)}}):e===In.NO_MUTED_PREF&&i!==t&&((A=ui(this,Yi))==null||A.dispatch({type:"optionschangerequest",detail:{noMutedPref:this.hasAttribute(In.NO_MUTED_PREF)}}))}connectedCallback(){var e,t;!ui(this,Yi)&&!this.hasAttribute(In.NO_DEFAULT_STORE)&&ru(this,I_,XR).call(this),(e=ui(this,Yi))==null||e.dispatch({type:"documentelementchangerequest",detail:vr}),super.connectedCallback(),ui(this,Yi)&&!ui(this,Kl)&&Vl(this,Kl,(t=ui(this,Yi))==null?void 0:t.subscribe(ui(this,ey))),ui(this,ty)!==void 0&&ui(this,Yi)&&this.media&&setTimeout(()=>{var i,r,o;(r=(i=this.media)==null?void 0:i.textTracks)!=null&&r.length&&((o=ui(this,Yi))==null||o.dispatch({type:Pn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:ui(this,ty)}))},0),this.hasAttribute(In.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}disconnectedCallback(){var e,t,i,r,o;if((e=super.disconnectedCallback)==null||e.call(this),ui(this,Yi)){const l=ui(this,Yi).getState();Vl(this,ty,!!((t=l.mediaSubtitlesShowing)!=null&&t.length)),(i=ui(this,Yi))==null||i.dispatch({type:"documentelementchangerequest",detail:void 0}),(r=ui(this,Yi))==null||r.dispatch({type:Pn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:!1})}ui(this,Kl)&&((o=ui(this,Kl))==null||o.call(this),Vl(this,Kl,void 0))}mediaSetCallback(e){var t;super.mediaSetCallback(e),(t=ui(this,Yi))==null||t.dispatch({type:"mediaelementchangerequest",detail:e}),e.hasAttribute("tabindex")||(e.tabIndex=-1)}mediaUnsetCallback(e){var t;super.mediaUnsetCallback(e),(t=ui(this,Yi))==null||t.dispatch({type:"mediaelementchangerequest",detail:void 0})}propagateMediaState(e,t){SN(this.mediaStateReceivers,e,t)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:t}=this;if(t.has(e))return;const i=this.registerMediaStateReceiver.bind(this),r=this.unregisterMediaStateReceiver.bind(this),o=HZ(e,i,r);Object.values(Pn).forEach(l=>{e.addEventListener(l,ui(this,R_))}),t.set(e,o)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:t}=this;if(!t.has(e))return;t.get(e)(),t.delete(e),Object.values(Pn).forEach(r=>{e.removeEventListener(r,ui(this,R_))})}registerMediaStateReceiver(e){if(!e)return;const t=this.mediaStateReceivers;t.indexOf(e)>-1||(t.push(e),ui(this,Yi)&&Object.entries(ui(this,Yi).getState()).forEach(([r,o])=>{SN([e],r,o)}))}unregisterMediaStateReceiver(e){const t=this.mediaStateReceivers,i=t.indexOf(e);i<0||t.splice(i,1)}enableHotkeys(){this.addEventListener("keydown",ru(this,k_,ZR))}disableHotkeys(){this.removeEventListener("keydown",ru(this,k_,ZR)),this.removeEventListener("keyup",ru(this,Xf,bg))}get hotkeys(){return Da(this,In.HOTKEYS)}set hotkeys(e){La(this,In.HOTKEYS,e)}keyboardShortcutHandler(e){var t,i,r,o,l,c,f,h,g;const m=e.target;if(((r=(i=(t=m.getAttribute(In.KEYS_USED))==null?void 0:t.split(" "))!=null?i:m?.keysUsed)!=null?r:[]).map(M=>M==="Space"?" ":M).filter(Boolean).includes(e.key))return;let y,E,A;if(!(ui(this,kd).contains(`no${e.key.toLowerCase()}`)||e.key===" "&&ui(this,kd).contains("nospace")||e.shiftKey&&(e.key==="/"||e.key==="?")&&ui(this,kd).contains("noshift+/")))switch(e.key){case" ":case"k":y=ui(this,Yi).getState().mediaPaused?Pn.MEDIA_PLAY_REQUEST:Pn.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new bt.CustomEvent(y,{composed:!0,bubbles:!0}));break;case"m":y=this.mediaStore.getState().mediaVolumeLevel==="off"?Pn.MEDIA_UNMUTE_REQUEST:Pn.MEDIA_MUTE_REQUEST,this.dispatchEvent(new bt.CustomEvent(y,{composed:!0,bubbles:!0}));break;case"f":y=this.mediaStore.getState().mediaIsFullscreen?Pn.MEDIA_EXIT_FULLSCREEN_REQUEST:Pn.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new bt.CustomEvent(y,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new bt.CustomEvent(Pn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":case"j":{const M=this.hasAttribute(In.KEYBOARD_BACKWARD_SEEK_OFFSET)?+this.getAttribute(In.KEYBOARD_BACKWARD_SEEK_OFFSET):yN;E=Math.max(((o=this.mediaStore.getState().mediaCurrentTime)!=null?o:0)-M,0),A=new bt.CustomEvent(Pn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:E}),this.dispatchEvent(A);break}case"ArrowRight":case"l":{const M=this.hasAttribute(In.KEYBOARD_FORWARD_SEEK_OFFSET)?+this.getAttribute(In.KEYBOARD_FORWARD_SEEK_OFFSET):yN;E=Math.max(((l=this.mediaStore.getState().mediaCurrentTime)!=null?l:0)+M,0),A=new bt.CustomEvent(Pn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:E}),this.dispatchEvent(A);break}case"ArrowUp":{const M=this.hasAttribute(In.KEYBOARD_UP_VOLUME_STEP)?+this.getAttribute(In.KEYBOARD_UP_VOLUME_STEP):EN;E=Math.min(((c=this.mediaStore.getState().mediaVolume)!=null?c:1)+M,1),A=new bt.CustomEvent(Pn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:E}),this.dispatchEvent(A);break}case"ArrowDown":{const M=this.hasAttribute(In.KEYBOARD_DOWN_VOLUME_STEP)?+this.getAttribute(In.KEYBOARD_DOWN_VOLUME_STEP):EN;E=Math.max(((f=this.mediaStore.getState().mediaVolume)!=null?f:1)-M,0),A=new bt.CustomEvent(Pn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:E}),this.dispatchEvent(A);break}case"<":{const M=(h=this.mediaStore.getState().mediaPlaybackRate)!=null?h:1;E=Math.max(M-bN,UZ).toFixed(2),A=new bt.CustomEvent(Pn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:E}),this.dispatchEvent(A);break}case">":{const M=(g=this.mediaStore.getState().mediaPlaybackRate)!=null?g:1;E=Math.min(M+bN,FZ).toFixed(2),A=new bt.CustomEvent(Pn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:E}),this.dispatchEvent(A);break}case"/":case"?":{e.shiftKey&&ru(this,JR,KF).call(this);break}case"p":{y=this.mediaStore.getState().mediaIsPip?Pn.MEDIA_EXIT_PIP_REQUEST:Pn.MEDIA_ENTER_PIP_REQUEST,A=new bt.CustomEvent(y,{composed:!0,bubbles:!0}),this.dispatchEvent(A);break}}}}kd=new WeakMap;Jv=new WeakMap;Yi=new WeakMap;Hf=new WeakMap;ey=new WeakMap;Kl=new WeakMap;R_=new WeakMap;ty=new WeakMap;I_=new WeakSet;XR=function(){var n;this.mediaStore=PZ({media:this.media,fullscreenElement:this.fullscreenElement,options:{defaultSubtitles:this.hasAttribute(In.DEFAULT_SUBTITLES),defaultDuration:this.hasAttribute(In.DEFAULT_DURATION)?+this.getAttribute(In.DEFAULT_DURATION):void 0,defaultStreamType:(n=this.getAttribute(In.DEFAULT_STREAM_TYPE))!=null?n:void 0,liveEdgeOffset:this.hasAttribute(In.LIVE_EDGE_OFFSET)?+this.getAttribute(In.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(In.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(In.SEEK_TO_LIVE_OFFSET):this.hasAttribute(In.LIVE_EDGE_OFFSET)?+this.getAttribute(In.LIVE_EDGE_OFFSET):void 0,noAutoSeekToLive:this.hasAttribute(In.NO_AUTO_SEEK_TO_LIVE),noVolumePref:this.hasAttribute(In.NO_VOLUME_PREF),noMutedPref:this.hasAttribute(In.NO_MUTED_PREF),noSubtitlesLangPref:this.hasAttribute(In.NO_SUBTITLES_LANG_PREF)}})};Xf=new WeakSet;bg=function(n){const{key:e,shiftKey:t}=n;if(!(t&&(e==="/"||e==="?")||YF.includes(e))){this.removeEventListener("keyup",ru(this,Xf,bg));return}this.keyboardShortcutHandler(n)};k_=new WeakSet;ZR=function(n){var e;const{metaKey:t,altKey:i,key:r,shiftKey:o}=n,l=o&&(r==="/"||r==="?");if(l&&((e=ui(this,Hf))!=null&&e.open)){this.removeEventListener("keyup",ru(this,Xf,bg));return}if(t||i||!l&&!YF.includes(r)){this.removeEventListener("keyup",ru(this,Xf,bg));return}const c=n.target,f=c instanceof HTMLElement&&(c.tagName.toLowerCase()==="media-volume-range"||c.tagName.toLowerCase()==="media-time-range");[" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r)&&!(ui(this,kd).contains(`no${r.toLowerCase()}`)||r===" "&&ui(this,kd).contains("nospace"))&&!f&&n.preventDefault(),this.addEventListener("keyup",ru(this,Xf,bg),{once:!0})};JR=new WeakSet;KF=function(){ui(this,Hf)||(Vl(this,Hf,vr.createElement("media-keyboard-shortcuts-dialog")),this.appendChild(ui(this,Hf))),ui(this,Hf).open=!0};const BZ=Object.values(Ke),zZ=Object.values(bF),QF=n=>{var e,t,i,r;let{observedAttributes:o}=n.constructor;!o&&((e=n.nodeName)!=null&&e.includes("-"))&&(bt.customElements.upgrade(n),{observedAttributes:o}=n.constructor);const l=(r=(i=(t=n?.getAttribute)==null?void 0:t.call(n,ra.MEDIA_CHROME_ATTRIBUTES))==null?void 0:i.split)==null?void 0:r.call(i,/\s+/);return Array.isArray(o||l)?(o||l).filter(c=>BZ.includes(c)):[]},$Z=n=>{var e,t;return(e=n.nodeName)!=null&&e.includes("-")&&bt.customElements.get((t=n.nodeName)==null?void 0:t.toLowerCase())&&!(n instanceof bt.customElements.get(n.nodeName.toLowerCase()))&&bt.customElements.upgrade(n),zZ.some(i=>i in n)},eI=n=>$Z(n)||!!QF(n).length,_N=n=>{var e;return(e=n?.join)==null?void 0:e.call(n,":")},TN={[Ke.MEDIA_SUBTITLES_LIST]:Ky,[Ke.MEDIA_SUBTITLES_SHOWING]:Ky,[Ke.MEDIA_SEEKABLE]:_N,[Ke.MEDIA_BUFFERED]:n=>n?.map(_N).join(" "),[Ke.MEDIA_PREVIEW_COORDS]:n=>n?.join(" "),[Ke.MEDIA_RENDITION_LIST]:$X,[Ke.MEDIA_AUDIO_TRACK_LIST]:GX},qZ=async(n,e,t)=>{var i,r;if(n.isConnected||await SF(0),typeof t=="boolean"||t==null)return Hi(n,e,t);if(typeof t=="number")return nr(n,e,t);if(typeof t=="string")return La(n,e,t);if(Array.isArray(t)&&!t.length)return n.removeAttribute(e);const o=(r=(i=TN[e])==null?void 0:i.call(TN,t))!=null?r:t;return n.setAttribute(e,o)},jZ=n=>{var e;return!!((e=n.closest)!=null&&e.call(n,'*[slot="media"]'))},Df=(n,e)=>{if(jZ(n))return;const t=(r,o)=>{var l,c;eI(r)&&o(r);const{children:f=[]}=r??{},h=(c=(l=r?.shadowRoot)==null?void 0:l.children)!=null?c:[];[...f,...h].forEach(m=>Df(m,o))},i=n?.nodeName.toLowerCase();if(i.includes("-")&&!eI(n)){bt.customElements.whenDefined(i).then(()=>{t(n,e)});return}t(n,e)},SN=(n,e,t)=>{n.forEach(i=>{if(e in i){i[e]=t;return}const r=QF(i),o=e.toLowerCase();r.includes(o)&&qZ(i,o,t)})},HZ=(n,e,t)=>{Df(n,e);const i=g=>{var m;const p=(m=g?.composedPath()[0])!=null?m:g.target;e(p)},r=g=>{var m;const p=(m=g?.composedPath()[0])!=null?m:g.target;t(p)};n.addEventListener(Pn.REGISTER_MEDIA_STATE_RECEIVER,i),n.addEventListener(Pn.UNREGISTER_MEDIA_STATE_RECEIVER,r);const o=g=>{g.forEach(m=>{const{addedNodes:p=[],removedNodes:y=[],type:E,target:A,attributeName:w}=m;E==="childList"?(Array.prototype.forEach.call(p,M=>Df(M,e)),Array.prototype.forEach.call(y,M=>Df(M,t))):E==="attributes"&&w===ra.MEDIA_CHROME_ATTRIBUTES&&(eI(A)?e(A):t(A))})};let l=[];const c=g=>{const m=g.target;m.name!=="media"&&(l.forEach(p=>Df(p,t)),l=[...m.assignedElements({flatten:!0})],l.forEach(p=>Df(p,e)))};n.addEventListener("slotchange",c);const f=new MutationObserver(o);return f.observe(n,{childList:!0,attributes:!0,subtree:!0}),()=>{Df(n,t),n.removeEventListener("slotchange",c),f.disconnect(),n.removeEventListener(Pn.REGISTER_MEDIA_STATE_RECEIVER,i),n.removeEventListener(Pn.UNREGISTER_MEDIA_STATE_RECEIVER,r)}};bt.customElements.get("media-controller")||bt.customElements.define("media-controller",WF);var GZ=WF;const wm={PLACEMENT:"placement",BOUNDS:"bounds"};function VZ(n){return`
    <style>
      :host {
        --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));
        --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));
        --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);
        --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);
        --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));
        position: relative;
        pointer-events: none;
        display: var(--media-tooltip-display, inline-flex);
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        z-index: var(--media-tooltip-z-index, 1);
        background: var(--_tooltip-background);
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        font: var(--media-font,
          var(--media-font-weight, 400)
          var(--media-font-size, 13px) /
          var(--media-text-content-height, var(--media-control-height, 18px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        padding: var(--media-tooltip-padding, .35em .7em);
        border: var(--media-tooltip-border, none);
        border-radius: var(--media-tooltip-border-radius, 5px);
        filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));
        white-space: var(--media-tooltip-white-space, nowrap);
      }

      :host([hidden]) {
        display: none;
      }

      img, svg {
        display: inline-block;
      }

      #arrow {
        position: absolute;
        width: 0px;
        height: 0px;
        border-style: solid;
        display: var(--media-tooltip-arrow-display, block);
      }

      :host(:not([placement])),
      :host([placement="top"]) {
        position: absolute;
        bottom: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host(:not([placement])) #arrow,
      :host([placement="top"]) #arrow {
        top: 100%;
        left: 50%;
        border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);
        border-color: var(--_tooltip-arrow-background) transparent transparent transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="right"]) {
        position: absolute;
        left: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="right"]) #arrow {
        top: 50%;
        right: 100%;
        border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;
        border-color: transparent var(--_tooltip-arrow-background) transparent transparent;
        transform: translate(0, -50%);
      }

      :host([placement="bottom"]) {
        position: absolute;
        top: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host([placement="bottom"]) #arrow {
        bottom: 100%;
        left: 50%;
        border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);
        border-color: transparent transparent var(--_tooltip-arrow-background) transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="left"]) {
        position: absolute;
        right: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="left"]) #arrow {
        top: 50%;
        left: 100%;
        border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);
        border-color: transparent transparent transparent var(--_tooltip-arrow-background);
        transform: translate(0, -50%);
      }
      
      :host([placement="none"]) #arrow {
        display: none;
      }
    </style>
    <slot></slot>
    <div id="arrow"></div>
  `}class aA extends bt.HTMLElement{constructor(){if(super(),this.updateXOffset=()=>{var e;if(!LF(this,{checkOpacity:!1,checkVisibilityCSS:!1}))return;const t=this.placement;if(t==="left"||t==="right"){this.style.removeProperty("--media-tooltip-offset-x");return}const i=getComputedStyle(this),r=(e=Vg(this,"#"+this.bounds))!=null?e:Ns(this);if(!r)return;const{x:o,width:l}=r.getBoundingClientRect(),{x:c,width:f}=this.getBoundingClientRect(),h=c+f,g=o+l,m=i.getPropertyValue("--media-tooltip-offset-x"),p=m?parseFloat(m.replace("px","")):0,y=i.getPropertyValue("--media-tooltip-container-margin"),E=y?parseFloat(y.replace("px","")):0,A=c-o+p-E,w=h-g+p+E;if(A<0){this.style.setProperty("--media-tooltip-offset-x",`${A}px`);return}if(w>0){this.style.setProperty("--media-tooltip-offset-x",`${w}px`);return}this.style.removeProperty("--media-tooltip-offset-x")},!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}if(this.arrowEl=this.shadowRoot.querySelector("#arrow"),Object.prototype.hasOwnProperty.call(this,"placement")){const e=this.placement;delete this.placement,this.placement=e}}static get observedAttributes(){return[wm.PLACEMENT,wm.BOUNDS]}get placement(){return Da(this,wm.PLACEMENT)}set placement(e){La(this,wm.PLACEMENT,e)}get bounds(){return Da(this,wm.BOUNDS)}set bounds(e){La(this,wm.BOUNDS,e)}}aA.shadowRootOptions={mode:"open"};aA.getTemplateHTML=VZ;bt.customElements.get("media-tooltip")||bt.customElements.define("media-tooltip",aA);var AN=aA,gx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},dr=(n,e,t)=>(gx(n,e,"read from private field"),t?t.call(n):e.get(n)),Rm=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},P0=(n,e,t,i)=>(gx(n,e,"write to private field"),e.set(n,t),t),KZ=(n,e,t)=>(gx(n,e,"access private method"),t),Yl,cg,xd,$m,x_,tI,XF;const md={TOOLTIP_PLACEMENT:"tooltipplacement",DISABLED:"disabled",NO_TOOLTIP:"notooltip"};function YZ(n,e={}){return`
    <style>
      :host {
        position: relative;
        font: var(--media-font,
          var(--media-font-weight, bold)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        padding: var(--media-button-padding, var(--media-control-padding, 10px));
        justify-content: var(--media-button-justify-content, center);
        display: inline-flex;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        transition: background .15s linear;
        pointer-events: auto;
        cursor: var(--media-cursor, pointer);
        -webkit-tap-highlight-color: transparent;
      }

      
      :host(:focus-visible) {
        box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: 0;
      }
      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgba(50 50 70 / .7));
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-button-icon-width);
        height: var(--media-button-icon-height, var(--media-control-height, 24px));
        transform: var(--media-button-icon-transform);
        transition: var(--media-button-icon-transition);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
      }

      media-tooltip {
        
        max-width: 0;
        overflow-x: clip;
        opacity: 0;
        transition: opacity .3s, max-width 0s 9s;
      }

      :host(:hover) media-tooltip,
      :host(:focus-visible) media-tooltip {
        max-width: 100vw;
        opacity: 1;
        transition: opacity .3s;
      }

      :host([notooltip]) slot[name="tooltip"] {
        display: none;
      }
    </style>

    ${this.getSlotTemplateHTML(n,e)}

    <slot name="tooltip">
      <media-tooltip part="tooltip" aria-hidden="true">
        <template shadowrootmode="${AN.shadowRootOptions.mode}">
          ${AN.getTemplateHTML({})}
        </template>
        <slot name="tooltip-content">
          ${this.getTooltipContentHTML(n)}
        </slot>
      </media-tooltip>
    </slot>
  `}function WZ(n,e){return`
    <slot></slot>
  `}function QZ(){return""}class Pr extends bt.HTMLElement{constructor(){if(super(),Rm(this,tI),Rm(this,Yl,void 0),this.preventClick=!1,this.tooltipEl=null,Rm(this,cg,e=>{this.preventClick||this.handleClick(e),setTimeout(dr(this,xd),0)}),Rm(this,xd,()=>{var e,t;(t=(e=this.tooltipEl)==null?void 0:e.updateXOffset)==null||t.call(e)}),Rm(this,$m,e=>{const{key:t}=e;if(!this.keysUsed.includes(t)){this.removeEventListener("keyup",dr(this,$m));return}this.preventClick||this.handleClick(e)}),Rm(this,x_,e=>{const{metaKey:t,altKey:i,key:r}=e;if(t||i||!this.keysUsed.includes(r)){this.removeEventListener("keyup",dr(this,$m));return}this.addEventListener("keyup",dr(this,$m),{once:!0})}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes),t=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(t):this.shadowRoot.innerHTML=t}this.tooltipEl=this.shadowRoot.querySelector("media-tooltip")}static get observedAttributes(){return["disabled",md.TOOLTIP_PLACEMENT,ra.MEDIA_CONTROLLER,Ke.MEDIA_LANG]}enable(){this.addEventListener("click",dr(this,cg)),this.addEventListener("keydown",dr(this,x_)),this.tabIndex=0}disable(){this.removeEventListener("click",dr(this,cg)),this.removeEventListener("keydown",dr(this,x_)),this.removeEventListener("keyup",dr(this,$m)),this.tabIndex=-1}attributeChangedCallback(e,t,i){var r,o,l,c,f;e===ra.MEDIA_CONTROLLER?(t&&((o=(r=dr(this,Yl))==null?void 0:r.unassociateElement)==null||o.call(r,this),P0(this,Yl,null)),i&&this.isConnected&&(P0(this,Yl,(l=this.getRootNode())==null?void 0:l.getElementById(i)),(f=(c=dr(this,Yl))==null?void 0:c.associateElement)==null||f.call(c,this))):e==="disabled"&&i!==t?i==null?this.enable():this.disable():e===md.TOOLTIP_PLACEMENT&&this.tooltipEl&&i!==t?this.tooltipEl.placement=i:e===Ke.MEDIA_LANG&&(this.shadowRoot.querySelector('slot[name="tooltip-content"]').innerHTML=this.constructor.getTooltipContentHTML()),dr(this,xd).call(this)}connectedCallback(){var e,t,i;const{style:r}=Ir(this.shadowRoot,":host");r.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.hasAttribute("disabled")?this.disable():this.enable(),this.setAttribute("role","button");const o=this.getAttribute(ra.MEDIA_CONTROLLER);o&&(P0(this,Yl,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(t=dr(this,Yl))==null?void 0:t.associateElement)==null||i.call(t,this)),bt.customElements.whenDefined("media-tooltip").then(()=>KZ(this,tI,XF).call(this))}disconnectedCallback(){var e,t;this.disable(),(t=(e=dr(this,Yl))==null?void 0:e.unassociateElement)==null||t.call(e,this),P0(this,Yl,null),this.removeEventListener("mouseenter",dr(this,xd)),this.removeEventListener("focus",dr(this,xd)),this.removeEventListener("click",dr(this,cg))}get keysUsed(){return["Enter"," "]}get tooltipPlacement(){return Da(this,md.TOOLTIP_PLACEMENT)}set tooltipPlacement(e){La(this,md.TOOLTIP_PLACEMENT,e)}get mediaController(){return Da(this,ra.MEDIA_CONTROLLER)}set mediaController(e){La(this,ra.MEDIA_CONTROLLER,e)}get disabled(){return ji(this,md.DISABLED)}set disabled(e){Hi(this,md.DISABLED,e)}get noTooltip(){return ji(this,md.NO_TOOLTIP)}set noTooltip(e){Hi(this,md.NO_TOOLTIP,e)}handleClick(e){}}Yl=new WeakMap;cg=new WeakMap;xd=new WeakMap;$m=new WeakMap;x_=new WeakMap;tI=new WeakSet;XF=function(){this.addEventListener("mouseenter",dr(this,xd)),this.addEventListener("focus",dr(this,xd)),this.addEventListener("click",dr(this,cg));const n=this.tooltipPlacement;n&&this.tooltipEl&&(this.tooltipEl.placement=n)};Pr.shadowRootOptions={mode:"open"};Pr.getTemplateHTML=YZ;Pr.getSlotTemplateHTML=WZ;Pr.getTooltipContentHTML=QZ;bt.customElements.get("media-chrome-button")||bt.customElements.define("media-chrome-button",Pr);const wN=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`;function XZ(n){return`
    <style>
      :host([${Ke.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${Ke.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${Ke.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],
      :host(:not([${Ke.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${wN}</slot>
      <slot name="exit">${wN}</slot>
    </slot>
  `}function ZZ(){return`
    <slot name="tooltip-enter">${Kn("start airplay")}</slot>
    <slot name="tooltip-exit">${Kn("stop airplay")}</slot>
  `}const RN=n=>{const e=n.mediaIsAirplaying?Kn("stop airplay"):Kn("start airplay");n.setAttribute("aria-label",e)};class px extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_IS_AIRPLAYING,Ke.MEDIA_AIRPLAY_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),RN(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_IS_AIRPLAYING&&RN(this)}get mediaIsAirplaying(){return ji(this,Ke.MEDIA_IS_AIRPLAYING)}set mediaIsAirplaying(e){Hi(this,Ke.MEDIA_IS_AIRPLAYING,e)}get mediaAirplayUnavailable(){return Da(this,Ke.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){La(this,Ke.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new bt.CustomEvent(Pn.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}px.getSlotTemplateHTML=XZ;px.getTooltipContentHTML=ZZ;bt.customElements.get("media-airplay-button")||bt.customElements.define("media-airplay-button",px);const JZ=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,eJ=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function tJ(n){return`
    <style>
      :host([aria-checked="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([aria-checked="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-checked="true"]) slot[name=tooltip-enable],
      :host(:not([aria-checked="true"])) slot[name=tooltip-disable] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${JZ}</slot>
      <slot name="off">${eJ}</slot>
    </slot>
  `}function nJ(){return`
    <slot name="tooltip-enable">${Kn("Enable captions")}</slot>
    <slot name="tooltip-disable">${Kn("Disable captions")}</slot>
  `}const IN=n=>{n.setAttribute("aria-checked",qF(n).toString())};class vx extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_SUBTITLES_LIST,Ke.MEDIA_SUBTITLES_SHOWING]}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",Kn("closed captions")),IN(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_SUBTITLES_SHOWING&&IN(this)}get mediaSubtitlesList(){return kN(this,Ke.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){xN(this,Ke.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return kN(this,Ke.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){xN(this,Ke.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new bt.CustomEvent(Pn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}}vx.getSlotTemplateHTML=tJ;vx.getTooltipContentHTML=nJ;const kN=(n,e)=>{const t=n.getAttribute(e);return t?nA(t):[]},xN=(n,e,t)=>{if(!t?.length){n.removeAttribute(e);return}const i=Ky(t);n.getAttribute(e)!==i&&n.setAttribute(e,i)};bt.customElements.get("media-captions-button")||bt.customElements.define("media-captions-button",vx);const iJ='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',aJ='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>';function rJ(n){return`
    <style>
      :host([${Ke.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${Ke.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${Ke.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],
      :host(:not([${Ke.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${iJ}</slot>
      <slot name="exit">${aJ}</slot>
    </slot>
  `}function sJ(){return`
    <slot name="tooltip-enter">${Kn("Start casting")}</slot>
    <slot name="tooltip-exit">${Kn("Stop casting")}</slot>
  `}const CN=n=>{const e=n.mediaIsCasting?Kn("stop casting"):Kn("start casting");n.setAttribute("aria-label",e)};class yx extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_IS_CASTING,Ke.MEDIA_CAST_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),CN(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_IS_CASTING&&CN(this)}get mediaIsCasting(){return ji(this,Ke.MEDIA_IS_CASTING)}set mediaIsCasting(e){Hi(this,Ke.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return Da(this,Ke.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){La(this,Ke.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?Pn.MEDIA_EXIT_CAST_REQUEST:Pn.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new bt.CustomEvent(e,{composed:!0,bubbles:!0}))}}yx.getSlotTemplateHTML=rJ;yx.getTooltipContentHTML=sJ;bt.customElements.get("media-cast-button")||bt.customElements.define("media-cast-button",yx);var Ex=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Zf=(n,e,t)=>(Ex(n,e,"read from private field"),e.get(n)),Ku=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},bx=(n,e,t,i)=>(Ex(n,e,"write to private field"),e.set(n,t),t),wf=(n,e,t)=>(Ex(n,e,"access private method"),t),aS,Yy,uh,C_,nI,iI,ZF,aI,JF,rI,eB,sI,tB,oI,nB;function oJ(n){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        display: var(--media-dialog-display, inline-flex);
        justify-content: center;
        align-items: center;
        
        transition-behavior: allow-discrete;
        visibility: hidden;
        opacity: 0;
        transform: translateY(2px) scale(.99);
        pointer-events: none;
      }

      :host([open]) {
        transition: display .2s, visibility 0s, opacity .2s ease-out, transform .15s ease-out;
        visibility: visible;
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }

      #content {
        display: flex;
        position: relative;
        box-sizing: border-box;
        width: min(320px, 100%);
        word-wrap: break-word;
        max-height: 100%;
        overflow: auto;
        text-align: center;
        line-height: 1.4;
      }
    </style>
    ${this.getSlotTemplateHTML(n)}
  `}function lJ(n){return`
    <slot id="content"></slot>
  `}const Cv={OPEN:"open",ANCHOR:"anchor"};class Kg extends bt.HTMLElement{constructor(){super(),Ku(this,C_),Ku(this,iI),Ku(this,aI),Ku(this,rI),Ku(this,sI),Ku(this,oI),Ku(this,aS,!1),Ku(this,Yy,null),Ku(this,uh,null),this.addEventListener("invoke",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}static get observedAttributes(){return[Cv.OPEN,Cv.ANCHOR]}get open(){return ji(this,Cv.OPEN)}set open(e){Hi(this,Cv.OPEN,e)}handleEvent(e){switch(e.type){case"invoke":wf(this,rI,eB).call(this,e);break;case"focusout":wf(this,sI,tB).call(this,e);break;case"keydown":wf(this,oI,nB).call(this,e);break}}connectedCallback(){wf(this,C_,nI).call(this),this.role||(this.role="dialog")}attributeChangedCallback(e,t,i){wf(this,C_,nI).call(this),e===Cv.OPEN&&i!==t&&(this.open?wf(this,iI,ZF).call(this):wf(this,aI,JF).call(this))}focus(){bx(this,Yy,ox());const e=!this.dispatchEvent(new Event("focus",{composed:!0,cancelable:!0})),t=!this.dispatchEvent(new Event("focusin",{composed:!0,bubbles:!0,cancelable:!0}));if(e||t)return;const i=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');i?.focus()}get keysUsed(){return["Escape","Tab"]}}aS=new WeakMap;Yy=new WeakMap;uh=new WeakMap;C_=new WeakSet;nI=function(){if(!Zf(this,aS)&&(bx(this,aS,!0),!this.shadowRoot)){this.attachShadow(this.constructor.shadowRootOptions);const n=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(n),queueMicrotask(()=>{const{style:e}=Ir(this.shadowRoot,":host");e.setProperty("transition","display .15s, visibility .15s, opacity .15s ease-in, transform .15s ease-in")})}};iI=new WeakSet;ZF=function(){var n;(n=Zf(this,uh))==null||n.setAttribute("aria-expanded","true"),this.dispatchEvent(new Event("open",{composed:!0,bubbles:!0})),this.addEventListener("transitionend",()=>this.focus(),{once:!0})};aI=new WeakSet;JF=function(){var n;(n=Zf(this,uh))==null||n.setAttribute("aria-expanded","false"),this.dispatchEvent(new Event("close",{composed:!0,bubbles:!0}))};rI=new WeakSet;eB=function(n){bx(this,uh,n.relatedTarget),vc(this,n.relatedTarget)||(this.open=!this.open)};sI=new WeakSet;tB=function(n){var e;vc(this,n.relatedTarget)||((e=Zf(this,Yy))==null||e.focus(),Zf(this,uh)&&Zf(this,uh)!==n.relatedTarget&&this.open&&(this.open=!1))};oI=new WeakSet;nB=function(n){var e,t,i,r,o;const{key:l,ctrlKey:c,altKey:f,metaKey:h}=n;c||f||h||this.keysUsed.includes(l)&&(n.preventDefault(),n.stopPropagation(),l==="Tab"?(n.shiftKey?(t=(e=this.previousElementSibling)==null?void 0:e.focus)==null||t.call(e):(r=(i=this.nextElementSibling)==null?void 0:i.focus)==null||r.call(i),this.blur()):l==="Escape"&&((o=Zf(this,Yy))==null||o.focus(),this.open=!1))};Kg.shadowRootOptions={mode:"open"};Kg.getTemplateHTML=oJ;Kg.getSlotTemplateHTML=lJ;bt.customElements.get("media-chrome-dialog")||bt.customElements.define("media-chrome-dialog",Kg);var _x=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Va=(n,e,t)=>(_x(n,e,"read from private field"),t?t.call(n):e.get(n)),Gr=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Ed=(n,e,t,i)=>(_x(n,e,"write to private field"),e.set(n,t),t),ul=(n,e,t)=>(_x(n,e,"access private method"),t),Wl,rA,D_,L_,cl,rS,M_,N_,O_,Tx,iB,P_,lI,U_,uI,sS,Sx,cI,aB,dI,rB,fI,sB,hI,oB;function uJ(n){return`
    <style>
      :host {
        --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

        box-shadow: var(--_focus-visible-box-shadow, none);
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
        display: inline-flex;
        align-items: center;
        
        vertical-align: middle;
        box-sizing: border-box;
        position: relative;
        width: 100px;
        transition: background .15s linear;
        cursor: var(--media-cursor, pointer);
        pointer-events: auto;
        touch-action: none; 
      }

      
      input[type=range]:focus {
        outline: 0;
      }
      input[type=range]:focus::-webkit-slider-runnable-track {
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgb(50 50 70 / .7));
      }

      #leftgap {
        padding-left: var(--media-range-padding-left, var(--_media-range-padding));
      }

      #rightgap {
        padding-right: var(--media-range-padding-right, var(--_media-range-padding));
      }

      #startpoint,
      #endpoint {
        position: absolute;
      }

      #endpoint {
        right: 0;
      }

      #container {
        
        width: var(--media-range-track-width, 100%);
        transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
        position: relative;
        height: 100%;
        display: flex;
        align-items: center;
        min-width: 40px;
      }

      #range {
        
        display: var(--media-time-range-hover-display, block);
        bottom: var(--media-time-range-hover-bottom, -7px);
        height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
        width: 100%;
        position: absolute;
        cursor: var(--media-cursor, pointer);

        -webkit-appearance: none; 
        -webkit-tap-highlight-color: transparent;
        background: transparent; 
        margin: 0;
        z-index: 1;
      }

      @media (hover: hover) {
        #range {
          bottom: var(--media-time-range-hover-bottom, -5px);
          height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
        }
      }

      
      
      #range::-webkit-slider-thumb {
        -webkit-appearance: none;
        background: transparent;
        width: .1px;
        height: .1px;
      }

      
      #range::-moz-range-thumb {
        background: transparent;
        border: transparent;
        width: .1px;
        height: .1px;
      }

      #appearance {
        height: var(--media-range-track-height, 4px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 100%;
        position: absolute;
        
        will-change: transform;
      }

      #track {
        background: var(--media-range-track-background, rgb(255 255 255 / .2));
        border-radius: var(--media-range-track-border-radius, 1px);
        border: var(--media-range-track-border, none);
        outline: var(--media-range-track-outline);
        outline-offset: var(--media-range-track-outline-offset);
        backdrop-filter: var(--media-range-track-backdrop-filter);
        -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
        box-shadow: var(--media-range-track-box-shadow, none);
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      #progress,
      #pointer {
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #progress {
        background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
        transition: var(--media-range-track-transition);
      }

      #pointer {
        background: var(--media-range-track-pointer-background);
        border-right: var(--media-range-track-pointer-border-right);
        transition: visibility .25s, opacity .25s;
        visibility: hidden;
        opacity: 0;
      }

      @media (hover: hover) {
        :host(:hover) #pointer {
          transition: visibility .5s, opacity .5s;
          visibility: visible;
          opacity: 1;
        }
      }

      #thumb,
      ::slotted([slot=thumb]) {
        width: var(--media-range-thumb-width, 10px);
        height: var(--media-range-thumb-height, 10px);
        transition: var(--media-range-thumb-transition);
        transform: var(--media-range-thumb-transform, none);
        opacity: var(--media-range-thumb-opacity, 1);
        translate: -50%;
        position: absolute;
        left: 0;
        cursor: var(--media-cursor, pointer);
      }

      #thumb {
        border-radius: var(--media-range-thumb-border-radius, 10px);
        background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
        box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
        border: var(--media-range-thumb-border, none);
      }

      :host([disabled]) #thumb {
        background-color: #777;
      }

      .segments #appearance {
        height: var(--media-range-segment-hover-height, 7px);
      }

      #track {
        clip-path: url(#segments-clipping);
      }

      #segments {
        --segments-gap: var(--media-range-segments-gap, 2px);
        position: absolute;
        width: 100%;
        height: 100%;
      }

      #segments-clipping {
        transform: translateX(calc(var(--segments-gap) / 2));
      }

      #segments-clipping:empty {
        display: none;
      }

      #segments-clipping rect {
        height: var(--media-range-track-height, 4px);
        y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);
        transition: var(--media-range-segment-transition, transform .1s ease-in-out);
        transform: var(--media-range-segment-transform, scaleY(1));
        transform-origin: center;
      }
    </style>
    <div id="leftgap"></div>
    <div id="container">
      <div id="startpoint"></div>
      <div id="endpoint"></div>
      <div id="appearance">
        <div id="track" part="track">
          <div id="pointer"></div>
          <div id="progress" part="progress"></div>
        </div>
        <slot name="thumb">
          <div id="thumb" part="thumb"></div>
        </slot>
        <svg id="segments"><clipPath id="segments-clipping"></clipPath></svg>
      </div>
      <input id="range" type="range" min="0" max="1" step="any" value="0">

      ${this.getContainerTemplateHTML(n)}
    </div>
    <div id="rightgap"></div>
  `}function cJ(n){return""}class Yg extends bt.HTMLElement{constructor(){if(super(),Gr(this,Tx),Gr(this,P_),Gr(this,U_),Gr(this,sS),Gr(this,cI),Gr(this,dI),Gr(this,fI),Gr(this,hI),Gr(this,Wl,void 0),Gr(this,rA,void 0),Gr(this,D_,void 0),Gr(this,L_,void 0),Gr(this,cl,{}),Gr(this,rS,[]),Gr(this,M_,()=>{if(this.range.matches(":focus-visible")){const{style:e}=Ir(this.shadowRoot,":host");e.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),Gr(this,N_,()=>{const{style:e}=Ir(this.shadowRoot,":host");e.removeProperty("--_focus-visible-box-shadow")}),Gr(this,O_,()=>{const e=this.shadowRoot.querySelector("#segments-clipping");e&&e.parentNode.append(e)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes),t=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(t):this.shadowRoot.innerHTML=t}this.container=this.shadowRoot.querySelector("#container"),Ed(this,D_,this.shadowRoot.querySelector("#startpoint")),Ed(this,L_,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range"),this.appearance=this.shadowRoot.querySelector("#appearance")}static get observedAttributes(){return["disabled","aria-disabled",ra.MEDIA_CONTROLLER]}attributeChangedCallback(e,t,i){var r,o,l,c,f;e===ra.MEDIA_CONTROLLER?(t&&((o=(r=Va(this,Wl))==null?void 0:r.unassociateElement)==null||o.call(r,this),Ed(this,Wl,null)),i&&this.isConnected&&(Ed(this,Wl,(l=this.getRootNode())==null?void 0:l.getElementById(i)),(f=(c=Va(this,Wl))==null?void 0:c.associateElement)==null||f.call(c,this))):(e==="disabled"||e==="aria-disabled"&&t!==i)&&(i==null?(this.range.removeAttribute(e),ul(this,P_,lI).call(this)):(this.range.setAttribute(e,i),ul(this,U_,uI).call(this)))}connectedCallback(){var e,t,i;const{style:r}=Ir(this.shadowRoot,":host");r.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),Va(this,cl).pointer=Ir(this.shadowRoot,"#pointer"),Va(this,cl).progress=Ir(this.shadowRoot,"#progress"),Va(this,cl).thumb=Ir(this.shadowRoot,'#thumb, ::slotted([slot="thumb"])'),Va(this,cl).activeSegment=Ir(this.shadowRoot,"#segments-clipping rect:nth-child(0)");const o=this.getAttribute(ra.MEDIA_CONTROLLER);o&&(Ed(this,Wl,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(t=Va(this,Wl))==null?void 0:t.associateElement)==null||i.call(t,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",Va(this,M_)),this.shadowRoot.addEventListener("focusout",Va(this,N_)),ul(this,P_,lI).call(this),Og(this.container,Va(this,O_))}disconnectedCallback(){var e,t;ul(this,U_,uI).call(this),(t=(e=Va(this,Wl))==null?void 0:e.unassociateElement)==null||t.call(e,this),Ed(this,Wl,null),this.shadowRoot.removeEventListener("focusin",Va(this,M_)),this.shadowRoot.removeEventListener("focusout",Va(this,N_)),Pg(this.container,Va(this,O_))}updatePointerBar(e){var t;(t=Va(this,cl).pointer)==null||t.style.setProperty("width",`${this.getPointerRatio(e)*100}%`)}updateBar(){var e,t;const i=this.range.valueAsNumber*100;(e=Va(this,cl).progress)==null||e.style.setProperty("width",`${i}%`),(t=Va(this,cl).thumb)==null||t.style.setProperty("left",`${i}%`)}updateSegments(e){const t=this.shadowRoot.querySelector("#segments-clipping");if(t.textContent="",this.container.classList.toggle("segments",!!e?.length),!e?.length)return;const i=[...new Set([+this.range.min,...e.flatMap(o=>[o.start,o.end]),+this.range.max])];Ed(this,rS,[...i]);const r=i.pop();for(const[o,l]of i.entries()){const[c,f]=[o===0,o===i.length-1],h=c?"calc(var(--segments-gap) / -1)":`${l*100}%`,m=`calc(${((f?r:i[o+1])-l)*100}%${c||f?"":" - var(--segments-gap)"})`,p=vr.createElementNS("http://www.w3.org/2000/svg","rect"),y=lx(this.shadowRoot,`#segments-clipping rect:nth-child(${o+1})`);y.style.setProperty("x",h),y.style.setProperty("width",m),t.append(p)}}getPointerRatio(e){return nZ(e.clientX,e.clientY,Va(this,D_).getBoundingClientRect(),Va(this,L_).getBoundingClientRect())}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"pointermove":ul(this,hI,oB).call(this,e);break;case"input":this.updateBar();break;case"pointerenter":ul(this,cI,aB).call(this,e);break;case"pointerdown":ul(this,sS,Sx).call(this,e);break;case"pointerup":ul(this,dI,rB).call(this);break;case"pointerleave":ul(this,fI,sB).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}Wl=new WeakMap;rA=new WeakMap;D_=new WeakMap;L_=new WeakMap;cl=new WeakMap;rS=new WeakMap;M_=new WeakMap;N_=new WeakMap;O_=new WeakMap;Tx=new WeakSet;iB=function(n){const e=Va(this,cl).activeSegment;if(!e)return;const t=this.getPointerRatio(n),r=`#segments-clipping rect:nth-child(${Va(this,rS).findIndex((o,l,c)=>{const f=c[l+1];return f!=null&&t>=o&&t<=f})+1})`;(e.selectorText!=r||!e.style.transform)&&(e.selectorText=r,e.style.setProperty("transform","var(--media-range-segment-hover-transform, scaleY(2))"))};P_=new WeakSet;lI=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};U_=new WeakSet;uI=function(){var n,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(n=bt.window)==null||n.removeEventListener("pointerup",this),(e=bt.window)==null||e.removeEventListener("pointermove",this)};sS=new WeakSet;Sx=function(n){var e;Ed(this,rA,n.composedPath().includes(this.range)),(e=bt.window)==null||e.addEventListener("pointerup",this)};cI=new WeakSet;aB=function(n){var e;n.pointerType!=="mouse"&&ul(this,sS,Sx).call(this,n),this.addEventListener("pointerleave",this),(e=bt.window)==null||e.addEventListener("pointermove",this)};dI=new WeakSet;rB=function(){var n;(n=bt.window)==null||n.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};fI=new WeakSet;sB=function(){var n,e;this.removeEventListener("pointerleave",this),(n=bt.window)==null||n.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled"),(e=Va(this,cl).activeSegment)==null||e.style.removeProperty("transform")};hI=new WeakSet;oB=function(n){n.pointerType==="pen"&&n.buttons===0||(this.toggleAttribute("dragging",n.buttons===1||n.pointerType!=="mouse"),this.updatePointerBar(n),ul(this,Tx,iB).call(this,n),this.dragging&&(n.pointerType!=="mouse"||!Va(this,rA))&&(this.range.disabled=!0,this.range.valueAsNumber=this.getPointerRatio(n),this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0}))))};Yg.shadowRootOptions={mode:"open"};Yg.getTemplateHTML=uJ;Yg.getContainerTemplateHTML=cJ;bt.customElements.get("media-chrome-range")||bt.customElements.define("media-chrome-range",Yg);var lB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},U0=(n,e,t)=>(lB(n,e,"read from private field"),t?t.call(n):e.get(n)),dJ=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},F0=(n,e,t,i)=>(lB(n,e,"write to private field"),e.set(n,t),t),Ql;function fJ(n){return`
    <style>
      :host {
        
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --media-loading-indicator-icon-height: 44px;
      }

      ::slotted(media-time-range),
      ::slotted(media-volume-range) {
        min-height: 100%;
      }

      ::slotted(media-time-range),
      ::slotted(media-clip-selector) {
        flex-grow: 1;
      }

      ::slotted([role="menu"]) {
        position: absolute;
      }
    </style>

    <slot></slot>
  `}class Ax extends bt.HTMLElement{constructor(){if(super(),dJ(this,Ql,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ra.MEDIA_CONTROLLER]}attributeChangedCallback(e,t,i){var r,o,l,c,f;e===ra.MEDIA_CONTROLLER&&(t&&((o=(r=U0(this,Ql))==null?void 0:r.unassociateElement)==null||o.call(r,this),F0(this,Ql,null)),i&&this.isConnected&&(F0(this,Ql,(l=this.getRootNode())==null?void 0:l.getElementById(i)),(f=(c=U0(this,Ql))==null?void 0:c.associateElement)==null||f.call(c,this)))}connectedCallback(){var e,t,i;const r=this.getAttribute(ra.MEDIA_CONTROLLER);r&&(F0(this,Ql,(e=this.getRootNode())==null?void 0:e.getElementById(r)),(i=(t=U0(this,Ql))==null?void 0:t.associateElement)==null||i.call(t,this))}disconnectedCallback(){var e,t;(t=(e=U0(this,Ql))==null?void 0:e.unassociateElement)==null||t.call(e,this),F0(this,Ql,null)}}Ql=new WeakMap;Ax.shadowRootOptions={mode:"open"};Ax.getTemplateHTML=fJ;bt.customElements.get("media-control-bar")||bt.customElements.define("media-control-bar",Ax);var uB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},B0=(n,e,t)=>(uB(n,e,"read from private field"),t?t.call(n):e.get(n)),hJ=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},z0=(n,e,t,i)=>(uB(n,e,"write to private field"),e.set(n,t),t),Xl;function mJ(n,e={}){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
        padding: var(--media-control-padding, 10px);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        text-align: center;
        pointer-events: auto;
      }

      
      :host(:focus-visible) {
        box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
        outline: 0;
      }

      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }
    </style>

    ${this.getSlotTemplateHTML(n,e)}
  `}function gJ(n,e){return`
    <slot></slot>
  `}class jd extends bt.HTMLElement{constructor(){if(super(),hJ(this,Xl,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ra.MEDIA_CONTROLLER]}attributeChangedCallback(e,t,i){var r,o,l,c,f;e===ra.MEDIA_CONTROLLER&&(t&&((o=(r=B0(this,Xl))==null?void 0:r.unassociateElement)==null||o.call(r,this),z0(this,Xl,null)),i&&this.isConnected&&(z0(this,Xl,(l=this.getRootNode())==null?void 0:l.getElementById(i)),(f=(c=B0(this,Xl))==null?void 0:c.associateElement)==null||f.call(c,this)))}connectedCallback(){var e,t,i;const{style:r}=Ir(this.shadowRoot,":host");r.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`);const o=this.getAttribute(ra.MEDIA_CONTROLLER);o&&(z0(this,Xl,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(t=B0(this,Xl))==null?void 0:t.associateElement)==null||i.call(t,this))}disconnectedCallback(){var e,t;(t=(e=B0(this,Xl))==null?void 0:e.unassociateElement)==null||t.call(e,this),z0(this,Xl,null)}}Xl=new WeakMap;jd.shadowRootOptions={mode:"open"};jd.getTemplateHTML=mJ;jd.getSlotTemplateHTML=gJ;bt.customElements.get("media-text-display")||bt.customElements.define("media-text-display",jd);var cB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},DN=(n,e,t)=>(cB(n,e,"read from private field"),t?t.call(n):e.get(n)),pJ=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},vJ=(n,e,t,i)=>(cB(n,e,"write to private field"),e.set(n,t),t),ny;function yJ(n,e){return`
    <slot>${Ud(e.mediaDuration)}</slot>
  `}class dB extends jd{constructor(){var e;super(),pJ(this,ny,void 0),vJ(this,ny,this.shadowRoot.querySelector("slot")),DN(this,ny).textContent=Ud((e=this.mediaDuration)!=null?e:0)}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_DURATION]}attributeChangedCallback(e,t,i){e===Ke.MEDIA_DURATION&&(DN(this,ny).textContent=Ud(+i)),super.attributeChangedCallback(e,t,i)}get mediaDuration(){return Ca(this,Ke.MEDIA_DURATION)}set mediaDuration(e){nr(this,Ke.MEDIA_DURATION,e)}}ny=new WeakMap;dB.getSlotTemplateHTML=yJ;bt.customElements.get("media-duration-display")||bt.customElements.define("media-duration-display",dB);const EJ={2:Kn("Network Error"),3:Kn("Decode Error"),4:Kn("Source Not Supported"),5:Kn("Encryption Error")},bJ={2:Kn("A network error caused the media download to fail."),3:Kn("A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format."),4:Kn("An unsupported error occurred. The server or network failed, or your browser does not support this format."),5:Kn("The media is encrypted and there are no keys to decrypt it.")},fB=n=>{var e,t;return n.code===1?null:{title:(e=EJ[n.code])!=null?e:`Error ${n.code}`,message:(t=bJ[n.code])!=null?t:n.message}};var hB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},_J=(n,e,t)=>(hB(n,e,"read from private field"),t?t.call(n):e.get(n)),TJ=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},SJ=(n,e,t,i)=>(hB(n,e,"write to private field"),e.set(n,t),t),F_;function AJ(n){return`
    <style>
      :host {
        background: rgb(20 20 30 / .8);
      }

      #content {
        display: block;
        padding: 1.2em 1.5em;
      }

      h3,
      p {
        margin-block: 0 .3em;
      }
    </style>
    <slot name="error-${n.mediaerrorcode}" id="content">
      ${mB({code:+n.mediaerrorcode,message:n.mediaerrormessage})}
    </slot>
  `}function wJ(n){return n.code&&fB(n)!==null}function mB(n){var e;const{title:t,message:i}=(e=fB(n))!=null?e:{};let r="";return t&&(r+=`<slot name="error-${n.code}-title"><h3>${t}</h3></slot>`),i&&(r+=`<slot name="error-${n.code}-message"><p>${i}</p></slot>`),r}const LN=[Ke.MEDIA_ERROR_CODE,Ke.MEDIA_ERROR_MESSAGE];class sA extends Kg{constructor(){super(...arguments),TJ(this,F_,null)}static get observedAttributes(){return[...super.observedAttributes,...LN]}formatErrorMessage(e){return this.constructor.formatErrorMessage(e)}attributeChangedCallback(e,t,i){var r;if(super.attributeChangedCallback(e,t,i),!LN.includes(e))return;const o=(r=this.mediaError)!=null?r:{code:this.mediaErrorCode,message:this.mediaErrorMessage};this.open=wJ(o),this.open&&(this.shadowRoot.querySelector("slot").name=`error-${this.mediaErrorCode}`,this.shadowRoot.querySelector("#content").innerHTML=this.formatErrorMessage(o))}get mediaError(){return _J(this,F_)}set mediaError(e){SJ(this,F_,e)}get mediaErrorCode(){return Ca(this,"mediaerrorcode")}set mediaErrorCode(e){nr(this,"mediaerrorcode",e)}get mediaErrorMessage(){return Da(this,"mediaerrormessage")}set mediaErrorMessage(e){La(this,"mediaerrormessage",e)}}F_=new WeakMap;sA.getSlotTemplateHTML=AJ;sA.formatErrorMessage=mB;bt.customElements.get("media-error-dialog")||bt.customElements.define("media-error-dialog",sA);var gB=sA,RJ=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},gd=(n,e,t)=>(RJ(n,e,"read from private field"),t?t.call(n):e.get(n)),MN=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},qm,jm;function IJ(n){return`
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
        background: rgb(20 20 30 / .8);
        backdrop-filter: blur(10px);
      }

      #content {
        display: block;
        width: clamp(400px, 40vw, 700px);
        max-width: 90vw;
        text-align: left;
      }

      h2 {
        margin: 0 0 1.5rem 0;
        font-size: 1.5rem;
        font-weight: 500;
        text-align: center;
      }

      .shortcuts-table {
        width: 100%;
        border-collapse: collapse;
      }

      .shortcuts-table tr {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .shortcuts-table tr:last-child {
        border-bottom: none;
      }

      .shortcuts-table td {
        padding: 0.75rem 0.5rem;
      }

      .shortcuts-table td:first-child {
        text-align: right;
        padding-right: 1rem;
        width: 40%;
        min-width: 120px;
      }

      .shortcuts-table td:last-child {
        padding-left: 1rem;
      }

      .key {
        display: inline-block;
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        font-weight: 500;
        min-width: 1.5rem;
        text-align: center;
        margin: 0 0.2rem;
      }

      .description {
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
      }

      .key-combo {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.3rem;
      }

      .key-separator {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
      }
    </style>
    <slot id="content">
      ${kJ()}
    </slot>
  `}function kJ(){return`
    <h2>Keyboard Shortcuts</h2>
    <table class="shortcuts-table">${[{keys:["Space","k"],description:"Toggle Playback"},{keys:["m"],description:"Toggle mute"},{keys:["f"],description:"Toggle fullscreen"},{keys:["c"],description:"Toggle captions or subtitles, if available"},{keys:["p"],description:"Toggle Picture in Picture"},{keys:["","j"],description:"Seek back 10s"},{keys:["","l"],description:"Seek forward 10s"},{keys:[""],description:"Turn volume up"},{keys:[""],description:"Turn volume down"},{keys:["< (SHIFT+,)"],description:"Decrease playback rate"},{keys:["> (SHIFT+.)"],description:"Increase playback rate"}].map(({keys:t,description:i})=>`
      <tr>
        <td>
          <div class="key-combo">${t.map((o,l)=>l>0?`<span class="key-separator">or</span><span class="key">${o}</span>`:`<span class="key">${o}</span>`).join("")}</div>
        </td>
        <td class="description">${i}</td>
      </tr>
    `).join("")}</table>
  `}class pB extends Kg{constructor(){super(...arguments),MN(this,qm,e=>{var t;if(!this.open)return;const i=(t=this.shadowRoot)==null?void 0:t.querySelector("#content");if(!i)return;const r=e.composedPath(),o=r[0]===this||r.includes(this),l=r.includes(i);o&&!l&&(this.open=!1)}),MN(this,jm,e=>{if(!this.open)return;const t=e.shiftKey&&(e.key==="/"||e.key==="?");(e.key==="Escape"||t)&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(this.open=!1,e.preventDefault(),e.stopPropagation())})}connectedCallback(){super.connectedCallback(),this.open&&(this.addEventListener("click",gd(this,qm)),document.addEventListener("keydown",gd(this,jm)))}disconnectedCallback(){this.removeEventListener("click",gd(this,qm)),document.removeEventListener("keydown",gd(this,jm))}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e==="open"&&(this.open?(this.addEventListener("click",gd(this,qm)),document.addEventListener("keydown",gd(this,jm))):(this.removeEventListener("click",gd(this,qm)),document.removeEventListener("keydown",gd(this,jm))))}}qm=new WeakMap;jm=new WeakMap;pB.getSlotTemplateHTML=IJ;bt.customElements.get("media-keyboard-shortcuts-dialog")||bt.customElements.define("media-keyboard-shortcuts-dialog",pB);var vB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},xJ=(n,e,t)=>(vB(n,e,"read from private field"),e.get(n)),CJ=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},DJ=(n,e,t,i)=>(vB(n,e,"write to private field"),e.set(n,t),t),B_;const LJ=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,MJ=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`;function NJ(n){return`
    <style>
      :host([${Ke.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${Ke.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${Ke.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],
      :host(:not([${Ke.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${LJ}</slot>
      <slot name="exit">${MJ}</slot>
    </slot>
  `}function OJ(){return`
    <slot name="tooltip-enter">${Kn("Enter fullscreen mode")}</slot>
    <slot name="tooltip-exit">${Kn("Exit fullscreen mode")}</slot>
  `}const NN=n=>{const e=n.mediaIsFullscreen?Kn("exit fullscreen mode"):Kn("enter fullscreen mode");n.setAttribute("aria-label",e)};class wx extends Pr{constructor(){super(...arguments),CJ(this,B_,null)}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_IS_FULLSCREEN,Ke.MEDIA_FULLSCREEN_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),NN(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_IS_FULLSCREEN&&NN(this)}get mediaFullscreenUnavailable(){return Da(this,Ke.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){La(this,Ke.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return ji(this,Ke.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){Hi(this,Ke.MEDIA_IS_FULLSCREEN,e)}handleClick(e){DJ(this,B_,e);const t=xJ(this,B_)instanceof PointerEvent,i=this.mediaIsFullscreen?new bt.CustomEvent(Pn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0}):new bt.CustomEvent(Pn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0,detail:t});this.dispatchEvent(i)}}B_=new WeakMap;wx.getSlotTemplateHTML=NJ;wx.getTooltipContentHTML=OJ;bt.customElements.get("media-fullscreen-button")||bt.customElements.define("media-fullscreen-button",wx);const{MEDIA_TIME_IS_LIVE:z_,MEDIA_PAUSED:wy}=Ke,{MEDIA_SEEK_TO_LIVE_REQUEST:PJ,MEDIA_PLAY_REQUEST:UJ}=Pn,FJ='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>';function BJ(n){return`
    <style>
      :host { --media-tooltip-display: none; }
      
      slot[name=indicator] > *,
      :host ::slotted([slot=indicator]) {
        
        min-width: auto;
        fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
        color: var(--media-live-button-icon-color, rgb(140, 140, 140));
      }

      :host([${z_}]:not([${wy}])) slot[name=indicator] > *,
      :host([${z_}]:not([${wy}])) ::slotted([slot=indicator]) {
        fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
        color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
      }

      :host([${z_}]:not([${wy}])) {
        cursor: var(--media-cursor, not-allowed);
      }

      slot[name=text]{
        text-transform: uppercase;
      }

    </style>

    <slot name="indicator">${FJ}</slot>
    
    <slot name="spacer">&nbsp;</slot><slot name="text">${Kn("live")}</slot>
  `}const ON=n=>{var e;const t=n.mediaPaused||!n.mediaTimeIsLive,i=Kn(t?"seek to live":"playing live");n.setAttribute("aria-label",i);const r=(e=n.shadowRoot)==null?void 0:e.querySelector('slot[name="text"]');r&&(r.textContent=Kn("live")),t?n.removeAttribute("aria-disabled"):n.setAttribute("aria-disabled","true")};class yB extends Pr{static get observedAttributes(){return[...super.observedAttributes,z_,wy]}connectedCallback(){super.connectedCallback(),ON(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),ON(this)}get mediaPaused(){return ji(this,Ke.MEDIA_PAUSED)}set mediaPaused(e){Hi(this,Ke.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return ji(this,Ke.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){Hi(this,Ke.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new bt.CustomEvent(PJ,{composed:!0,bubbles:!0})),this.hasAttribute(wy)&&this.dispatchEvent(new bt.CustomEvent(UJ,{composed:!0,bubbles:!0})))}}yB.getSlotTemplateHTML=BJ;bt.customElements.get("media-live-button")||bt.customElements.define("media-live-button",yB);var EB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Dv=(n,e,t)=>(EB(n,e,"read from private field"),t?t.call(n):e.get(n)),PN=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Lv=(n,e,t,i)=>(EB(n,e,"write to private field"),e.set(n,t),t),Zl,$_;const $0={LOADING_DELAY:"loadingdelay",NO_AUTOHIDE:"noautohide"},bB=500,zJ=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;function $J(n){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
        vertical-align: middle;
        box-sizing: border-box;
        --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${bB}ms);
      }

      #status {
        color: rgba(0,0,0,0);
        width: 0px;
        height: 0px;
      }

      :host slot[name=icon] > *,
      :host ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 0);
        transition: opacity 0.15s;
      }

      :host([${Ke.MEDIA_LOADING}]:not([${Ke.MEDIA_PAUSED}])) slot[name=icon] > *,
      :host([${Ke.MEDIA_LOADING}]:not([${Ke.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 1);
        transition: opacity 0.15s var(--_loading-indicator-delay);
      }

      :host #status {
        visibility: var(--media-loading-indicator-opacity, hidden);
        transition: visibility 0.15s;
      }

      :host([${Ke.MEDIA_LOADING}]:not([${Ke.MEDIA_PAUSED}])) #status {
        visibility: var(--media-loading-indicator-opacity, visible);
        transition: visibility 0.15s var(--_loading-indicator-delay);
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-loading-indicator-icon-width);
        height: var(--media-loading-indicator-icon-height, 100px);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
      }
    </style>

    <slot name="icon">${zJ}</slot>
    <div id="status" role="status" aria-live="polite">${Kn("media loading")}</div>
  `}class Rx extends bt.HTMLElement{constructor(){if(super(),PN(this,Zl,void 0),PN(this,$_,bB),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ra.MEDIA_CONTROLLER,Ke.MEDIA_PAUSED,Ke.MEDIA_LOADING,$0.LOADING_DELAY]}attributeChangedCallback(e,t,i){var r,o,l,c,f;e===$0.LOADING_DELAY&&t!==i?this.loadingDelay=Number(i):e===ra.MEDIA_CONTROLLER&&(t&&((o=(r=Dv(this,Zl))==null?void 0:r.unassociateElement)==null||o.call(r,this),Lv(this,Zl,null)),i&&this.isConnected&&(Lv(this,Zl,(l=this.getRootNode())==null?void 0:l.getElementById(i)),(f=(c=Dv(this,Zl))==null?void 0:c.associateElement)==null||f.call(c,this)))}connectedCallback(){var e,t,i;const r=this.getAttribute(ra.MEDIA_CONTROLLER);r&&(Lv(this,Zl,(e=this.getRootNode())==null?void 0:e.getElementById(r)),(i=(t=Dv(this,Zl))==null?void 0:t.associateElement)==null||i.call(t,this))}disconnectedCallback(){var e,t;(t=(e=Dv(this,Zl))==null?void 0:e.unassociateElement)==null||t.call(e,this),Lv(this,Zl,null)}get loadingDelay(){return Dv(this,$_)}set loadingDelay(e){Lv(this,$_,e);const{style:t}=Ir(this.shadowRoot,":host");t.setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return ji(this,Ke.MEDIA_PAUSED)}set mediaPaused(e){Hi(this,Ke.MEDIA_PAUSED,e)}get mediaLoading(){return ji(this,Ke.MEDIA_LOADING)}set mediaLoading(e){Hi(this,Ke.MEDIA_LOADING,e)}get mediaController(){return Da(this,ra.MEDIA_CONTROLLER)}set mediaController(e){La(this,ra.MEDIA_CONTROLLER,e)}get noAutohide(){return ji(this,$0.NO_AUTOHIDE)}set noAutohide(e){Hi(this,$0.NO_AUTOHIDE,e)}}Zl=new WeakMap;$_=new WeakMap;Rx.shadowRootOptions={mode:"open"};Rx.getTemplateHTML=$J;bt.customElements.get("media-loading-indicator")||bt.customElements.define("media-loading-indicator",Rx);const qJ=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,UN=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,jJ=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`;function HJ(n){return`
    <style>
      :host(:not([${Ke.MEDIA_VOLUME_LEVEL}])) slot[name=icon] slot:not([name=high]),
      :host([${Ke.MEDIA_VOLUME_LEVEL}=high]) slot[name=icon] slot:not([name=high]) {
        display: none !important;
      }

      :host([${Ke.MEDIA_VOLUME_LEVEL}=off]) slot[name=icon] slot:not([name=off]) {
        display: none !important;
      }

      :host([${Ke.MEDIA_VOLUME_LEVEL}=low]) slot[name=icon] slot:not([name=low]) {
        display: none !important;
      }

      :host([${Ke.MEDIA_VOLUME_LEVEL}=medium]) slot[name=icon] slot:not([name=medium]) {
        display: none !important;
      }

      :host(:not([${Ke.MEDIA_VOLUME_LEVEL}=off])) slot[name=tooltip-unmute],
      :host([${Ke.MEDIA_VOLUME_LEVEL}=off]) slot[name=tooltip-mute] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="off">${qJ}</slot>
      <slot name="low">${UN}</slot>
      <slot name="medium">${UN}</slot>
      <slot name="high">${jJ}</slot>
    </slot>
  `}function GJ(){return`
    <slot name="tooltip-mute">${Kn("Mute")}</slot>
    <slot name="tooltip-unmute">${Kn("Unmute")}</slot>
  `}const FN=n=>{const e=n.mediaVolumeLevel==="off",t=Kn(e?"unmute":"mute");n.setAttribute("aria-label",t)};class Ix extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_VOLUME_LEVEL]}connectedCallback(){super.connectedCallback(),FN(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_VOLUME_LEVEL&&FN(this)}get mediaVolumeLevel(){return Da(this,Ke.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){La(this,Ke.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?Pn.MEDIA_UNMUTE_REQUEST:Pn.MEDIA_MUTE_REQUEST;this.dispatchEvent(new bt.CustomEvent(e,{composed:!0,bubbles:!0}))}}Ix.getSlotTemplateHTML=HJ;Ix.getTooltipContentHTML=GJ;bt.customElements.get("media-mute-button")||bt.customElements.define("media-mute-button",Ix);const BN=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`;function VJ(n){return`
    <style>
      :host([${Ke.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      :host(:not([${Ke.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${Ke.MEDIA_IS_PIP}]) slot[name=tooltip-enter],
      :host(:not([${Ke.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${BN}</slot>
      <slot name="exit">${BN}</slot>
    </slot>
  `}function KJ(){return`
    <slot name="tooltip-enter">${Kn("Enter picture in picture mode")}</slot>
    <slot name="tooltip-exit">${Kn("Exit picture in picture mode")}</slot>
  `}const zN=n=>{const e=n.mediaIsPip?Kn("exit picture in picture mode"):Kn("enter picture in picture mode");n.setAttribute("aria-label",e)};class kx extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_IS_PIP,Ke.MEDIA_PIP_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),zN(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_IS_PIP&&zN(this)}get mediaPipUnavailable(){return Da(this,Ke.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){La(this,Ke.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return ji(this,Ke.MEDIA_IS_PIP)}set mediaIsPip(e){Hi(this,Ke.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?Pn.MEDIA_EXIT_PIP_REQUEST:Pn.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new bt.CustomEvent(e,{composed:!0,bubbles:!0}))}}kx.getSlotTemplateHTML=VJ;kx.getTooltipContentHTML=KJ;bt.customElements.get("media-pip-button")||bt.customElements.define("media-pip-button",kx);var YJ=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Im=(n,e,t)=>(YJ(n,e,"read from private field"),t?t.call(n):e.get(n)),WJ=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},bd;const f1={RATES:"rates"},_B=[1,1.2,1.5,1.7,2],dg=1;function QJ(n){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
    </style>
    <slot name="icon">${n.mediaplaybackrate||dg}x</slot>
  `}function XJ(){return Kn("Playback rate")}class xx extends Pr{constructor(){var e;super(),WJ(this,bd,new dx(this,f1.RATES,{defaultValue:_B})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:dg}x`}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_PLAYBACK_RATE,f1.RATES]}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),e===f1.RATES&&(Im(this,bd).value=i),e===Ke.MEDIA_PLAYBACK_RATE){const r=i?+i:Number.NaN,o=Number.isNaN(r)?dg:r;this.container.innerHTML=`${o}x`,this.setAttribute("aria-label",Kn("Playback rate {playbackRate}",{playbackRate:o}))}}get rates(){return Im(this,bd)}set rates(e){e?Array.isArray(e)?Im(this,bd).value=e.join(" "):typeof e=="string"&&(Im(this,bd).value=e):Im(this,bd).value=""}get mediaPlaybackRate(){return Ca(this,Ke.MEDIA_PLAYBACK_RATE,dg)}set mediaPlaybackRate(e){nr(this,Ke.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,t;const i=Array.from(Im(this,bd).values(),l=>+l).sort((l,c)=>l-c),r=(t=(e=i.find(l=>l>this.mediaPlaybackRate))!=null?e:i[0])!=null?t:dg,o=new bt.CustomEvent(Pn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:r});this.dispatchEvent(o)}}bd=new WeakMap;xx.getSlotTemplateHTML=QJ;xx.getTooltipContentHTML=XJ;bt.customElements.get("media-playback-rate-button")||bt.customElements.define("media-playback-rate-button",xx);const ZJ=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,JJ=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`;function eee(n){return`
    <style>
      :host([${Ke.MEDIA_PAUSED}]) slot[name=pause],
      :host(:not([${Ke.MEDIA_PAUSED}])) slot[name=play] {
        display: none !important;
      }

      :host([${Ke.MEDIA_PAUSED}]) slot[name=tooltip-pause],
      :host(:not([${Ke.MEDIA_PAUSED}])) slot[name=tooltip-play] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="play">${ZJ}</slot>
      <slot name="pause">${JJ}</slot>
    </slot>
  `}function tee(){return`
    <slot name="tooltip-play">${Kn("Play")}</slot>
    <slot name="tooltip-pause">${Kn("Pause")}</slot>
  `}const $N=n=>{const e=n.mediaPaused?Kn("play"):Kn("pause");n.setAttribute("aria-label",e)};class Cx extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_PAUSED,Ke.MEDIA_ENDED]}connectedCallback(){super.connectedCallback(),$N(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),(e===Ke.MEDIA_PAUSED||e===Ke.MEDIA_LANG)&&$N(this)}get mediaPaused(){return ji(this,Ke.MEDIA_PAUSED)}set mediaPaused(e){Hi(this,Ke.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?Pn.MEDIA_PLAY_REQUEST:Pn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new bt.CustomEvent(e,{composed:!0,bubbles:!0}))}}Cx.getSlotTemplateHTML=eee;Cx.getTooltipContentHTML=tee;bt.customElements.get("media-play-button")||bt.customElements.define("media-play-button",Cx);const $l={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"};function nee(n){return`
    <style>
      :host {
        pointer-events: none;
        display: var(--media-poster-image-display, inline-block);
        box-sizing: border-box;
      }

      img {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        background-repeat: no-repeat;
        background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
        background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, center);
      }
    </style>

    <img part="poster img" aria-hidden="true" id="image"/>
  `}const iee=n=>{n.style.removeProperty("background-image")},aee=(n,e)=>{n.style["background-image"]=`url('${e}')`};class Dx extends bt.HTMLElement{static get observedAttributes(){return[$l.PLACEHOLDER_SRC,$l.SRC]}constructor(){if(super(),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,t,i){e===$l.SRC&&(i==null?this.image.removeAttribute($l.SRC):this.image.setAttribute($l.SRC,i)),e===$l.PLACEHOLDER_SRC&&(i==null?iee(this.image):aee(this.image,i))}get placeholderSrc(){return Da(this,$l.PLACEHOLDER_SRC)}set placeholderSrc(e){La(this,$l.SRC,e)}get src(){return Da(this,$l.SRC)}set src(e){La(this,$l.SRC,e)}}Dx.shadowRootOptions={mode:"open"};Dx.getTemplateHTML=nee;bt.customElements.get("media-poster-image")||bt.customElements.define("media-poster-image",Dx);var TB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},ree=(n,e,t)=>(TB(n,e,"read from private field"),t?t.call(n):e.get(n)),see=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},oee=(n,e,t,i)=>(TB(n,e,"write to private field"),e.set(n,t),t),q_;class lee extends jd{constructor(){super(),see(this,q_,void 0),oee(this,q_,this.shadowRoot.querySelector("slot"))}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_PREVIEW_CHAPTER,Ke.MEDIA_LANG]}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),(e===Ke.MEDIA_PREVIEW_CHAPTER||e===Ke.MEDIA_LANG)&&i!==t&&i!=null)if(ree(this,q_).textContent=i,i!==""){const r=Kn("chapter: {chapterName}",{chapterName:i});this.setAttribute("aria-valuetext",r)}else this.removeAttribute("aria-valuetext")}get mediaPreviewChapter(){return Da(this,Ke.MEDIA_PREVIEW_CHAPTER)}set mediaPreviewChapter(e){La(this,Ke.MEDIA_PREVIEW_CHAPTER,e)}}q_=new WeakMap;bt.customElements.get("media-preview-chapter-display")||bt.customElements.define("media-preview-chapter-display",lee);var SB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},q0=(n,e,t)=>(SB(n,e,"read from private field"),t?t.call(n):e.get(n)),uee=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},j0=(n,e,t,i)=>(SB(n,e,"write to private field"),e.set(n,t),t),Jl;function cee(n){return`
    <style>
      :host {
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
        overflow: hidden;
      }

      img {
        display: none;
        position: relative;
      }
    </style>
    <img crossorigin loading="eager" decoding="async">
  `}class oA extends bt.HTMLElement{constructor(){if(super(),uee(this,Jl,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ra.MEDIA_CONTROLLER,Ke.MEDIA_PREVIEW_IMAGE,Ke.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,t,i;const r=this.getAttribute(ra.MEDIA_CONTROLLER);r&&(j0(this,Jl,(e=this.getRootNode())==null?void 0:e.getElementById(r)),(i=(t=q0(this,Jl))==null?void 0:t.associateElement)==null||i.call(t,this))}disconnectedCallback(){var e,t;(t=(e=q0(this,Jl))==null?void 0:e.unassociateElement)==null||t.call(e,this),j0(this,Jl,null)}attributeChangedCallback(e,t,i){var r,o,l,c,f;[Ke.MEDIA_PREVIEW_IMAGE,Ke.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===ra.MEDIA_CONTROLLER&&(t&&((o=(r=q0(this,Jl))==null?void 0:r.unassociateElement)==null||o.call(r,this),j0(this,Jl,null)),i&&this.isConnected&&(j0(this,Jl,(l=this.getRootNode())==null?void 0:l.getElementById(i)),(f=(c=q0(this,Jl))==null?void 0:c.associateElement)==null||f.call(c,this)))}get mediaPreviewImage(){return Da(this,Ke.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){La(this,Ke.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(Ke.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(t=>+t)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(Ke.MEDIA_PREVIEW_COORDS);return}this.setAttribute(Ke.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,t=this.mediaPreviewImage;if(!(e&&t))return;const[i,r,o,l]=e,c=t.split("#")[0],f=getComputedStyle(this),{maxWidth:h,maxHeight:g,minWidth:m,minHeight:p}=f,y=Math.min(parseInt(h)/o,parseInt(g)/l),E=Math.max(parseInt(m)/o,parseInt(p)/l),A=y<1,w=A?y:E>1?E:1,{style:M}=Ir(this.shadowRoot,":host"),x=Ir(this.shadowRoot,"img").style,C=this.shadowRoot.querySelector("img"),O=A?"min":"max";M.setProperty(`${O}-width`,"initial","important"),M.setProperty(`${O}-height`,"initial","important"),M.width=`${o*w}px`,M.height=`${l*w}px`;const z=()=>{x.width=`${this.imgWidth*w}px`,x.height=`${this.imgHeight*w}px`,x.display="block"};C.src!==c&&(C.onload=()=>{this.imgWidth=C.naturalWidth,this.imgHeight=C.naturalHeight,z()},C.src=c,z()),z(),x.transform=`translate(-${i*w}px, -${r*w}px)`}}Jl=new WeakMap;oA.shadowRootOptions={mode:"open"};oA.getTemplateHTML=cee;bt.customElements.get("media-preview-thumbnail")||bt.customElements.define("media-preview-thumbnail",oA);var qN=oA,AB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},jN=(n,e,t)=>(AB(n,e,"read from private field"),t?t.call(n):e.get(n)),dee=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},fee=(n,e,t,i)=>(AB(n,e,"write to private field"),e.set(n,t),t),iy;class hee extends jd{constructor(){super(),dee(this,iy,void 0),fee(this,iy,this.shadowRoot.querySelector("slot")),jN(this,iy).textContent=Ud(0)}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_PREVIEW_TIME&&i!=null&&(jN(this,iy).textContent=Ud(parseFloat(i)))}get mediaPreviewTime(){return Ca(this,Ke.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){nr(this,Ke.MEDIA_PREVIEW_TIME,e)}}iy=new WeakMap;bt.customElements.get("media-preview-time-display")||bt.customElements.define("media-preview-time-display",hee);const km={SEEK_OFFSET:"seekoffset"},h1=30,mee=n=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(2.18 19.87)">${n}</text>
    <path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/>
  </svg>`;function gee(n,e){return`
    <slot name="icon">${mee(e.seekOffset)}</slot>
  `}function pee(){return Kn("Seek backward")}const vee=0;class Lx extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_CURRENT_TIME,km.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Ca(this,km.SEEK_OFFSET,h1)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===km.SEEK_OFFSET&&(this.seekOffset=Ca(this,km.SEEK_OFFSET,h1))}get seekOffset(){return Ca(this,km.SEEK_OFFSET,h1)}set seekOffset(e){nr(this,km.SEEK_OFFSET,e),this.setAttribute("aria-label",Kn("seek back {seekOffset} seconds",{seekOffset:this.seekOffset})),CF(DF(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Ca(this,Ke.MEDIA_CURRENT_TIME,vee)}set mediaCurrentTime(e){nr(this,Ke.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),t=new bt.CustomEvent(Pn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(t)}}Lx.getSlotTemplateHTML=gee;Lx.getTooltipContentHTML=pee;bt.customElements.get("media-seek-backward-button")||bt.customElements.define("media-seek-backward-button",Lx);const xm={SEEK_OFFSET:"seekoffset"},m1=30,yee=n=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(8.9 19.87)">${n}</text>
    <path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/>
  </svg>`;function Eee(n,e){return`
    <slot name="icon">${yee(e.seekOffset)}</slot>
  `}function bee(){return Kn("Seek forward")}const _ee=0;class Mx extends Pr{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_CURRENT_TIME,xm.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Ca(this,xm.SEEK_OFFSET,m1)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===xm.SEEK_OFFSET&&(this.seekOffset=Ca(this,xm.SEEK_OFFSET,m1))}get seekOffset(){return Ca(this,xm.SEEK_OFFSET,m1)}set seekOffset(e){nr(this,xm.SEEK_OFFSET,e),this.setAttribute("aria-label",Kn("seek forward {seekOffset} seconds",{seekOffset:this.seekOffset})),CF(DF(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Ca(this,Ke.MEDIA_CURRENT_TIME,_ee)}set mediaCurrentTime(e){nr(this,Ke.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,t=new bt.CustomEvent(Pn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(t)}}Mx.getSlotTemplateHTML=Eee;Mx.getTooltipContentHTML=bee;bt.customElements.get("media-seek-forward-button")||bt.customElements.define("media-seek-forward-button",Mx);var wB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},g1=(n,e,t)=>(wB(n,e,"read from private field"),t?t.call(n):e.get(n)),Tee=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},See=(n,e,t,i)=>(wB(n,e,"write to private field"),e.set(n,t),t),Hm;const Lf={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},HN=[...Object.values(Lf),Ke.MEDIA_CURRENT_TIME,Ke.MEDIA_DURATION,Ke.MEDIA_SEEKABLE],GN=["Enter"," "],Aee="&nbsp;/&nbsp;",mI=(n,{timesSep:e=Aee}={})=>{var t,i;const r=(t=n.mediaCurrentTime)!=null?t:0,[,o]=(i=n.mediaSeekable)!=null?i:[];let l=0;Number.isFinite(n.mediaDuration)?l=n.mediaDuration:Number.isFinite(o)&&(l=o);const c=n.remaining?Ud(0-(l-r)):Ud(r);return n.showDuration?`${c}${e}${Ud(l)}`:c},wee="video not loaded, unknown time.",Ree=n=>{var e;const t=n.mediaCurrentTime,[,i]=(e=n.mediaSeekable)!=null?e:[];let r=null;if(Number.isFinite(n.mediaDuration)?r=n.mediaDuration:Number.isFinite(i)&&(r=i),t==null||r===null){n.setAttribute("aria-valuetext",wee);return}const o=n.remaining?Sy(0-(r-t)):Sy(t);if(!n.showDuration){n.setAttribute("aria-valuetext",o);return}const l=Sy(r),c=`${o} of ${l}`;n.setAttribute("aria-valuetext",c)};function Iee(n,e){return`
    <slot>${mI(e)}</slot>
  `}class RB extends jd{constructor(){super(),Tee(this,Hm,void 0),See(this,Hm,this.shadowRoot.querySelector("slot")),g1(this,Hm).innerHTML=`${mI(this)}`}static get observedAttributes(){return[...super.observedAttributes,...HN,"disabled"]}connectedCallback(){const{style:e}=Ir(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","var(--media-cursor, pointer)"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))"),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",Kn("playback time"));const t=i=>{const{key:r}=i;if(!GN.includes(r)){this.removeEventListener("keyup",t);return}this.toggleTimeDisplay()};this.addEventListener("keydown",i=>{const{metaKey:r,altKey:o,key:l}=i;if(r||o||!GN.includes(l)){this.removeEventListener("keyup",t);return}this.addEventListener("keyup",t)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,t,i){HN.includes(e)?this.update():e==="disabled"&&i!==t&&(i==null?this.enable():this.disable()),super.attributeChangedCallback(e,t,i)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return ji(this,Lf.REMAINING)}set remaining(e){Hi(this,Lf.REMAINING,e)}get showDuration(){return ji(this,Lf.SHOW_DURATION)}set showDuration(e){Hi(this,Lf.SHOW_DURATION,e)}get noToggle(){return ji(this,Lf.NO_TOGGLE)}set noToggle(e){Hi(this,Lf.NO_TOGGLE,e)}get mediaDuration(){return Ca(this,Ke.MEDIA_DURATION)}set mediaDuration(e){nr(this,Ke.MEDIA_DURATION,e)}get mediaCurrentTime(){return Ca(this,Ke.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){nr(this,Ke.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(Ke.MEDIA_SEEKABLE);if(e)return e.split(":").map(t=>+t)}set mediaSeekable(e){if(e==null){this.removeAttribute(Ke.MEDIA_SEEKABLE);return}this.setAttribute(Ke.MEDIA_SEEKABLE,e.join(":"))}update(){const e=mI(this);Ree(this),e!==g1(this,Hm).innerHTML&&(g1(this,Hm).innerHTML=e)}}Hm=new WeakMap;RB.getSlotTemplateHTML=Iee;bt.customElements.get("media-time-display")||bt.customElements.define("media-time-display",RB);var IB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Lr=(n,e,t)=>(IB(n,e,"read from private field"),e.get(n)),ql=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Gs=(n,e,t,i)=>(IB(n,e,"write to private field"),e.set(n,t),t),kee=(n,e,t,i)=>({set _(r){Gs(n,e,r)},get _(){return Lr(n,e)}}),Gm,j_,Vm,ay,H_,G_,V_,Km,Mf,K_;class xee{constructor(e,t,i){ql(this,Gm,void 0),ql(this,j_,void 0),ql(this,Vm,void 0),ql(this,ay,void 0),ql(this,H_,void 0),ql(this,G_,void 0),ql(this,V_,void 0),ql(this,Km,void 0),ql(this,Mf,0),ql(this,K_,(r=performance.now())=>{Gs(this,Mf,requestAnimationFrame(Lr(this,K_))),Gs(this,ay,performance.now()-Lr(this,Vm));const o=1e3/this.fps;if(Lr(this,ay)>o){Gs(this,Vm,r-Lr(this,ay)%o);const l=1e3/((r-Lr(this,j_))/++kee(this,H_)._),c=(r-Lr(this,G_))/1e3/this.duration;let f=Lr(this,V_)+c*this.playbackRate;f-Lr(this,Gm).valueAsNumber>0?Gs(this,Km,this.playbackRate/this.duration/l):(Gs(this,Km,.995*Lr(this,Km)),f=Lr(this,Gm).valueAsNumber+Lr(this,Km)),this.callback(f)}}),Gs(this,Gm,e),this.callback=t,this.fps=i}start(){Lr(this,Mf)===0&&(Gs(this,Vm,performance.now()),Gs(this,j_,Lr(this,Vm)),Gs(this,H_,0),Lr(this,K_).call(this))}stop(){Lr(this,Mf)!==0&&(cancelAnimationFrame(Lr(this,Mf)),Gs(this,Mf,0))}update({start:e,duration:t,playbackRate:i}){const r=e-Lr(this,Gm).valueAsNumber,o=Math.abs(t-this.duration);(r>0||r<-.03||o>=.5)&&this.callback(e),Gs(this,V_,e),Gs(this,G_,performance.now()),this.duration=t,this.playbackRate=i}}Gm=new WeakMap;j_=new WeakMap;Vm=new WeakMap;ay=new WeakMap;H_=new WeakMap;G_=new WeakMap;V_=new WeakMap;Km=new WeakMap;Mf=new WeakMap;K_=new WeakMap;var Nx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},ar=(n,e,t)=>(Nx(n,e,"read from private field"),t?t.call(n):e.get(n)),_r=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},To=(n,e,t,i)=>(Nx(n,e,"write to private field"),e.set(n,t),t),ss=(n,e,t)=>(Nx(n,e,"access private method"),t),Ym,Jf,oS,Ry,lS,Y_,Wy,Qy,Wm,Qm,Xm,ry,Ox,kB,gI,uS,Px,cS,Ux,dS,Fx,pI,xB,Xy,fS,vI,CB;const Cee="video not loaded, unknown time.",Dee=n=>{const e=n.range,t=Sy(+DB(n)),i=Sy(+n.mediaSeekableEnd),r=t&&i?`${t} of ${i}`:Cee;e.setAttribute("aria-valuetext",r)};function Lee(n){return`
    <style>
      :host {
        --media-box-border-radius: 4px;
        --media-box-padding-left: 10px;
        --media-box-padding-right: 10px;
        --media-preview-border-radius: var(--media-box-border-radius);
        --media-box-arrow-offset: var(--media-box-border-radius);
        --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        --_preview-background: var(--media-preview-background, var(--_control-background));

        
        contain: layout;
      }

      #buffered {
        background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #preview-rail,
      #current-rail {
        width: 100%;
        position: absolute;
        left: 0;
        bottom: 100%;
        pointer-events: none;
        will-change: transform;
      }

      [part~="box"] {
        width: min-content;
        
        position: absolute;
        bottom: 100%;
        flex-direction: column;
        align-items: center;
        transform: translateX(-50%);
      }

      [part~="current-box"] {
        display: var(--media-current-box-display, var(--media-box-display, flex));
        margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));
        visibility: hidden;
      }

      [part~="preview-box"] {
        display: var(--media-preview-box-display, var(--media-box-display, flex));
        margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));
        transition-property: var(--media-preview-transition-property, visibility, opacity);
        transition-duration: var(--media-preview-transition-duration-out, .25s);
        transition-delay: var(--media-preview-transition-delay-out, 0s);
        visibility: hidden;
        opacity: 0;
      }

      :host(:is([${Ke.MEDIA_PREVIEW_IMAGE}], [${Ke.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }

      @media (hover: hover) {
        :host(:is([${Ke.MEDIA_PREVIEW_IMAGE}], [${Ke.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
          transition-duration: var(--media-preview-transition-duration-in, .5s);
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
          opacity: 1;
        }
      }

      media-preview-thumbnail,
      ::slotted(media-preview-thumbnail) {
        visibility: hidden;
        
        transition: visibility 0s .25s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-thumbnail-background, var(--_preview-background));
        box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
        max-width: var(--media-preview-thumbnail-max-width, 180px);
        max-height: var(--media-preview-thumbnail-max-height, 160px);
        min-width: var(--media-preview-thumbnail-min-width, 120px);
        min-height: var(--media-preview-thumbnail-min-height, 80px);
        border: var(--media-preview-thumbnail-border);
        border-radius: var(--media-preview-thumbnail-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
      }

      :host([${Ke.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
      :host([${Ke.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      @media (hover: hover) {
        :host([${Ke.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
        :host([${Ke.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
        }

        :host([${Ke.MEDIA_PREVIEW_TIME}]:hover) {
          --media-time-range-hover-display: block;
        }
      }

      media-preview-chapter-display,
      ::slotted(media-preview-chapter-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        visibility: hidden;
        
        transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-chapter-background, var(--_preview-background));
        border-radius: var(--media-preview-chapter-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-chapter-padding, 3.5px 9px);
        margin: var(--media-preview-chapter-margin, 0 0 5px);
        text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));
      }

      :host([${Ke.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,
      :host([${Ke.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-chapter-border-radius, 0);
        padding: var(--media-preview-chapter-padding, 3.5px 9px 0);
        margin: var(--media-preview-chapter-margin, 0);
        min-width: 100%;
      }

      media-preview-chapter-display[${Ke.MEDIA_PREVIEW_CHAPTER}],
      ::slotted(media-preview-chapter-display[${Ke.MEDIA_PREVIEW_CHAPTER}]) {
        visibility: visible;
      }

      media-preview-chapter-display:not([aria-valuetext]),
      ::slotted(media-preview-chapter-display:not([aria-valuetext])) {
        display: none;
      }

      media-preview-time-display,
      ::slotted(media-preview-time-display),
      media-time-display,
      ::slotted(media-time-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        
        transition: min-width 0s, border-radius 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-time-background, var(--_preview-background));
        border-radius: var(--media-preview-time-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-time-padding, 3.5px 9px);
        margin: var(--media-preview-time-margin, 0);
        text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50%)
        ));
      }

      :host([${Ke.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
      :host([${Ke.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-time-border-radius,
          0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
        min-width: 100%;
      }

      :host([${Ke.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }

      [part~="arrow"],
      ::slotted([part~="arrow"]) {
        display: var(--media-box-arrow-display, inline-block);
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))
        ));
        
        border-color: transparent;
        border-top-color: var(--media-box-arrow-background, var(--_control-background));
        border-width: var(--media-box-arrow-border-width,
          var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);
        border-style: solid;
        justify-content: center;
        height: 0;
      }
    </style>
    <div id="preview-rail">
      <slot name="preview" part="box preview-box">
        <media-preview-thumbnail>
          <template shadowrootmode="${qN.shadowRootOptions.mode}">
            ${qN.getTemplateHTML({})}
          </template>
        </media-preview-thumbnail>
        <media-preview-chapter-display></media-preview-chapter-display>
        <media-preview-time-display></media-preview-time-display>
        <slot name="preview-arrow"><div part="arrow"></div></slot>
      </slot>
    </div>
    <div id="current-rail">
      <slot name="current" part="box current-box">
        
      </slot>
    </div>
  `}const H0=(n,e=n.mediaCurrentTime)=>{const t=Number.isFinite(n.mediaSeekableStart)?n.mediaSeekableStart:0,i=Number.isFinite(n.mediaDuration)?n.mediaDuration:n.mediaSeekableEnd;if(Number.isNaN(i))return 0;const r=(e-t)/(i-t);return Math.max(0,Math.min(r,1))},DB=(n,e=n.range.valueAsNumber)=>{const t=Number.isFinite(n.mediaSeekableStart)?n.mediaSeekableStart:0,i=Number.isFinite(n.mediaDuration)?n.mediaDuration:n.mediaSeekableEnd;return Number.isNaN(i)?0:e*(i-t)+t};class Bx extends Yg{constructor(){super(),_r(this,Xm),_r(this,Ox),_r(this,uS),_r(this,cS),_r(this,dS),_r(this,pI),_r(this,Xy),_r(this,vI),_r(this,Ym,void 0),_r(this,Jf,void 0),_r(this,oS,void 0),_r(this,Ry,void 0),_r(this,lS,void 0),_r(this,Y_,void 0),_r(this,Wy,void 0),_r(this,Qy,void 0),_r(this,Wm,void 0),_r(this,Qm,void 0),_r(this,gI,i=>{this.dragging||(rx(i)&&(this.range.valueAsNumber=i),ar(this,Qm)||this.updateBar())}),this.shadowRoot.querySelector("#track").insertAdjacentHTML("afterbegin",'<div id="buffered" part="buffered"></div>'),To(this,oS,this.shadowRoot.querySelectorAll('[part~="box"]')),To(this,lS,this.shadowRoot.querySelector('[part~="preview-box"]')),To(this,Y_,this.shadowRoot.querySelector('[part~="current-box"]'));const t=getComputedStyle(this);To(this,Wy,parseInt(t.getPropertyValue("--media-box-padding-left"))),To(this,Qy,parseInt(t.getPropertyValue("--media-box-padding-right"))),To(this,Jf,new xee(this.range,ar(this,gI),60))}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_PAUSED,Ke.MEDIA_DURATION,Ke.MEDIA_SEEKABLE,Ke.MEDIA_CURRENT_TIME,Ke.MEDIA_PREVIEW_IMAGE,Ke.MEDIA_PREVIEW_TIME,Ke.MEDIA_PREVIEW_CHAPTER,Ke.MEDIA_BUFFERED,Ke.MEDIA_PLAYBACK_RATE,Ke.MEDIA_LOADING,Ke.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",Kn("seek")),ss(this,Xm,ry).call(this),To(this,Ym,this.getRootNode()),(e=ar(this,Ym))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),ss(this,Xm,ry).call(this),(e=ar(this,Ym))==null||e.removeEventListener("transitionstart",this),To(this,Ym,null)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),t!=i&&(e===Ke.MEDIA_CURRENT_TIME||e===Ke.MEDIA_PAUSED||e===Ke.MEDIA_ENDED||e===Ke.MEDIA_LOADING||e===Ke.MEDIA_DURATION||e===Ke.MEDIA_SEEKABLE?(ar(this,Jf).update({start:H0(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),ss(this,Xm,ry).call(this),Dee(this)):e===Ke.MEDIA_BUFFERED&&this.updateBufferedBar(),(e===Ke.MEDIA_DURATION||e===Ke.MEDIA_SEEKABLE)&&(this.mediaChaptersCues=ar(this,Wm),this.updateBar()))}get mediaChaptersCues(){return ar(this,Wm)}set mediaChaptersCues(e){var t;To(this,Wm,e),this.updateSegments((t=ar(this,Wm))==null?void 0:t.map(i=>({start:H0(this,i.startTime),end:H0(this,i.endTime)})))}get mediaPaused(){return ji(this,Ke.MEDIA_PAUSED)}set mediaPaused(e){Hi(this,Ke.MEDIA_PAUSED,e)}get mediaLoading(){return ji(this,Ke.MEDIA_LOADING)}set mediaLoading(e){Hi(this,Ke.MEDIA_LOADING,e)}get mediaDuration(){return Ca(this,Ke.MEDIA_DURATION)}set mediaDuration(e){nr(this,Ke.MEDIA_DURATION,e)}get mediaCurrentTime(){return Ca(this,Ke.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){nr(this,Ke.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return Ca(this,Ke.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){nr(this,Ke.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(Ke.MEDIA_BUFFERED);return e?e.split(" ").map(t=>t.split(":").map(i=>+i)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(Ke.MEDIA_BUFFERED);return}const t=e.map(i=>i.join(":")).join(" ");this.setAttribute(Ke.MEDIA_BUFFERED,t)}get mediaSeekable(){const e=this.getAttribute(Ke.MEDIA_SEEKABLE);if(e)return e.split(":").map(t=>+t)}set mediaSeekable(e){if(e==null){this.removeAttribute(Ke.MEDIA_SEEKABLE);return}this.setAttribute(Ke.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;const[,t=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return t}get mediaSeekableStart(){var e;const[t=0]=(e=this.mediaSeekable)!=null?e:[];return t}get mediaPreviewImage(){return Da(this,Ke.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){La(this,Ke.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return Ca(this,Ke.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){nr(this,Ke.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return ji(this,Ke.MEDIA_ENDED)}set mediaEnded(e){Hi(this,Ke.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;const t=this.mediaBuffered;if(!t.length)return;let i;if(this.mediaEnded)i=1;else{const o=this.mediaCurrentTime,[,l=this.mediaSeekableStart]=(e=t.find(([c,f])=>c<=o&&o<=f))!=null?e:[];i=H0(this,l)}const{style:r}=Ir(this.shadowRoot,"#buffered");r.setProperty("width",`${i*100}%`)}updateCurrentBox(){if(!this.shadowRoot.querySelector('slot[name="current"]').assignedElements().length)return;const t=Ir(this.shadowRoot,"#current-rail"),i=Ir(this.shadowRoot,'[part~="current-box"]'),r=ss(this,uS,Px).call(this,ar(this,Y_)),o=ss(this,cS,Ux).call(this,r,this.range.valueAsNumber),l=ss(this,dS,Fx).call(this,r,this.range.valueAsNumber);t.style.transform=`translateX(${o})`,t.style.setProperty("--_range-width",`${r.range.width}`),i.style.setProperty("--_box-shift",`${l}`),i.style.setProperty("--_box-width",`${r.box.width}px`),i.style.setProperty("visibility","initial")}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":ss(this,vI,CB).call(this);break;case"pointermove":ss(this,pI,xB).call(this,e);break;case"pointerup":ar(this,Qm)&&To(this,Qm,!1);break;case"pointerdown":To(this,Qm,!0);break;case"pointerleave":ss(this,Xy,fS).call(this,null);break;case"transitionstart":vc(e.target,this)&&setTimeout(()=>ss(this,Xm,ry).call(this),0);break}}}Ym=new WeakMap;Jf=new WeakMap;oS=new WeakMap;Ry=new WeakMap;lS=new WeakMap;Y_=new WeakMap;Wy=new WeakMap;Qy=new WeakMap;Wm=new WeakMap;Qm=new WeakMap;Xm=new WeakSet;ry=function(){ss(this,Ox,kB).call(this)?ar(this,Jf).start():ar(this,Jf).stop()};Ox=new WeakSet;kB=function(){return this.isConnected&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded&&this.mediaSeekableEnd>0&&LF(this)};gI=new WeakMap;uS=new WeakSet;Px=function(n){var e;const i=((e=this.getAttribute("bounds")?Vg(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?e:this).getBoundingClientRect(),r=this.range.getBoundingClientRect(),o=n.offsetWidth,l=-(r.left-i.left-o/2),c=i.right-r.left-o/2;return{box:{width:o,min:l,max:c},bounds:i,range:r}};cS=new WeakSet;Ux=function(n,e){let t=`${e*100}%`;const{width:i,min:r,max:o}=n.box;if(!i)return t;if(Number.isNaN(r)||(t=`max(${`calc(1 / var(--_range-width) * 100 * ${r}% + var(--media-box-padding-left))`}, ${t})`),!Number.isNaN(o)){const c=`calc(1 / var(--_range-width) * 100 * ${o}% - var(--media-box-padding-right))`;t=`min(${t}, ${c})`}return t};dS=new WeakSet;Fx=function(n,e){const{width:t,min:i,max:r}=n.box,o=e*n.range.width;if(o<i+ar(this,Wy)){const l=n.range.left-n.bounds.left-ar(this,Wy);return`${o-t/2+l}px`}if(o>r-ar(this,Qy)){const l=n.bounds.right-n.range.right-ar(this,Qy);return`${o+t/2-l-n.range.width}px`}return 0};pI=new WeakSet;xB=function(n){const e=[...ar(this,oS)].some(g=>n.composedPath().includes(g));if(!this.dragging&&(e||!n.composedPath().includes(this))){ss(this,Xy,fS).call(this,null);return}const t=this.mediaSeekableEnd;if(!t)return;const i=Ir(this.shadowRoot,"#preview-rail"),r=Ir(this.shadowRoot,'[part~="preview-box"]'),o=ss(this,uS,Px).call(this,ar(this,lS));let l=(n.clientX-o.range.left)/o.range.width;l=Math.max(0,Math.min(1,l));const c=ss(this,cS,Ux).call(this,o,l),f=ss(this,dS,Fx).call(this,o,l);i.style.transform=`translateX(${c})`,i.style.setProperty("--_range-width",`${o.range.width}`),r.style.setProperty("--_box-shift",`${f}`),r.style.setProperty("--_box-width",`${o.box.width}px`);const h=Math.round(ar(this,Ry))-Math.round(l*t);Math.abs(h)<1&&l>.01&&l<.99||(To(this,Ry,l*t),ss(this,Xy,fS).call(this,ar(this,Ry)))};Xy=new WeakSet;fS=function(n){this.dispatchEvent(new bt.CustomEvent(Pn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:n}))};vI=new WeakSet;CB=function(){ar(this,Jf).stop();const n=DB(this);this.dispatchEvent(new bt.CustomEvent(Pn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:n}))};Bx.shadowRootOptions={mode:"open"};Bx.getContainerTemplateHTML=Lee;bt.customElements.get("media-time-range")||bt.customElements.define("media-time-range",Bx);const Mee=1,Nee=n=>n.mediaMuted?0:n.mediaVolume,Oee=n=>`${Math.round(n*100)}%`;class Pee extends Yg{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_VOLUME,Ke.MEDIA_MUTED,Ke.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{const e=this.range.value,t=new bt.CustomEvent(Pn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(t)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",Kn("volume"))}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),(e===Ke.MEDIA_VOLUME||e===Ke.MEDIA_MUTED)&&(this.range.valueAsNumber=Nee(this),this.range.setAttribute("aria-valuetext",Oee(this.range.valueAsNumber)),this.updateBar())}get mediaVolume(){return Ca(this,Ke.MEDIA_VOLUME,Mee)}set mediaVolume(e){nr(this,Ke.MEDIA_VOLUME,e)}get mediaMuted(){return ji(this,Ke.MEDIA_MUTED)}set mediaMuted(e){Hi(this,Ke.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return Da(this,Ke.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){La(this,Ke.MEDIA_VOLUME_UNAVAILABLE,e)}}bt.customElements.get("media-volume-range")||bt.customElements.define("media-volume-range",Pee);function Uee(n){return`
      <style>
        :host {
          min-width: 4ch;
          padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
          width: 100%;
          display: grid;
          grid-template-columns: 1fr auto;
          gap: 1rem;
          font-weight: var(--media-button-font-weight, normal);
        }

        #checked-indicator {
          display: none;
        }

        :host([${Ke.MEDIA_LOOP}]) #checked-indicator {
          display: block;
        }
      </style>
      
      <span id="icon">
     </span>

      <div id="checked-indicator">
        <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
          <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
        </svg>
      </div>
    `}function Fee(){return Kn("Loop")}class zx extends Pr{constructor(){super(...arguments),this.container=null}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_LOOP]}connectedCallback(){var e;super.connectedCallback(),this.container=((e=this.shadowRoot)==null?void 0:e.querySelector("#icon"))||null,this.container&&(this.container.textContent=Kn("Loop"))}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_LOOP&&this.container&&this.setAttribute("aria-checked",this.mediaLoop?"true":"false")}get mediaLoop(){return ji(this,Ke.MEDIA_LOOP)}set mediaLoop(e){Hi(this,Ke.MEDIA_LOOP,e)}handleClick(){const e=!this.mediaLoop,t=new bt.CustomEvent(Pn.MEDIA_LOOP_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(t)}}zx.getSlotTemplateHTML=Uee;zx.getTooltipContentHTML=Fee;bt.customElements.get("media-loop-button")||bt.customElements.define("media-loop-button",zx);var LB=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Li=(n,e,t)=>(LB(n,e,"read from private field"),t?t.call(n):e.get(n)),ou=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},ac=(n,e,t,i)=>(LB(n,e,"write to private field"),e.set(n,t),t),Zm,W_,Nf,sy,_d,Td,Sd,Of,Jm,Q_,sl;const VN=1,KN=0,Bee=1,zee={processCallback(n,e,t){if(t){for(const[i,r]of e)if(i in t){const o=t[i];typeof o=="boolean"&&r instanceof yl&&typeof r.element[r.attributeName]=="boolean"?r.booleanValue=o:typeof o=="function"&&r instanceof yl?r.element[r.attributeName]=o:r.value=o}}}};class lA extends bt.DocumentFragment{constructor(e,t,i=zee){var r;super(),ou(this,Zm,void 0),ou(this,W_,void 0),this.append(e.content.cloneNode(!0)),ac(this,Zm,MB(this)),ac(this,W_,i),(r=i.createCallback)==null||r.call(i,this,Li(this,Zm),t),i.processCallback(this,Li(this,Zm),t)}update(e){Li(this,W_).processCallback(this,Li(this,Zm),e)}}Zm=new WeakMap;W_=new WeakMap;const MB=(n,e=[])=>{let t,i;for(const r of n.attributes||[])if(r.value.includes("{{")){const o=new qee;for([t,i]of WN(r.value))if(!t)o.append(i);else{const l=new yl(n,r.name,r.namespaceURI);o.append(l),e.push([i,l])}r.value=o.toString()}for(const r of n.childNodes)if(r.nodeType===VN&&!(r instanceof HTMLTemplateElement))MB(r,e);else{const o=r.data;if(r.nodeType===VN||o.includes("{{")){const l=[];if(o)for([t,i]of WN(o))if(!t)l.push(new Text(i));else{const c=new Wg(n);l.push(c),e.push([i,c])}else if(r instanceof HTMLTemplateElement){const c=new PB(n,r);l.push(c),e.push([c.expression,c])}r.replaceWith(...l.flatMap(c=>c.replacementNodes||[c]))}}return e},YN={},WN=n=>{let e="",t=0,i=YN[n],r=0,o;if(i)return i;for(i=[];o=n[r];r++)o==="{"&&n[r+1]==="{"&&n[r-1]!=="\\"&&n[r+2]&&++t==1?(e&&i.push([KN,e]),e="",r++):o==="}"&&n[r+1]==="}"&&n[r-1]!=="\\"&&!--t?(i.push([Bee,e.trim()]),e="",r++):e+=o||"";return e&&i.push([KN,(t>0?"{{":"")+e]),YN[n]=i},$ee=11;class NB{get value(){return""}set value(e){}toString(){return this.value}}const OB=new WeakMap;class qee{constructor(){ou(this,Nf,[])}[Symbol.iterator](){return Li(this,Nf).values()}get length(){return Li(this,Nf).length}item(e){return Li(this,Nf)[e]}append(...e){for(const t of e)t instanceof yl&&OB.set(t,this),Li(this,Nf).push(t)}toString(){return Li(this,Nf).join("")}}Nf=new WeakMap;class yl extends NB{constructor(e,t,i){super(),ou(this,Of),ou(this,sy,""),ou(this,_d,void 0),ou(this,Td,void 0),ou(this,Sd,void 0),ac(this,_d,e),ac(this,Td,t),ac(this,Sd,i)}get attributeName(){return Li(this,Td)}get attributeNamespace(){return Li(this,Sd)}get element(){return Li(this,_d)}get value(){return Li(this,sy)}set value(e){Li(this,sy)!==e&&(ac(this,sy,e),!Li(this,Of,Jm)||Li(this,Of,Jm).length===1?e==null?Li(this,_d).removeAttributeNS(Li(this,Sd),Li(this,Td)):Li(this,_d).setAttributeNS(Li(this,Sd),Li(this,Td),e):Li(this,_d).setAttributeNS(Li(this,Sd),Li(this,Td),Li(this,Of,Jm).toString()))}get booleanValue(){return Li(this,_d).hasAttributeNS(Li(this,Sd),Li(this,Td))}set booleanValue(e){if(!Li(this,Of,Jm)||Li(this,Of,Jm).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}sy=new WeakMap;_d=new WeakMap;Td=new WeakMap;Sd=new WeakMap;Of=new WeakSet;Jm=function(){return OB.get(this)};class Wg extends NB{constructor(e,t){super(),ou(this,Q_,void 0),ou(this,sl,void 0),ac(this,Q_,e),ac(this,sl,t?[...t]:[new Text])}get replacementNodes(){return Li(this,sl)}get parentNode(){return Li(this,Q_)}get nextSibling(){return Li(this,sl)[Li(this,sl).length-1].nextSibling}get previousSibling(){return Li(this,sl)[0].previousSibling}get value(){return Li(this,sl).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const t=e.flat().flatMap(i=>i==null?[new Text]:i.forEach?[...i]:i.nodeType===$ee?[...i.childNodes]:i.nodeType?[i]:[new Text(i)]);t.length||t.push(new Text),ac(this,sl,jee(Li(this,sl)[0].parentNode,Li(this,sl),t,this.nextSibling))}}Q_=new WeakMap;sl=new WeakMap;class PB extends Wg{constructor(e,t){const i=t.getAttribute("directive")||t.getAttribute("type");let r=t.getAttribute("expression")||t.getAttribute(i)||"";r.startsWith("{{")&&(r=r.trim().slice(2,-2).trim()),super(e),this.expression=r,this.template=t,this.directive=i}}function jee(n,e,t,i=null){let r=0,o,l,c,f=t.length,h=e.length;for(;r<f&&r<h&&e[r]==t[r];)r++;for(;r<f&&r<h&&t[f-1]==e[h-1];)i=t[--h,--f];if(r==h)for(;r<f;)n.insertBefore(t[r++],i);if(r==f)for(;r<h;)n.removeChild(e[r++]);else{for(o=e[r];r<f;)c=t[r++],l=o?o.nextSibling:i,o==c?o=l:r<f&&t[r]==l?(n.replaceChild(c,o),o=l):n.insertBefore(c,o);for(;o!=i;)l=o.nextSibling,n.removeChild(o),o=l}return t}const QN={string:n=>String(n)};class UB{constructor(e){this.template=e,this.state=void 0}}const Gf=new WeakMap,Vf=new WeakMap,yI={partial:(n,e)=>{e[n.expression]=new UB(n.template)},if:(n,e)=>{var t;if(FB(n.expression,e))if(Gf.get(n)!==n.template){Gf.set(n,n.template);const i=new lA(n.template,e,$x);n.replace(i),Vf.set(n,i)}else(t=Vf.get(n))==null||t.update(e);else n.replace(""),Gf.delete(n),Vf.delete(n)}},Hee=Object.keys(yI),$x={processCallback(n,e,t){var i,r;if(t)for(const[o,l]of e){if(l instanceof PB){if(!l.directive){const f=Hee.find(h=>l.template.hasAttribute(h));f&&(l.directive=f,l.expression=l.template.getAttribute(f))}(i=yI[l.directive])==null||i.call(yI,l,t);continue}let c=FB(o,t);if(c instanceof UB){Gf.get(l)!==c.template?(Gf.set(l,c.template),c=new lA(c.template,c.state,$x),l.value=c,Vf.set(l,c)):(r=Vf.get(l))==null||r.update(c.state);continue}c?(l instanceof yl&&l.attributeName.startsWith("aria-")&&(c=String(c)),l instanceof yl?typeof c=="boolean"?l.booleanValue=c:typeof c=="function"?l.element[l.attributeName]=c:l.value=c:(l.value=c,Gf.delete(l),Vf.delete(l))):l instanceof yl?l.value=void 0:(l.value=void 0,Gf.delete(l),Vf.delete(l))}}},XN={"!":n=>!n,"!!":n=>!!n,"==":(n,e)=>n==e,"!=":(n,e)=>n!=e,">":(n,e)=>n>e,">=":(n,e)=>n>=e,"<":(n,e)=>n<e,"<=":(n,e)=>n<=e,"??":(n,e)=>n??e,"|":(n,e)=>{var t;return(t=QN[e])==null?void 0:t.call(QN,n)}};function Gee(n){return Vee(n,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function FB(n,e={}){var t,i,r,o,l,c,f;const h=Gee(n);if(h.length===0||h.some(({type:g})=>!g))return Mv(n);if(((t=h[0])==null?void 0:t.token)===">"){const g=e[(i=h[1])==null?void 0:i.token];if(!g)return Mv(n);const m={...e};g.state=m;const p=h.slice(2);for(let y=0;y<p.length;y+=3){const E=(r=p[y])==null?void 0:r.token,A=(o=p[y+1])==null?void 0:o.token,w=(l=p[y+2])==null?void 0:l.token;E&&A==="="&&(m[E]=Nv(w,e))}return g}if(h.length===1)return G0(h[0])?Nv(h[0].token,e):Mv(n);if(h.length===2){const g=(c=h[0])==null?void 0:c.token,m=XN[g];if(!m||!G0(h[1]))return Mv(n);const p=Nv(h[1].token,e);return m(p)}if(h.length===3){const g=(f=h[1])==null?void 0:f.token,m=XN[g];if(!m||!G0(h[0])||!G0(h[2]))return Mv(n);const p=Nv(h[0].token,e);if(g==="|")return m(p,h[2].token);const y=Nv(h[2].token,e);return m(p,y)}}function Mv(n){return console.warn(`Warning: invalid expression \`${n}\``),!1}function G0({type:n}){return["number","boolean","string","param"].includes(n)}function Nv(n,e){const t=n[0],i=n.slice(-1);return n==="true"||n==="false"?n==="true":t===i&&["'",'"'].includes(t)?n.slice(1,-1):TF(n)?parseFloat(n):e[n]}function Vee(n,e){let t,i,r;const o=[];for(;n;){r=null,t=n.length;for(const l in e)i=e[l].exec(n),i&&i.index<t&&(r={token:i[0],type:l,matches:i.slice(1)},t=i.index);t&&o.push({token:n.substr(0,t),type:void 0}),r&&o.push(r),n=n.substr(t+(r?r.token.length:0))}return o}var qx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},EI=(n,e,t)=>(qx(n,e,"read from private field"),t?t.call(n):e.get(n)),Ov=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Kf=(n,e,t,i)=>(qx(n,e,"write to private field"),e.set(n,t),t),p1=(n,e,t)=>(qx(n,e,"access private method"),t),_g,X_,Tg,bI,BB,Z_,_I;const v1={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},zB=vr.createElement("template");zB.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-captions-button:not([mediasubtitleslist]),
    media-captions-menu:not([mediasubtitleslist]),
    media-captions-menu-button:not([mediasubtitleslist]),
    media-audio-track-menu[mediaaudiotrackunavailable],
    media-audio-track-menu-button[mediaaudiotrackunavailable],
    media-rendition-menu[mediarenditionunavailable],
    media-rendition-menu-button[mediarenditionunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class uA extends bt.HTMLElement{constructor(){super(),Ov(this,bI),Ov(this,Z_),Ov(this,_g,void 0),Ov(this,X_,void 0),Ov(this,Tg,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(t=>{var i;this.mediaController&&!((i=this.mediaController)!=null&&i.breakpointsComputed)||t.some(r=>{const o=r.target;return o===this?!0:o.localName!=="media-controller"?!1:!!(v1[r.attributeName]||r.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),this.addEventListener(gc.BREAKPOINTS_COMPUTED,this.render),p1(this,bI,BB).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=EI(this,_g))!=null?e:this.constructor.template}set template(e){if(e===null){this.removeAttribute("template");return}typeof e=="string"?this.setAttribute("template",e):e instanceof HTMLTemplateElement&&(Kf(this,_g,e),Kf(this,Tg,null),this.createRenderer())}get props(){var e,t,i;const r=[...Array.from((t=(e=this.mediaController)==null?void 0:e.attributes)!=null?t:[]).filter(({name:l})=>v1[l]||l.startsWith("breakpoint")),...Array.from(this.attributes)],o={};for(const l of r){const c=(i=v1[l.name])!=null?i:WX(l.name);let{value:f}=l;f!=null?(TF(f)&&(f=parseFloat(f)),o[c]=f===""?!0:f):o[c]=!1}return o}attributeChangedCallback(e,t,i){e==="template"&&t!=i&&p1(this,Z_,_I).call(this)}connectedCallback(){p1(this,Z_,_I).call(this)}createRenderer(){this.template instanceof HTMLTemplateElement&&this.template!==EI(this,X_)&&(Kf(this,X_,this.template),this.renderer=new lA(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append(zB.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}_g=new WeakMap;X_=new WeakMap;Tg=new WeakMap;bI=new WeakSet;BB=function(n){if(Object.prototype.hasOwnProperty.call(this,n)){const e=this[n];delete this[n],this[n]=e}};Z_=new WeakSet;_I=function(){var n;const e=this.getAttribute("template");if(!e||e===EI(this,Tg))return;const t=this.getRootNode(),i=(n=t?.getElementById)==null?void 0:n.call(t,e);if(i){Kf(this,Tg,e),Kf(this,_g,i),this.createRenderer();return}Kee(e)&&(Kf(this,Tg,e),Yee(e).then(r=>{const o=vr.createElement("template");o.innerHTML=r,Kf(this,_g,o),this.createRenderer()}).catch(console.error))};uA.observedAttributes=["template"];uA.processor=$x;function Kee(n){if(!/^(\/|\.\/|https?:\/\/)/.test(n))return!1;const e=/^https?:\/\//.test(n)?void 0:location.origin;try{new URL(n,e)}catch{return!1}return!0}async function Yee(n){const e=await fetch(n);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}bt.customElements.get("media-theme")||bt.customElements.define("media-theme",uA);function Wee({anchor:n,floating:e,placement:t}){const i=Qee({anchor:n,floating:e}),{x:r,y:o}=Zee(i,t);return{x:r,y:o}}function Qee({anchor:n,floating:e}){return{anchor:Xee(n,e.offsetParent),floating:{x:0,y:0,width:e.offsetWidth,height:e.offsetHeight}}}function Xee(n,e){var t;const i=n.getBoundingClientRect(),r=(t=e?.getBoundingClientRect())!=null?t:{x:0,y:0};return{x:i.x-r.x,y:i.y-r.y,width:i.width,height:i.height}}function Zee({anchor:n,floating:e},t){const i=Jee(t)==="x"?"y":"x",r=i==="y"?"height":"width",o=$B(t),l=n.x+n.width/2-e.width/2,c=n.y+n.height/2-e.height/2,f=n[r]/2-e[r]/2;let h;switch(o){case"top":h={x:l,y:n.y-e.height};break;case"bottom":h={x:l,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:c};break;case"left":h={x:n.x-e.width,y:c};break;default:h={x:n.x,y:n.y}}switch(t.split("-")[1]){case"start":h[i]-=f;break;case"end":h[i]+=f;break}return h}function $B(n){return n.split("-")[0]}function Jee(n){return["top","bottom"].includes($B(n))?"y":"x"}class jx extends Event{constructor({action:e="auto",relatedTarget:t,...i}){super("invoke",i),this.action=e,this.relatedTarget=t}}class ete extends Event{constructor({newState:e,oldState:t,...i}){super("toggle",i),this.newState=e,this.oldState=t}}var Hx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},ia=(n,e,t)=>(Hx(n,e,"read from private field"),t?t.call(n):e.get(n)),ya=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},eu=(n,e,t,i)=>(Hx(n,e,"write to private field"),e.set(n,t),t),Ea=(n,e,t)=>(Hx(n,e,"access private method"),t),tu,eh,zd,J_,eT,th,Zy,TI,qB,hS,Gx,mS,tT,SI,AI,jB,wI,HB,RI,GB,Sg,Ag,wg,Jy,gS,Vx,II,VB,Kx,KB,kI,YB,Yx,WB,xI,QB,CI,XB,Iy,pS,DI,ZB,ky,vS,nT,LI;function Fg({type:n,text:e,value:t,checked:i}){const r=vr.createElement("media-chrome-menu-item");r.type=n,r.part.add("menu-item"),r.part.add(n),r.value=t,r.checked=i;const o=vr.createElement("span");return o.textContent=e,r.append(o),r}function nh(n,e){let t=n.querySelector(`:scope > [slot="${e}"]`);if(t?.nodeName=="SLOT"&&(t=t.assignedElements({flatten:!0})[0]),t)return t=t.cloneNode(!0),t;const i=n.shadowRoot.querySelector(`[name="${e}"] > svg`);return i?i.cloneNode(!0):""}function tte(n){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, var(--_menu-bg))));
        border-radius: var(--media-menu-border-radius);
        border: var(--media-menu-border, none);
        display: var(--media-menu-display, inline-flex) !important;
        
        transition: var(--media-menu-transition-in,
          visibility 0s,
          opacity .2s ease-out,
          transform .15s ease-out,
          left .2s ease-in-out,
          min-width .2s ease-in-out,
          min-height .2s ease-in-out
        ) !important;
        
        visibility: var(--media-menu-visibility, visible);
        opacity: var(--media-menu-opacity, 1);
        max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));
        transform: var(--media-menu-transform-in, translateY(0) scale(1));
        flex-direction: column;
        
        min-height: 0;
        position: relative;
        bottom: var(--_menu-bottom);
        box-sizing: border-box;
      } 

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([hidden]) {
        transition: var(--media-menu-transition-out,
          visibility .15s ease-in,
          opacity .15s ease-in,
          transform .15s ease-in
        ) !important;
        visibility: var(--media-menu-hidden-visibility, hidden);
        opacity: var(--media-menu-hidden-opacity, 0);
        max-height: var(--media-menu-hidden-max-height,
          var(--media-menu-max-height, var(--_menu-max-height, 300px)));
        transform: var(--media-menu-transform-out, translateY(2px) scale(.99));
        pointer-events: none;
      }

      :host([slot="submenu"]) {
        background: none;
        width: 100%;
        min-height: 100%;
        position: absolute;
        bottom: 0;
        right: -100%;
      }

      #container {
        display: flex;
        flex-direction: column;
        min-height: 0;
        transition: transform .2s ease-out;
        transform: translate(0, 0);
      }

      #container.has-expanded {
        transition: transform .2s ease-in;
        transform: translate(-100%, 0);
      }

      button {
        background: none;
        color: inherit;
        border: none;
        padding: 0;
        font: inherit;
        outline: inherit;
        display: inline-flex;
        align-items: center;
      }

      slot[name="header"][hidden] {
        display: none;
      }

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .7em;
        border-bottom: 1px solid rgb(255 255 255 / .25);
        cursor: var(--media-cursor, default);
      }

      slot[name="header"] > button[part~="back"],
      slot[name="header"]::slotted(button[part~="back"]) {
        cursor: var(--media-cursor, pointer);
      }

      svg[part~="back"] {
        height: var(--media-menu-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
        margin-right: .5ch;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap);
        flex-direction: var(--media-menu-flex-direction, column);
        overflow: var(--media-menu-overflow, hidden auto);
        display: flex;
        min-height: 0;
      }

      :host([role="menu"]) slot:not([name]) {
        padding-block: .4em;
      }

      slot:not([name])::slotted([role="menu"]) {
        background: none;
      }

      media-chrome-menu-item > span {
        margin-right: .5ch;
        max-width: var(--media-menu-item-max-width);
        text-overflow: ellipsis;
        overflow: hidden;
      }
    </style>
    <style id="layout-row" media="width:0">

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .5em;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap, .25em);
        flex-direction: var(--media-menu-flex-direction, row);
        padding-inline: .5em;
      }

      media-chrome-menu-item {
        padding: .3em .5em;
      }

      media-chrome-menu-item[aria-checked="true"] {
        background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));
      }

      
      media-chrome-menu-item::part(checked-indicator) {
        display: var(--media-menu-item-checked-indicator-display, none);
      }
    </style>
    <div id="container" part="container">
      <slot name="header" hidden>
        <button part="back button" aria-label="Back to previous menu">
          <slot name="back-icon">
            <svg aria-hidden="true" viewBox="0 0 20 24" part="back indicator">
              <path d="m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z"/>
            </svg>
          </slot>
          <slot name="title"></slot>
        </button>
      </slot>
      <slot></slot>
    </div>
    <slot name="checked-indicator" hidden></slot>
  `}const Rf={STYLE:"style",HIDDEN:"hidden",DISABLED:"disabled",ANCHOR:"anchor"};class Po extends bt.HTMLElement{constructor(){if(super(),ya(this,TI),ya(this,hS),ya(this,tT),ya(this,AI),ya(this,wI),ya(this,RI),ya(this,wg),ya(this,gS),ya(this,II),ya(this,Kx),ya(this,kI),ya(this,Yx),ya(this,xI),ya(this,CI),ya(this,Iy),ya(this,DI),ya(this,ky),ya(this,nT),ya(this,tu,null),ya(this,eh,null),ya(this,zd,null),ya(this,J_,new Set),ya(this,eT,void 0),ya(this,th,!1),ya(this,Zy,null),ya(this,mS,()=>{const e=ia(this,J_),t=new Set(this.items);for(const i of e)t.has(i)||this.dispatchEvent(new CustomEvent("removemenuitem",{detail:i}));for(const i of t)e.has(i)||this.dispatchEvent(new CustomEvent("addmenuitem",{detail:i}));eu(this,J_,t)}),ya(this,Sg,()=>{Ea(this,wg,Jy).call(this),Ea(this,gS,Vx).call(this,!1)}),ya(this,Ag,()=>{Ea(this,wg,Jy).call(this)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.container=this.shadowRoot.querySelector("#container"),this.defaultSlot=this.shadowRoot.querySelector("slot:not([name])"),this.shadowRoot.addEventListener("slotchange",this),eu(this,eT,new MutationObserver(ia(this,mS))),ia(this,eT).observe(this.defaultSlot,{childList:!0})}static get observedAttributes(){return[Rf.DISABLED,Rf.HIDDEN,Rf.STYLE,Rf.ANCHOR,ra.MEDIA_CONTROLLER]}static formatMenuItemText(e,t){return e}enable(){this.addEventListener("click",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this),this.addEventListener("invoke",this),this.addEventListener("toggle",this)}disable(){this.removeEventListener("click",this),this.removeEventListener("focusout",this),this.removeEventListener("keyup",this),this.removeEventListener("invoke",this),this.removeEventListener("toggle",this)}handleEvent(e){switch(e.type){case"slotchange":Ea(this,TI,qB).call(this,e);break;case"invoke":Ea(this,AI,jB).call(this,e);break;case"click":Ea(this,II,VB).call(this,e);break;case"toggle":Ea(this,kI,YB).call(this,e);break;case"focusout":Ea(this,xI,QB).call(this,e);break;case"keydown":Ea(this,CI,XB).call(this,e);break}}connectedCallback(){var e,t;eu(this,Zy,lx(this.shadowRoot,":host")),Ea(this,tT,SI).call(this),this.hasAttribute("disabled")||this.enable(),this.role||(this.role="menu"),eu(this,tu,VR(this)),(t=(e=ia(this,tu))==null?void 0:e.associateElement)==null||t.call(e,this),this.hidden||(Og(eE(this),ia(this,Sg)),Og(this,ia(this,Ag))),Ea(this,hS,Gx).call(this)}disconnectedCallback(){var e,t;Pg(eE(this),ia(this,Sg)),Pg(this,ia(this,Ag)),this.disable(),(t=(e=ia(this,tu))==null?void 0:e.unassociateElement)==null||t.call(e,this),eu(this,tu,null)}attributeChangedCallback(e,t,i){var r,o,l,c;e===Rf.HIDDEN&&i!==t?(ia(this,th)||eu(this,th,!0),this.hidden?Ea(this,RI,GB).call(this):Ea(this,wI,HB).call(this),this.dispatchEvent(new ete({oldState:this.hidden?"open":"closed",newState:this.hidden?"closed":"open",bubbles:!0}))):e===ra.MEDIA_CONTROLLER?(t&&((o=(r=ia(this,tu))==null?void 0:r.unassociateElement)==null||o.call(r,this),eu(this,tu,null)),i&&this.isConnected&&(eu(this,tu,VR(this)),(c=(l=ia(this,tu))==null?void 0:l.associateElement)==null||c.call(l,this))):e===Rf.DISABLED&&i!==t?i==null?this.enable():this.disable():e===Rf.STYLE&&i!==t&&Ea(this,tT,SI).call(this)}formatMenuItemText(e,t){return this.constructor.formatMenuItemText(e,t)}get anchor(){return this.getAttribute("anchor")}set anchor(e){this.setAttribute("anchor",`${e}`)}get anchorElement(){var e;return this.anchor?(e=XS(this))==null?void 0:e.querySelector(`#${this.anchor}`):null}get items(){return this.defaultSlot.assignedElements({flatten:!0}).filter(nte)}get radioGroupItems(){return this.items.filter(e=>e.role==="menuitemradio")}get checkedItems(){return this.items.filter(e=>e.checked)}get value(){var e,t;return(t=(e=this.checkedItems[0])==null?void 0:e.value)!=null?t:""}set value(e){const t=this.items.find(i=>i.value===e);t&&Ea(this,nT,LI).call(this,t)}focus(){if(eu(this,eh,ox()),this.items.length){Ea(this,ky,vS).call(this,this.items[0]),this.items[0].focus();return}const e=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');e?.focus()}handleSelect(e){var t;const i=Ea(this,Iy,pS).call(this,e);i&&(Ea(this,nT,LI).call(this,i,i.type==="checkbox"),ia(this,zd)&&!this.hidden&&((t=ia(this,eh))==null||t.focus(),this.hidden=!0))}get keysUsed(){return["Enter","Escape","Tab"," ","ArrowDown","ArrowUp","Home","End"]}handleMove(e){var t,i;const{key:r}=e,o=this.items,l=(i=(t=Ea(this,Iy,pS).call(this,e))!=null?t:Ea(this,DI,ZB).call(this))!=null?i:o[0],c=o.indexOf(l);let f=Math.max(0,c);r==="ArrowDown"?f++:r==="ArrowUp"?f--:e.key==="Home"?f=0:e.key==="End"&&(f=o.length-1),f<0&&(f=o.length-1),f>o.length-1&&(f=0),Ea(this,ky,vS).call(this,o[f]),o[f].focus()}}tu=new WeakMap;eh=new WeakMap;zd=new WeakMap;J_=new WeakMap;eT=new WeakMap;th=new WeakMap;Zy=new WeakMap;TI=new WeakSet;qB=function(n){const e=n.target;for(const t of e.assignedNodes({flatten:!0}))t.nodeType===3&&t.textContent.trim()===""&&t.remove();["header","title"].includes(e.name)&&Ea(this,hS,Gx).call(this),e.name||ia(this,mS).call(this)};hS=new WeakSet;Gx=function(){const n=this.shadowRoot.querySelector('slot[name="header"]'),e=this.shadowRoot.querySelector('slot[name="title"]');n.hidden=e.assignedNodes().length===0&&n.assignedNodes().length===0};mS=new WeakMap;tT=new WeakSet;SI=function(){var n;const e=this.shadowRoot.querySelector("#layout-row"),t=(n=getComputedStyle(this).getPropertyValue("--media-menu-layout"))==null?void 0:n.trim();e.setAttribute("media",t==="row"?"":"width:0")};AI=new WeakSet;jB=function(n){eu(this,zd,n.relatedTarget),vc(this,n.relatedTarget)||(this.hidden=!this.hidden)};wI=new WeakSet;HB=function(){var n;(n=ia(this,zd))==null||n.setAttribute("aria-expanded","true"),this.addEventListener("transitionend",()=>this.focus(),{once:!0}),Og(eE(this),ia(this,Sg)),Og(this,ia(this,Ag))};RI=new WeakSet;GB=function(){var n;(n=ia(this,zd))==null||n.setAttribute("aria-expanded","false"),Pg(eE(this),ia(this,Sg)),Pg(this,ia(this,Ag))};Sg=new WeakMap;Ag=new WeakMap;wg=new WeakSet;Jy=function(n){if(this.hasAttribute("mediacontroller")&&!this.anchor||this.hidden||!this.anchorElement)return;const{x:e,y:t}=Wee({anchor:this.anchorElement,floating:this,placement:"top-start"});n??(n=this.offsetWidth);const r=eE(this).getBoundingClientRect(),o=r.width-e-n,l=r.height-t-this.offsetHeight,{style:c}=ia(this,Zy);c.setProperty("position","absolute"),c.setProperty("right",`${Math.max(0,o)}px`),c.setProperty("--_menu-bottom",`${l}px`);const f=getComputedStyle(this),g=c.getPropertyValue("--_menu-bottom")===f.bottom?l:parseFloat(f.bottom),m=r.height-g-parseFloat(f.marginBottom);this.style.setProperty("--_menu-max-height",`${m}px`)};gS=new WeakSet;Vx=function(n){const e=this.querySelector('[role="menuitem"][aria-haspopup][aria-expanded="true"]'),t=e?.querySelector('[role="menu"]'),{style:i}=ia(this,Zy);if(n||i.setProperty("--media-menu-transition-in","none"),t){const r=t.offsetHeight,o=Math.max(t.offsetWidth,e.offsetWidth);this.style.setProperty("min-width",`${o}px`),this.style.setProperty("min-height",`${r}px`),Ea(this,wg,Jy).call(this,o)}else this.style.removeProperty("min-width"),this.style.removeProperty("min-height"),Ea(this,wg,Jy).call(this);i.removeProperty("--media-menu-transition-in")};II=new WeakSet;VB=function(n){var e;if(n.stopPropagation(),n.composedPath().includes(ia(this,Kx,KB))){(e=ia(this,eh))==null||e.focus(),this.hidden=!0;return}const t=Ea(this,Iy,pS).call(this,n);!t||t.hasAttribute("disabled")||(Ea(this,ky,vS).call(this,t),this.handleSelect(n))};Kx=new WeakSet;KB=function(){var n;return(n=this.shadowRoot.querySelector('slot[name="header"]').assignedElements({flatten:!0}))==null?void 0:n.find(t=>t.matches('button[part~="back"]'))};kI=new WeakSet;YB=function(n){if(n.target===this)return;Ea(this,Yx,WB).call(this);const e=Array.from(this.querySelectorAll('[role="menuitem"][aria-haspopup]'));for(const t of e)t.invokeTargetElement!=n.target&&n.newState=="open"&&t.getAttribute("aria-expanded")=="true"&&!t.invokeTargetElement.hidden&&t.invokeTargetElement.dispatchEvent(new jx({relatedTarget:t}));for(const t of e)t.setAttribute("aria-expanded",`${!t.submenuElement.hidden}`);Ea(this,gS,Vx).call(this,!0)};Yx=new WeakSet;WB=function(){const e=this.querySelector('[role="menuitem"] > [role="menu"]:not([hidden])');this.container.classList.toggle("has-expanded",!!e)};xI=new WeakSet;QB=function(n){var e;vc(this,n.relatedTarget)||(ia(this,th)&&((e=ia(this,eh))==null||e.focus()),ia(this,zd)&&ia(this,zd)!==n.relatedTarget&&!this.hidden&&(this.hidden=!0))};CI=new WeakSet;XB=function(n){var e,t,i,r,o;const{key:l,ctrlKey:c,altKey:f,metaKey:h}=n;if(!(c||f||h)&&this.keysUsed.includes(l))if(n.preventDefault(),n.stopPropagation(),l==="Tab"){if(ia(this,th)){this.hidden=!0;return}n.shiftKey?(t=(e=this.previousElementSibling)==null?void 0:e.focus)==null||t.call(e):(r=(i=this.nextElementSibling)==null?void 0:i.focus)==null||r.call(i),this.blur()}else l==="Escape"?((o=ia(this,eh))==null||o.focus(),ia(this,th)&&(this.hidden=!0)):l==="Enter"||l===" "?this.handleSelect(n):this.handleMove(n)};Iy=new WeakSet;pS=function(n){return n.composedPath().find(e=>["menuitemradio","menuitemcheckbox"].includes(e.role))};DI=new WeakSet;ZB=function(){return this.items.find(n=>n.tabIndex===0)};ky=new WeakSet;vS=function(n){for(const e of this.items)e.tabIndex=e===n?0:-1};nT=new WeakSet;LI=function(n,e){const t=[...this.checkedItems];n.type==="radio"&&this.radioGroupItems.forEach(i=>i.checked=!1),e?n.checked=!n.checked:n.checked=!0,this.checkedItems.some((i,r)=>i!=t[r])&&this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};Po.shadowRootOptions={mode:"open"};Po.getTemplateHTML=tte;function nte(n){return["menuitem","menuitemradio","menuitemcheckbox"].includes(n?.role)}function eE(n){var e;return(e=n.getAttribute("bounds")?Vg(n,`#${n.getAttribute("bounds")}`):Ns(n)||n.parentElement)!=null?e:n}bt.customElements.get("media-chrome-menu")||bt.customElements.define("media-chrome-menu",Po);var Wx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},hu=(n,e,t)=>(Wx(n,e,"read from private field"),t?t.call(n):e.get(n)),Yu=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},y1=(n,e,t,i)=>(Wx(n,e,"write to private field"),e.set(n,t),t),ml=(n,e,t)=>(Wx(n,e,"access private method"),t),iT,xy,MI,JB,yS,Qx,Xx,ez,mu,Bg,tE,NI,tz,aT,OI;function ite(n){return`
    <style>
      :host {
        transition: var(--media-menu-item-transition,
          background .15s linear,
          opacity .2s ease-in-out
        );
        outline: var(--media-menu-item-outline, 0);
        outline-offset: var(--media-menu-item-outline-offset, -1px);
        cursor: var(--media-cursor, pointer);
        display: flex;
        align-items: center;
        align-self: stretch;
        justify-self: stretch;
        white-space: nowrap;
        white-space-collapse: collapse;
        text-wrap: nowrap;
        padding: .4em .8em .4em 1em;
      }

      :host(:focus-visible) {
        box-shadow: var(--media-menu-item-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: var(--media-menu-item-hover-outline, 0);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host(:hover) {
        cursor: var(--media-cursor, pointer);
        background: var(--media-menu-item-hover-background, rgb(92 92 102 / .5));
        outline: var(--media-menu-item-hover-outline);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host([aria-checked="true"]) {
        background: var(--media-menu-item-checked-background);
      }

      :host([hidden]) {
        display: none;
      }

      :host([disabled]) {
        pointer-events: none;
        color: rgba(255, 255, 255, .3);
      }

      slot:not([name]) {
        width: 100%;
      }

      slot:not([name="submenu"]) {
        display: inline-flex;
        align-items: center;
        transition: inherit;
        opacity: var(--media-menu-item-opacity, 1);
      }

      slot[name="description"] {
        justify-content: end;
      }

      slot[name="description"] > span {
        display: inline-block;
        margin-inline: 1em .2em;
        max-width: var(--media-menu-item-description-max-width, 100px);
        text-overflow: ellipsis;
        overflow: hidden;
        font-size: .8em;
        font-weight: 400;
        text-align: right;
        position: relative;
        top: .04em;
      }

      slot[name="checked-indicator"] {
        display: none;
      }

      :host(:is([role="menuitemradio"],[role="menuitemcheckbox"])) slot[name="checked-indicator"] {
        display: var(--media-menu-item-checked-indicator-display, inline-block);
      }

      
      svg, img, ::slotted(svg), ::slotted(img) {
        height: var(--media-menu-item-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
      }

      
      [part~="indicator"],
      ::slotted([part~="indicator"]) {
        fill: var(--media-menu-item-indicator-fill,
          var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
        height: var(--media-menu-item-indicator-height, 1.25em);
        margin-right: .5ch;
      }

      [part~="checked-indicator"] {
        visibility: hidden;
      }

      :host([aria-checked="true"]) [part~="checked-indicator"] {
        visibility: visible;
      }
    </style>
    <slot name="checked-indicator">
      <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
        <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
      </svg>
    </slot>
    <slot name="prefix"></slot>
    <slot></slot>
    <slot name="description"></slot>
    <slot name="suffix">
      ${this.getSuffixSlotInnerHTML(n)}
    </slot>
    <slot name="submenu"></slot>
  `}function ate(n){return""}const bo={TYPE:"type",VALUE:"value",CHECKED:"checked",DISABLED:"disabled"};class Hd extends bt.HTMLElement{constructor(){if(super(),Yu(this,MI),Yu(this,yS),Yu(this,Xx),Yu(this,Bg),Yu(this,NI),Yu(this,aT),Yu(this,iT,!1),Yu(this,xy,void 0),Yu(this,mu,()=>{var e,t;this.submenuElement.items&&this.setAttribute("submenusize",`${this.submenuElement.items.length}`);const i=this.shadowRoot.querySelector('slot[name="description"]'),r=(e=this.submenuElement.checkedItems)==null?void 0:e[0],o=(t=r?.dataset.description)!=null?t:r?.text,l=vr.createElement("span");l.textContent=o??"",i.replaceChildren(l)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=io(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.shadowRoot.addEventListener("slotchange",this)}static get observedAttributes(){return[bo.TYPE,bo.DISABLED,bo.CHECKED,bo.VALUE]}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),Pv(this)&&!this.hasAttribute("aria-checked")&&this.setAttribute("aria-checked","false"),this.addEventListener("click",this),this.addEventListener("keydown",this)}disable(){this.removeAttribute("tabindex"),this.removeEventListener("click",this),this.removeEventListener("keydown",this),this.removeEventListener("keyup",this)}handleEvent(e){switch(e.type){case"slotchange":ml(this,MI,JB).call(this,e);break;case"click":this.handleClick(e);break;case"keydown":ml(this,NI,tz).call(this,e);break;case"keyup":ml(this,Bg,tE).call(this,e);break}}attributeChangedCallback(e,t,i){e===bo.CHECKED&&Pv(this)&&!hu(this,iT)?this.setAttribute("aria-checked",i!=null?"true":"false"):e===bo.TYPE&&i!==t?this.role="menuitem"+i:e===bo.DISABLED&&i!==t&&(i==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(bo.DISABLED)||this.enable(),this.role="menuitem"+this.type,y1(this,xy,PI(this,this.parentNode)),ml(this,aT,OI).call(this),this.submenuElement&&ml(this,yS,Qx).call(this)}disconnectedCallback(){this.disable(),ml(this,aT,OI).call(this),y1(this,xy,null)}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=XS(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):this.submenuElement}get submenuElement(){return this.shadowRoot.querySelector('slot[name="submenu"]').assignedElements({flatten:!0})[0]}get type(){var e;return(e=this.getAttribute(bo.TYPE))!=null?e:""}set type(e){this.setAttribute(bo.TYPE,`${e}`)}get value(){var e;return(e=this.getAttribute(bo.VALUE))!=null?e:this.text}set value(e){this.setAttribute(bo.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get checked(){if(Pv(this))return this.getAttribute("aria-checked")==="true"}set checked(e){Pv(this)&&(y1(this,iT,!0),this.setAttribute("aria-checked",e?"true":"false"),e?this.part.add("checked"):this.part.remove("checked"))}handleClick(e){Pv(this)||this.invokeTargetElement&&vc(this,e.target)&&this.invokeTargetElement.dispatchEvent(new jx({relatedTarget:this}))}get keysUsed(){return["Enter"," "]}}iT=new WeakMap;xy=new WeakMap;MI=new WeakSet;JB=function(n){const e=n.target;if(!e?.name)for(const i of e.assignedNodes({flatten:!0}))i instanceof Text&&i.textContent.trim()===""&&i.remove();e.name==="submenu"&&(this.submenuElement?ml(this,yS,Qx).call(this):ml(this,Xx,ez).call(this))};yS=new WeakSet;Qx=async function(){this.setAttribute("aria-haspopup","menu"),this.setAttribute("aria-expanded",`${!this.submenuElement.hidden}`),this.submenuElement.addEventListener("change",hu(this,mu)),this.submenuElement.addEventListener("addmenuitem",hu(this,mu)),this.submenuElement.addEventListener("removemenuitem",hu(this,mu)),hu(this,mu).call(this)};Xx=new WeakSet;ez=function(){this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.submenuElement.removeEventListener("change",hu(this,mu)),this.submenuElement.removeEventListener("addmenuitem",hu(this,mu)),this.submenuElement.removeEventListener("removemenuitem",hu(this,mu)),hu(this,mu).call(this)};mu=new WeakMap;Bg=new WeakSet;tE=function(n){const{key:e}=n;if(!this.keysUsed.includes(e)){this.removeEventListener("keyup",ml(this,Bg,tE));return}this.handleClick(n)};NI=new WeakSet;tz=function(n){const{metaKey:e,altKey:t,key:i}=n;if(e||t||!this.keysUsed.includes(i)){this.removeEventListener("keyup",ml(this,Bg,tE));return}this.addEventListener("keyup",ml(this,Bg,tE),{once:!0})};aT=new WeakSet;OI=function(){var n;const e=(n=hu(this,xy))==null?void 0:n.radioGroupItems;if(!e)return;let t=e.filter(i=>i.getAttribute("aria-checked")==="true").pop();t||(t=e[0]);for(const i of e)i.setAttribute("aria-checked","false");t?.setAttribute("aria-checked","true")};Hd.shadowRootOptions={mode:"open"};Hd.getTemplateHTML=ite;Hd.getSuffixSlotInnerHTML=ate;function Pv(n){return n.type==="radio"||n.type==="checkbox"}function PI(n,e){if(!n)return null;const{host:t}=n.getRootNode();return!e&&t?PI(n,t):e?.items?e:PI(e,e?.parentNode)}bt.customElements.get("media-chrome-menu-item")||bt.customElements.define("media-chrome-menu-item",Hd);function rte(n){return`
    ${Po.getTemplateHTML(n)}
    <style>
      :host {
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
        min-width: var(--media-settings-menu-min-width, 170px);
        border-radius: 2px 2px 0 0;
        overflow: hidden;
      }

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([role="menu"]) {
        
        justify-content: end;
      }

      slot:not([name]) {
        justify-content: var(--media-settings-menu-justify-content);
        flex-direction: var(--media-settings-menu-flex-direction, column);
        overflow: visible;
      }

      #container.has-expanded {
        --media-settings-menu-item-opacity: 0;
      }
    </style>
  `}class nz extends Po{get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Ns(this).querySelector("media-settings-menu-button")}}nz.getTemplateHTML=rte;bt.customElements.get("media-settings-menu")||bt.customElements.define("media-settings-menu",nz);function ste(n){return`
    ${Hd.getTemplateHTML.call(this,n)}
    <style>
      slot:not([name="submenu"]) {
        opacity: var(--media-settings-menu-item-opacity, var(--media-menu-item-opacity));
      }

      :host([aria-expanded="true"]:hover) {
        background: transparent;
      }
    </style>
  `}function ote(n){return`
    <svg aria-hidden="true" viewBox="0 0 20 24">
      <path d="m8.12 17.585-.742-.669 4.2-4.665-4.2-4.666.743-.669 4.803 5.335-4.803 5.334Z"/>
    </svg>
  `}class cA extends Hd{}cA.shadowRootOptions={mode:"open"};cA.getTemplateHTML=ste;cA.getSuffixSlotInnerHTML=ote;bt.customElements.get("media-settings-menu-item")||bt.customElements.define("media-settings-menu-item",cA);class Qg extends Pr{connectedCallback(){super.connectedCallback(),this.invokeTargetElement&&this.setAttribute("aria-haspopup","menu")}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=XS(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):null}handleClick(){var e;(e=this.invokeTargetElement)==null||e.dispatchEvent(new jx({relatedTarget:this}))}}bt.customElements.get("media-chrome-menu-button")||bt.customElements.define("media-chrome-menu-button",Qg);function lte(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">
      <svg aria-hidden="true" viewBox="0 0 24 24">
        <path d="M4.5 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
      </svg>
    </slot>
  `}function ute(){return Kn("Settings")}class Zx extends Qg{static get observedAttributes(){return[...super.observedAttributes,"target"]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Kn("settings"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Ns(this).querySelector("media-settings-menu")}}Zx.getSlotTemplateHTML=lte;Zx.getTooltipContentHTML=ute;bt.customElements.get("media-settings-menu-button")||bt.customElements.define("media-settings-menu-button",Zx);var Jx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},iz=(n,e,t)=>(Jx(n,e,"read from private field"),t?t.call(n):e.get(n)),V0=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},UI=(n,e,t,i)=>(Jx(n,e,"write to private field"),e.set(n,t),t),K0=(n,e,t)=>(Jx(n,e,"access private method"),t),oy,ES,rT,FI,sT,BI;class cte extends Po{constructor(){super(...arguments),V0(this,rT),V0(this,sT),V0(this,oy,[]),V0(this,ES,void 0)}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_AUDIO_TRACK_LIST,Ke.MEDIA_AUDIO_TRACK_ENABLED,Ke.MEDIA_AUDIO_TRACK_UNAVAILABLE]}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_AUDIO_TRACK_ENABLED&&t!==i?this.value=i:e===Ke.MEDIA_AUDIO_TRACK_LIST&&t!==i&&(UI(this,oy,VX(i??"")),K0(this,rT,FI).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",K0(this,sT,BI))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",K0(this,sT,BI))}get anchorElement(){var e;return this.anchor!=="auto"?super.anchorElement:(e=Ns(this))==null?void 0:e.querySelector("media-audio-track-menu-button")}get mediaAudioTrackList(){return iz(this,oy)}set mediaAudioTrackList(e){UI(this,oy,e),K0(this,rT,FI).call(this)}get mediaAudioTrackEnabled(){var e;return(e=Da(this,Ke.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){La(this,Ke.MEDIA_AUDIO_TRACK_ENABLED,e)}}oy=new WeakMap;ES=new WeakMap;rT=new WeakSet;FI=function(){if(iz(this,ES)===JSON.stringify(this.mediaAudioTrackList))return;UI(this,ES,JSON.stringify(this.mediaAudioTrackList));const n=this.mediaAudioTrackList;this.defaultSlot.textContent="",n.sort((e,t)=>e.id.localeCompare(t.id,void 0,{numeric:!0}));for(const e of n){const t=this.formatMenuItemText(e.label,e),i=Fg({type:"radio",text:t,value:`${e.id}`,checked:e.enabled});i.prepend(nh(this,"checked-indicator")),this.defaultSlot.append(i)}};sT=new WeakSet;BI=function(){if(this.value==null)return;const n=new bt.CustomEvent(Pn.MEDIA_AUDIO_TRACK_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};bt.customElements.get("media-audio-track-menu")||bt.customElements.define("media-audio-track-menu",cte);const dte=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M11 17H9.5V7H11v10Zm-3-3H6.5v-4H8v4Zm6-5h-1.5v6H14V9Zm3 7h-1.5V8H17v8Z"/>
  <path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0Z"/>
</svg>`;function fte(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${dte}</slot>
  `}function hte(){return Kn("Audio")}const ZN=n=>{const e=Kn("Audio");n.setAttribute("aria-label",e)};class eC extends Qg{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_AUDIO_TRACK_ENABLED,Ke.MEDIA_AUDIO_TRACK_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),ZN(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_LANG&&ZN(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Ns(this))==null?void 0:e.querySelector("media-audio-track-menu")}get mediaAudioTrackEnabled(){var e;return(e=Da(this,Ke.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){La(this,Ke.MEDIA_AUDIO_TRACK_ENABLED,e)}}eC.getSlotTemplateHTML=fte;eC.getTooltipContentHTML=hte;bt.customElements.get("media-audio-track-menu-button")||bt.customElements.define("media-audio-track-menu-button",eC);var tC=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},mte=(n,e,t)=>(tC(n,e,"read from private field"),e.get(n)),E1=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},gte=(n,e,t,i)=>(tC(n,e,"write to private field"),e.set(n,t),t),Y0=(n,e,t)=>(tC(n,e,"access private method"),t),bS,oT,zI,lT,$I;const pte=`
  <svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
    <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
  </svg>`;function vte(n){return`
    ${Po.getTemplateHTML(n)}
    <slot name="captions-indicator" hidden>${pte}</slot>
  `}class az extends Po{constructor(){super(...arguments),E1(this,oT),E1(this,lT),E1(this,bS,void 0)}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_SUBTITLES_LIST,Ke.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_SUBTITLES_LIST&&t!==i?Y0(this,oT,zI).call(this):e===Ke.MEDIA_SUBTITLES_SHOWING&&t!==i&&(this.value=i||"",Y0(this,oT,zI).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Y0(this,lT,$I))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Y0(this,lT,$I))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Ns(this).querySelector("media-captions-menu-button")}get mediaSubtitlesList(){return JN(this,Ke.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){eO(this,Ke.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return JN(this,Ke.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){eO(this,Ke.MEDIA_SUBTITLES_SHOWING,e)}}bS=new WeakMap;oT=new WeakSet;zI=function(){var n;const e=mte(this,bS)!==JSON.stringify(this.mediaSubtitlesList),t=this.value!==this.getAttribute(Ke.MEDIA_SUBTITLES_SHOWING);if(!e&&!t)return;gte(this,bS,JSON.stringify(this.mediaSubtitlesList)),this.defaultSlot.textContent="";const i=!this.value,r=Fg({type:"radio",text:this.formatMenuItemText(Kn("Off")),value:"off",checked:i});r.prepend(nh(this,"checked-indicator")),this.defaultSlot.append(r);const o=this.mediaSubtitlesList;for(const l of o){const c=Fg({type:"radio",text:this.formatMenuItemText(l.label,l),value:QR(l),checked:this.value==QR(l)});c.prepend(nh(this,"checked-indicator")),((n=l.kind)!=null?n:"subs")==="captions"&&c.append(nh(this,"captions-indicator")),this.defaultSlot.append(c)}};lT=new WeakSet;$I=function(){const n=this.mediaSubtitlesShowing,e=this.getAttribute(Ke.MEDIA_SUBTITLES_SHOWING),t=this.value!==e;if(n?.length&&t&&this.dispatchEvent(new bt.CustomEvent(Pn.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:n})),!this.value||!t)return;const i=new bt.CustomEvent(Pn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(i)};az.getTemplateHTML=vte;const JN=(n,e)=>{const t=n.getAttribute(e);return t?nA(t):[]},eO=(n,e,t)=>{if(!t?.length){n.removeAttribute(e);return}const i=Ky(t);n.getAttribute(e)!==i&&n.setAttribute(e,i)};bt.customElements.get("media-captions-menu")||bt.customElements.define("media-captions-menu",az);const yte=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,Ete=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function bte(){return`
    <style>
      :host([data-captions-enabled="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([data-captions-enabled="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${yte}</slot>
      <slot name="off">${Ete}</slot>
    </slot>
  `}function _te(){return Kn("Captions")}const tO=n=>{n.setAttribute("data-captions-enabled",qF(n).toString())},nO=n=>{n.setAttribute("aria-label",Kn("closed captions"))};class nC extends Qg{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_SUBTITLES_LIST,Ke.MEDIA_SUBTITLES_SHOWING,Ke.MEDIA_LANG]}connectedCallback(){super.connectedCallback(),nO(this),tO(this)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_SUBTITLES_SHOWING?tO(this):e===Ke.MEDIA_LANG&&nO(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Ns(this))==null?void 0:e.querySelector("media-captions-menu")}get mediaSubtitlesList(){return iO(this,Ke.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){aO(this,Ke.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return iO(this,Ke.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){aO(this,Ke.MEDIA_SUBTITLES_SHOWING,e)}}nC.getSlotTemplateHTML=bte;nC.getTooltipContentHTML=_te;const iO=(n,e)=>{const t=n.getAttribute(e);return t?nA(t):[]},aO=(n,e,t)=>{if(!t?.length){n.removeAttribute(e);return}const i=Ky(t);n.getAttribute(e)!==i&&n.setAttribute(e,i)};bt.customElements.get("media-captions-menu-button")||bt.customElements.define("media-captions-menu-button",nC);var rz=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},eg=(n,e,t)=>(rz(n,e,"read from private field"),t?t.call(n):e.get(n)),b1=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Cm=(n,e,t)=>(rz(n,e,"access private method"),t),Id,tg,ly,uT,qI;const _1={RATES:"rates"};class Tte extends Po{constructor(){super(),b1(this,tg),b1(this,uT),b1(this,Id,new dx(this,_1.RATES,{defaultValue:_B})),Cm(this,tg,ly).call(this)}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_PLAYBACK_RATE,_1.RATES]}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_PLAYBACK_RATE&&t!=i?(this.value=i,Cm(this,tg,ly).call(this)):e===_1.RATES&&t!=i&&(eg(this,Id).value=i,Cm(this,tg,ly).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Cm(this,uT,qI))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Cm(this,uT,qI))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Ns(this).querySelector("media-playback-rate-menu-button")}get rates(){return eg(this,Id)}set rates(e){e?Array.isArray(e)?eg(this,Id).value=e.join(" "):typeof e=="string"&&(eg(this,Id).value=e):eg(this,Id).value="",Cm(this,tg,ly).call(this)}get mediaPlaybackRate(){return Ca(this,Ke.MEDIA_PLAYBACK_RATE,dg)}set mediaPlaybackRate(e){nr(this,Ke.MEDIA_PLAYBACK_RATE,e)}}Id=new WeakMap;tg=new WeakSet;ly=function(){this.defaultSlot.textContent="";const n=this.mediaPlaybackRate,e=new Set(Array.from(eg(this,Id)).map(i=>Number(i)));n>0&&!e.has(n)&&e.add(n);const t=Array.from(e).sort((i,r)=>i-r);for(const i of t){const r=Fg({type:"radio",text:this.formatMenuItemText(`${i}x`,i),value:i.toString(),checked:n===i});r.prepend(nh(this,"checked-indicator")),this.defaultSlot.append(r)}};uT=new WeakSet;qI=function(){if(!this.value)return;const n=new bt.CustomEvent(Pn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};bt.customElements.get("media-playback-rate-menu")||bt.customElements.define("media-playback-rate-menu",Tte);const cT=1;function Ste(n){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
      
      :host([aria-expanded="true"]) slot {
        display: block;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${n.mediaplaybackrate||cT}x</slot>
  `}function Ate(){return Kn("Playback rate")}class iC extends Qg{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_PLAYBACK_RATE]}constructor(){var e;super(),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:cT}x`}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_PLAYBACK_RATE){const r=i?+i:Number.NaN,o=Number.isNaN(r)?cT:r;this.container.innerHTML=`${o}x`,this.setAttribute("aria-label",Kn("Playback rate {playbackRate}",{playbackRate:o}))}}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Ns(this).querySelector("media-playback-rate-menu")}get mediaPlaybackRate(){return Ca(this,Ke.MEDIA_PLAYBACK_RATE,cT)}set mediaPlaybackRate(e){nr(this,Ke.MEDIA_PLAYBACK_RATE,e)}}iC.getSlotTemplateHTML=Ste;iC.getTooltipContentHTML=Ate;bt.customElements.get("media-playback-rate-menu-button")||bt.customElements.define("media-playback-rate-menu-button",iC);var aC=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},uy=(n,e,t)=>(aC(n,e,"read from private field"),t?t.call(n):e.get(n)),W0=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},rO=(n,e,t,i)=>(aC(n,e,"write to private field"),e.set(n,t),t),Dm=(n,e,t)=>(aC(n,e,"access private method"),t),cy,fg,ng,dy,dT,jI;class wte extends Po{constructor(){super(...arguments),W0(this,ng),W0(this,dT),W0(this,cy,[]),W0(this,fg,{})}static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_RENDITION_LIST,Ke.MEDIA_RENDITION_SELECTED,Ke.MEDIA_RENDITION_UNAVAILABLE,Ke.MEDIA_HEIGHT]}static formatMenuItemText(e,t){return super.formatMenuItemText(e,t)}static formatRendition(e,{showBitrate:t=!1}={}){const i=`${Math.min(e.width,e.height)}p`;if(t&&e.bitrate){const r=e.bitrate/1e6,o=`${r.toFixed(r<1?1:0)} Mbps`;return`${i} (${o})`}return this.formatMenuItemText(i,e)}static compareRendition(e,t){var i,r;return t.height===e.height?((i=t.bitrate)!=null?i:0)-((r=e.bitrate)!=null?r:0):t.height-e.height}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e===Ke.MEDIA_RENDITION_SELECTED&&t!==i?(this.value=i??"auto",Dm(this,ng,dy).call(this)):e===Ke.MEDIA_RENDITION_LIST&&t!==i?(rO(this,cy,qX(i)),Dm(this,ng,dy).call(this)):e===Ke.MEDIA_HEIGHT&&t!==i&&Dm(this,ng,dy).call(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Dm(this,dT,jI))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Dm(this,dT,jI))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Ns(this).querySelector("media-rendition-menu-button")}get mediaRenditionList(){return uy(this,cy)}set mediaRenditionList(e){rO(this,cy,e),Dm(this,ng,dy).call(this)}get mediaRenditionSelected(){return Da(this,Ke.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){La(this,Ke.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Ca(this,Ke.MEDIA_HEIGHT)}set mediaHeight(e){nr(this,Ke.MEDIA_HEIGHT,e)}compareRendition(e,t){return this.constructor.compareRendition(e,t)}formatMenuItemText(e,t){return this.constructor.formatMenuItemText(e,t)}formatRendition(e,t){return this.constructor.formatRendition(e,t)}showRenditionBitrate(e){return this.mediaRenditionList.some(t=>t!==e&&t.height===e.height&&t.bitrate!==e.bitrate)}}cy=new WeakMap;fg=new WeakMap;ng=new WeakSet;dy=function(){if(uy(this,fg).mediaRenditionList===JSON.stringify(this.mediaRenditionList)&&uy(this,fg).mediaHeight===this.mediaHeight)return;uy(this,fg).mediaRenditionList=JSON.stringify(this.mediaRenditionList),uy(this,fg).mediaHeight=this.mediaHeight;const n=this.mediaRenditionList.sort(this.compareRendition.bind(this)),e=n.find(l=>l.id===this.mediaRenditionSelected);for(const l of n)l.selected=l===e;this.defaultSlot.textContent="";const t=!this.mediaRenditionSelected;for(const l of n){const c=this.formatRendition(l,{showBitrate:this.showRenditionBitrate(l)}),f=Fg({type:"radio",text:c,value:`${l.id}`,checked:l.selected&&!t});f.prepend(nh(this,"checked-indicator")),this.defaultSlot.append(f)}const i=e&&this.showRenditionBitrate(e),r=t?e?this.formatMenuItemText(`${Kn("Auto")}  ${this.formatRendition(e,{showBitrate:i})}`,e):this.formatMenuItemText(`${Kn("Auto")} (${this.mediaHeight}p)`):this.formatMenuItemText(Kn("Auto")),o=Fg({type:"radio",text:r,value:"auto",checked:t});o.dataset.description=r,o.prepend(nh(this,"checked-indicator")),this.defaultSlot.append(o)};dT=new WeakSet;jI=function(){if(this.value==null)return;const n=new bt.CustomEvent(Pn.MEDIA_RENDITION_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};bt.customElements.get("media-rendition-menu")||bt.customElements.define("media-rendition-menu",wte);const Rte=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M13.5 2.5h2v6h-2v-2h-11v-2h11v-2Zm4 2h4v2h-4v-2Zm-12 4h2v6h-2v-2h-3v-2h3v-2Zm4 2h12v2h-12v-2Zm1 4h2v6h-2v-2h-8v-2h8v-2Zm4 2h7v2h-7v-2Z" />
</svg>`;function Ite(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${Rte}</slot>
  `}function kte(){return Kn("Quality")}class rC extends Qg{static get observedAttributes(){return[...super.observedAttributes,Ke.MEDIA_RENDITION_SELECTED,Ke.MEDIA_RENDITION_UNAVAILABLE,Ke.MEDIA_HEIGHT]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Kn("quality"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Ns(this).querySelector("media-rendition-menu")}get mediaRenditionSelected(){return Da(this,Ke.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){La(this,Ke.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Ca(this,Ke.MEDIA_HEIGHT)}set mediaHeight(e){nr(this,Ke.MEDIA_HEIGHT,e)}}rC.getSlotTemplateHTML=Ite;rC.getTooltipContentHTML=kte;bt.customElements.get("media-rendition-menu-button")||bt.customElements.define("media-rendition-menu-button",rC);var sC=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},iu=(n,e,t)=>(sC(n,e,"read from private field"),t?t.call(n):e.get(n)),jl=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},sz=(n,e,t,i)=>(sC(n,e,"write to private field"),e.set(n,t),t),Ao=(n,e,t)=>(sC(n,e,"access private method"),t),zg,nE,dA,$f,hg,oC,oz,fT,HI,hT,GI,lz,_S,TS,mT;function xte(n){return`
      ${Po.getTemplateHTML(n)}
      <style>
        :host {
          --_menu-bg: rgb(20 20 30 / .8);
          background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
          min-width: var(--media-settings-menu-min-width, 170px);
          border-radius: 2px;
          overflow: hidden;
        }
      </style>
    `}class uz extends Po{constructor(){super(),jl(this,nE),jl(this,$f),jl(this,oC),jl(this,fT),jl(this,GI),jl(this,zg,!1),jl(this,hT,e=>{const t=e.target,i=t?.nodeName==="VIDEO",r=Ao(this,fT,HI).call(this,t);(i||r)&&(iu(this,zg)?Ao(this,$f,hg).call(this):Ao(this,GI,lz).call(this,e))}),jl(this,_S,e=>{const t=e.target,i=this.contains(t),r=e.button===2,o=t?.nodeName==="VIDEO",l=Ao(this,fT,HI).call(this,t);i||r&&(o||l)||Ao(this,$f,hg).call(this)}),jl(this,TS,e=>{e.key==="Escape"&&Ao(this,$f,hg).call(this)}),jl(this,mT,e=>{var t,i;const r=e.target;if((t=r.matches)!=null&&t.call(r,'button[invoke="copy"]')){const o=(i=r.closest("media-context-menu-item"))==null?void 0:i.querySelector('input[slot="copy"]');o&&navigator.clipboard.writeText(o.value)}Ao(this,$f,hg).call(this)}),this.setAttribute("noautohide",""),Ao(this,nE,dA).call(this)}connectedCallback(){super.connectedCallback(),Ns(this).addEventListener("contextmenu",iu(this,hT)),this.addEventListener("click",iu(this,mT))}disconnectedCallback(){super.disconnectedCallback(),Ns(this).removeEventListener("contextmenu",iu(this,hT)),this.removeEventListener("click",iu(this,mT)),document.removeEventListener("mousedown",iu(this,_S)),document.removeEventListener("keydown",iu(this,TS))}}zg=new WeakMap;nE=new WeakSet;dA=function(){this.hidden=!iu(this,zg)};$f=new WeakSet;hg=function(){sz(this,zg,!1),Ao(this,nE,dA).call(this)};oC=new WeakSet;oz=function(){document.querySelectorAll("media-context-menu").forEach(e=>{var t;e!==this&&Ao(t=e,$f,hg).call(t)})};fT=new WeakSet;HI=function(n){return n?n.hasAttribute("slot")&&n.getAttribute("slot")==="media"?!0:n.nodeName.includes("-")&&n.tagName.includes("-")?n.hasAttribute("src")||n.hasAttribute("poster")||n.hasAttribute("preload")||n.hasAttribute("playsinline"):!1:!1};hT=new WeakMap;GI=new WeakSet;lz=function(n){n.preventDefault(),Ao(this,oC,oz).call(this),sz(this,zg,!0),this.style.position="fixed",this.style.left=`${n.clientX}px`,this.style.top=`${n.clientY}px`,Ao(this,nE,dA).call(this),document.addEventListener("mousedown",iu(this,_S),{once:!0}),document.addEventListener("keydown",iu(this,TS),{once:!0})};_S=new WeakMap;TS=new WeakMap;mT=new WeakMap;uz.getTemplateHTML=xte;bt.customElements.get("media-context-menu")||bt.customElements.define("media-context-menu",uz);function Cte(n){return`
    ${Hd.getTemplateHTML.call(this,n)}
    <style>
        ::slotted(*) {
            color: var(--media-text-color, white);
            text-decoration: none;
            border: none;
            background: none;
            cursor: pointer;
            padding: 0;
            min-height: var(--media-control-height, 24px);
        }
    </style>
  `}class lC extends Hd{}lC.shadowRootOptions={mode:"open"};lC.getTemplateHTML=Cte;bt.customElements.get("media-context-menu-item")||bt.customElements.define("media-context-menu-item",lC);var cz=n=>{throw TypeError(n)},uC=(n,e,t)=>e.has(n)||cz("Cannot "+t),ha=(n,e,t)=>(uC(n,e,"read from private field"),t?t.call(n):e.get(n)),fl=(n,e,t)=>e.has(n)?cz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Eu=(n,e,t,i)=>(uC(n,e,"write to private field"),e.set(n,t),t),hr=(n,e,t)=>(uC(n,e,"access private method"),t),fA=class{addEventListener(){}removeEventListener(){}dispatchEvent(n){return!0}};if(typeof DocumentFragment>"u"){class n extends fA{}globalThis.DocumentFragment=n}var cC=class extends fA{},Dte=class extends fA{},Lte={get(n){},define(n,e,t){},getName(n){return null},upgrade(n){},whenDefined(n){return Promise.resolve(cC)}},gT,Mte=class{constructor(e,t={}){fl(this,gT),Eu(this,gT,t?.detail)}get detail(){return ha(this,gT)}initCustomEvent(){}};gT=new WeakMap;function Nte(n,e){return new cC}var dz={document:{createElement:Nte},DocumentFragment,customElements:Lte,CustomEvent:Mte,EventTarget:fA,HTMLElement:cC,HTMLVideoElement:Dte},fz=typeof window>"u"||typeof globalThis.customElements>"u",lu=fz?dz:globalThis,SS=fz?dz.document:globalThis.document;function Ote(n){let e="";return Object.entries(n).forEach(([t,i])=>{i!=null&&(e+=`${VI(t)}: ${i}; `)}),e?e.trim():void 0}function VI(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hz(n){return n.replace(/[-_]([a-z])/g,(e,t)=>t.toUpperCase())}function Ks(n){if(n==null)return;let e=+n;return Number.isNaN(e)?void 0:e}function mz(n){let e=Pte(n).toString();return e?"?"+e:""}function Pte(n){let e={};for(let t in n)n[t]!=null&&(e[t]=n[t]);return new URLSearchParams(e)}var gz=(n,e)=>!n||!e?!1:n.contains(e)?!0:gz(n,e.getRootNode().host),pz="mux.com",Ute=()=>{try{return"3.10.2"}catch{}return"UNKNOWN"},Fte=Ute(),vz=()=>Fte,Bte=(n,{token:e,customDomain:t=pz,thumbnailTime:i,programTime:r}={})=>{var o;let l=e==null?i:void 0,{aud:c}=(o=yg(e))!=null?o:{};if(!(e&&c!=="t"))return`https://image.${t}/${n}/thumbnail.webp${mz({token:e,time:l,program_time:r})}`},zte=(n,{token:e,customDomain:t=pz,programStartTime:i,programEndTime:r}={})=>{var o;let{aud:l}=(o=yg(e))!=null?o:{};if(!(e&&l!=="s"))return`https://image.${t}/${n}/storyboard.vtt${mz({token:e,format:"webp",program_start_time:i,program_end_time:r})}`},dC=n=>{if(n){if([da.LIVE,da.ON_DEMAND].includes(n))return n;if(n!=null&&n.includes("live"))return da.LIVE}},$te={crossorigin:"crossOrigin",playsinline:"playsInline"};function qte(n){var e;return(e=$te[n])!=null?e:hz(n)}var ig,ag,Ds,jte=class{constructor(e,t){fl(this,ig),fl(this,ag),fl(this,Ds,[]),Eu(this,ig,e),Eu(this,ag,t)}[Symbol.iterator](){return ha(this,Ds).values()}get length(){return ha(this,Ds).length}get value(){var e;return(e=ha(this,Ds).join(" "))!=null?e:""}set value(e){var t;e!==this.value&&(Eu(this,Ds,[]),this.add(...(t=e?.split(" "))!=null?t:[]))}toString(){return this.value}item(e){return ha(this,Ds)[e]}values(){return ha(this,Ds).values()}keys(){return ha(this,Ds).keys()}forEach(e){ha(this,Ds).forEach(e)}add(...e){var t,i;e.forEach(r=>{this.contains(r)||ha(this,Ds).push(r)}),!(this.value===""&&!((t=ha(this,ig))!=null&&t.hasAttribute(`${ha(this,ag)}`)))&&((i=ha(this,ig))==null||i.setAttribute(`${ha(this,ag)}`,`${this.value}`))}remove(...e){var t;e.forEach(i=>{ha(this,Ds).splice(ha(this,Ds).indexOf(i),1)}),(t=ha(this,ig))==null||t.setAttribute(`${ha(this,ag)}`,`${this.value}`)}contains(e){return ha(this,Ds).includes(e)}toggle(e,t){return typeof t<"u"?t?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,t){this.remove(e),this.add(t)}};ig=new WeakMap,ag=new WeakMap,Ds=new WeakMap;var yz=`[mux-player ${vz()}]`;function tc(...n){console.warn(yz,...n)}function wo(...n){console.error(yz,...n)}function Ez(n){var e;let t=(e=n.message)!=null?e:"";n.context&&(t+=` ${n.context}`),n.file&&(t+=` ${ai("Read more: ")}
https://github.com/muxinc/elements/blob/main/errors/${n.file}`),tc(t)}var rs={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},Pf={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},sO=Object.freeze({length:0,start(n){let e=n>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(n){let e=n>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),Hte=Object.values(rs).filter(n=>rs.PLAYSINLINE!==n),Gte=Object.values(Pf),Vte=[...Hte,...Gte],Kte=class extends lu.HTMLElement{static get observedAttributes(){return Vte}constructor(){super()}attributeChangedCallback(n,e,t){var i,r;switch(n){case Pf.MUTED:{this.media&&(this.media.muted=t!=null,this.media.defaultMuted=t!=null);return}case Pf.VOLUME:{let o=(i=Ks(t))!=null?i:1;this.media&&(this.media.volume=o);return}case Pf.PLAYBACKRATE:{let o=(r=Ks(t))!=null?r:1;this.media&&(this.media.playbackRate=o,this.media.defaultPlaybackRate=o);return}}}play(){var n,e;return(e=(n=this.media)==null?void 0:n.play())!=null?e:Promise.reject()}pause(){var n;(n=this.media)==null||n.pause()}load(){var n;(n=this.media)==null||n.load()}get media(){var n;return(n=this.shadowRoot)==null?void 0:n.querySelector("mux-video")}get audioTracks(){return this.media.audioTracks}get videoTracks(){return this.media.videoTracks}get audioRenditions(){return this.media.audioRenditions}get videoRenditions(){return this.media.videoRenditions}get paused(){var n,e;return(e=(n=this.media)==null?void 0:n.paused)!=null?e:!0}get duration(){var n,e;return(e=(n=this.media)==null?void 0:n.duration)!=null?e:NaN}get ended(){var n,e;return(e=(n=this.media)==null?void 0:n.ended)!=null?e:!1}get buffered(){var n,e;return(e=(n=this.media)==null?void 0:n.buffered)!=null?e:sO}get seekable(){var n,e;return(e=(n=this.media)==null?void 0:n.seekable)!=null?e:sO}get readyState(){var n,e;return(e=(n=this.media)==null?void 0:n.readyState)!=null?e:0}get videoWidth(){var n,e;return(e=(n=this.media)==null?void 0:n.videoWidth)!=null?e:0}get videoHeight(){var n,e;return(e=(n=this.media)==null?void 0:n.videoHeight)!=null?e:0}get currentSrc(){var n,e;return(e=(n=this.media)==null?void 0:n.currentSrc)!=null?e:""}get currentTime(){var n,e;return(e=(n=this.media)==null?void 0:n.currentTime)!=null?e:0}set currentTime(n){this.media&&(this.media.currentTime=Number(n))}get volume(){var n,e;return(e=(n=this.media)==null?void 0:n.volume)!=null?e:1}set volume(n){this.media&&(this.media.volume=Number(n))}get playbackRate(){var n,e;return(e=(n=this.media)==null?void 0:n.playbackRate)!=null?e:1}set playbackRate(n){this.media&&(this.media.playbackRate=Number(n))}get defaultPlaybackRate(){var n;return(n=Ks(this.getAttribute(Pf.PLAYBACKRATE)))!=null?n:1}set defaultPlaybackRate(n){n!=null?this.setAttribute(Pf.PLAYBACKRATE,`${n}`):this.removeAttribute(Pf.PLAYBACKRATE)}get crossOrigin(){return Uv(this,rs.CROSSORIGIN)}set crossOrigin(n){this.setAttribute(rs.CROSSORIGIN,`${n}`)}get autoplay(){return Uv(this,rs.AUTOPLAY)!=null}set autoplay(n){n?this.setAttribute(rs.AUTOPLAY,typeof n=="string"?n:""):this.removeAttribute(rs.AUTOPLAY)}get loop(){return Uv(this,rs.LOOP)!=null}set loop(n){n?this.setAttribute(rs.LOOP,""):this.removeAttribute(rs.LOOP)}get muted(){var n,e;return(e=(n=this.media)==null?void 0:n.muted)!=null?e:!1}set muted(n){this.media&&(this.media.muted=!!n)}get defaultMuted(){return Uv(this,rs.MUTED)!=null}set defaultMuted(n){n?this.setAttribute(rs.MUTED,""):this.removeAttribute(rs.MUTED)}get playsInline(){return Uv(this,rs.PLAYSINLINE)!=null}set playsInline(n){wo("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(n){["","none","metadata","auto"].includes(n)?this.setAttribute(rs.PRELOAD,n):this.removeAttribute(rs.PRELOAD)}};function Uv(n,e){return n.media?n.media.getAttribute(e):n.getAttribute(e)}var oO=Kte,Yte=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-menu-button-display: var(--captions-menu-button, var(--media-captions-button-display));
  --media-rendition-menu-button-display: var(--rendition-menu-button);
  --media-audio-track-menu-button-display: var(--audio-track-menu-button);
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button, var(--_cast-button-drm-display));
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-playback-rate-menu-button-display: var(--playback-rate-menu-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  line-height: 0;
  width: 100%;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
  direction: ltr;
}

media-poster-image {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
}

media-poster-image:not([src]):not([placeholdersrc]) {
  display: none;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--top-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--top-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--top-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --captions-menu-button,
    var(--media-playback-rate-button-display, var(--top-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--center-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--center-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--center-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--center-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--bottom-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--bottom-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--bottom-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--bottom-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}

:host([no-tooltips]) {
  --media-tooltip-display: none;
}
`,Fv=new WeakMap,Wte=class bz{constructor(e,t){this.element=e,this.type=t,this.element.addEventListener(this.type,this);let i=Fv.get(this.element);i&&i.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let t=Fv.get(this.element);t&&t.delete(this.type)}}static for(e){Fv.has(e.element)||Fv.set(e.element,new Map);let t=e.attributeName.slice(2),i=Fv.get(e.element);return i&&i.has(t)?i.get(t):new bz(e.element,t)}};function Qte(n,e){return n instanceof yl&&n.attributeName.startsWith("on")?(Wte.for(n).set(e),n.element.removeAttributeNS(n.attributeNamespace,n.attributeName),!0):!1}function Xte(n,e){return e instanceof _z&&n instanceof Wg?(e.renderInto(n),!0):!1}function Zte(n,e){return e instanceof DocumentFragment&&n instanceof Wg?(e.childNodes.length&&n.replace(...e.childNodes),!0):!1}function Jte(n,e){if(n instanceof yl){let t=n.attributeNamespace,i=n.element.getAttributeNS(t,n.attributeName);return String(e)!==i&&(n.value=String(e)),!0}return n.value=String(e),!0}function ene(n,e){if(n instanceof yl&&e instanceof Element){let t=n.element;return t[n.attributeName]!==e&&(n.element.removeAttributeNS(n.attributeNamespace,n.attributeName),t[n.attributeName]=e),!0}return!1}function tne(n,e){if(typeof e=="boolean"&&n instanceof yl){let t=n.attributeNamespace,i=n.element.hasAttributeNS(t,n.attributeName);return e!==i&&(n.booleanValue=e),!0}return!1}function nne(n,e){return e===!1&&n instanceof Wg?(n.replace(""),!0):!1}function ine(n,e){ene(n,e)||tne(n,e)||Qte(n,e)||nne(n,e)||Xte(n,e)||Zte(n,e)||Jte(n,e)}var T1=new Map,lO=new WeakMap,uO=new WeakMap,_z=class{constructor(e,t,i){this.strings=e,this.values=t,this.processor=i,this.stringsKey=this.strings.join("")}get template(){if(T1.has(this.stringsKey))return T1.get(this.stringsKey);{let e=SS.createElement("template"),t=this.strings.length-1;return e.innerHTML=this.strings.reduce((i,r,o)=>i+r+(o<t?`{{ ${o} }}`:""),""),T1.set(this.stringsKey,e),e}}renderInto(e){var t;let i=this.template;if(lO.get(e)!==i){lO.set(e,i);let o=new lA(i,this.values,this.processor);uO.set(e,o),e instanceof Wg?e.replace(...o.children):e.appendChild(o);return}let r=uO.get(e);(t=r?.update)==null||t.call(r,this.values)}},ane={processCallback(n,e,t){var i;if(t){for(let[r,o]of e)if(r in t){let l=(i=t[r])!=null?i:"";ine(o,l)}}}};function pT(n,...e){return new _z(n,e,ane)}function rne(n,e){n.renderInto(e)}var sne=n=>{let{tokens:e}=n;return e.drm?":host(:not([cast-receiver])) { --_cast-button-drm-display: none; }":""},one=n=>pT`
  <style>
    ${sne(n)}
    ${Yte}
  </style>
  ${dne(n)}
`,lne=n=>{let e=n.hotKeys?`${n.hotKeys}`:"";return dC(n.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},une={TOP:"top",CENTER:"center",BOTTOM:"bottom",LAYER:"layer",MEDIA_LAYER:"media-layer",POSTER_LAYER:"poster-layer",VERTICAL_LAYER:"vertical-layer",CENTERED_LAYER:"centered-layer",GESTURE_LAYER:"gesture-layer",CONTROLLER_LAYER:"controller",BUTTON:"button",RANGE:"range",THUMB:"thumb",DISPLAY:"display",CONTROL_BAR:"control-bar",MENU_BUTTON:"menu-button",MENU:"menu",MENU_ITEM:"menu-item",OPTION:"option",POSTER:"poster",LIVE:"live",PLAY:"play",PRE_PLAY:"pre-play",SEEK_BACKWARD:"seek-backward",SEEK_FORWARD:"seek-forward",MUTE:"mute",CAPTIONS:"captions",AIRPLAY:"airplay",PIP:"pip",FULLSCREEN:"fullscreen",CAST:"cast",PLAYBACK_RATE:"playback-rate",VOLUME:"volume",TIME:"time",TITLE:"title",AUDIO_TRACK:"audio-track",RENDITION:"rendition"},cne=Object.values(une).join(", "),dne=n=>{var e,t,i,r,o,l,c,f,h,g,m,p,y,E,A,w,M,x,C,O,z,se,F,H,be,Ae,Me,Ve,Se,He,Ue,he,$e,Ye,tt,rt,De,We;return pT`
  <media-theme
    template="${n.themeTemplate||!1}"
    defaultstreamtype="${(e=n.defaultStreamType)!=null?e:!1}"
    hotkeys="${lne(n)||!1}"
    nohotkeys="${n.noHotKeys||!n.hasSrc||!1}"
    noautoseektolive="${!!((t=n.streamType)!=null&&t.includes(da.LIVE))&&n.targetLiveWindow!==0}"
    novolumepref="${n.novolumepref||!1}"
    nomutedpref="${n.nomutedpref||!1}"
    disabled="${!n.hasSrc||n.isDialogOpen}"
    audio="${(i=n.audio)!=null?i:!1}"
    style="${(r=Ote({"--media-primary-color":n.primaryColor,"--media-secondary-color":n.secondaryColor,"--media-accent-color":n.accentColor}))!=null?r:!1}"
    defaultsubtitles="${!n.defaultHiddenCaptions}"
    forwardseekoffset="${(o=n.forwardSeekOffset)!=null?o:!1}"
    backwardseekoffset="${(l=n.backwardSeekOffset)!=null?l:!1}"
    playbackrates="${(c=n.playbackRates)!=null?c:!1}"
    defaultshowremainingtime="${(f=n.defaultShowRemainingTime)!=null?f:!1}"
    defaultduration="${(h=n.defaultDuration)!=null?h:!1}"
    hideduration="${(g=n.hideDuration)!=null?g:!1}"
    title="${(m=n.title)!=null?m:!1}"
    videotitle="${(p=n.videoTitle)!=null?p:!1}"
    proudlydisplaymuxbadge="${(y=n.proudlyDisplayMuxBadge)!=null?y:!1}"
    exportparts="${cne}"
    onclose="${n.onCloseErrorDialog}"
    onfocusin="${n.onFocusInErrorDialog}"
  >
    <mux-video
      slot="media"
      inert="${(E=n.noHotKeys)!=null?E:!1}"
      target-live-window="${(A=n.targetLiveWindow)!=null?A:!1}"
      stream-type="${(w=dC(n.streamType))!=null?w:!1}"
      crossorigin="${(M=n.crossOrigin)!=null?M:""}"
      playsinline
      autoplay="${(x=n.autoplay)!=null?x:!1}"
      muted="${(C=n.muted)!=null?C:!1}"
      loop="${(O=n.loop)!=null?O:!1}"
      preload="${(z=n.preload)!=null?z:!1}"
      debug="${(se=n.debug)!=null?se:!1}"
      prefer-cmcd="${(F=n.preferCmcd)!=null?F:!1}"
      disable-tracking="${(H=n.disableTracking)!=null?H:!1}"
      disable-cookies="${(be=n.disableCookies)!=null?be:!1}"
      prefer-playback="${(Ae=n.preferPlayback)!=null?Ae:!1}"
      start-time="${n.startTime!=null?n.startTime:!1}"
      beacon-collection-domain="${(Me=n.beaconCollectionDomain)!=null?Me:!1}"
      player-init-time="${(Ve=n.playerInitTime)!=null?Ve:!1}"
      player-software-name="${(Se=n.playerSoftwareName)!=null?Se:!1}"
      player-software-version="${(He=n.playerSoftwareVersion)!=null?He:!1}"
      env-key="${(Ue=n.envKey)!=null?Ue:!1}"
      custom-domain="${(he=n.customDomain)!=null?he:!1}"
      src="${n.src?n.src:n.playbackId?qR(n):!1}"
      cast-src="${n.src?n.src:n.playbackId?qR(n):!1}"
      cast-receiver="${($e=n.castReceiver)!=null?$e:!1}"
      drm-token="${(tt=(Ye=n.tokens)==null?void 0:Ye.drm)!=null?tt:!1}"
      exportparts="video"
      disable-pseudo-ended="${(rt=n.disablePseudoEnded)!=null?rt:!1}"
      max-auto-resolution="${(De=n.maxAutoResolution)!=null?De:!1}"
    >
      ${n.storyboard?pT`<track label="thumbnails" default kind="metadata" src="${n.storyboard}" />`:pT``}
      <slot></slot>
    </mux-video>
    <slot name="poster" slot="poster">
      <media-poster-image
        part="poster"
        exportparts="poster, img"
        src="${n.poster?n.poster:!1}"
        placeholdersrc="${(We=n.placeholder)!=null?We:!1}"
      ></media-poster-image>
    </slot>
  </media-theme>
`},Tz=n=>n.charAt(0).toUpperCase()+n.slice(1),fne=(n,e=!1)=>{var t,i;if(n.muxCode){let r=Tz((t=n.errorCategory)!=null?t:"video"),o=KS((i=n.errorCategory)!=null?i:xa.VIDEO);if(n.muxCode===li.NETWORK_OFFLINE)return ai("Your device appears to be offline",e);if(n.muxCode===li.NETWORK_TOKEN_EXPIRED)return ai("{category} URL has expired",e).format({category:r});if([li.NETWORK_TOKEN_SUB_MISMATCH,li.NETWORK_TOKEN_AUD_MISMATCH,li.NETWORK_TOKEN_AUD_MISSING,li.NETWORK_TOKEN_MALFORMED].includes(n.muxCode))return ai("{category} URL is formatted incorrectly",e).format({category:r});if(n.muxCode===li.NETWORK_TOKEN_MISSING)return ai("Invalid {categoryName} URL",e).format({categoryName:o});if(n.muxCode===li.NETWORK_NOT_FOUND)return ai("{category} does not exist",e).format({category:r});if(n.muxCode===li.NETWORK_NOT_READY){let l=n.streamType==="live"?"Live stream":"Video";return ai("{mediaType} is not currently available",e).format({mediaType:l})}}if(n.code){if(n.code===Fn.MEDIA_ERR_NETWORK)return ai("Network Error",e);if(n.code===Fn.MEDIA_ERR_DECODE)return ai("Media Error",e);if(n.code===Fn.MEDIA_ERR_SRC_NOT_SUPPORTED)return ai("Source Not Supported",e)}return ai("Error",e)},hne=(n,e=!1)=>{var t,i;if(n.muxCode){let r=Tz((t=n.errorCategory)!=null?t:"video"),o=KS((i=n.errorCategory)!=null?i:xa.VIDEO);return n.muxCode===li.NETWORK_OFFLINE?ai("Check your internet connection and try reloading this video.",e):n.muxCode===li.NETWORK_TOKEN_EXPIRED?ai("The videos secured {tokenNamePrefix}-token has expired.",e).format({tokenNamePrefix:o}):n.muxCode===li.NETWORK_TOKEN_SUB_MISMATCH?ai("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",e).format({tokenNamePrefix:o}):n.muxCode===li.NETWORK_TOKEN_MALFORMED?ai("{category} URL is formatted incorrectly",e).format({category:r}):[li.NETWORK_TOKEN_AUD_MISMATCH,li.NETWORK_TOKEN_AUD_MISSING].includes(n.muxCode)?ai("The {tokenNamePrefix}-token is formatted with incorrect information.",e).format({tokenNamePrefix:o}):[li.NETWORK_TOKEN_MISSING,li.NETWORK_INVALID_URL].includes(n.muxCode)?ai("The video URL or {tokenNamePrefix}-token are formatted with incorrect or incomplete information.",e).format({tokenNamePrefix:o}):n.muxCode===li.NETWORK_NOT_FOUND?"":n.message}return n.code&&(n.code===Fn.MEDIA_ERR_NETWORK||n.code===Fn.MEDIA_ERR_DECODE||(n.code,Fn.MEDIA_ERR_SRC_NOT_SUPPORTED)),n.message},mne=(n,e=!1)=>{let t=fne(n,e).toString(),i=hne(n,e).toString();return{title:t,message:i}},gne=n=>{if(n.muxCode){if(n.muxCode===li.NETWORK_TOKEN_EXPIRED)return"403-expired-token.md";if(n.muxCode===li.NETWORK_TOKEN_MALFORMED)return"403-malformatted-token.md";if([li.NETWORK_TOKEN_AUD_MISMATCH,li.NETWORK_TOKEN_AUD_MISSING].includes(n.muxCode))return"403-incorrect-aud-value.md";if(n.muxCode===li.NETWORK_TOKEN_SUB_MISMATCH)return"403-playback-id-mismatch.md";if(n.muxCode===li.NETWORK_TOKEN_MISSING)return"missing-signed-tokens.md";if(n.muxCode===li.NETWORK_NOT_FOUND)return"404-not-found.md";if(n.muxCode===li.NETWORK_NOT_READY)return"412-not-playable.md"}if(n.code){if(n.code===Fn.MEDIA_ERR_NETWORK)return"";if(n.code===Fn.MEDIA_ERR_DECODE)return"media-decode-error.md";if(n.code===Fn.MEDIA_ERR_SRC_NOT_SUPPORTED)return"media-src-not-supported.md"}return""},cO=(n,e)=>{let t=gne(n);return{message:n.message,context:n.context,file:t}},pne=`<template id="media-theme-gerwig">
  <style>
    @keyframes pre-play-hide {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      30% {
        transform: scale(0.7);
      }

      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    :host {
      --_primary-color: var(--media-primary-color, #fff);
      --_secondary-color: var(--media-secondary-color, transparent);
      --_accent-color: var(--media-accent-color, #fa50b5);
      --_text-color: var(--media-text-color, #000);

      --media-icon-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_accent-color);
      --media-time-buffered-color: rgba(255, 255, 255, 0.4);
      --media-preview-time-text-shadow: none;
      --media-control-height: 14px;
      --media-control-padding: 6px;
      --media-tooltip-container-margin: 6px;
      --media-tooltip-distance: 18px;

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --_secondary-color: var(--media-secondary-color, black);
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
      background-color: var(--media-control-background);
    }

    /*
     * 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast.
     */
    media-controller {
      --media-webkit-text-track-transform: translateY(0) scale(0.98);
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused], :not([userinactive])) {
      --media-webkit-text-track-transform: translateY(-50px) scale(0.98);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    /*
     * CSS specific to iOS devices.
     * See: https://stackoverflow.com/questions/30102792/css-media-query-to-target-only-ios-devices/60220757#60220757
     */
    @supports (-webkit-touch-callout: none) {
      /* Disable subtitle adjusting for iOS Safari */
      media-controller[mediaisfullscreen] {
        --media-webkit-text-track-transform: unset;
        --media-webkit-text-track-transition: unset;
      }
    }

    media-time-range {
      --media-box-padding-left: 6px;
      --media-box-padding-right: 6px;
      --media-range-bar-color: var(--_accent-color);
      --media-time-range-buffered-color: var(--_primary-color);
      --media-range-track-color: transparent;
      --media-range-track-background: rgba(255, 255, 255, 0.4);
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_accent-color) 25%,
        var(--_accent-color)
      );
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-transform: scale(0);
      --media-range-thumb-transition: transform 0.3s;
      --media-range-thumb-opacity: 1;
      --media-preview-background: var(--_primary-color);
      --media-box-arrow-background: var(--_primary-color);
      --media-preview-thumbnail-border: 5px solid var(--_primary-color);
      --media-preview-border-radius: 5px;
      --media-text-color: var(--_text-color);
      --media-control-hover-background: transparent;
      --media-preview-chapter-text-shadow: none;
      color: var(--_accent-color);
      padding: 0 6px;
    }

    :host([audio]) media-time-range {
      --media-preview-time-padding: 1.5px 6px;
      --media-preview-box-margin: 0 0 -5px;
    }

    media-time-range:hover {
      --media-range-thumb-transform: scale(1);
    }

    media-preview-thumbnail {
      border-bottom-width: 0;
    }

    [part~='menu'] {
      border-radius: 2px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      bottom: 50px;
      padding: 2.5px 10px;
    }

    [part~='menu']::part(indicator) {
      fill: var(--_accent-color);
    }

    [part~='menu']::part(menu-item) {
      box-sizing: border-box;
      display: flex;
      align-items: center;
      padding: 6px 10px;
      min-height: 34px;
    }

    [part~='menu']::part(checked) {
      font-weight: 700;
    }

    media-captions-menu,
    media-rendition-menu,
    media-audio-track-menu,
    media-playback-rate-menu {
      position: absolute; /* ensure they don't take up space in DOM on load */
      --media-menu-background: var(--_primary-color);
      --media-menu-item-checked-background: transparent;
      --media-text-color: var(--_text-color);
      --media-menu-item-hover-background: transparent;
      --media-menu-item-hover-outline: var(--_accent-color) solid 1px;
    }

    media-rendition-menu {
      min-width: 140px;
    }

    /* The icon is a circle so make it 16px high instead of 14px for more balance. */
    media-audio-track-menu-button {
      --media-control-padding: 5px;
      --media-control-height: 16px;
    }

    media-playback-rate-menu-button {
      --media-control-padding: 6px 3px;
      min-width: 4.4ch;
    }

    media-playback-rate-menu {
      --media-menu-flex-direction: row;
      --media-menu-item-checked-background: var(--_accent-color);
      --media-menu-item-checked-indicator-display: none;
      margin-right: 6px;
      padding: 0;
      --media-menu-gap: 0.25em;
    }

    media-playback-rate-menu[part~='menu']::part(menu-item) {
      padding: 6px 6px 6px 8px;
    }

    media-playback-rate-menu[part~='menu']::part(checked) {
      color: #fff;
    }

    :host(:not([audio])) media-time-range {
      /* Adding px is required here for calc() */
      --media-range-padding: 0px;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is([part*='button'], [part*='range'], [part*='display']) {
      border-radius: 3px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot~='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    media-control-bar {
      --gradient-steps:
        hsl(0 0% 0% / 0) 0%, hsl(0 0% 0% / 0.013) 8.1%, hsl(0 0% 0% / 0.049) 15.5%, hsl(0 0% 0% / 0.104) 22.5%,
        hsl(0 0% 0% / 0.175) 29%, hsl(0 0% 0% / 0.259) 35.3%, hsl(0 0% 0% / 0.352) 41.2%, hsl(0 0% 0% / 0.45) 47.1%,
        hsl(0 0% 0% / 0.55) 52.9%, hsl(0 0% 0% / 0.648) 58.8%, hsl(0 0% 0% / 0.741) 64.7%, hsl(0 0% 0% / 0.825) 71%,
        hsl(0 0% 0% / 0.896) 77.5%, hsl(0 0% 0% / 0.951) 84.5%, hsl(0 0% 0% / 0.987) 91.9%, hsl(0 0% 0%) 100%;
    }

    :host([title]) media-control-bar[slot='top-chrome']::before,
    :host([videotitle]) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to top, var(--gradient-steps));
      opacity: 0.8;
      pointer-events: none;
    }

    :host(:not([audio])) media-control-bar[part~='bottom']::before {
      content: '';
      position: absolute;
      width: 100%;
      bottom: 0;
      left: 0;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to bottom, var(--gradient-steps));
      opacity: 0.8;
      z-index: 1;
      pointer-events: none;
    }

    media-control-bar[part~='bottom'] > * {
      z-index: 20;
    }

    media-control-bar[part~='bottom'] {
      padding: 6px 6px;
    }

    media-control-bar[slot~='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      --media-tooltip-display: none;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      --media-control-padding: 0;
      width: 40px;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    [breakpointsm] .center-controls media-play-button {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      transition: background 0.4s;
      padding: 24px;
      --media-control-background: #000;
      --media-control-hover-background: var(--_accent-color);
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 20px;
      width: max(33px, min(8%, 40px));
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback {
      display: grid;
      align-items: initial;
      justify-content: initial;
      height: 100%;
      overflow: hidden;
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback media-play-button {
      place-self: var(--_pre-playback-place, center);
      grid-area: 1 / 1;
      margin: 16px;
    }

    /* Show and hide controls or pre-playback state */

    [breakpointsm]:is([mediahasplayed], :not([mediapaused])):not([audio])
      .center-controls.pre-playback
      media-play-button {
      /* Using \`forwards\` would lead to a laggy UI after the animation got in the end state */
      animation: 0.3s linear pre-play-hide;
      opacity: 0;
      pointer-events: none;
    }

    .autoplay-unmute {
      --media-control-hover-background: transparent;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    .autoplay-unmute-btn {
      --media-control-height: 16px;
      border-radius: 8px;
      background: #000;
      color: var(--_primary-color);
      display: flex;
      align-items: center;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
    }

    .autoplay-unmute-btn:hover {
      background: var(--_accent-color);
    }

    [breakpointsm] .autoplay-unmute-btn {
      --media-control-height: 30px;
      padding: 14px 24px;
      font-size: 26px;
    }

    .autoplay-unmute-btn svg {
      margin: 0 6px 0 0;
    }

    [breakpointsm] .autoplay-unmute-btn svg {
      margin: 0 10px 0 0;
    }

    media-controller:not([audio]):not([mediahasplayed]) *:is(media-control-bar, media-time-range) {
      display: none;
    }

    media-error-dialog:not([mediaerrorcode]) {
      opacity: 0;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
      --media-range-padding-left: 10px;
      --media-range-padding-right: 10px;
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_primary-color) 25%,
        var(--_primary-color)
      );
      --media-control-hover-background: none;
    }

    media-time-display {
      white-space: nowrap;
    }

    /* Generic style for explicitly disabled controls */
    media-control-bar[part~='bottom'] [disabled],
    media-control-bar[part~='bottom'] [aria-disabled='true'] {
      opacity: 60%;
      cursor: not-allowed;
    }

    media-text-display {
      --media-font-size: 16px;
      --media-control-padding: 14px;
      font-weight: 500;
    }

    media-play-button.animated *:is(g, path) {
      transition: all 0.3s;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt1 {
      opacity: 0;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt2 {
      transform-origin: center center;
      transform: scaleY(0);
    }

    media-play-button.animated[mediapaused] .play-icon {
      clip-path: inset(0 0 0 0);
    }

    media-play-button.animated:not([mediapaused]) .play-icon {
      clip-path: inset(0 0 0 100%);
    }

    media-seek-forward-button,
    media-seek-backward-button {
      --media-font-weight: 400;
    }

    .mute-icon {
      display: inline-block;
    }

    .mute-icon :is(path, g) {
      transition: opacity 0.5s;
    }

    .muted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='low'] :is(.volume-medium, .volume-high),
    media-mute-button[mediavolumelevel='medium'] :is(.volume-high) {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .unmuted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .muted {
      opacity: 1;
    }

    /**
     * Our defaults for these buttons are to hide them at small sizes
     * users can override this with CSS
     */
    media-controller:not([breakpointsm]):not([audio]) {
      --bottom-play-button: none;
      --bottom-seek-backward-button: none;
      --bottom-seek-forward-button: none;
      --bottom-time-display: none;
      --bottom-playback-rate-menu-button: none;
      --bottom-pip-button: none;
    }

    [part='mux-badge'] {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 2;
      opacity: 0.6;
      transition:
        opacity 0.2s ease-in-out,
        bottom 0.2s ease-in-out;
    }

    [part='mux-badge']:hover {
      opacity: 1;
    }

    [part='mux-badge'] a {
      font-size: 14px;
      font-family: var(--_font-family);
      color: var(--_primary-color);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    [part='mux-badge'] .mux-badge-text {
      transition: opacity 0.5s ease-in-out;
      opacity: 0;
    }

    [part='mux-badge'] .mux-badge-logo {
      width: 40px;
      height: auto;
      display: inline-block;
    }

    [part='mux-badge'] .mux-badge-logo svg {
      width: 100%;
      height: 100%;
      fill: white;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'],
    media-controller:not([userinactive]) [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      transition: bottom 0.1s ease-in-out;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      transition: bottom 0.2s ease-in-out 0.62s;
    }

    media-controller:not([userinactive]) [part='mux-badge'] .mux-badge-text,
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] .mux-badge-text {
      opacity: 1;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] .mux-badge-text {
      opacity: 0;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive])[mediahasplayed] [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      bottom: calc(28px + var(--media-control-height, 0px) + var(--media-control-padding, 0px) * 2);
    }
  </style>

  <template partial="TitleDisplay">
    <template if="videotitle">
      <template if="videotitle != true">
        <media-text-display part="top title display" class="title-display">{{videotitle}}</media-text-display>
      </template>
    </template>
    <template if="!videotitle">
      <template if="title">
        <media-text-display part="top title display" class="title-display">{{title}}</media-text-display>
      </template>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      class="animated"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon">
        <g class="play-icon">
          <path
            d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
          />
        </g>
        <g class="pause-icon">
          <path
            class="pause-icon-pt1"
            d="M5.90709 0H2.96889C2.46857 0 2.06299 0.405585 2.06299 0.9059V13.0941C2.06299 13.5944 2.46857 14 2.96889 14H5.90709C6.4074 14 6.81299 13.5944 6.81299 13.0941V0.9059C6.81299 0.405585 6.4074 0 5.90709 0Z"
          />
          <path
            class="pause-icon-pt2"
            d="M15.1571 0H12.2189C11.7186 0 11.313 0.405585 11.313 0.9059V13.0941C11.313 13.5944 11.7186 14 12.2189 14H15.1571C15.6574 14 16.063 13.5944 16.063 13.0941V0.9059C16.063 0.405585 15.6574 0 15.1571 0Z"
          />
        </g>
      </svg>
    </media-play-button>
  </template>

  <template partial="PrePlayButton">
    <media-play-button
      part="{{section ?? 'center'}} play button pre-play"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon" style="transform: translate(3px, 0)">
        <path
          d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <path
          d="M3.65 2.07888L0.0864 6.7279C-0.0288 6.87812 -0.0288 7.12188 0.0864 7.2721L3.65 11.9211C3.7792 12.0896 4 11.9703 4 11.7321V2.26787C4 2.02968 3.7792 1.9104 3.65 2.07888Z"
        />
        <text transform="translate(6 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <g>
          <text transform="translate(-1 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
            {{forwardseekoffset}}
          </text>
          <path
            d="M18.35 11.9211L21.9136 7.2721C22.0288 7.12188 22.0288 6.87812 21.9136 6.7279L18.35 2.07888C18.2208 1.91041 18 2.02968 18 2.26787V11.7321C18 11.9703 18.2208 12.0896 18.35 11.9211Z"
          />
        </g>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" slot="icon" class="mute-icon" aria-hidden="true">
        <g class="unmuted">
          <path
            d="M6.76786 1.21233L3.98606 3.98924H1.19937C0.593146 3.98924 0.101743 4.51375 0.101743 5.1607V6.96412L0 6.99998L0.101743 7.03583V8.83926C0.101743 9.48633 0.593146 10.0108 1.19937 10.0108H3.98606L6.76773 12.7877C7.23561 13.2547 8 12.9007 8 12.2171V1.78301C8 1.09925 7.23574 0.745258 6.76786 1.21233Z"
          />
          <path
            class="volume-low"
            d="M10 3.54781C10.7452 4.55141 11.1393 5.74511 11.1393 6.99991C11.1393 8.25471 10.7453 9.44791 10 10.4515L10.7988 11.0496C11.6734 9.87201 12.1356 8.47161 12.1356 6.99991C12.1356 5.52821 11.6735 4.12731 10.7988 2.94971L10 3.54781Z"
          />
          <path
            class="volume-medium"
            d="M12.3778 2.40086C13.2709 3.76756 13.7428 5.35806 13.7428 7.00026C13.7428 8.64246 13.2709 10.233 12.3778 11.5992L13.2106 12.1484C14.2107 10.6185 14.739 8.83796 14.739 7.00016C14.739 5.16236 14.2107 3.38236 13.2106 1.85156L12.3778 2.40086Z"
          />
          <path
            class="volume-high"
            d="M15.5981 0.75L14.7478 1.2719C15.7937 2.9919 16.3468 4.9723 16.3468 7C16.3468 9.0277 15.7937 11.0082 14.7478 12.7281L15.5981 13.25C16.7398 11.3722 17.343 9.211 17.343 7C17.343 4.789 16.7398 2.6268 15.5981 0.75Z"
          />
        </g>
        <g class="muted">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.39976 4.98924H1.19937C1.19429 4.98924 1.17777 4.98961 1.15296 5.01609C1.1271 5.04369 1.10174 5.09245 1.10174 5.1607V8.83926C1.10174 8.90761 1.12714 8.95641 1.15299 8.984C1.17779 9.01047 1.1943 9.01084 1.19937 9.01084H4.39977L7 11.6066V2.39357L4.39976 4.98924ZM7.47434 1.92006C7.4743 1.9201 7.47439 1.92002 7.47434 1.92006V1.92006ZM6.76773 12.7877L3.98606 10.0108H1.19937C0.593146 10.0108 0.101743 9.48633 0.101743 8.83926V7.03583L0 6.99998L0.101743 6.96412V5.1607C0.101743 4.51375 0.593146 3.98924 1.19937 3.98924H3.98606L6.76786 1.21233C7.23574 0.745258 8 1.09925 8 1.78301V12.2171C8 12.9007 7.23561 13.2547 6.76773 12.7877Z"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M15.2677 9.30323C15.463 9.49849 15.7796 9.49849 15.9749 9.30323C16.1701 9.10796 16.1701 8.79138 15.9749 8.59612L14.2071 6.82841L15.9749 5.06066C16.1702 4.8654 16.1702 4.54882 15.9749 4.35355C15.7796 4.15829 15.4631 4.15829 15.2678 4.35355L13.5 6.1213L11.7322 4.35348C11.537 4.15822 11.2204 4.15822 11.0251 4.35348C10.8298 4.54874 10.8298 4.86532 11.0251 5.06058L12.7929 6.82841L11.0251 8.59619C10.8299 8.79146 10.8299 9.10804 11.0251 9.3033C11.2204 9.49856 11.537 9.49856 11.7323 9.3033L13.5 7.53552L15.2677 9.30323Z"
          />
        </g>
      </svg>
    </media-mute-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M15.9891 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.989C0 13.0996 0.9004 14 2.011 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0ZM17 11.9891C17 12.5465 16.5465 13 15.9891 13H2.011C1.4536 13 1.0001 12.5465 1.0001 11.9891V2.0109C1.0001 1.4535 1.4536 0.9999 2.011 0.9999H15.9891C16.5465 0.9999 17 1.4535 17 2.0109V11.9891Z"
        />
        <path
          d="M15.356 5.67822H8.19523C8.03253 5.67822 7.90063 5.81012 7.90063 5.97282V11.3836C7.90063 11.5463 8.03253 11.6782 8.19523 11.6782H15.356C15.5187 11.6782 15.6506 11.5463 15.6506 11.3836V5.97282C15.6506 5.81012 15.5187 5.67822 15.356 5.67822Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="CaptionsMenu">
    <media-captions-menu-button part="bottom captions button">
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="on">
        <path
          d="M15.989 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9004 14 2.011 14H15.989C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.989 0ZM4.2292 8.7639C4.5954 9.1902 5.0935 9.4031 5.7233 9.4031C6.1852 9.4031 6.5544 9.301 6.8302 9.0969C7.1061 8.8933 7.2863 8.614 7.3702 8.26H8.4322C8.3062 8.884 8.0093 9.3733 7.5411 9.7273C7.0733 10.0813 6.4703 10.2581 5.732 10.2581C5.108 10.2581 4.5699 10.1219 4.1168 9.8489C3.6637 9.5759 3.3141 9.1946 3.0685 8.7058C2.8224 8.2165 2.6994 7.6511 2.6994 7.009C2.6994 6.3611 2.8224 5.7927 3.0685 5.3034C3.3141 4.8146 3.6637 4.4323 4.1168 4.1559C4.5699 3.88 5.108 3.7418 5.732 3.7418C6.4703 3.7418 7.0733 3.922 7.5411 4.2818C8.0094 4.6422 8.3062 5.1461 8.4322 5.794H7.3702C7.2862 5.4283 7.106 5.1368 6.8302 4.921C6.5544 4.7052 6.1852 4.5968 5.7233 4.5968C5.0934 4.5968 4.5954 4.8116 4.2292 5.2404C3.8635 5.6696 3.6804 6.259 3.6804 7.009C3.6804 7.7531 3.8635 8.3381 4.2292 8.7639ZM11.0974 8.7639C11.4636 9.1902 11.9617 9.4031 12.5915 9.4031C13.0534 9.4031 13.4226 9.301 13.6984 9.0969C13.9743 8.8933 14.1545 8.614 14.2384 8.26H15.3004C15.1744 8.884 14.8775 9.3733 14.4093 9.7273C13.9415 10.0813 13.3385 10.2581 12.6002 10.2581C11.9762 10.2581 11.4381 10.1219 10.985 9.8489C10.5319 9.5759 10.1823 9.1946 9.9367 8.7058C9.6906 8.2165 9.5676 7.6511 9.5676 7.009C9.5676 6.3611 9.6906 5.7927 9.9367 5.3034C10.1823 4.8146 10.5319 4.4323 10.985 4.1559C11.4381 3.88 11.9762 3.7418 12.6002 3.7418C13.3385 3.7418 13.9415 3.922 14.4093 4.2818C14.8776 4.6422 15.1744 5.1461 15.3004 5.794H14.2384C14.1544 5.4283 13.9742 5.1368 13.6984 4.921C13.4226 4.7052 13.0534 4.5968 12.5915 4.5968C11.9616 4.5968 11.4636 4.8116 11.0974 5.2404C10.7317 5.6696 10.5486 6.259 10.5486 7.009C10.5486 7.7531 10.7317 8.3381 11.0974 8.7639Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="off">
        <path
          d="M5.73219 10.258C5.10819 10.258 4.57009 10.1218 4.11699 9.8488C3.66389 9.5758 3.31429 9.1945 3.06869 8.7057C2.82259 8.2164 2.69958 7.651 2.69958 7.0089C2.69958 6.361 2.82259 5.7926 3.06869 5.3033C3.31429 4.8145 3.66389 4.4322 4.11699 4.1558C4.57009 3.8799 5.10819 3.7417 5.73219 3.7417C6.47049 3.7417 7.07348 3.9219 7.54128 4.2817C8.00958 4.6421 8.30638 5.146 8.43238 5.7939H7.37039C7.28639 5.4282 7.10618 5.1367 6.83039 4.9209C6.55459 4.7051 6.18538 4.5967 5.72348 4.5967C5.09358 4.5967 4.59559 4.8115 4.22939 5.2403C3.86369 5.6695 3.68058 6.2589 3.68058 7.0089C3.68058 7.753 3.86369 8.338 4.22939 8.7638C4.59559 9.1901 5.09368 9.403 5.72348 9.403C6.18538 9.403 6.55459 9.3009 6.83039 9.0968C7.10629 8.8932 7.28649 8.6139 7.37039 8.2599H8.43238C8.30638 8.8839 8.00948 9.3732 7.54128 9.7272C7.07348 10.0812 6.47049 10.258 5.73219 10.258Z"
        />
        <path
          d="M12.6003 10.258C11.9763 10.258 11.4382 10.1218 10.9851 9.8488C10.532 9.5758 10.1824 9.1945 9.93685 8.7057C9.69075 8.2164 9.56775 7.651 9.56775 7.0089C9.56775 6.361 9.69075 5.7926 9.93685 5.3033C10.1824 4.8145 10.532 4.4322 10.9851 4.1558C11.4382 3.8799 11.9763 3.7417 12.6003 3.7417C13.3386 3.7417 13.9416 3.9219 14.4094 4.2817C14.8777 4.6421 15.1745 5.146 15.3005 5.7939H14.2385C14.1545 5.4282 13.9743 5.1367 13.6985 4.9209C13.4227 4.7051 13.0535 4.5967 12.5916 4.5967C11.9617 4.5967 11.4637 4.8115 11.0975 5.2403C10.7318 5.6695 10.5487 6.2589 10.5487 7.0089C10.5487 7.753 10.7318 8.338 11.0975 8.7638C11.4637 9.1901 11.9618 9.403 12.5916 9.403C13.0535 9.403 13.4227 9.3009 13.6985 9.0968C13.9744 8.8932 14.1546 8.6139 14.2385 8.2599H15.3005C15.1745 8.8839 14.8776 9.3732 14.4094 9.7272C13.9416 10.0812 13.3386 10.258 12.6003 10.258Z"
        />
        <path
          d="M15.9891 1C16.5465 1 17 1.4535 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H2.0109C1.4535 13 1 12.5465 1 11.9891V2.0109C1 1.4535 1.4535 0.9999 2.0109 0.9999L15.9891 1ZM15.9891 0H2.0109C0.9003 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9003 14 2.0109 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0Z"
        />
      </svg>
    </media-captions-menu-button>
    <media-captions-menu
      hidden
      anchor="auto"
      part="bottom captions menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg></div
    ></media-captions-menu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M16.1383 0H1.8618C0.8335 0 0 0.8335 0 1.8617V10.1382C0 11.1664 0.8335 12 1.8618 12H3.076C3.1204 11.9433 3.1503 11.8785 3.2012 11.826L4.004 11H1.8618C1.3866 11 1 10.6134 1 10.1382V1.8617C1 1.3865 1.3866 0.9999 1.8618 0.9999H16.1383C16.6135 0.9999 17.0001 1.3865 17.0001 1.8617V10.1382C17.0001 10.6134 16.6135 11 16.1383 11H13.9961L14.7989 11.826C14.8499 11.8785 14.8798 11.9432 14.9241 12H16.1383C17.1665 12 18.0001 11.1664 18.0001 10.1382V1.8617C18 0.8335 17.1665 0 16.1383 0Z"
        />
        <path
          d="M9.55061 8.21903C9.39981 8.06383 9.20001 7.98633 9.00011 7.98633C8.80021 7.98633 8.60031 8.06383 8.44951 8.21903L4.09771 12.697C3.62471 13.1838 3.96961 13.9998 4.64831 13.9998H13.3518C14.0304 13.9998 14.3754 13.1838 13.9023 12.697L9.55061 8.21903Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M1.00745 4.39539L1.01445 1.98789C1.01605 1.43049 1.47085 0.978289 2.02835 0.979989L6.39375 0.992589L6.39665 -0.007411L2.03125 -0.020011C0.920646 -0.023211 0.0176463 0.874489 0.0144463 1.98509L0.00744629 4.39539H1.00745Z"
        />
        <path
          d="M17.0144 2.03431L17.0076 4.39541H18.0076L18.0144 2.03721C18.0176 0.926712 17.1199 0.0237125 16.0093 0.0205125L11.6439 0.0078125L11.641 1.00781L16.0064 1.02041C16.5638 1.02201 17.016 1.47681 17.0144 2.03431Z"
        />
        <path
          d="M16.9925 9.60498L16.9855 12.0124C16.9839 12.5698 16.5291 13.022 15.9717 13.0204L11.6063 13.0078L11.6034 14.0078L15.9688 14.0204C17.0794 14.0236 17.9823 13.1259 17.9855 12.0153L17.9925 9.60498H16.9925Z"
        />
        <path
          d="M0.985626 11.9661L0.992426 9.60498H-0.0074737L-0.0142737 11.9632C-0.0174737 13.0738 0.880226 13.9767 1.99083 13.98L6.35623 13.9926L6.35913 12.9926L1.99373 12.98C1.43633 12.9784 0.983926 12.5236 0.985626 11.9661Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M5.39655 -0.0200195L5.38955 2.38748C5.38795 2.94488 4.93315 3.39708 4.37565 3.39538L0.0103463 3.38278L0.00744629 4.38278L4.37285 4.39538C5.48345 4.39858 6.38635 3.50088 6.38965 2.39028L6.39665 -0.0200195H5.39655Z"
        />
        <path
          d="M12.6411 2.36891L12.6479 0.0078125H11.6479L11.6411 2.36601C11.6379 3.47651 12.5356 4.37951 13.6462 4.38271L18.0116 4.39531L18.0145 3.39531L13.6491 3.38271C13.0917 3.38111 12.6395 2.92641 12.6411 2.36891Z"
        />
        <path
          d="M12.6034 14.0204L12.6104 11.613C12.612 11.0556 13.0668 10.6034 13.6242 10.605L17.9896 10.6176L17.9925 9.61759L13.6271 9.60499C12.5165 9.60179 11.6136 10.4995 11.6104 11.6101L11.6034 14.0204H12.6034Z"
        />
        <path
          d="M5.359 11.6315L5.3522 13.9926H6.3522L6.359 11.6344C6.3622 10.5238 5.4645 9.62088 4.3539 9.61758L-0.0115043 9.60498L-0.0144043 10.605L4.351 10.6176C4.9084 10.6192 5.3607 11.074 5.359 11.6315Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M16.0072 0H2.0291C0.9185 0 0.0181 0.9003 0.0181 2.011V5.5009C0.357 5.5016 0.6895 5.5275 1.0181 5.5669V2.011C1.0181 1.4536 1.4716 1 2.029 1H16.0072C16.5646 1 17.0181 1.4536 17.0181 2.011V11.9891C17.0181 12.5465 16.5646 13 16.0072 13H8.4358C8.4746 13.3286 8.4999 13.6611 8.4999 13.9999H16.0071C17.1177 13.9999 18.018 13.0996 18.018 11.989V2.011C18.0181 0.9003 17.1178 0 16.0072 0ZM0 6.4999V7.4999C3.584 7.4999 6.5 10.4159 6.5 13.9999H7.5C7.5 9.8642 4.1357 6.4999 0 6.4999ZM0 8.7499V9.7499C2.3433 9.7499 4.25 11.6566 4.25 13.9999H5.25C5.25 11.1049 2.895 8.7499 0 8.7499ZM0.0181 11V14H3.0181C3.0181 12.3431 1.675 11 0.0181 11Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M15.9891 0H2.01103C0.900434 0 3.35947e-05 0.9003 3.35947e-05 2.011V5.5009C0.338934 5.5016 0.671434 5.5275 1.00003 5.5669V2.011C1.00003 1.4536 1.45353 1 2.01093 1H15.9891C16.5465 1 17 1.4536 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H8.41773C8.45653 13.3286 8.48183 13.6611 8.48183 13.9999H15.989C17.0996 13.9999 17.9999 13.0996 17.9999 11.989V2.011C18 0.9003 17.0997 0 15.9891 0ZM-0.0180664 6.4999V7.4999C3.56593 7.4999 6.48193 10.4159 6.48193 13.9999H7.48193C7.48193 9.8642 4.11763 6.4999 -0.0180664 6.4999ZM-0.0180664 8.7499V9.7499C2.32523 9.7499 4.23193 11.6566 4.23193 13.9999H5.23193C5.23193 11.1049 2.87693 8.7499 -0.0180664 8.7499ZM3.35947e-05 11V14H3.00003C3.00003 12.3431 1.65693 11 3.35947e-05 11Z"
        />
        <path d="M2.15002 5.634C5.18352 6.4207 7.57252 8.8151 8.35282 11.8499H15.8501V2.1499H2.15002V5.634Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="LiveButton">
    <media-live-button part="{{section ?? 'top'}} live button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <span slot="text">Live</span>
    </media-live-button>
  </template>

  <template partial="PlaybackRateMenu">
    <media-playback-rate-menu-button part="bottom playback-rate button"></media-playback-rate-menu-button>
    <media-playback-rate-menu
      hidden
      anchor="auto"
      rates="{{playbackrates}}"
      exportparts="menu-item"
      part="bottom playback-rate menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-menu>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range part="bottom time range" disabled="{{disabled}}" aria-disabled="{{disabled}}" exportparts="thumb">
      <media-preview-thumbnail slot="preview"></media-preview-thumbnail>
      <media-preview-chapter-display slot="preview"></media-preview-chapter-display>
      <media-preview-time-display slot="preview"></media-preview-time-display>
      <div slot="preview" part="arrow"></div>
    </media-time-range>
  </template>

  <template partial="AudioTrackMenu">
    <media-audio-track-menu-button part="bottom audio-track button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 16">
        <path d="M9 15A7 7 0 1 1 9 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 9 0a8 8 0 0 0 0 16Z" />
        <path
          d="M5.2 6.3a.5.5 0 0 1 .5.5v2.4a.5.5 0 1 1-1 0V6.8a.5.5 0 0 1 .5-.5Zm2.4-2.4a.5.5 0 0 1 .5.5v7.2a.5.5 0 0 1-1 0V4.4a.5.5 0 0 1 .5-.5ZM10 5.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.4-.8a.5.5 0 0 1 .5.5v5.6a.5.5 0 0 1-1 0V5.2a.5.5 0 0 1 .5-.5Z"
        />
      </svg>
    </media-audio-track-menu-button>
    <media-audio-track-menu
      hidden
      anchor="auto"
      part="bottom audio-track menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-audio-track-menu>
  </template>

  <template partial="RenditionMenu">
    <media-rendition-menu-button part="bottom rendition button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 14">
        <path
          d="M2.25 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM9 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
        />
      </svg>
    </media-rendition-menu-button>
    <media-rendition-menu
      hidden
      anchor="auto"
      part="bottom rendition menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            opacity: 0;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-rendition-menu>
  </template>

  <template partial="MuxBadge">
    <div part="mux-badge">
      <a href="https://www.mux.com/player" target="_blank">
        <span class="mux-badge-text">Powered by</span>
        <div class="mux-badge-logo">
          <svg
            viewBox="0 0 1600 500"
            style="fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit: 2"
          >
            <g>
              <path
                d="M994.287,93.486c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m0,-93.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,68.943 -56.09,125.033 -125.032,125.033c-68.942,-0 -125.03,-56.09 -125.03,-125.033l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,137.853 112.149,250.003 249.999,250.003c137.851,-0 250.001,-112.15 250.001,-250.003l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M1537.51,468.511c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m-275.883,-218.509l-143.33,143.329c-24.402,24.402 -24.402,63.966 0,88.368c24.402,24.402 63.967,24.402 88.369,-0l143.33,-143.329l143.328,143.329c24.402,24.4 63.967,24.402 88.369,-0c24.403,-24.402 24.403,-63.966 0.001,-88.368l-143.33,-143.329l0.001,-0.004l143.329,-143.329c24.402,-24.402 24.402,-63.965 0,-88.367c-24.402,-24.402 -63.967,-24.402 -88.369,-0l-143.329,143.328l-143.329,-143.328c-24.402,-24.401 -63.967,-24.402 -88.369,-0c-24.402,24.402 -24.402,63.965 0,88.367l143.329,143.329l0,0.004Z"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M437.511,468.521c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m23.915,-463.762c-23.348,-9.672 -50.226,-4.327 -68.096,13.544l-143.331,143.329l-143.33,-143.329c-17.871,-17.871 -44.747,-23.216 -68.096,-13.544c-23.349,9.671 -38.574,32.455 -38.574,57.729l0,375.026c0,34.51 27.977,62.486 62.487,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-224.173l80.843,80.844c24.404,24.402 63.965,24.402 88.369,-0l80.843,-80.844l0,224.173c0,34.51 27.976,62.486 62.486,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-375.026c0,-25.274 -15.224,-48.058 -38.573,-57.729"
                style="fill-rule: nonzero"
              ></path>
            </g>
          </svg>
        </div>
      </a>
    </div>
  </template>

  <media-controller
    part="controller"
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:470"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    defaultduration="{{defaultduration ?? false}}"
    keyboardforwardseekoffset="{{forwardseekoffset}}"
    keyboardbackwardseekoffset="{{backwardseekoffset}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
    style="--_pre-playback-place:{{preplaybackplace ?? 'center'}}"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>

    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>

    <template if="!audio">
      <media-error-dialog slot="dialog" noautohide></media-error-dialog>
      <!-- Pre-playback UI -->
      <!-- same for both on-demand and live -->
      <div slot="centered-chrome" class="center-controls pre-playback">
        <template if="!breakpointsm">{{>PlayButton section="center"}}</template>
        <template if="breakpointsm">{{>PrePlayButton section="center"}}</template>
      </div>

      <!-- Mux Badge -->
      <template if="proudlydisplaymuxbadge"> {{>MuxBadge}} </template>

      <!-- Autoplay centered unmute button -->
      <!--
        todo: figure out how show this with available state variables
        needs to show when:
        - autoplay is enabled
        - playback has been successful
        - audio is muted
        - in place / instead of the pre-plaback play button
        - not to show again after user has interacted with this button
          - OR user has interacted with the mute button in the control bar
      -->
      <!--
        There should be a >MuteButton to the left of the "Unmute" text, but a templating bug
        makes it appear even if commented out in the markup, add it back when code is un-commented
      -->
      <!-- <div slot="centered-chrome" class="autoplay-unmute">
        <div role="button" class="autoplay-unmute-btn">Unmute</div>
      </div> -->

      <template if="streamtype == 'on-demand'">
        <template if="breakpointsm">
          <media-control-bar part="control-bar top" slot="top-chrome">{{>TitleDisplay}} </media-control-bar>
        </template>
        {{>TimeRange}}
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>SeekBackwardButton}} {{>SeekForwardButton}} {{>TimeDisplay}} {{>MuteButton}}
          {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>PlaybackRateMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}}
          {{>CastButton}} {{>PipButton}} {{>FullscreenButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <media-control-bar part="control-bar top" slot="top-chrome">
          {{>LiveButton}}
          <template if="breakpointsm"> {{>TitleDisplay}} </template>
        </media-control-bar>
        <template if="targetlivewindow > 0">{{>TimeRange}}</template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="targetlivewindow > 0">{{>SeekBackwardButton}} {{>SeekForwardButton}}</template>
          {{>MuteButton}} {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}} {{>CastButton}} {{>PipButton}}
          {{>FullscreenButton}}
        </media-control-bar>
      </template>
    </template>

    <template if="audio">
      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="breakpointsm"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          {{>MuteButton}}
          <template if="breakpointsm">{{>VolumeRange}}</template>
          {{>TimeDisplay}} {{>TimeRange}}
          <template if="breakpointsm">{{>PlaybackRateMenu}}</template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>LiveButton section="bottom"}} {{>MuteButton}}
          <template if="breakpointsm">
            {{>VolumeRange}}
            <template if="targetlivewindow > 0"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          </template>
          <template if="targetlivewindow > 0"> {{>TimeDisplay}} {{>TimeRange}} </template>
          <template if="!targetlivewindow"><div class="spacer"></div></template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>
    </template>

    <slot></slot>
  </media-controller>
</template>
`,KI=SS.createElement("template");"innerHTML"in KI&&(KI.innerHTML=pne);var dO,fO,Sz=class extends uA{};Sz.template=(fO=(dO=KI.content)==null?void 0:dO.children)==null?void 0:fO[0];lu.customElements.get("media-theme-gerwig")||lu.customElements.define("media-theme-gerwig",Sz);var vne="gerwig",Qu={SRC:"src",POSTER:"poster"},_n={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",ACCENT_COLOR:"accent-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",FULLSCREEN_ELEMENT:"fullscreen-element",DRM_TOKEN:"drm-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",DEFAULT_DURATION:"default-duration",TITLE:"title",VIDEO_TITLE:"video-title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",EXTRA_SOURCE_PARAMS:"extra-source-params",NO_VOLUME_PREF:"no-volume-pref",NO_MUTED_PREF:"no-muted-pref",CAST_RECEIVER:"cast-receiver",NO_TOOLTIPS:"no-tooltips",PROUDLY_DISPLAY_MUX_BADGE:"proudly-display-mux-badge",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended"},YI=["audio","backwardseekoffset","defaultduration","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","videotitle","novolumepref","nomutedpref","proudlydisplaymuxbadge"];function yne(n,e){var t,i,r;return{src:!n.playbackId&&n.src,playbackId:n.playbackId,hasSrc:!!n.playbackId||!!n.src||!!n.currentSrc,poster:n.poster,storyboard:((t=n.media)==null?void 0:t.currentSrc)&&n.storyboard,storyboardSrc:n.getAttribute(_n.STORYBOARD_SRC),fullscreenElement:n.getAttribute(_n.FULLSCREEN_ELEMENT),placeholder:n.getAttribute("placeholder"),themeTemplate:bne(n),thumbnailTime:!n.tokens.thumbnail&&n.thumbnailTime,autoplay:n.autoplay,crossOrigin:n.crossOrigin,loop:n.loop,noHotKeys:n.hasAttribute(_n.NOHOTKEYS),hotKeys:n.getAttribute(_n.HOTKEYS),muted:n.muted,paused:n.paused,preload:n.preload,envKey:n.envKey,preferCmcd:n.preferCmcd,debug:n.debug,disableTracking:n.disableTracking,disableCookies:n.disableCookies,tokens:n.tokens,beaconCollectionDomain:n.beaconCollectionDomain,maxResolution:n.maxResolution,minResolution:n.minResolution,maxAutoResolution:n.maxAutoResolution,programStartTime:n.programStartTime,programEndTime:n.programEndTime,assetStartTime:n.assetStartTime,assetEndTime:n.assetEndTime,renditionOrder:n.renditionOrder,metadata:n.metadata,playerInitTime:n.playerInitTime,playerSoftwareName:n.playerSoftwareName,playerSoftwareVersion:n.playerSoftwareVersion,startTime:n.startTime,preferPlayback:n.preferPlayback,audio:n.audio,defaultStreamType:n.defaultStreamType,targetLiveWindow:n.getAttribute(Ct.TARGET_LIVE_WINDOW),streamType:dC(n.getAttribute(Ct.STREAM_TYPE)),primaryColor:n.getAttribute(_n.PRIMARY_COLOR),secondaryColor:n.getAttribute(_n.SECONDARY_COLOR),accentColor:n.getAttribute(_n.ACCENT_COLOR),forwardSeekOffset:n.forwardSeekOffset,backwardSeekOffset:n.backwardSeekOffset,defaultHiddenCaptions:n.defaultHiddenCaptions,defaultDuration:n.defaultDuration,defaultShowRemainingTime:n.defaultShowRemainingTime,hideDuration:_ne(n),playbackRates:n.getAttribute(_n.PLAYBACK_RATES),customDomain:(i=n.getAttribute(Ct.CUSTOM_DOMAIN))!=null?i:void 0,title:n.getAttribute(_n.TITLE),videoTitle:(r=n.getAttribute(_n.VIDEO_TITLE))!=null?r:n.getAttribute(_n.TITLE),novolumepref:n.hasAttribute(_n.NO_VOLUME_PREF),nomutedpref:n.hasAttribute(_n.NO_MUTED_PREF),proudlyDisplayMuxBadge:n.hasAttribute(_n.PROUDLY_DISPLAY_MUX_BADGE),castReceiver:n.castReceiver,disablePseudoEnded:n.hasAttribute(_n.DISABLE_PSEUDO_ENDED),...e,extraSourceParams:n.extraSourceParams}}var Ene=gB.formatErrorMessage;gB.formatErrorMessage=n=>{var e,t;if(n instanceof Fn){let i=mne(n,!1);return`
      ${i!=null&&i.title?`<h3>${i.title}</h3>`:""}
      ${i!=null&&i.message||i!=null&&i.linkUrl?`<p>
        ${i?.message}
        ${i!=null&&i.linkUrl?`<a
              href="${i.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(e=i.linkText)!=null?e:""} ${ai("(opens in a new window)")}"
              >${(t=i.linkText)!=null?t:i.linkUrl}</a
            >`:""}
      </p>`:""}
    `}return Ene(n)};function bne(n){var e,t;let i=n.theme;if(i){let r=(t=(e=n.getRootNode())==null?void 0:e.getElementById)==null?void 0:t.call(e,i);if(r&&r instanceof HTMLTemplateElement)return r;i.startsWith("media-theme-")||(i=`media-theme-${i}`);let o=lu.customElements.get(i);if(o!=null&&o.template)return o.template}}function _ne(n){var e;let t=(e=n.mediaController)==null?void 0:e.querySelector("media-time-display");return t&&getComputedStyle(t).getPropertyValue("--media-duration-display-display").trim()==="none"}function hO(n){let e=n.videoTitle?{video_title:n.videoTitle}:{};return n.getAttributeNames().filter(t=>t.startsWith("metadata-")).reduce((t,i)=>{let r=n.getAttribute(i);return r!==null&&(t[i.replace(/^metadata-/,"").replace(/-/g,"_")]=r),t},e)}var Tne=Object.values(Ct),Sne=Object.values(Qu),Ane=Object.values(_n),mO=vz(),gO="mux-player",pO={isDialogOpen:!1},wne={redundant_streams:!0},vT,yT,ET,Uf,bT,Rg,er,Ad,Az,WI,Ff,vO,yO,EO,bO,Rne=class extends oO{constructor(){super(),fl(this,er),fl(this,vT),fl(this,yT,!1),fl(this,ET,{}),fl(this,Uf,!0),fl(this,bT,new jte(this,"hotkeys")),fl(this,Rg,{...pO,onCloseErrorDialog:n=>{var e;((e=n.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&hr(this,er,WI).call(this,{isDialogOpen:!1})},onFocusInErrorDialog:n=>{var e;((e=n.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&(gz(this,SS.activeElement)||n.preventDefault())}}),Eu(this,vT,WS()),this.attachShadow({mode:"open"}),hr(this,er,Az).call(this),this.isConnected&&hr(this,er,Ad).call(this)}static get NAME(){return gO}static get VERSION(){return mO}static get observedAttributes(){var n;return[...(n=oO.observedAttributes)!=null?n:[],...Sne,...Tne,...Ane]}get mediaTheme(){var n;return(n=this.shadowRoot)==null?void 0:n.querySelector("media-theme")}get mediaController(){var n,e;return(e=(n=this.mediaTheme)==null?void 0:n.shadowRoot)==null?void 0:e.querySelector("media-controller")}connectedCallback(){let n=this.media;n&&(n.metadata=hO(this))}attributeChangedCallback(n,e,t){switch(hr(this,er,Ad).call(this),super.attributeChangedCallback(n,e,t),n){case _n.HOTKEYS:ha(this,bT).value=t;break;case _n.THUMBNAIL_TIME:{t!=null&&this.tokens.thumbnail&&tc(ai("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time.").toString());break}case _n.THUMBNAIL_TOKEN:{if(t){let i=yg(t);if(i){let{aud:r}=i,o=Ty.THUMBNAIL;r!==o&&tc(ai("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:r,expectedAud:o,tokenNamePrefix:"thumbnail"}))}}break}case _n.STORYBOARD_TOKEN:{if(t){let i=yg(t);if(i){let{aud:r}=i,o=Ty.STORYBOARD;r!==o&&tc(ai("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:r,expectedAud:o,tokenNamePrefix:"storyboard"}))}}break}case _n.DRM_TOKEN:{if(t){let i=yg(t);if(i){let{aud:r}=i,o=Ty.DRM;r!==o&&tc(ai("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:r,expectedAud:o,tokenNamePrefix:"drm"}))}}break}case Ct.PLAYBACK_ID:{t!=null&&t.includes("?token")&&wo(ai("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:t}));break}case Ct.STREAM_TYPE:{t&&![da.LIVE,da.ON_DEMAND,da.UNKNOWN].includes(t)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=t.includes("dvr")?Number.POSITIVE_INFINITY:0:Ez({file:"invalid-stream-type.md",message:ai("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):t===da.LIVE?this.getAttribute(_n.TARGET_LIVE_WINDOW)==null&&(this.targetLiveWindow=0):this.targetLiveWindow=Number.NaN;break}case _n.FULLSCREEN_ELEMENT:{if(t!=null||t!==e){let i=SS.getElementById(t),r=i?.querySelector("mux-player");this.mediaController&&i&&r&&(this.mediaController.fullscreenElement=i)}break}}[Ct.PLAYBACK_ID,Qu.SRC,_n.PLAYBACK_TOKEN].includes(n)&&e!==t&&Eu(this,Rg,{...ha(this,Rg),...pO}),hr(this,er,Ff).call(this,{[qte(n)]:t})}async requestFullscreen(n){var e;if(!(!this.mediaController||this.mediaController.hasAttribute(Ke.MEDIA_IS_FULLSCREEN)))return(e=this.mediaController)==null||e.dispatchEvent(new lu.CustomEvent(Pn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((t,i)=>{var r;(r=this.mediaController)==null||r.addEventListener(gc.MEDIA_IS_FULLSCREEN,()=>t(),{once:!0})})}async exitFullscreen(){var n;if(!(!this.mediaController||!this.mediaController.hasAttribute(Ke.MEDIA_IS_FULLSCREEN)))return(n=this.mediaController)==null||n.dispatchEvent(new lu.CustomEvent(Pn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((e,t)=>{var i;(i=this.mediaController)==null||i.addEventListener(gc.MEDIA_IS_FULLSCREEN,()=>e(),{once:!0})})}get preferCmcd(){var n;return(n=this.getAttribute(Ct.PREFER_CMCD))!=null?n:void 0}set preferCmcd(n){n!==this.preferCmcd&&(n?ZT.includes(n)?this.setAttribute(Ct.PREFER_CMCD,n):tc(`Invalid value for preferCmcd. Must be one of ${ZT.join()}`):this.removeAttribute(Ct.PREFER_CMCD))}get hasPlayed(){var n,e;return(e=(n=this.mediaController)==null?void 0:n.hasAttribute(Ke.MEDIA_HAS_PLAYED))!=null?e:!1}get inLiveWindow(){var n;return(n=this.mediaController)==null?void 0:n.hasAttribute(Ke.MEDIA_TIME_IS_LIVE)}get _hls(){var n;return(n=this.media)==null?void 0:n._hls}get mux(){var n;return(n=this.media)==null?void 0:n.mux}get theme(){var n;return(n=this.getAttribute(_n.THEME))!=null?n:vne}set theme(n){this.setAttribute(_n.THEME,`${n}`)}get themeProps(){let n=this.mediaTheme;if(!n)return;let e={};for(let t of n.getAttributeNames()){if(YI.includes(t))continue;let i=n.getAttribute(t);e[hz(t)]=i===""?!0:i}return e}set themeProps(n){var e,t;hr(this,er,Ad).call(this);let i={...this.themeProps,...n};for(let r in i){if(YI.includes(r))continue;let o=n?.[r];typeof o=="boolean"||o==null?(e=this.mediaTheme)==null||e.toggleAttribute(VI(r),!!o):(t=this.mediaTheme)==null||t.setAttribute(VI(r),o)}}get playbackId(){var n;return(n=this.getAttribute(Ct.PLAYBACK_ID))!=null?n:void 0}set playbackId(n){n?this.setAttribute(Ct.PLAYBACK_ID,n):this.removeAttribute(Ct.PLAYBACK_ID)}get src(){var n,e;return this.playbackId?(n=If(this,Qu.SRC))!=null?n:void 0:(e=this.getAttribute(Qu.SRC))!=null?e:void 0}set src(n){n?this.setAttribute(Qu.SRC,n):this.removeAttribute(Qu.SRC)}get poster(){var n;let e=this.getAttribute(Qu.POSTER);if(e!=null)return e;let{tokens:t}=this;if(t.playback&&!t.thumbnail){tc("Missing expected thumbnail token. No poster image will be shown");return}if(this.playbackId&&!this.audio)return Bte(this.playbackId,{customDomain:this.customDomain,thumbnailTime:(n=this.thumbnailTime)!=null?n:this.startTime,programTime:this.programStartTime,token:t.thumbnail})}set poster(n){n||n===""?this.setAttribute(Qu.POSTER,n):this.removeAttribute(Qu.POSTER)}get storyboardSrc(){var n;return(n=this.getAttribute(_n.STORYBOARD_SRC))!=null?n:void 0}set storyboardSrc(n){n?this.setAttribute(_n.STORYBOARD_SRC,n):this.removeAttribute(_n.STORYBOARD_SRC)}get storyboard(){let{tokens:n}=this;if(this.storyboardSrc&&!n.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[da.LIVE,da.UNKNOWN].includes(this.streamType)||n.playback&&!n.storyboard))return zte(this.playbackId,{customDomain:this.customDomain,token:n.storyboard,programStartTime:this.programStartTime,programEndTime:this.programEndTime})}get audio(){return this.hasAttribute(_n.AUDIO)}set audio(n){if(!n){this.removeAttribute(_n.AUDIO);return}this.setAttribute(_n.AUDIO,"")}get hotkeys(){return ha(this,bT)}get nohotkeys(){return this.hasAttribute(_n.NOHOTKEYS)}set nohotkeys(n){if(!n){this.removeAttribute(_n.NOHOTKEYS);return}this.setAttribute(_n.NOHOTKEYS,"")}get thumbnailTime(){return Ks(this.getAttribute(_n.THUMBNAIL_TIME))}set thumbnailTime(n){this.setAttribute(_n.THUMBNAIL_TIME,`${n}`)}get videoTitle(){var n,e;return(e=(n=this.getAttribute(_n.VIDEO_TITLE))!=null?n:this.getAttribute(_n.TITLE))!=null?e:""}set videoTitle(n){n!==this.videoTitle&&(n?this.setAttribute(_n.VIDEO_TITLE,n):this.removeAttribute(_n.VIDEO_TITLE))}get placeholder(){var n;return(n=If(this,_n.PLACEHOLDER))!=null?n:""}set placeholder(n){this.setAttribute(_n.PLACEHOLDER,`${n}`)}get primaryColor(){var n,e;let t=this.getAttribute(_n.PRIMARY_COLOR);if(t!=null||this.mediaTheme&&(t=(e=(n=lu.getComputedStyle(this.mediaTheme))==null?void 0:n.getPropertyValue("--_primary-color"))==null?void 0:e.trim(),t))return t}set primaryColor(n){this.setAttribute(_n.PRIMARY_COLOR,`${n}`)}get secondaryColor(){var n,e;let t=this.getAttribute(_n.SECONDARY_COLOR);if(t!=null||this.mediaTheme&&(t=(e=(n=lu.getComputedStyle(this.mediaTheme))==null?void 0:n.getPropertyValue("--_secondary-color"))==null?void 0:e.trim(),t))return t}set secondaryColor(n){this.setAttribute(_n.SECONDARY_COLOR,`${n}`)}get accentColor(){var n,e;let t=this.getAttribute(_n.ACCENT_COLOR);if(t!=null||this.mediaTheme&&(t=(e=(n=lu.getComputedStyle(this.mediaTheme))==null?void 0:n.getPropertyValue("--_accent-color"))==null?void 0:e.trim(),t))return t}set accentColor(n){this.setAttribute(_n.ACCENT_COLOR,`${n}`)}get defaultShowRemainingTime(){return this.hasAttribute(_n.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(n){n?this.setAttribute(_n.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute(_n.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute(_n.PLAYBACK_RATES))return this.getAttribute(_n.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(n=>Number(n)).filter(n=>!Number.isNaN(n)).sort((n,e)=>n-e)}set playbackRates(n){if(!n){this.removeAttribute(_n.PLAYBACK_RATES);return}this.setAttribute(_n.PLAYBACK_RATES,n.join(" "))}get forwardSeekOffset(){var n;return(n=Ks(this.getAttribute(_n.FORWARD_SEEK_OFFSET)))!=null?n:10}set forwardSeekOffset(n){this.setAttribute(_n.FORWARD_SEEK_OFFSET,`${n}`)}get backwardSeekOffset(){var n;return(n=Ks(this.getAttribute(_n.BACKWARD_SEEK_OFFSET)))!=null?n:10}set backwardSeekOffset(n){this.setAttribute(_n.BACKWARD_SEEK_OFFSET,`${n}`)}get defaultHiddenCaptions(){return this.hasAttribute(_n.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(n){n?this.setAttribute(_n.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute(_n.DEFAULT_HIDDEN_CAPTIONS)}get defaultDuration(){return Ks(this.getAttribute(_n.DEFAULT_DURATION))}set defaultDuration(n){n==null?this.removeAttribute(_n.DEFAULT_DURATION):this.setAttribute(_n.DEFAULT_DURATION,`${n}`)}get playerInitTime(){return this.hasAttribute(Ct.PLAYER_INIT_TIME)?Ks(this.getAttribute(Ct.PLAYER_INIT_TIME)):ha(this,vT)}set playerInitTime(n){n!=this.playerInitTime&&(n==null?this.removeAttribute(Ct.PLAYER_INIT_TIME):this.setAttribute(Ct.PLAYER_INIT_TIME,`${+n}`))}get playerSoftwareName(){var n;return(n=this.getAttribute(Ct.PLAYER_SOFTWARE_NAME))!=null?n:gO}get playerSoftwareVersion(){var n;return(n=this.getAttribute(Ct.PLAYER_SOFTWARE_VERSION))!=null?n:mO}get beaconCollectionDomain(){var n;return(n=this.getAttribute(Ct.BEACON_COLLECTION_DOMAIN))!=null?n:void 0}set beaconCollectionDomain(n){n!==this.beaconCollectionDomain&&(n?this.setAttribute(Ct.BEACON_COLLECTION_DOMAIN,n):this.removeAttribute(Ct.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var n;return(n=this.getAttribute(Ct.MAX_RESOLUTION))!=null?n:void 0}set maxResolution(n){n!==this.maxResolution&&(n?this.setAttribute(Ct.MAX_RESOLUTION,n):this.removeAttribute(Ct.MAX_RESOLUTION))}get minResolution(){var n;return(n=this.getAttribute(Ct.MIN_RESOLUTION))!=null?n:void 0}set minResolution(n){n!==this.minResolution&&(n?this.setAttribute(Ct.MIN_RESOLUTION,n):this.removeAttribute(Ct.MIN_RESOLUTION))}get maxAutoResolution(){var n;return(n=this.getAttribute(Ct.MAX_AUTO_RESOLUTION))!=null?n:void 0}set maxAutoResolution(n){n==null?this.removeAttribute(Ct.MAX_AUTO_RESOLUTION):this.setAttribute(Ct.MAX_AUTO_RESOLUTION,n)}get renditionOrder(){var n;return(n=this.getAttribute(Ct.RENDITION_ORDER))!=null?n:void 0}set renditionOrder(n){n!==this.renditionOrder&&(n?this.setAttribute(Ct.RENDITION_ORDER,n):this.removeAttribute(Ct.RENDITION_ORDER))}get programStartTime(){return Ks(this.getAttribute(Ct.PROGRAM_START_TIME))}set programStartTime(n){n==null?this.removeAttribute(Ct.PROGRAM_START_TIME):this.setAttribute(Ct.PROGRAM_START_TIME,`${n}`)}get programEndTime(){return Ks(this.getAttribute(Ct.PROGRAM_END_TIME))}set programEndTime(n){n==null?this.removeAttribute(Ct.PROGRAM_END_TIME):this.setAttribute(Ct.PROGRAM_END_TIME,`${n}`)}get assetStartTime(){return Ks(this.getAttribute(Ct.ASSET_START_TIME))}set assetStartTime(n){n==null?this.removeAttribute(Ct.ASSET_START_TIME):this.setAttribute(Ct.ASSET_START_TIME,`${n}`)}get assetEndTime(){return Ks(this.getAttribute(Ct.ASSET_END_TIME))}set assetEndTime(n){n==null?this.removeAttribute(Ct.ASSET_END_TIME):this.setAttribute(Ct.ASSET_END_TIME,`${n}`)}get extraSourceParams(){return this.hasAttribute(_n.EXTRA_SOURCE_PARAMS)?[...new URLSearchParams(this.getAttribute(_n.EXTRA_SOURCE_PARAMS)).entries()].reduce((n,[e,t])=>(n[e]=t,n),{}):wne}set extraSourceParams(n){n==null?this.removeAttribute(_n.EXTRA_SOURCE_PARAMS):this.setAttribute(_n.EXTRA_SOURCE_PARAMS,new URLSearchParams(n).toString())}get customDomain(){var n;return(n=this.getAttribute(Ct.CUSTOM_DOMAIN))!=null?n:void 0}set customDomain(n){n!==this.customDomain&&(n?this.setAttribute(Ct.CUSTOM_DOMAIN,n):this.removeAttribute(Ct.CUSTOM_DOMAIN))}get envKey(){var n;return(n=If(this,Ct.ENV_KEY))!=null?n:void 0}set envKey(n){this.setAttribute(Ct.ENV_KEY,`${n}`)}get noVolumePref(){return this.hasAttribute(_n.NO_VOLUME_PREF)}set noVolumePref(n){n?this.setAttribute(_n.NO_VOLUME_PREF,""):this.removeAttribute(_n.NO_VOLUME_PREF)}get noMutedPref(){return this.hasAttribute(_n.NO_MUTED_PREF)}set noMutedPref(n){n?this.setAttribute(_n.NO_MUTED_PREF,""):this.removeAttribute(_n.NO_MUTED_PREF)}get debug(){return If(this,Ct.DEBUG)!=null}set debug(n){n?this.setAttribute(Ct.DEBUG,""):this.removeAttribute(Ct.DEBUG)}get disableTracking(){return If(this,Ct.DISABLE_TRACKING)!=null}set disableTracking(n){this.toggleAttribute(Ct.DISABLE_TRACKING,!!n)}get disableCookies(){return If(this,Ct.DISABLE_COOKIES)!=null}set disableCookies(n){n?this.setAttribute(Ct.DISABLE_COOKIES,""):this.removeAttribute(Ct.DISABLE_COOKIES)}get streamType(){var n,e,t;return(t=(e=this.getAttribute(Ct.STREAM_TYPE))!=null?e:(n=this.media)==null?void 0:n.streamType)!=null?t:da.UNKNOWN}set streamType(n){this.setAttribute(Ct.STREAM_TYPE,`${n}`)}get defaultStreamType(){var n,e,t;return(t=(e=this.getAttribute(_n.DEFAULT_STREAM_TYPE))!=null?e:(n=this.mediaController)==null?void 0:n.getAttribute(_n.DEFAULT_STREAM_TYPE))!=null?t:da.ON_DEMAND}set defaultStreamType(n){n?this.setAttribute(_n.DEFAULT_STREAM_TYPE,n):this.removeAttribute(_n.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var n,e;return this.hasAttribute(_n.TARGET_LIVE_WINDOW)?+this.getAttribute(_n.TARGET_LIVE_WINDOW):(e=(n=this.media)==null?void 0:n.targetLiveWindow)!=null?e:Number.NaN}set targetLiveWindow(n){n==this.targetLiveWindow||Number.isNaN(n)&&Number.isNaN(this.targetLiveWindow)||(n==null?this.removeAttribute(_n.TARGET_LIVE_WINDOW):this.setAttribute(_n.TARGET_LIVE_WINDOW,`${+n}`))}get liveEdgeStart(){var n;return(n=this.media)==null?void 0:n.liveEdgeStart}get startTime(){return Ks(If(this,Ct.START_TIME))}set startTime(n){this.setAttribute(Ct.START_TIME,`${n}`)}get preferPlayback(){let n=this.getAttribute(Ct.PREFER_PLAYBACK);if(n===fu.MSE||n===fu.NATIVE)return n}set preferPlayback(n){n!==this.preferPlayback&&(n===fu.MSE||n===fu.NATIVE?this.setAttribute(Ct.PREFER_PLAYBACK,n):this.removeAttribute(Ct.PREFER_PLAYBACK))}get metadata(){var n;return(n=this.media)==null?void 0:n.metadata}set metadata(n){if(hr(this,er,Ad).call(this),!this.media){wo("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...hO(this),...n}}get _hlsConfig(){var n;return(n=this.media)==null?void 0:n._hlsConfig}set _hlsConfig(n){if(hr(this,er,Ad).call(this),!this.media){wo("underlying media element missing when trying to set _hlsConfig. _hlsConfig will not be set.");return}this.media._hlsConfig=n}async addCuePoints(n){var e;if(hr(this,er,Ad).call(this),!this.media){wo("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(e=this.media)==null?void 0:e.addCuePoints(n)}get activeCuePoint(){var n;return(n=this.media)==null?void 0:n.activeCuePoint}get cuePoints(){var n,e;return(e=(n=this.media)==null?void 0:n.cuePoints)!=null?e:[]}addChapters(n){var e;if(hr(this,er,Ad).call(this),!this.media){wo("underlying media element missing when trying to addChapters. chapters will not be added.");return}return(e=this.media)==null?void 0:e.addChapters(n)}get activeChapter(){var n;return(n=this.media)==null?void 0:n.activeChapter}get chapters(){var n,e;return(e=(n=this.media)==null?void 0:n.chapters)!=null?e:[]}getStartDate(){var n;return(n=this.media)==null?void 0:n.getStartDate()}get currentPdt(){var n;return(n=this.media)==null?void 0:n.currentPdt}get tokens(){let n=this.getAttribute(_n.PLAYBACK_TOKEN),e=this.getAttribute(_n.DRM_TOKEN),t=this.getAttribute(_n.THUMBNAIL_TOKEN),i=this.getAttribute(_n.STORYBOARD_TOKEN);return{...ha(this,ET),...n!=null?{playback:n}:{},...e!=null?{drm:e}:{},...t!=null?{thumbnail:t}:{},...i!=null?{storyboard:i}:{}}}set tokens(n){Eu(this,ET,n??{})}get playbackToken(){var n;return(n=this.getAttribute(_n.PLAYBACK_TOKEN))!=null?n:void 0}set playbackToken(n){this.setAttribute(_n.PLAYBACK_TOKEN,`${n}`)}get drmToken(){var n;return(n=this.getAttribute(_n.DRM_TOKEN))!=null?n:void 0}set drmToken(n){this.setAttribute(_n.DRM_TOKEN,`${n}`)}get thumbnailToken(){var n;return(n=this.getAttribute(_n.THUMBNAIL_TOKEN))!=null?n:void 0}set thumbnailToken(n){this.setAttribute(_n.THUMBNAIL_TOKEN,`${n}`)}get storyboardToken(){var n;return(n=this.getAttribute(_n.STORYBOARD_TOKEN))!=null?n:void 0}set storyboardToken(n){this.setAttribute(_n.STORYBOARD_TOKEN,`${n}`)}addTextTrack(n,e,t,i){var r;let o=(r=this.media)==null?void 0:r.nativeEl;if(o)return Wk(o,n,e,t,i)}removeTextTrack(n){var e;let t=(e=this.media)==null?void 0:e.nativeEl;if(t)return _Q(t,n)}get textTracks(){var n;return(n=this.media)==null?void 0:n.textTracks}get castReceiver(){var n;return(n=this.getAttribute(_n.CAST_RECEIVER))!=null?n:void 0}set castReceiver(n){n!==this.castReceiver&&(n?this.setAttribute(_n.CAST_RECEIVER,n):this.removeAttribute(_n.CAST_RECEIVER))}get castCustomData(){var n;return(n=this.media)==null?void 0:n.castCustomData}set castCustomData(n){if(!this.media){wo("underlying media element missing when trying to set castCustomData. castCustomData will not be set.");return}this.media.castCustomData=n}get noTooltips(){return this.hasAttribute(_n.NO_TOOLTIPS)}set noTooltips(n){if(!n){this.removeAttribute(_n.NO_TOOLTIPS);return}this.setAttribute(_n.NO_TOOLTIPS,"")}get proudlyDisplayMuxBadge(){return this.hasAttribute(_n.PROUDLY_DISPLAY_MUX_BADGE)}set proudlyDisplayMuxBadge(n){n?this.setAttribute(_n.PROUDLY_DISPLAY_MUX_BADGE,""):this.removeAttribute(_n.PROUDLY_DISPLAY_MUX_BADGE)}};vT=new WeakMap,yT=new WeakMap,ET=new WeakMap,Uf=new WeakMap,bT=new WeakMap,Rg=new WeakMap,er=new WeakSet,Ad=function(){var n,e,t,i;if(!ha(this,yT)){Eu(this,yT,!0),hr(this,er,Ff).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof lu.HTMLElement))throw""}catch{wo("<media-theme> failed to upgrade!")}try{customElements.upgrade(this.media)}catch{wo("underlying media element failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof GZ))throw""}catch{wo("<media-controller> failed to upgrade!")}hr(this,er,vO).call(this),hr(this,er,yO).call(this),hr(this,er,EO).call(this),Eu(this,Uf,(e=(n=this.mediaController)==null?void 0:n.hasAttribute(oi.USER_INACTIVE))!=null?e:!0),hr(this,er,bO).call(this),(t=this.media)==null||t.addEventListener("streamtypechange",()=>hr(this,er,Ff).call(this)),(i=this.media)==null||i.addEventListener("loadstart",()=>hr(this,er,Ff).call(this))}},Az=function(){var n,e;try{(n=window?.CSS)==null||n.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window?.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},WI=function(n){Object.assign(ha(this,Rg),n),hr(this,er,Ff).call(this)},Ff=function(n={}){rne(one(yne(this,{...ha(this,Rg),...n})),this.shadowRoot)},vO=function(){let n=e=>{var t,i;if(!(e!=null&&e.startsWith("theme-")))return;let r=e.replace(/^theme-/,"");if(YI.includes(r))return;let o=this.getAttribute(e);o!=null?(t=this.mediaTheme)==null||t.setAttribute(r,o):(i=this.mediaTheme)==null||i.removeAttribute(r)};new MutationObserver(e=>{for(let{attributeName:t}of e)n(t)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(n)},yO=function(){let n=e=>{var t;let i=(t=this.media)==null?void 0:t.error;if(!(i instanceof Fn)){let{message:o,code:l}=i??{};i=new Fn(o,l)}if(!(i!=null&&i.fatal)){tc(i),i.data&&tc(`${i.name} data:`,i.data);return}let r=cO(i);r.message&&Ez(r),wo(i),i.data&&wo(`${i.name} data:`,i.data),hr(this,er,WI).call(this,{isDialogOpen:!0})};this.addEventListener("error",n),this.media&&(this.media.errorTranslator=(e={})=>{var t,i,r;if(!(((t=this.media)==null?void 0:t.error)instanceof Fn))return e;let o=cO((i=this.media)==null?void 0:i.error);return{player_error_code:(r=this.media)==null?void 0:r.error.code,player_error_message:o.message?String(o.message):e.player_error_message,player_error_context:o.context?String(o.context):e.player_error_context}})},EO=function(){var n,e,t,i;let r=()=>hr(this,er,Ff).call(this);(e=(n=this.media)==null?void 0:n.textTracks)==null||e.addEventListener("addtrack",r),(i=(t=this.media)==null?void 0:t.textTracks)==null||i.addEventListener("removetrack",r)},bO=function(){var n,e;if(!/Firefox/i.test(navigator.userAgent))return;let t,i=new WeakMap,r=()=>this.streamType===da.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,o=(f,h,g=!1)=>{r()||Array.from(f&&f.activeCues||[]).forEach(m=>{if(!(!m.snapToLines||m.line<-5||m.line>=0&&m.line<10))if(!h||this.paused){let p=m.text.split(`
`).length,y=-3;this.streamType===da.LIVE&&(y=-2);let E=y-p;if(m.line===E&&!g)return;i.has(m)||i.set(m,m.line),m.line=E}else setTimeout(()=>{m.line=i.get(m)||"auto"},500)})},l=()=>{var f,h;o(t,(h=(f=this.mediaController)==null?void 0:f.hasAttribute(oi.USER_INACTIVE))!=null?h:!1)},c=()=>{var f,h;let g=Array.from(((h=(f=this.mediaController)==null?void 0:f.media)==null?void 0:h.textTracks)||[]).filter(m=>["subtitles","captions"].includes(m.kind)&&m.mode==="showing")[0];g!==t&&t?.removeEventListener("cuechange",l),t=g,t?.addEventListener("cuechange",l),o(t,ha(this,Uf))};c(),(n=this.textTracks)==null||n.addEventListener("change",c),(e=this.textTracks)==null||e.addEventListener("addtrack",c),this.addEventListener("userinactivechange",()=>{var f,h;let g=(h=(f=this.mediaController)==null?void 0:f.hasAttribute(oi.USER_INACTIVE))!=null?h:!0;ha(this,Uf)!==g&&(Eu(this,Uf,g),o(t,ha(this,Uf)))})};function If(n,e){return n.media?n.media.getAttribute(e):n.getAttribute(e)}var _O=Rne,wz=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class n extends wz{}globalThis.DocumentFragment=n}var Ine=class extends wz{},kne={get(n){},define(n,e,t){},getName(n){return null},upgrade(n){},whenDefined(n){return Promise.resolve(Ine)}},xne={customElements:kne},Cne=typeof window>"u"||typeof globalThis.customElements>"u",S1=Cne?xne:globalThis;S1.customElements.get("mux-player")||(S1.customElements.define("mux-player",_O),S1.MuxPlayerElement=_O);var Rz=parseInt(Gi.version)>=19,TO={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},Dne=n=>n==null,Lne=(n,e)=>Dne(e)?!1:n in e,Mne=n=>n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),Nne=(n,e)=>{if(!(!Rz&&typeof e=="boolean"&&!e)){if(Lne(n,TO))return TO[n];if(typeof e<"u")return/[A-Z]/.test(n)?Mne(n):n}},One=(n,e)=>!Rz&&typeof n=="boolean"?"":n,Pne=(n={})=>{let{ref:e,...t}=n;return Object.entries(t).reduce((i,[r,o])=>{let l=Nne(r,o);if(!l)return i;let c=One(o);return i[l]=c,i},{})};function SO(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Une(...n){return e=>{let t=!1,i=n.map(r=>{let o=SO(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<i.length;r++){let o=i[r];typeof o=="function"?o():SO(n[r],null)}}}}function Fne(...n){return At.useCallback(Une(...n),n)}var Bne=Object.prototype.hasOwnProperty,zne=(n,e)=>{if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(Array.isArray(n))return!Array.isArray(e)||n.length!==e.length?!1:n.some((r,o)=>e[o]===r);let t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Bne.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0},Iz=(n,e,t)=>!zne(e,n[t]),$ne=(n,e,t)=>{n[t]=e},qne=(n,e,t,i=$ne,r=Iz)=>At.useEffect(()=>{let o=t?.current;o&&r(o,e,n)&&i(o,e,n)},[t?.current,e]),Hl=qne,jne=()=>{try{return"3.10.2"}catch{}return"UNKNOWN"},Hne=jne(),Gne=()=>Hne,Ua=(n,e,t)=>At.useEffect(()=>{let i=e?.current;if(!i||!t)return;let r=n,o=t;return i.addEventListener(r,o),()=>{i.removeEventListener(r,o)}},[e?.current,t,n]),Vne=Gi.forwardRef(({children:n,...e},t)=>Gi.createElement("mux-player",{suppressHydrationWarning:!0,...Pne(e),ref:t},n)),Kne=(n,e)=>{let{onAbort:t,onCanPlay:i,onCanPlayThrough:r,onEmptied:o,onLoadStart:l,onLoadedData:c,onLoadedMetadata:f,onProgress:h,onDurationChange:g,onVolumeChange:m,onRateChange:p,onResize:y,onWaiting:E,onPlay:A,onPlaying:w,onTimeUpdate:M,onPause:x,onSeeking:C,onSeeked:O,onStalled:z,onSuspend:se,onEnded:F,onError:H,onCuePointChange:be,onChapterChange:Ae,metadata:Me,tokens:Ve,paused:Se,playbackId:He,playbackRates:Ue,currentTime:he,themeProps:$e,extraSourceParams:Ye,castCustomData:tt,_hlsConfig:rt,...De}=e;return Hl("tokens",Ve,n),Hl("playbackId",He,n),Hl("playbackRates",Ue,n),Hl("metadata",Me,n),Hl("extraSourceParams",Ye,n),Hl("_hlsConfig",rt,n),Hl("themeProps",$e,n),Hl("castCustomData",tt,n),Hl("paused",Se,n,(We,ct)=>{ct!=null&&(ct?We.pause():We.play())},(We,ct,It)=>We.hasAttribute("autoplay")&&!We.hasPlayed?!1:Iz(We,ct,It)),Hl("currentTime",he,n,(We,ct)=>{ct!=null&&(We.currentTime=ct)}),Ua("abort",n,t),Ua("canplay",n,i),Ua("canplaythrough",n,r),Ua("emptied",n,o),Ua("loadstart",n,l),Ua("loadeddata",n,c),Ua("loadedmetadata",n,f),Ua("progress",n,h),Ua("durationchange",n,g),Ua("volumechange",n,m),Ua("ratechange",n,p),Ua("resize",n,y),Ua("waiting",n,E),Ua("play",n,A),Ua("playing",n,w),Ua("timeupdate",n,M),Ua("pause",n,x),Ua("seeking",n,C),Ua("seeked",n,O),Ua("stalled",n,z),Ua("suspend",n,se),Ua("ended",n,F),Ua("error",n,H),Ua("cuepointchange",n,be),Ua("chapterchange",n,Ae),[De]},kz=Gne(),xz="mux-player-react",Yne=Gi.forwardRef((n,e)=>{var t;let i=At.useRef(null),r=Fne(i,e),[o]=Kne(i,n),[l]=At.useState((t=n.playerInitTime)!=null?t:WS());return Gi.createElement(Vne,{ref:r,defaultHiddenCaptions:n.defaultHiddenCaptions,playerSoftwareName:xz,playerSoftwareVersion:kz,playerInitTime:l,...o})}),Wne=Yne;const Qne=Object.freeze(Object.defineProperty({__proto__:null,MaxResolution:iQ,MediaError:Fn,MinResolution:aQ,RenditionOrder:rQ,default:Wne,generatePlayerInitTime:WS,playerSoftwareName:xz,playerSoftwareVersion:kz},Symbol.toStringTag,{value:"Module"})),Xne="https://www.youtube.com/embed",Zne="https://www.youtube-nocookie.com/embed",Jne="https://www.youtube.com/iframe_api",eie="YT",tie="onYouTubeIframeAPIReady",AO=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})/,nie=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/.*?[?&]list=)([\w_-]+)/;function wO(n,e={}){var t;const i={src:Cz(n,e),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return(t=e.config)!=null&&t.referrerpolicy&&(i.referrerpolicy=e.config.referrerpolicy),e.config&&(i["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
        position: relative;
        min-width: 300px;
        min-height: 150px;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
    <iframe${iie(i)}></iframe>
  `}function Cz(n,e){if(!n.src)return;const t=n.src.includes("-nocookie")?Zne:Xne,i={controls:n.controls===""?null:0,autoplay:n.autoplay,loop:n.loop,mute:n.muted,playsinline:n.playsinline,preload:n.preload??"metadata",enablejsapi:1,cc_load_policy:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1,...e.config};if(AO.test(n.src)){const c=n.src.match(AO),f=c&&c[1];return`${t}/${f}?${RO(i)}`}const r=n.src.match(nie),l={listType:"playlist",list:r&&r[1],...i};return`${t}?${RO(l)}`}class Dz extends(globalThis.HTMLElement??class{}){static getTemplateHTML=wO;static shadowRootOptions={mode:"open"};static observedAttributes=["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src"];loadComplete=new R1;#e;#a;#i=0;#t=!1;#n;isLoaded=!1;#o=null;#r=null;#l=null;#s=1;constructor(){super(),this.#u("config")}get config(){return this.#r}set config(e){this.#r=e}async load(){if(this.#e)return;this.shadowRoot||this.attachShadow({mode:"open"});const e=!this.#a;this.#a&&(this.loadComplete=new R1,this.isLoaded=!1),this.#a=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#i=0,this.dispatchEvent(new Event("emptied"));let t=this.api;if(this.api=null,!this.src){t?.destroy();return}this.#l=document.createElement("video"),this.textTracks=this.#l.textTracks,this.textTracks.addEventListener("change",()=>{var g;const m=Array.from(this.textTracks).find(p=>p.mode==="showing");(g=this.api)==null||g.setOption("captions","track",m?{languageCode:m.language}:{})}),this.dispatchEvent(new Event("loadstart"));let i=this.shadowRoot.querySelector("iframe"),r=rie(this.attributes);e&&i&&(this.#r=JSON.parse(i.getAttribute("data-config")||"{}")),(!i?.src||i.src!==Cz(r,this))&&(this.shadowRoot.innerHTML=wO(r,this),i=this.shadowRoot.querySelector("iframe"));const o=await sie(Jne,eie,tie);this.api=new o.Player(i,{events:{onReady:()=>{var g;this.#i=1,this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),this.#s!==1&&((g=this.api)==null||g.setVolume(this.#s*100)),this.dispatchEvent(new Event("volumechange")),this.dispatchEvent(new Event("loadcomplete")),this.isLoaded=!0,this.loadComplete.resolve()},onError:g=>{console.error(g),this.#o={code:g.data,message:`YouTube iframe player error #${g.data}; visit https://developers.google.com/youtube/iframe_api_reference#onError for the full error message.`},this.dispatchEvent(new Event("error"))}}});let l=!1;this.api.addEventListener("onStateChange",g=>{var m;const p=g.data;if((p===o.PlayerState.PLAYING||p===o.PlayerState.BUFFERING)&&(l||(l=!0,this.dispatchEvent(new Event("play"))),(this.api.getOption("captions","tracklist")||[]).forEach(E=>{[...this.textTracks].some(A=>A.language===E.languageCode)||this.#l.addTextTrack("subtitles",E.displayName,E.languageCode),this.textTracks=this.#l.textTracks}),this.dispatchEvent(new Event("loadstart"))),p===o.PlayerState.PLAYING)this.seeking&&(this.#t=!1,(m=this.#n)==null||m.resolve(),this.dispatchEvent(new Event("seeked"))),this.#i=3,this.dispatchEvent(new Event("playing"));else if(p===o.PlayerState.PAUSED){const y=Math.abs(this.currentTime-c);!this.seeking&&y>.1&&(this.#t=!0,this.dispatchEvent(new Event("seeking"))),l=!1,this.dispatchEvent(new Event("pause"))}p===o.PlayerState.ENDED&&(l=!1,this.dispatchEvent(new Event("pause")),this.dispatchEvent(new Event("ended")),this.loop&&this.play())}),this.api.addEventListener("onPlaybackRateChange",()=>{this.dispatchEvent(new Event("ratechange"))}),this.api.addEventListener("onVolumeChange",()=>{var g;const m=((g=this.api)==null?void 0:g.getVolume())/100;this.#s=m,this.dispatchEvent(new Event("volumechange"))}),this.api.addEventListener("onVideoProgress",()=>{this.dispatchEvent(new Event("timeupdate"))}),await this.loadComplete;let c=0;setInterval(()=>{var g;const m=Math.abs(this.currentTime-c),p=this.buffered.end(this.buffered.length-1);this.seeking&&p>.1?(this.#t=!1,(g=this.#n)==null||g.resolve(),this.dispatchEvent(new Event("seeked"))):!this.seeking&&m>.1&&(this.#t=!0,this.dispatchEvent(new Event("seeking"))),c=this.currentTime},50);let f;const h=setInterval(()=>{const g=this.buffered.end(this.buffered.length-1);g>=this.duration&&(clearInterval(h),this.#i=4),f!=g&&(f=g,this.dispatchEvent(new Event("progress")))},100)}async attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"src":case"autoplay":case"controls":case"loop":case"playsinline":this.load()}}async play(){var e;return this.#n=null,await this.loadComplete,(e=this.api)==null||e.playVideo(),uie(this)}async pause(){var e;return await this.loadComplete,(e=this.api)==null?void 0:e.pauseVideo()}get seeking(){return this.#t}get readyState(){return this.#i}get src(){return this.getAttribute("src")}set src(e){this.src!=e&&this.setAttribute("src",e)}get error(){return this.#o}get paused(){var e,t;return this.isLoaded?[-1,0,2,5].includes((t=(e=this.api)==null?void 0:e.getPlayerState)==null?void 0:t.call(e)):!this.autoplay}get duration(){var e,t;return((t=(e=this.api)==null?void 0:e.getDuration)==null?void 0:t.call(e))??NaN}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get buffered(){var e,t;if(!this.isLoaded)return I1();const i=((e=this.api)==null?void 0:e.getVideoLoadedFraction())*((t=this.api)==null?void 0:t.getDuration());return i>0?I1(0,i):I1()}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){var e,t;return((t=(e=this.api)==null?void 0:e.getCurrentTime)==null?void 0:t.call(e))??0}set currentTime(e){this.currentTime!=e&&(this.#n=new R1,this.loadComplete.then(()=>{var t,i;(t=this.api)==null||t.seekTo(e,!0),this.paused&&((i=this.#n)==null||i.then(()=>{var r;this.#n&&((r=this.api)==null||r.pauseVideo())}))}))}set defaultMuted(e){this.defaultMuted!=e&&this.toggleAttribute("muted",!!e)}get defaultMuted(){return this.hasAttribute("muted")}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}set muted(e){this.muted!=e&&this.loadComplete.then(()=>{var t,i;e?(t=this.api)==null||t.mute():(i=this.api)==null||i.unMute()})}get muted(){var e,t;return this.isLoaded?(t=(e=this.api)==null?void 0:e.isMuted)==null?void 0:t.call(e):this.defaultMuted}get playbackRate(){var e,t;return((t=(e=this.api)==null?void 0:e.getPlaybackRate)==null?void 0:t.call(e))??1}set playbackRate(e){this.playbackRate!=e&&this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setPlaybackRate(e)})}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.playsInline!=e&&this.toggleAttribute("playsinline",!!e)}get poster(){return this.getAttribute("poster")}set poster(e){this.poster!=e&&this.setAttribute("poster",`${e}`)}set volume(e){this.volume!=e&&(this.#s=e,this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setVolume(e*100)}))}get volume(){var e;return this.isLoaded?((e=this.api)==null?void 0:e.getVolume())/100:this.#s}#u(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}}function iie(n){let e="";for(const t in n){const i=n[t];i===""?e+=` ${A1(t)}`:e+=` ${A1(t)}="${A1(`${i}`)}"`}return e}function A1(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function RO(n){return String(new URLSearchParams(aie(n)))}function aie(n){let e={};for(let t in n){let i=n[t];i===!0||i===""?e[t]=1:i===!1?e[t]=0:i!=null&&(e[t]=i)}return e}function rie(n){let e={};for(let t of n)e[t.name]=t.value;return e}const w1={};async function sie(n,e,t){return w1[n]?w1[n]:self[e]?(await oie(0),self[e]):w1[n]=new Promise(function(i,r){const o=document.createElement("script");o.src=n;const l=()=>i(self[e]);self[t]=l,o.onload=()=>!t,o.onerror=r,document.head.append(o)})}const oie=n=>new Promise(e=>setTimeout(e,n));function lie(n){return(...e)=>new Promise(t=>{n(...e,(...i)=>{i.length>1?t(i):t(i[0])})})}function uie(n){return lie((e,t)=>{let i;n.addEventListener(e,i=()=>{n.removeEventListener(e,i),t()})})("playing")}let R1=class extends Promise{constructor(e=()=>{}){let t,i;super((r,o)=>{e(r,o),t=r,i=o}),this.resolve=t,this.reject=i}};function I1(n,e){return Array.isArray(n)?k1(n):n==null||e==null||n===0&&e===0?k1([[0,0]]):k1([[n,e]])}function k1(n){return Object.defineProperties(n,{start:{value:e=>n[e][0]},end:{value:e=>n[e][1]}}),n}globalThis.customElements&&!globalThis.customElements.get("youtube-video")&&globalThis.customElements.define("youtube-video",Dz);var cie=Dz,die=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),fie={className:"class",htmlFor:"for"};function Lz(n){return n.toLowerCase()}function IO(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function hie({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=Lz,toAttributeValue:c=IO}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(die.has(O)){x[O]=z;continue}const se=l(fie[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=IO(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)kO(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)kO(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function kO(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var mie=hie({react:Gi,tagName:"youtube-video",elementClass:cie,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":Lz(n)}});const gie=Object.freeze(Object.defineProperty({__proto__:null,default:mie},Symbol.toStringTag,{value:"Module"}));function xO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function CO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(t),!0).forEach(function(i){_T(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ps(){ps=function(){return n};var n={},e=Object.prototype,t=e.hasOwnProperty,i=Object.defineProperty||function(Ve,Se,He){Ve[Se]=He.value},r=typeof Symbol=="function"?Symbol:{},o=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function f(Ve,Se,He){return Object.defineProperty(Ve,Se,{value:He,enumerable:!0,configurable:!0,writable:!0}),Ve[Se]}try{f({},"")}catch{f=function(Se,He,Ue){return Se[He]=Ue}}function h(Ve,Se,He,Ue){var he=Se&&Se.prototype instanceof p?Se:p,$e=Object.create(he.prototype),Ye=new be(Ue||[]);return i($e,"_invoke",{value:z(Ve,He,Ye)}),$e}function g(Ve,Se,He){try{return{type:"normal",arg:Ve.call(Se,He)}}catch(Ue){return{type:"throw",arg:Ue}}}n.wrap=h;var m={};function p(){}function y(){}function E(){}var A={};f(A,o,function(){return this});var w=Object.getPrototypeOf,M=w&&w(w(Ae([])));M&&M!==e&&t.call(M,o)&&(A=M);var x=E.prototype=p.prototype=Object.create(A);function C(Ve){["next","throw","return"].forEach(function(Se){f(Ve,Se,function(He){return this._invoke(Se,He)})})}function O(Ve,Se){function He(he,$e,Ye,tt){var rt=g(Ve[he],Ve,$e);if(rt.type!=="throw"){var De=rt.arg,We=De.value;return We&&typeof We=="object"&&t.call(We,"__await")?Se.resolve(We.__await).then(function(ct){He("next",ct,Ye,tt)},function(ct){He("throw",ct,Ye,tt)}):Se.resolve(We).then(function(ct){De.value=ct,Ye(De)},function(ct){return He("throw",ct,Ye,tt)})}tt(rt.arg)}var Ue;i(this,"_invoke",{value:function(he,$e){function Ye(){return new Se(function(tt,rt){He(he,$e,tt,rt)})}return Ue=Ue?Ue.then(Ye,Ye):Ye()}})}function z(Ve,Se,He){var Ue="suspendedStart";return function(he,$e){if(Ue==="executing")throw new Error("Generator is already running");if(Ue==="completed"){if(he==="throw")throw $e;return Me()}for(He.method=he,He.arg=$e;;){var Ye=He.delegate;if(Ye){var tt=se(Ye,He);if(tt){if(tt===m)continue;return tt}}if(He.method==="next")He.sent=He._sent=He.arg;else if(He.method==="throw"){if(Ue==="suspendedStart")throw Ue="completed",He.arg;He.dispatchException(He.arg)}else He.method==="return"&&He.abrupt("return",He.arg);Ue="executing";var rt=g(Ve,Se,He);if(rt.type==="normal"){if(Ue=He.done?"completed":"suspendedYield",rt.arg===m)continue;return{value:rt.arg,done:He.done}}rt.type==="throw"&&(Ue="completed",He.method="throw",He.arg=rt.arg)}}}function se(Ve,Se){var He=Se.method,Ue=Ve.iterator[He];if(Ue===void 0)return Se.delegate=null,He==="throw"&&Ve.iterator.return&&(Se.method="return",Se.arg=void 0,se(Ve,Se),Se.method==="throw")||He!=="return"&&(Se.method="throw",Se.arg=new TypeError("The iterator does not provide a '"+He+"' method")),m;var he=g(Ue,Ve.iterator,Se.arg);if(he.type==="throw")return Se.method="throw",Se.arg=he.arg,Se.delegate=null,m;var $e=he.arg;return $e?$e.done?(Se[Ve.resultName]=$e.value,Se.next=Ve.nextLoc,Se.method!=="return"&&(Se.method="next",Se.arg=void 0),Se.delegate=null,m):$e:(Se.method="throw",Se.arg=new TypeError("iterator result is not an object"),Se.delegate=null,m)}function F(Ve){var Se={tryLoc:Ve[0]};1 in Ve&&(Se.catchLoc=Ve[1]),2 in Ve&&(Se.finallyLoc=Ve[2],Se.afterLoc=Ve[3]),this.tryEntries.push(Se)}function H(Ve){var Se=Ve.completion||{};Se.type="normal",delete Se.arg,Ve.completion=Se}function be(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(F,this),this.reset(!0)}function Ae(Ve){if(Ve){var Se=Ve[o];if(Se)return Se.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var He=-1,Ue=function he(){for(;++He<Ve.length;)if(t.call(Ve,He))return he.value=Ve[He],he.done=!1,he;return he.value=void 0,he.done=!0,he};return Ue.next=Ue}}return{next:Me}}function Me(){return{value:void 0,done:!0}}return y.prototype=E,i(x,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:y,configurable:!0}),y.displayName=f(E,c,"GeneratorFunction"),n.isGeneratorFunction=function(Ve){var Se=typeof Ve=="function"&&Ve.constructor;return!!Se&&(Se===y||(Se.displayName||Se.name)==="GeneratorFunction")},n.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,E):(Ve.__proto__=E,f(Ve,c,"GeneratorFunction")),Ve.prototype=Object.create(x),Ve},n.awrap=function(Ve){return{__await:Ve}},C(O.prototype),f(O.prototype,l,function(){return this}),n.AsyncIterator=O,n.async=function(Ve,Se,He,Ue,he){he===void 0&&(he=Promise);var $e=new O(h(Ve,Se,He,Ue),he);return n.isGeneratorFunction(Se)?$e:$e.next().then(function(Ye){return Ye.done?Ye.value:$e.next()})},C(x),f(x,c,"Generator"),f(x,o,function(){return this}),f(x,"toString",function(){return"[object Generator]"}),n.keys=function(Ve){var Se=Object(Ve),He=[];for(var Ue in Se)He.push(Ue);return He.reverse(),function he(){for(;He.length;){var $e=He.pop();if($e in Se)return he.value=$e,he.done=!1,he}return he.done=!0,he}},n.values=Ae,be.prototype={constructor:be,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(H),!Ve)for(var Se in this)Se.charAt(0)==="t"&&t.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=void 0)},stop:function(){this.done=!0;var Ve=this.tryEntries[0].completion;if(Ve.type==="throw")throw Ve.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var Se=this;function He(rt,De){return $e.type="throw",$e.arg=Ve,Se.next=rt,De&&(Se.method="next",Se.arg=void 0),!!De}for(var Ue=this.tryEntries.length-1;Ue>=0;--Ue){var he=this.tryEntries[Ue],$e=he.completion;if(he.tryLoc==="root")return He("end");if(he.tryLoc<=this.prev){var Ye=t.call(he,"catchLoc"),tt=t.call(he,"finallyLoc");if(Ye&&tt){if(this.prev<he.catchLoc)return He(he.catchLoc,!0);if(this.prev<he.finallyLoc)return He(he.finallyLoc)}else if(Ye){if(this.prev<he.catchLoc)return He(he.catchLoc,!0)}else{if(!tt)throw new Error("try statement without catch or finally");if(this.prev<he.finallyLoc)return He(he.finallyLoc)}}}},abrupt:function(Ve,Se){for(var He=this.tryEntries.length-1;He>=0;--He){var Ue=this.tryEntries[He];if(Ue.tryLoc<=this.prev&&t.call(Ue,"finallyLoc")&&this.prev<Ue.finallyLoc){var he=Ue;break}}he&&(Ve==="break"||Ve==="continue")&&he.tryLoc<=Se&&Se<=he.finallyLoc&&(he=null);var $e=he?he.completion:{};return $e.type=Ve,$e.arg=Se,he?(this.method="next",this.next=he.finallyLoc,m):this.complete($e)},complete:function(Ve,Se){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&Se&&(this.next=Se),m},finish:function(Ve){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var He=this.tryEntries[Se];if(He.finallyLoc===Ve)return this.complete(He.completion,He.afterLoc),H(He),m}},catch:function(Ve){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var He=this.tryEntries[Se];if(He.tryLoc===Ve){var Ue=He.completion;if(Ue.type==="throw"){var he=Ue.arg;H(He)}return he}}throw new Error("illegal catch attempt")},delegateYield:function(Ve,Se,He){return this.delegate={iterator:Ae(Ve),resultName:Se,nextLoc:He},this.method==="next"&&(this.arg=void 0),m}},n}function DO(n,e,t,i,r,o,l){try{var c=n[o](l),f=c.value}catch(h){t(h);return}c.done?e(f):Promise.resolve(f).then(i,r)}function Bf(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function l(f){DO(o,i,r,l,c,"next",f)}function c(f){DO(o,i,r,l,c,"throw",f)}l(void 0)})}}function Mz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pie(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Pz(i.key),i)}}function Nz(n,e,t){return e&&pie(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function _T(n,e,t){return e=Pz(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vie(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aE(n,e)}function iE(n){return iE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iE(n)}function aE(n,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},aE(n,e)}function Oz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function TT(n,e,t){return Oz()?TT=Reflect.construct.bind():TT=function(r,o,l){var c=[null];c.push.apply(c,o);var f=Function.bind.apply(r,c),h=new f;return l&&aE(h,l.prototype),h},TT.apply(null,arguments)}function yie(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function QI(n){var e=typeof Map=="function"?new Map:void 0;return QI=function(i){if(i===null||!yie(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return TT(i,arguments,iE(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),aE(r,i)},QI(n)}function ST(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Eie(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ST(n)}function bie(n){var e=Oz();return function(){var i=iE(n),r;if(e){var o=iE(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return Eie(this,r)}}function _ie(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Pz(n){var e=_ie(n,"string");return typeof e=="symbol"?e:String(e)}var Uz=typeof global<"u"&&{}.toString.call(global)==="[object global]";function LO(n,e){return n.indexOf(e.toLowerCase())===0?n:"".concat(e.toLowerCase()).concat(n.substr(0,1).toUpperCase()).concat(n.substr(1))}function Tie(n){return!!(n&&n.nodeType===1&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView)}function Sie(n){return!isNaN(parseFloat(n))&&isFinite(n)&&Math.floor(n)==n}function ch(n){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(n)}function Fz(n){var e=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/;return e.test(n)}function Aie(n){for(var e=(n||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),t=(e&&e[1]||"").replace("player.",""),i=[".videoji.hk",".vimeo.work",".videoji.cn"],r=0,o=i;r<o.length;r++){var l=o[r];if(t.endsWith(l))return t}return"vimeo.com"}function Bz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.id,t=n.url,i=e||t;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(Sie(i))return"https://vimeo.com/".concat(i);if(ch(i))return i.replace("http:","https:");throw e?new TypeError("".concat(e," is not a valid video id.")):new TypeError("".concat(i," is not a vimeo.com url."))}var MO=function(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",l=typeof t=="string"?[t]:t;return l.forEach(function(c){e[r](c,i)}),{cancel:function(){return l.forEach(function(f){return e[o](f,i)})}}},wie=typeof Array.prototype.indexOf<"u",Rie=typeof window<"u"&&typeof window.postMessage<"u";if(!Uz&&(!wie||!Rie))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iie(n,e){return e={exports:{}},n(e,e.exports),e.exports}(function(n){if(n.WeakMap)return;var e=Object.prototype.hasOwnProperty,t=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}})(),i=function(o,l,c){t?Object.defineProperty(o,l,{configurable:!0,writable:!0,value:c}):o[l]=c};n.WeakMap=(function(){function o(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id",c("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}i(o.prototype,"delete",function(h){if(l(this,"delete"),!r(h))return!1;var g=h[this._id];return g&&g[0]===h?(delete h[this._id],!0):!1}),i(o.prototype,"get",function(h){if(l(this,"get"),!!r(h)){var g=h[this._id];if(g&&g[0]===h)return g[1]}}),i(o.prototype,"has",function(h){if(l(this,"has"),!r(h))return!1;var g=h[this._id];return!!(g&&g[0]===h)}),i(o.prototype,"set",function(h,g){if(l(this,"set"),!r(h))throw new TypeError("Invalid value used as weak map key");var m=h[this._id];return m&&m[0]===h?(m[1]=g,this):(i(h,this._id,[h,g]),this)});function l(h,g){if(!r(h)||!e.call(h,"_id"))throw new TypeError(g+" method called on incompatible receiver "+typeof h)}function c(h){return h+"_"+f()+"."+f()}function f(){return Math.random().toString().substring(2)}return i(o,"_polyfill",!0),o})();function r(o){return Object(o)===o}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ig);var _o=Iie(function(n){(function(t,i,r){i[t]=i[t]||r(),n.exports&&(n.exports=i[t])})("Promise",Ig,function(){var t,i,r,o=Object.prototype.toString,l=typeof setImmediate<"u"?function(C){return setImmediate(C)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(C,O,z,se){return Object.defineProperty(C,O,{value:z,writable:!0,configurable:se!==!1})}}catch{t=function(O,z,se){return O[z]=se,O}}r=(function(){var C,O,z;function se(F,H){this.fn=F,this.self=H,this.next=void 0}return{add:function(H,be){z=new se(H,be),O?O.next=z:C=z,O=z,z=void 0},drain:function(){var H=C;for(C=O=i=void 0;H;)H.fn.call(H.self),H=H.next}}})();function c(x,C){r.add(x,C),i||(i=l(r.drain))}function f(x){var C,O=typeof x;return x!=null&&(O=="object"||O=="function")&&(C=x.then),typeof C=="function"?C:!1}function h(){for(var x=0;x<this.chain.length;x++)g(this,this.state===1?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function g(x,C,O){var z,se;try{C===!1?O.reject(x.msg):(C===!0?z=x.msg:z=C.call(void 0,x.msg),z===O.promise?O.reject(TypeError("Promise-chain cycle")):(se=f(z))?se.call(z,O.resolve,O.reject):O.resolve(z))}catch(F){O.reject(F)}}function m(x){var C,O=this;if(!O.triggered){O.triggered=!0,O.def&&(O=O.def);try{(C=f(x))?c(function(){var z=new E(O);try{C.call(x,function(){m.apply(z,arguments)},function(){p.apply(z,arguments)})}catch(se){p.call(z,se)}}):(O.msg=x,O.state=1,O.chain.length>0&&c(h,O))}catch(z){p.call(new E(O),z)}}}function p(x){var C=this;C.triggered||(C.triggered=!0,C.def&&(C=C.def),C.msg=x,C.state=2,C.chain.length>0&&c(h,C))}function y(x,C,O,z){for(var se=0;se<C.length;se++)(function(H){x.resolve(C[H]).then(function(Ae){O(H,Ae)},z)})(se)}function E(x){this.def=x,this.triggered=!1}function A(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(x){if(typeof x!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var C=new A(this);this.then=function(z,se){var F={success:typeof z=="function"?z:!0,failure:typeof se=="function"?se:!1};return F.promise=new this.constructor(function(be,Ae){if(typeof be!="function"||typeof Ae!="function")throw TypeError("Not a function");F.resolve=be,F.reject=Ae}),C.chain.push(F),C.state!==0&&c(h,C),F.promise},this.catch=function(z){return this.then(void 0,z)};try{x.call(void 0,function(z){m.call(C,z)},function(z){p.call(C,z)})}catch(O){p.call(C,O)}}var M=t({},"constructor",w,!1);return w.prototype=M,t(M,"__NPO__",0,!1),t(w,"resolve",function(C){var O=this;return C&&typeof C=="object"&&C.__NPO__===1?C:new O(function(se,F){if(typeof se!="function"||typeof F!="function")throw TypeError("Not a function");se(C)})}),t(w,"reject",function(C){return new this(function(z,se){if(typeof z!="function"||typeof se!="function")throw TypeError("Not a function");se(C)})}),t(w,"all",function(C){var O=this;return o.call(C)!="[object Array]"?O.reject(TypeError("Not an array")):C.length===0?O.resolve([]):new O(function(se,F){if(typeof se!="function"||typeof F!="function")throw TypeError("Not a function");var H=C.length,be=Array(H),Ae=0;y(O,C,function(Ve,Se){be[Ve]=Se,++Ae===H&&se(be)},F)})}),t(w,"race",function(C){var O=this;return o.call(C)!="[object Array]"?O.reject(TypeError("Not an array")):new O(function(se,F){if(typeof se!="function"||typeof F!="function")throw TypeError("Not a function");y(O,C,function(be,Ae){se(Ae)},F)})}),w})}),cc=new WeakMap;function Bv(n,e,t){var i=cc.get(n.element)||{};e in i||(i[e]=[]),i[e].push(t),cc.set(n.element,i)}function AS(n,e){var t=cc.get(n.element)||{};return t[e]||[]}function wS(n,e,t){var i=cc.get(n.element)||{};if(!i[e])return!0;if(!t)return i[e]=[],cc.set(n.element,i),!0;var r=i[e].indexOf(t);return r!==-1&&i[e].splice(r,1),cc.set(n.element,i),i[e]&&i[e].length===0}function kie(n,e){var t=AS(n,e);if(t.length<1)return!1;var i=t.shift();return wS(n,e,i),i}function xie(n,e){var t=cc.get(n);cc.set(e,t),cc.delete(n)}function hA(n){if(typeof n=="string")try{n=JSON.parse(n)}catch(e){return console.warn(e),{}}return n}function kf(n,e,t){if(!(!n.element.contentWindow||!n.element.contentWindow.postMessage)){var i={method:e};t!==void 0&&(i.value=t);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(i=JSON.stringify(i)),n.element.contentWindow.postMessage(i,n.origin)}}function Cie(n,e){e=hA(e);var t=[],i;if(e.event){if(e.event==="error"){var r=AS(n,e.data.method);r.forEach(function(l){var c=new Error(e.data.message);c.name=e.data.name,l.reject(c),wS(n,e.data.method,l)})}t=AS(n,"event:".concat(e.event)),i=e.data}else if(e.method){var o=kie(n,e.method);o&&(t.push(o),i=e.value)}t.forEach(function(l){try{if(typeof l=="function"){l.call(n,i);return}l.resolve(i)}catch{}})}var Die=["airplay","audio_tracks","audiotrack","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","initial_quality","interactive_params","keyboard","loop","maxheight","max_quality","maxwidth","min_quality","muted","play_button_position","playsinline","portrait","preload","progress_bar","quality","quality_selector","responsive","skipping_forward","speed","start_time","texttrack","thumbnail_id","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function zz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Die.reduce(function(t,i){var r=n.getAttribute("data-vimeo-".concat(i));return(r||r==="")&&(t[i]=r===""?1:r),t},e)}function fC(n,e){var t=n.html;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=t,e.appendChild(i.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function $z(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return new Promise(function(i,r){if(!ch(n))throw new TypeError("".concat(n," is not a vimeo.com url."));var o=Aie(n),l="https://".concat(o,"/api/oembed.json?url=").concat(encodeURIComponent(n));for(var c in e)e.hasOwnProperty(c)&&(l+="&".concat(c,"=").concat(encodeURIComponent(e[c])));var f="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;f.open("GET",l,!0),f.onload=function(){if(f.status===404){r(new Error("".concat(n," was not found.")));return}if(f.status===403){r(new Error("".concat(n," is not embeddable.")));return}try{var h=JSON.parse(f.responseText);if(h.domain_status_code===403){fC(h,t),r(new Error("".concat(n," is not embeddable.")));return}i(h)}catch(g){r(g)}},f.onerror=function(){var h=f.status?" (".concat(f.status,")"):"";r(new Error("There was an error fetching the embed code from Vimeo".concat(h,".")))},f.send()})}function Lie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),t=function(r){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(r))};e.forEach(function(i){try{if(i.getAttribute("data-vimeo-defer")!==null)return;var r=zz(i),o=Bz(r);$z(o,r,i).then(function(l){return fC(l,i)}).catch(t)}catch(l){t(l)}})}function Mie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(i){if(ch(i.origin)&&!(!i.data||i.data.event!=="spacechange")){for(var r=n.querySelectorAll("iframe"),o=0;o<r.length;o++)if(r[o].contentWindow===i.source){var l=r[o].parentElement;l.style.paddingBottom="".concat(i.data.data[0].bottom,"px");break}}};window.addEventListener("message",e)}}function Nie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(i){if(ch(i.origin)){var r=hA(i.data);if(!(!r||r.event!=="ready"))for(var o=n.querySelectorAll("iframe"),l=0;l<o.length;l++){var c=o[l],f=c.contentWindow===i.source;if(Fz(c.src)&&f){var h=new hC(c);h.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",e)}}function Oie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var e=function(r){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(r))},t=function(r){if(ch(r.origin)){var o=hA(r.data);if(!(!o||o.event!=="ready"))for(var l=n.querySelectorAll("iframe"),c=function(){var g=l[f],m=g.contentWindow===r.source;if(Fz(g.src)&&m){var p=new hC(g);p.getVideoId().then(function(y){var E=new RegExp("[?&]vimeo_t_".concat(y,"=([^&#]*)")).exec(window.location.href);if(E&&E[1]){var A=decodeURI(E[1]);p.setCurrentTime(A)}}).catch(e)}},f=0;f<l.length;f++)c()}};window.addEventListener("message",t)}}function Pie(){var n=(function(){for(var i,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,l=r.length,c={};o<l;o++)if(i=r[o],i&&i[1]in document){for(o=0;o<i.length;o++)c[r[0][o]]=i[o];return c}return!1})(),e={fullscreenchange:n.fullscreenchange,fullscreenerror:n.fullscreenerror},t={request:function(r){return new Promise(function(o,l){var c=function h(){t.off("fullscreenchange",h),o()};t.on("fullscreenchange",c),r=r||document.documentElement;var f=r[n.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)})},exit:function(){return new Promise(function(r,o){if(!t.isFullscreen){r();return}var l=function f(){t.off("fullscreenchange",f),r()};t.on("fullscreenchange",l);var c=document[n.exitFullscreen]();c instanceof Promise&&c.then(l).catch(o)})},on:function(r,o){var l=e[r];l&&document.addEventListener(l,o)},off:function(r,o){var l=e[r];l&&document.removeEventListener(l,o)}};return Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),t}var Uie={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},Fie=(function(n){vie(t,n);var e=bie(t);function t(i,r){var o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return Mz(this,t),o=e.call(this),_T(ST(o),"logger",void 0),_T(ST(o),"speedAdjustment",0),_T(ST(o),"adjustSpeed",(function(){var f=Bf(ps().mark(function h(g,m){var p;return ps().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(o.speedAdjustment!==m){E.next=2;break}return E.abrupt("return");case 2:return E.next=4,g.getPlaybackRate();case 4:return E.t0=E.sent,E.t1=o.speedAdjustment,E.t2=E.t0-E.t1,E.t3=m,p=E.t2+E.t3,o.log("New playbackRate:  ".concat(p)),E.next=12,g.setPlaybackRate(p);case 12:o.speedAdjustment=m;case 13:case"end":return E.stop()}},h)}));return function(h,g){return f.apply(this,arguments)}})()),o.logger=c,o.init(r,i,CO(CO({},Uie),l)),o}return Nz(t,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(function(){var i=Bf(ps().mark(function o(l,c,f){var h=this,g,m,p;return ps().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.waitForTOReadyState(l,"open");case 2:if(f.role!=="viewer"){E.next=10;break}return E.next=5,this.updatePlayer(l,c,f);case 5:g=MO(l,"change",function(){return h.updatePlayer(l,c,f)}),m=this.maintainPlaybackPosition(l,c,f),this.addEventListener("disconnect",function(){m.cancel(),g.cancel()}),E.next=14;break;case 10:return E.next=12,this.updateTimingObject(l,c);case 12:p=MO(c,["seeked","play","pause","ratechange"],function(){return h.updateTimingObject(l,c)},"on","off"),this.addEventListener("disconnect",function(){return p.cancel()});case 14:case"end":return E.stop()}},o,this)}));function r(o,l,c){return i.apply(this,arguments)}return r})()},{key:"updateTimingObject",value:(function(){var i=Bf(ps().mark(function o(l,c){return ps().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.t0=l,h.next=3,c.getCurrentTime();case 3:return h.t1=h.sent,h.next=6,c.getPaused();case 6:if(!h.sent){h.next=10;break}h.t2=0,h.next=13;break;case 10:return h.next=12,c.getPlaybackRate();case 12:h.t2=h.sent;case 13:h.t3=h.t2,h.t4={position:h.t1,velocity:h.t3},h.t0.update.call(h.t0,h.t4);case 16:case"end":return h.stop()}},o)}));function r(o,l){return i.apply(this,arguments)}return r})()},{key:"updatePlayer",value:(function(){var i=Bf(ps().mark(function o(l,c,f){var h,g,m;return ps().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(h=l.query(),g=h.position,m=h.velocity,typeof g=="number"&&c.setCurrentTime(g),typeof m!="number"){y.next=25;break}if(m!==0){y.next=11;break}return y.next=6,c.getPaused();case 6:if(y.t0=y.sent,y.t0!==!1){y.next=9;break}c.pause();case 9:y.next=25;break;case 11:if(!(m>0)){y.next=25;break}return y.next=14,c.getPaused();case 14:if(y.t1=y.sent,y.t1!==!0){y.next=19;break}return y.next=18,c.play().catch((function(){var E=Bf(ps().mark(function A(w){return ps().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(w.name==="NotAllowedError"&&f.autoPlayMuted)){x.next=5;break}return x.next=3,c.setMuted(!0);case 3:return x.next=5,c.play().catch(function(C){return console.error("Couldn't play the video from TimingSrcConnector. Error:",C)});case 5:case"end":return x.stop()}},A)}));return function(A){return E.apply(this,arguments)}})());case 18:this.updatePlayer(l,c,f);case 19:return y.next=21,c.getPlaybackRate();case 21:if(y.t2=y.sent,y.t3=m,y.t2===y.t3){y.next=25;break}c.setPlaybackRate(m);case 25:case"end":return y.stop()}},o,this)}));function r(o,l,c){return i.apply(this,arguments)}return r})()},{key:"maintainPlaybackPosition",value:function(r,o,l){var c=this,f=l.allowedDrift,h=l.maxAllowedDrift,g=l.minCheckInterval,m=l.maxRateAdjustment,p=l.maxTimeToCatchUp,y=Math.min(p,Math.max(g,h))*1e3,E=(function(){var w=Bf(ps().mark(function M(){var x,C,O,z,se;return ps().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(H.t0=r.query().velocity===0,H.t0){H.next=6;break}return H.next=4,o.getPaused();case 4:H.t1=H.sent,H.t0=H.t1===!0;case 6:if(!H.t0){H.next=8;break}return H.abrupt("return");case 8:return H.t2=r.query().position,H.next=11,o.getCurrentTime();case 11:if(H.t3=H.sent,x=H.t2-H.t3,C=Math.abs(x),c.log("Drift: ".concat(x)),!(C>h)){H.next=22;break}return H.next=18,c.adjustSpeed(o,0);case 18:o.setCurrentTime(r.query().position),c.log("Resync by currentTime"),H.next=29;break;case 22:if(!(C>f)){H.next=29;break}return O=C/p,z=m,se=O<z?(z-O)/2:z,H.next=28,c.adjustSpeed(o,se*Math.sign(x));case 28:c.log("Resync by playbackRate");case 29:case"end":return H.stop()}},M)}));return function(){return w.apply(this,arguments)}})(),A=setInterval(function(){return E()},y);return{cancel:function(){return clearInterval(A)}}}},{key:"log",value:function(r){var o;(o=this.logger)===null||o===void 0||o.call(this,"TimingSrcConnector: ".concat(r))}},{key:"waitForTOReadyState",value:function(r,o){return new Promise(function(l){var c=function f(){r.readyState===o?l():r.addEventListener("readystatechange",f,{once:!0})};c()})}}]),t})(QI(EventTarget)),Lm=new WeakMap,x1=new WeakMap,Ls={},hC=(function(){function n(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Mz(this,n),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!Tie(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){var r=e.querySelector("iframe");r&&(e=r)}if(e.nodeName==="IFRAME"&&!ch(e.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if(Lm.has(e))return Lm.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var o=new _o(function(c,f){if(t._onMessage=function(m){if(!(!ch(m.origin)||t.element.contentWindow!==m.source)){t.origin==="*"&&(t.origin=m.origin);var p=hA(m.data),y=p&&p.event==="error",E=y&&p.data&&p.data.method==="ready";if(E){var A=new Error(p.data.message);A.name=p.data.name,f(A);return}var w=p&&p.event==="ready",M=p&&p.method==="ping";if(w||M){t.element.setAttribute("data-ready","true"),c();return}Cie(t,p)}},t._window.addEventListener("message",t._onMessage),t.element.nodeName!=="IFRAME"){var h=zz(e,i),g=Bz(h);$z(g,h,e).then(function(m){var p=fC(m,e);return t.element=p,t._originalElement=e,xie(e,p),Lm.set(t.element,t),m}).catch(f)}});if(x1.set(this,o),Lm.set(this.element,this),this.element.nodeName==="IFRAME"&&kf(this,"ping"),Ls.isEnabled){var l=function(){return Ls.exit()};this.fullscreenchangeHandler=function(){Ls.isFullscreen?Bv(t,"event:exitFullscreen",l):wS(t,"event:exitFullscreen",l),t.ready().then(function(){kf(t,"fullscreenchange",Ls.isFullscreen)})},Ls.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return Nz(n,[{key:"callMethod",value:function(t){for(var i=this,r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];if(t==null)throw new TypeError("You must pass a method name.");return new _o(function(c,f){return i.ready().then(function(){Bv(i,t,{resolve:c,reject:f}),kf(i,t,o)}).catch(f)})}},{key:"get",value:function(t){var i=this;return new _o(function(r,o){return t=LO(t,"get"),i.ready().then(function(){Bv(i,t,{resolve:r,reject:o}),kf(i,t)}).catch(o)})}},{key:"set",value:function(t,i){var r=this;return new _o(function(o,l){if(t=LO(t,"set"),i==null)throw new TypeError("There must be a value to set.");return r.ready().then(function(){Bv(r,t,{resolve:o,reject:l}),kf(r,t,i)}).catch(l)})}},{key:"on",value:function(t,i){if(!t)throw new TypeError("You must pass an event name.");if(!i)throw new TypeError("You must pass a callback function.");if(typeof i!="function")throw new TypeError("The callback must be a function.");var r=AS(this,"event:".concat(t));r.length===0&&this.callMethod("addEventListener",t).catch(function(){}),Bv(this,"event:".concat(t),i)}},{key:"off",value:function(t,i){if(!t)throw new TypeError("You must pass an event name.");if(i&&typeof i!="function")throw new TypeError("The callback must be a function.");var r=wS(this,"event:".concat(t),i);r&&this.callMethod("removeEventListener",t).catch(function(o){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=x1.get(this)||new _o(function(i,r){r(new Error("Unknown player. Probably unloaded."))});return _o.resolve(t)}},{key:"addCuePoint",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:i})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,i){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:i})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return Ls.isEnabled?Ls.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return Ls.isEnabled?Ls.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return Ls.isEnabled?_o.resolve(Ls.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new _o(function(i){if(x1.delete(t),Lm.delete(t.element),t._originalElement&&(Lm.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&t.element.nodeName==="IFRAME"&&t.element.parentNode&&(t.element.parentNode.parentNode&&t._originalElement&&t._originalElement!==t.element.parentNode?t.element.parentNode.parentNode.removeChild(t.element.parentNode):t.element.parentNode.removeChild(t.element)),t.element&&t.element.nodeName==="DIV"&&t.element.parentNode){t.element.removeAttribute("data-vimeo-initialized");var r=t.element.querySelector("iframe");r&&r.parentNode&&(r.parentNode.parentNode&&t._originalElement&&t._originalElement!==r.parentNode?r.parentNode.parentNode.removeChild(r.parentNode):r.parentNode.removeChild(r))}t._window.removeEventListener("message",t._onMessage),Ls.isEnabled&&Ls.off("fullscreenchange",t.fullscreenchangeHandler),i()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return _o.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"setColors",value:function(t){if(!Array.isArray(t))return new _o(function(o,l){return l(new TypeError("Argument must be an array."))});var i=new _o(function(o){return o(null)}),r=[t[0]?this.set("colorOne",t[0]):i,t[1]?this.set("colorTwo",t[1]):i,t[2]?this.set("colorThree",t[2]):i,t[3]?this.set("colorFour",t[3]):i];return _o.all(r)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}},{key:"setTimingSrc",value:(function(){var e=Bf(ps().mark(function i(r,o){var l=this,c;return ps().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(r){h.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return h.next=4,this.ready();case 4:return c=new Fie(this,r,o),kf(this,"notifyTimingObjectConnect"),c.addEventListener("disconnect",function(){return kf(l,"notifyTimingObjectDisconnect")}),h.abrupt("return",c);case 8:case"end":return h.stop()}},i,this)}));function t(i,r){return e.apply(this,arguments)}return t})()}]),n})();Uz||(Ls=Pie(),Lie(),Mie(),Nie(),Oie());const Bie="https://player.vimeo.com/video",zie="https://vimeo.com/event",$ie=/vimeo\.com\/(video\/|event\/)?(\d+)(?:\/([\w-]+))?/;function NO(n,e={}){const t={src:qie(n,e),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return e.config&&(t["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display: inline-block;
        min-width: 300px;
        min-height: 150px;
        position: relative;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
      }
      :host(:not([controls])) {
        pointer-events: none;
      }
    </style>
    <iframe${jie(t)}></iframe>
  `}function qie(n,e){if(!n.src)return;let t=new URL(n.src);const i=n.src.match($ie),r=i&&i[1],o=i&&i[2],l=t.searchParams.get("h")||void 0,c={controls:n.controls===""?null:0,autoplay:n.autoplay,loop:n.loop,muted:n.muted,playsinline:n.playsinline,preload:n.preload??"metadata",transparent:!1,autopause:n.autopause,h:l,...e.config};return r==="event/"?`${zie}/${o}/embed?${OO(c)}`:`${Bie}/${o}?${OO(c)}`}class qz extends(globalThis.HTMLElement??class{}){static getTemplateHTML=NO;static shadowRootOptions={mode:"open"};static observedAttributes=["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src"];loadComplete=new PO;#e;#a;#i;#t=0;#n=NaN;#o=!1;#r=!this.autoplay;#l=1;#s=0;#u=0;#c=!1;#d=1;#f=NaN;#h=NaN;#m=null;constructor(){super(),this.#g("config")}requestFullscreen(){var e,t;return(t=(e=this.api)==null?void 0:e.requestFullscreen)==null?void 0:t.call(e)}exitFullscreen(){var e,t;return(t=(e=this.api)==null?void 0:e.exitFullscreen)==null?void 0:t.call(e)}requestPictureInPicture(){var e,t;return(t=(e=this.api)==null?void 0:e.requestPictureInPicture)==null?void 0:t.call(e)}exitPictureInPicture(){var e,t;return(t=(e=this.api)==null?void 0:e.exitPictureInPicture)==null?void 0:t.call(e)}get config(){return this.#m}set config(e){this.#m=e}async load(){var e;if(this.#e)return;const t=!this.#a;this.#a&&(this.loadComplete=new PO),this.#a=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#t=0,this.#n=NaN,this.#o=!1,this.#r=!this.autoplay,this.#l=1,this.#s=0,this.#u=0,this.#c=!1,this.#d=1,this.#u=0,this.#f=NaN,this.#h=NaN,this.dispatchEvent(new Event("emptied"));let i=this.api;if(this.api=null,!this.src)return;this.dispatchEvent(new Event("loadstart"));const r={autoplay:this.autoplay,controls:this.controls,loop:this.loop,muted:this.defaultMuted,playsinline:this.playsInline,preload:this.preload??"metadata",transparent:!1,autopause:this.hasAttribute("autopause"),...this.#m},o=async()=>{this.#u=1,this.dispatchEvent(new Event("loadedmetadata")),this.api&&(this.#o=await this.api.getMuted(),this.#d=await this.api.getVolume(),this.dispatchEvent(new Event("volumechange")),this.#n=await this.api.getDuration(),this.dispatchEvent(new Event("durationchange"))),this.dispatchEvent(new Event("loadcomplete")),this.loadComplete.resolve()};if(this.#i){this.api=i,await this.api.loadVideo({...r,url:this.src}),await o(),await this.loadComplete;return}this.#i=!0;let l=(e=this.shadowRoot)==null?void 0:e.querySelector("iframe");t&&l&&(this.#m=JSON.parse(l.getAttribute("data-config")||"{}")),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=NO(Gie(this.attributes),this),l=this.shadowRoot.querySelector("iframe")),this.api=new hC(l);const c=document.createElement("video");this.textTracks=c.textTracks,this.api.getTextTracks().then(h=>{h.forEach(g=>{c.addTextTrack(g.kind,g.label,g.language)})}),this.textTracks.addEventListener("change",()=>{const h=Array.from(this.textTracks).find(g=>g.mode==="showing");h?this.api.enableTextTrack(h.language,h.kind):this.api.disableTextTrack()});const f=()=>{this.api.off("loaded",f),o()};this.api.on("loaded",f),this.api.on("bufferstart",()=>{this.#r&&(this.#r=!1,this.dispatchEvent(new Event("play"))),this.dispatchEvent(new Event("waiting"))}),this.api.on("play",()=>{this.#r&&(this.#r=!1,this.dispatchEvent(new Event("play")))}),this.api.on("playing",()=>{this.#u=3,this.#r=!1,this.dispatchEvent(new Event("playing"))}),this.api.on("seeking",()=>{this.#c=!0,this.dispatchEvent(new Event("seeking"))}),this.api.on("seeked",()=>{this.#c=!1,this.dispatchEvent(new Event("seeked"))}),this.api.on("pause",()=>{this.#r=!0,this.dispatchEvent(new Event("pause"))}),this.api.on("ended",()=>{this.#r=!0,this.dispatchEvent(new Event("ended"))}),this.api.on("ratechange",({playbackRate:h})=>{this.#l=h,this.dispatchEvent(new Event("ratechange"))}),this.api.on("volumechange",async({volume:h})=>{this.#d=h,this.api&&(this.#o=await this.api.getMuted()),this.dispatchEvent(new Event("volumechange"))}),this.api.on("durationchange",({duration:h})=>{this.#n=h,this.dispatchEvent(new Event("durationchange"))}),this.api.on("timeupdate",({seconds:h})=>{this.#t=h,this.dispatchEvent(new Event("timeupdate"))}),this.api.on("progress",({seconds:h})=>{this.#s=h,this.dispatchEvent(new Event("progress"))}),this.api.on("resize",({videoWidth:h,videoHeight:g})=>{this.#f=h,this.#h=g,this.dispatchEvent(new Event("resize"))}),await this.loadComplete}async attributeChangedCallback(e,t,i){if(t!==i){switch(e){case"autoplay":case"controls":case"src":{this.load();return}}await this.loadComplete,e==="loop"&&this.api.setLoop(this.loop)}}async play(){var e;this.#r=!1,this.dispatchEvent(new Event("play")),await this.loadComplete;try{await((e=this.api)==null?void 0:e.play())}catch(t){throw this.#r=!0,this.dispatchEvent(new Event("pause")),t}}async pause(){var e;return await this.loadComplete,(e=this.api)==null?void 0:e.pause()}get ended(){return this.#t>=this.#n}get seeking(){return this.#c}get readyState(){return this.#u}get videoWidth(){return this.#f}get videoHeight(){return this.#h}get src(){return this.getAttribute("src")}set src(e){this.src!=e&&this.setAttribute("src",e)}get paused(){return this.#r}get duration(){return this.#n}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get buffered(){return this.#s>0?UO(0,this.#s):UO()}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){return this.#t}set currentTime(e){this.currentTime!=e&&(this.#t=e,this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setCurrentTime(e).catch(()=>{})}))}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(e){this.defaultMuted!=e&&this.toggleAttribute("muted",!!e)}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}get muted(){return this.#o}set muted(e){this.muted!=e&&(this.#o=e,this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setMuted(e).catch(()=>{})}))}get playbackRate(){return this.#l}set playbackRate(e){this.playbackRate!=e&&(this.#l=e,this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setPlaybackRate(e).catch(()=>{})}))}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.playsInline!=e&&this.toggleAttribute("playsinline",!!e)}get poster(){return this.getAttribute("poster")}set poster(e){this.poster!=e&&this.setAttribute("poster",`${e}`)}get volume(){return this.#d}set volume(e){this.volume!=e&&(this.#d=e,this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setVolume(e).catch(()=>{})}))}#g(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}}function jie(n){let e="";for(const t in n){const i=n[t];i===""?e+=` ${C1(t)}`:e+=` ${C1(t)}="${C1(`${i}`)}"`}return e}function C1(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function OO(n){return String(new URLSearchParams(Hie(n)))}function Hie(n){let e={};for(let t in n){let i=n[t];i===!0||i===""?e[t]=1:i===!1?e[t]=0:i!=null&&(e[t]=i)}return e}function Gie(n){let e={};for(let t of n)e[t.name]=t.value;return e}let PO=class extends Promise{constructor(e=()=>{}){let t,i;super((r,o)=>{e(r,o),t=r,i=o}),this.resolve=t,this.reject=i}};function UO(n,e){return Array.isArray(n)?D1(n):n==null||e==null||n===0&&e===0?D1([[0,0]]):D1([[n,e]])}function D1(n){return Object.defineProperties(n,{start:{value:e=>n[e][0]},end:{value:e=>n[e][1]}}),n}globalThis.customElements&&!globalThis.customElements.get("vimeo-video")&&globalThis.customElements.define("vimeo-video",qz);var Vie=qz,Kie=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),Yie={className:"class",htmlFor:"for"};function jz(n){return n.toLowerCase()}function FO(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function Wie({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=jz,toAttributeValue:c=FO}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(Kie.has(O)){x[O]=z;continue}const se=l(Yie[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=FO(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)BO(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)BO(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function BO(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var Qie=Wie({react:Gi,tagName:"vimeo-video",elementClass:Vie,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":jz(n)}});const Xie=Object.freeze(Object.defineProperty({__proto__:null,default:Qie},Symbol.toStringTag,{value:"Module"})),Zie=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],XI=globalThis.document?.createElement("template");XI&&(XI.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video,
      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);const Hz=(n,{tag:e,is:t})=>{const i=globalThis.document?.createElement(e,{is:t}),r=i?zO(i):[];return class AT extends n{static Events=Zie;static template=XI;static skipAttributes=[];static#e;static get observedAttributes(){return AT.#a(),[...i?.constructor?.observedAttributes??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}static#a(){if(this.#e)return;this.#e=!0;const l=new Set(this.observedAttributes);l.delete("muted");for(let c of r){if(c in this.prototype)continue;if(typeof i[c]=="function")this.prototype[c]=function(...h){this.#s();const g=()=>this.call?this.call(c,...h):this.nativeEl[c].apply(this.nativeEl,h);return this.loadComplete&&!this.isLoaded?this.loadComplete.then(g):g()};else{let h={get(){this.#s();let g=c.toLowerCase();if(l.has(g)){const m=this.getAttribute(g);return m===null?!1:m===""?!0:m}return this.get?.(c)??this.nativeEl?.[c]??this.#l[c]}};c!==c.toUpperCase()&&(h.set=async function(g){this.#s();let m=c.toLowerCase();if(l.has(m)){g===!0||g===!1||g==null?this.toggleAttribute(m,!!g):this.setAttribute(m,g);return}if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.set){this.set(c,g);return}this.nativeEl[c]=g}),Object.defineProperty(this.prototype,c,h)}}}#i;#t;#n=!1;#o=!1;#r;#l;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.load!==AT.prototype.load&&(this.loadComplete=new $O)}get loadComplete(){return this.#t}set loadComplete(l){this.#o=!1,this.#t=l,l?.then(()=>{this.#o=!0})}get isLoaded(){return this.#o}get nativeEl(){return this.#r??this.shadowRoot.querySelector(e)??this.querySelector(e)}set nativeEl(l){this.#r=l}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(l){this.toggleAttribute("muted",!!l)}get src(){return this.getAttribute("src")}set src(l){this.setAttribute("src",`${l}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(l){this.setAttribute("preload",`${l}`)}async#s(){if(this.#i)return;this.#i=!0,this.#c(),this.#d();for(let f of r)this.#u(f);const l=new Map,c=this.shadowRoot.querySelector("slot:not([name])");c?.addEventListener("slotchange",()=>{const f=new Map(l);c.assignedElements().filter(h=>["track","source"].includes(h.localName)).forEach(async h=>{f.delete(h);let g=l.get(h);g||(g=h.cloneNode(),l.set(h,g)),this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.nativeEl.append?.(g)}),f.forEach(h=>h.remove())});for(let f of this.constructor.Events)this.shadowRoot.addEventListener?.(f,h=>{h.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(h.type,{detail:h.detail}))},!0)}#u(l){if(Object.prototype.hasOwnProperty.call(this,l)){const c=this[l];delete this[l],this[l]=c}}#c(){const l=document.createElement(e,{is:t});l.muted=this.hasAttribute("muted");for(let{name:c,value:f}of this.attributes)l.setAttribute(c,f);this.#l={};for(let c of zO(l))this.#l[c]=l[c];l.removeAttribute("src"),l.load()}async#d(){if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,!this.nativeEl){const l=document.createElement(e,{is:t});l.part=e,this.shadowRoot.append(l)}this.nativeEl.muted=this.hasAttribute("muted")}attributeChangedCallback(l,c,f){this.#s(),l==="src"&&this.load!==AT.prototype.load&&this.#f(),this.#h(l,c,f)}async#f(){this.#n&&(this.loadComplete=new $O),this.#n=!0,await Promise.resolve(),await this.load(),this.loadComplete?.resolve(),await this.loadComplete}async#h(l,c,f){this.loadComplete&&!this.isLoaded&&await this.loadComplete,!["id","class",...this.constructor.skipAttributes].includes(l)&&(f===null?this.nativeEl.removeAttribute?.(l):this.nativeEl.setAttribute?.(l,f))}connectedCallback(){this.#s()}}};function zO(n){let e=[];for(let t=Object.getPrototypeOf(n);t&&t!==HTMLElement.prototype;t=Object.getPrototypeOf(t))e.push(...Object.getOwnPropertyNames(t));return e}let $O=class extends Promise{constructor(e=()=>{}){let t,i;super((r,o)=>{e(r,o),t=r,i=o}),this.resolve=t,this.reject=i}};const Jie=globalThis.document?Hz(HTMLElement,{tag:"video"}):class{};globalThis.document&&Hz(HTMLElement,{tag:"audio"});var qO,jO;const ZI=(qO=globalThis.document)==null?void 0:qO.createElement("template");ZI&&(ZI.innerHTML=`
  <div class="wistia_embed"></div>
  `);const JI=(jO=globalThis.document)==null?void 0:jO.createElement("template");JI&&(JI.innerHTML=`
  <style>
    :host {
      display: inline-block;
      min-width: 300px;
      min-height: 150px;
      position: relative;
    }
    ::slotted(.wistia_embed) {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  </style>
  <slot></slot>
  `);class Gz extends Jie{static template=JI;static skipAttributes=["src"];get nativeEl(){var e;return((e=this.api)==null?void 0:e.elem())??this.querySelector("video")}async load(){var e;if((e=this.querySelector(".wistia_embed"))==null||e.remove(),!this.src)return;await new Promise(c=>setTimeout(c,50));const t=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/i,i=this.src.match(t)[1],r={autoPlay:this.autoplay,preload:this.preload??"metadata",playsinline:this.playsInline,endVideoBehavior:this.loop&&"loop",chromeless:!this.controls,playButton:this.controls,muted:this.defaultMuted};this.append(ZI.content.cloneNode(!0));const o=this.querySelector(".wistia_embed");o.id||(o.id=nae(i)),o.classList.add(`wistia_async_${i}`),await eae("https://fast.wistia.com/assets/external/E-v1.js","Wistia"),this.api=await new Promise(c=>{globalThis._wq.push({id:o.id,onReady:c,options:r})})}async attributeChangedCallback(e,t,i){if(e==="controls"){await this.loadComplete,e==="controls"&&(this.api.bigPlayButtonEnabled(this.controls),this.controls?this.api.releaseChromeless():this.api.requestChromeless());return}super.attributeChangedCallback(e,t,i)}get duration(){var e;return(e=this.api)==null?void 0:e.duration()}async play(){return await this.loadComplete,this.api.play(),new Promise(e=>this.addEventListener("playing",e))}}const L1={};async function eae(n,e){return L1[n]?L1[n]:self[e]?self[e]:L1[n]=new Promise((t,i)=>{const r=document.createElement("script");r.defer=!0,r.src=n,r.onload=()=>t(self[e]),r.onerror=i,document.head.append(r)})}let tae=0;function nae(n){const e=++tae;return`${n}${e}`}globalThis.customElements&&!globalThis.customElements.get("wistia-video")&&globalThis.customElements.define("wistia-video",Gz);var iae=Gz,aae=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),rae={className:"class",htmlFor:"for"};function Vz(n){return n.toLowerCase()}function HO(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function sae({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=Vz,toAttributeValue:c=HO}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(aae.has(O)){x[O]=z;continue}const se=l(rae[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=HO(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)GO(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)GO(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function GO(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var oae=sae({react:Gi,tagName:"wistia-video",elementClass:iae,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":Vz(n)}});const lae=Object.freeze(Object.defineProperty({__proto__:null,default:oae},Symbol.toStringTag,{value:"Module"})),uae="https://open.spotify.com",cae=/open\.spotify\.com\/(\w+)\/(\w+)/i,dae="https://open.spotify.com/embed-podcast/iframe-api/v1",fae="SpotifyIframeApi",hae="onSpotifyIframeApiReady";function VO(n,e={}){const t={src:Kz(n,e),scrolling:"no",frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return`
    <style>
      :host {
        display: inline-block;
        min-width: 160px;
        min-height: 80px;
        position: relative;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      :host(:not([controls])) {
        display: none !important;
      }
    </style>
    <iframe${mae(t)}></iframe>
  `}function Kz(n,e){var t,i,r;if(!n.src)return;const o=n.src.match(cae),l=o&&o[1],c=o&&o[2],f={t:(t=e.config)==null?void 0:t.startAt,theme:((i=e.config)==null?void 0:i.theme)==="dark"?"0":null},h=(r=e.config)!=null&&r.preferVideo?"/video":"";return`${uae}/embed/${l}/${c}${h}?${gae(f)}`}class Yz extends(globalThis.HTMLElement??class{}){static getTemplateHTML=VO;static shadowRootOptions={mode:"open"};static observedAttributes=["controls","loop","src"];loadComplete=new YO;#e;#a;#i;#t=!1;#n=!1;#o=!0;#r=0;#l=NaN;#s=!1;#u=null;constructor(){super(),this.#c("config")}async load(){var e,t,i;if(this.#e)return;this.#a&&(this.loadComplete=new YO),this.#a=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#t=!1,this.#n=!1,this.#r=0,this.#l=NaN,this.#s=!1,this.dispatchEvent(new Event("emptied"));let r=this.api;if(this.api=null,!this.src)return;this.dispatchEvent(new Event("loadstart"));const o={t:(e=this.config)==null?void 0:e.startAt,theme:((t=this.config)==null?void 0:t.theme)==="dark"?"0":null,preferVideo:(i=this.config)==null?void 0:i.preferVideo};if(this.#i)this.api=r,this.api.iframeElement.src=Kz(KO(this.attributes),this);else{this.#i=!0,this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=VO(KO(this.attributes),this));let l=this.shadowRoot.querySelector("iframe");const c=await vae(dae,fae,hae);this.api=await new Promise(f=>c.createController(l,o,f)),this.api.iframeElement=l,this.api.addListener("ready",()=>{this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),this.dispatchEvent(new Event("volumechange"))}),this.api.addListener("playback_update",f=>{if(this.#n&&this.#o&&(f.data.isBuffering||!f.data.isPaused)){this.#n=!1,this.currentTime=1;return}if(f.data.duration/1e3!==this.#l&&(this.#n=!1,this.#l=f.data.duration/1e3,this.dispatchEvent(new Event("durationchange"))),f.data.position/1e3!==this.#r&&(this.#s=!1,this.#n=!1,this.#r=f.data.position/1e3,this.dispatchEvent(new Event("timeupdate"))),!this.#t&&!this.#o&&f.data.isPaused){this.#o=!0,this.dispatchEvent(new Event("pause"));return}if(this.#o&&(f.data.isBuffering||!f.data.isPaused)){this.#o=!1,this.dispatchEvent(new Event("play")),this.#t=f.data.isBuffering,this.#t?this.dispatchEvent(new Event("waiting")):this.dispatchEvent(new Event("playing"));return}if(this.#t&&!f.data.isPaused){this.#t=!1,this.dispatchEvent(new Event("playing"));return}if(!this.paused&&!this.seeking&&!this.#n&&Math.ceil(this.currentTime)>=this.duration){if(this.#n=!0,this.loop){this.currentTime=1;return}this.continuous||(this.pause(),this.dispatchEvent(new Event("ended")));return}})}this.loadComplete.resolve(),await this.loadComplete}async attributeChangedCallback(e,t,i){if(t!==i&&e==="src"){this.load();return}}async play(){var e;return this.#o=!1,this.#t=!0,this.dispatchEvent(new Event("play")),await this.loadComplete,(e=this.api)==null?void 0:e.resume()}async pause(){var e;return await this.loadComplete,(e=this.api)==null?void 0:e.pause()}get config(){return this.#u}set config(e){this.#u=e}get paused(){return this.#o??!0}get muted(){return!1}set muted(e){}get volume(){return 1}set volume(e){}get ended(){return Math.ceil(this.currentTime)>=this.duration}get seeking(){return this.#s}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}get currentTime(){return this.#r}set currentTime(e){if(this.currentTime==e)return;this.#s=!0;let t=this.#r;this.#r=e,this.dispatchEvent(new Event("timeupdate")),this.#r=t,this.loadComplete.then(()=>{var i;(i=this.api)==null||i.seek(e)})}get duration(){return this.#l}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",`${e}`)}#c(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}}function mae(n){let e="";for(const t in n){const i=n[t];i===""?e+=` ${t}`:e+=` ${t}="${i}"`}return e}function gae(n){return String(new URLSearchParams(pae(n)))}function pae(n){let e={};for(let t in n){let i=n[t];i===!0||i===""?e[t]=1:i===!1?e[t]=0:i!=null&&(e[t]=i)}return e}function KO(n){let e={};for(let t of n)e[t.name]=t.value;return e}const M1={};async function vae(n,e,t){return M1[n]?M1[n]:self[e]?Promise.resolve(self[e]):M1[n]=new Promise(function(i,r){const o=document.createElement("script");o.src=n;const l=c=>i(c);self[t]=l,o.onload=()=>!t,o.onerror=r,document.head.append(o)})}let YO=class extends Promise{constructor(e=()=>{}){let t,i;super((r,o)=>{e(r,o),t=r,i=o}),this.resolve=t,this.reject=i}};globalThis.customElements&&!globalThis.customElements.get("spotify-audio")&&globalThis.customElements.define("spotify-audio",Yz);var yae=Yz,Eae=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),bae={className:"class",htmlFor:"for"};function Wz(n){return n.toLowerCase()}function WO(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function _ae({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=Wz,toAttributeValue:c=WO}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(Eae.has(O)){x[O]=z;continue}const se=l(bae[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=WO(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)QO(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)QO(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function QO(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var Tae=_ae({react:Gi,tagName:"spotify-audio",elementClass:yae,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":Wz(n)}});const Sae=Object.freeze(Object.defineProperty({__proto__:null,default:Tae},Symbol.toStringTag,{value:"Module"})),ek="https://player.twitch.tv",Aae=/(?:www\.|go\.)?twitch\.tv\/(?:videos?\/|\?video=)(\d+)($|\?)/,wae=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,XO={IDLE:"Idle",ENDED:"Ended"},zv={PAUSE:2,PLAY:3,SEEK:4,SET_MUTED:10,SET_VOLUME:11};function ZO(n,e={}){const t={src:Qz(n,e),frameborder:"0",width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; picture-in-picture;",sandbox:"allow-modals allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox",scrolling:"no"};return e.config&&(t["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display: inline-block;
        min-width: 300px;
        min-height: 150px;
        position: relative;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
      :host(:not([controls])) {
        pointer-events: none;
      }
    </style>
    <iframe${Iae(t)}></iframe>
  `}function Qz(n,e){var t;if(!n.src)return;const i=n.src.match(Aae),r=n.src.match(wae),o={parent:(t=globalThis.location)==null?void 0:t.hostname,controls:n.controls===""?null:!1,autoplay:n.autoplay===""?null:!1,muted:n.muted,preload:n.preload,...e.config};if(i){const l=i[1];return`${ek}/?video=v${l}&${JO(o)}`}else if(r){const l=r[1];return`${ek}/?channel=${l}&${JO(o)}`}return""}class Xz extends(globalThis.HTMLElement??class{}){static getTemplateHTML=ZO;static shadowRootOptions={mode:"open"};static observedAttributes=["autoplay","controls","loop","muted","playsinline","preload","src"];loadComplete=new eP;#e;#a;#i;#t={};#n=0;#o=!1;#r=1;#l=!this.autoplay;#s=!1;#u=0;#c=null;constructor(){super(),this.#h("config")}get config(){return this.#c}set config(e){this.#c=e}async load(){if(this.#e)return;this.shadowRoot||this.attachShadow({mode:"open"});const e=!this.#a;if(this.#a&&(this.loadComplete=new eP),this.#a=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#u=0,this.dispatchEvent(new Event("emptied")),!this.src){this.shadowRoot.innerHTML="",globalThis.removeEventListener("message",this.#d);return}this.dispatchEvent(new Event("loadstart"));let t=this.shadowRoot.querySelector("iframe");const i=Rae(this.attributes);e&&t&&(this.#c=JSON.parse(t.getAttribute("data-config")||"{}")),(!t?.src||t.src!==Qz(i,this))&&(this.shadowRoot.innerHTML=ZO(i,this),t=this.shadowRoot.querySelector("iframe")),this.#i=t,globalThis.addEventListener("message",this.#d)}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"src":case"controls":{this.load();break}}}getVideoPlaybackQuality(){return this.#t.stats.videoStats}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e)}get readyState(){return this.#u}get seeking(){return this.#s}get buffered(){var e,t;return xae(0,((t=(e=this.#t.stats)==null?void 0:e.videoStats)==null?void 0:t.bufferSize)??0)}get paused(){return this.#t.playback?this.#t.playback===XO.IDLE:this.#l}get ended(){return this.#t.playback?this.#t.playback===XO.ENDED:!1}get duration(){return this.#t.duration??NaN}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){return this.#t.currentTime?this.#t.currentTime:this.#n}set currentTime(e){this.#n=e,this.loadComplete.then(()=>{this.#f(zv.SEEK,e)})}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(e){this.toggleAttribute("muted",!!e)}get loop(){return this.hasAttribute("loop")}set loop(e){this.toggleAttribute("loop",!!e)}get muted(){return this.#o}set muted(e){this.#o=e,this.loadComplete.then(()=>{this.#f(zv.SET_MUTED,e)})}get volume(){return this.#r}set volume(e){this.#r=e,this.loadComplete.then(()=>{this.#f(zv.SET_VOLUME,e)})}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.toggleAttribute("playsinline",!!e)}play(){this.#l=!1,this.#f(zv.PLAY)}pause(){this.#l=!0,this.#f(zv.PAUSE)}#d=async e=>{var t,i,r,o;if(!this.#i.contentWindow)return;const{data:l,source:c}=e;if(c===this.#i.contentWindow){if(l.namespace==="twitch-embed")await new Promise(h=>setTimeout(h,10)),l.eventName==="ready"?(this.dispatchEvent(new Event("loadcomplete")),this.loadComplete.resolve(),this.#u=1,this.dispatchEvent(new Event("loadedmetadata"))):l.eventName==="seek"?(this.#s=!0,this.dispatchEvent(new Event("seeking"))):l.eventName==="playing"?(this.#s&&(this.#s=!1,this.dispatchEvent(new Event("seeked"))),this.#u=3,this.dispatchEvent(new Event("playing"))):this.dispatchEvent(new Event(l.eventName));else if(l.namespace==="twitch-embed-player-proxy"&&l.eventName==="UPDATE_STATE"){const h=this.#t.duration,g=this.#t.currentTime,m=this.#t.volume,p=this.#t.muted,y=(i=(t=this.#t.stats)==null?void 0:t.videoStats)==null?void 0:i.bufferSize;this.#t={...this.#t,...l.params},h!==this.#t.duration&&this.dispatchEvent(new Event("durationchange")),g!==this.#t.currentTime&&this.dispatchEvent(new Event("timeupdate")),(m!==this.#t.volume||p!==this.#t.muted)&&(this.#t.volume!==void 0&&(this.#r=this.#t.volume),this.#t.muted!==void 0&&(this.#o=this.#t.muted),this.dispatchEvent(new Event("volumechange"))),y!==((o=(r=this.#t.stats)==null?void 0:r.videoStats)==null?void 0:o.bufferSize)&&this.dispatchEvent(new Event("progress"))}}};#f(e,t){if(!this.#i.contentWindow)return;const i={eventName:e,params:t,namespace:"twitch-embed-player-proxy"};this.#i.contentWindow.postMessage(i,ek)}#h(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}}function Rae(n){let e={};for(let t of n)e[t.name]=t.value;return e}function Iae(n){let e="";for(const t in n){const i=n[t];i===""?e+=` ${N1(t)}`:e+=` ${N1(t)}="${N1(`${i}`)}"`}return e}function N1(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function JO(n){return String(new URLSearchParams(kae(n)))}function kae(n){let e={};for(let t in n){let i=n[t];i===!0||i===""?e[t]=!0:i===!1?e[t]=!1:i!=null&&(e[t]=i)}return e}let eP=class extends Promise{constructor(e=()=>{}){let t,i;super((r,o)=>{e(r,o),t=r,i=o}),this.resolve=t,this.reject=i}};function xae(n,e){return Array.isArray(n)?O1(n):e==null||e===0?O1([[0,0]]):O1([[n,e]])}function O1(n){return Object.defineProperties(n,{start:{value:e=>n[e][0]},end:{value:e=>n[e][1]}}),n}globalThis.customElements&&!globalThis.customElements.get("twitch-video")&&globalThis.customElements.define("twitch-video",Xz);var Cae=Xz,Dae=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),Lae={className:"class",htmlFor:"for"};function Zz(n){return n.toLowerCase()}function tP(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function Mae({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=Zz,toAttributeValue:c=tP}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(Dae.has(O)){x[O]=z;continue}const se=l(Lae[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=tP(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)nP(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)nP(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function nP(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var Nae=Mae({react:Gi,tagName:"twitch-video",elementClass:Cae,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":Zz(n)}});const Oae=Object.freeze(Object.defineProperty({__proto__:null,default:Nae},Symbol.toStringTag,{value:"Module"})),Pae="https://www.tiktok.com/player/v1",Uae=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,Cd={INIT:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3},Fae={[Cd.INIT]:"emptied",[Cd.PAUSED]:"pause",[Cd.ENDED]:"ended",[Cd.PLAYING]:"play",[Cd.BUFFERING]:"waiting"};function iP(n,e={}){const t={src:Jz(n,e),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; autoplay; fullscreen; encrypted-media; gyroscope; picture-in-picture"};return e.config&&(t["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display:inline-block;
        min-width: 300px;
        min-height: 150px;
        position: relative;
      }
      iframe {
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        border:0;
      }
    </style>
    <iframe ${qae(t)} title="TikTok video"></iframe>
  `}function Jz(n,e={}){if(!n.src)return;const t=n.src.match(Uae),i=t&&t[1],r={controls:n.controls===""?null:0,autoplay:n.autoplay,muted:n.muted,loop:n.loop,rel:0,...e.config};return`${Pae}/${i}?${$ae(r)}`}class mA extends(globalThis.HTMLElement??class{}){static getTemplateHTML=iP;static shadowRootOptions={mode:"open"};static get observedAttributes(){return["src","controls","loop","autoplay","muted"]}loadComplete=new aP;#e;#a;#i=!1;#t=0;#n=!0;#o=null;#r=100;#l=0;#s;constructor(){super(),this.#m("config")}async load(){if(this.#e)return;this.shadowRoot||this.attachShadow(mA.shadowRootOptions);const e=!this.#a;if(this.#a&&(this.loadComplete=new aP),this.#a=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#t=0,this.#i=!1,this.#n=!0,!this.src){this.shadowRoot.innerHTML="",globalThis.removeEventListener("message",this.#u);return}let t=this.shadowRoot.querySelector("iframe");const i=Bae(this.attributes);e&&t&&(this.#o=JSON.parse(t.getAttribute("data-config")||"{}")),(!t?.src||t.src!==Jz(i,this))&&(this.shadowRoot.innerHTML=iP(i,this),t=this.shadowRoot.querySelector("iframe")),this.#s=t,globalThis.addEventListener("message",this.#u)}async attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"muted":{await this.loadComplete,this.muted=i!=null;break}case"autoplay":case"controls":case"loop":case"src":{this.load();return}}}get config(){return this.#o}set config(e){this.#o=e}#u=e=>{var t;if(e.source!==((t=this.#s)==null?void 0:t.contentWindow))return;const i=e.data;if(i?.["x-tiktok-player"])switch(i.type){case"onPlayerReady":this.loadComplete.resolve();break;case"onStateChange":{this.#n=[Cd.INIT,Cd.PAUSED,Cd.ENDED].includes(i.value);const r=Fae[i.value];r&&this.dispatchEvent(new Event(r));break}case"onCurrentTime":this.#t=i.value.currentTime,this.#l=i.value.duration,this.dispatchEvent(new Event("durationchange")),this.dispatchEvent(new Event("timeupdate"));break;case"onVolumeChange":this.#r=i.value,this.dispatchEvent(new Event("volumechange"));break;case"onMute":this.#i=!!i.value,this.#r=i.value?0:this.#r,this.dispatchEvent(new Event("volumechange"));break;case"onError":this.dispatchEvent(new Event("error"));break;default:console.warn("Unhandled TikTok player message:",i);break}};#c(e,t){var i;if(!((i=this.#s)!=null&&i.contentWindow))return;const r={"x-tiktok-player":!0,type:e,...t!==void 0?{value:t}:{}};this.#s.contentWindow.postMessage(r,"*")}async play(){await this.loadComplete,this.#c("play")}async pause(){await this.loadComplete,this.#c("pause")}async#d(e){await this.loadComplete,this.#c("seekTo",Number(e))}async#f(){await this.loadComplete,this.#c("mute")}async#h(){await this.loadComplete,this.#c("unMute")}get volume(){return this.#r/100}set volume(e){console.warn("Volume control is not supported for TikTok videos.")}get currentTime(){return this.#t}set currentTime(e){this.#d(e)}get muted(){return this.#i}set muted(e){this.#i=e,e?this.#f():this.#h()}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(e){this.toggleAttribute("muted",!!e)}get paused(){return this.#n}get duration(){return this.#l}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e??"")}#m(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}}class aP extends Promise{constructor(e=()=>{}){let t,i;super((r,o)=>{e(r,o),t=r,i=o}),this.resolve=t,this.reject=i}}function Bae(n){let e={};for(let t of n)e[t.name]=t.value;return e}function zae(n){let e={};for(let t in n){let i=n[t];i===!0||i===""?e[t]=1:i===!1?e[t]=0:i!=null&&(e[t]=i)}return e}function $ae(n){return String(new URLSearchParams(zae(n)))}function qae(n){let e="";for(const t in n){const i=n[t];i===""?e+=` ${P1(t)}`:e+=` ${P1(t)}="${P1(`${i}`)}"`}return e}function P1(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}globalThis.customElements&&!globalThis.customElements.get("tiktok-video")&&globalThis.customElements.define("tiktok-video",mA);var jae=mA,Hae=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),Gae={className:"class",htmlFor:"for"};function e4(n){return n.toLowerCase()}function rP(n){if(typeof n=="boolean")return n?"":void 0;if(typeof n!="function"&&!(typeof n=="object"&&n!==null))return n}function Vae({react:n,tagName:e,elementClass:t,events:i,displayName:r,defaultProps:o,toAttributeName:l=e4,toAttributeValue:c=rP}){const f=Number.parseInt(n.version)>=19,h=n.forwardRef((g,m)=>{var p,y;const E=n.useRef(null),A=n.useRef(new Map),w={},M={},x={},C={};for(const[O,z]of Object.entries(g)){if(Hae.has(O)){x[O]=z;continue}const se=l(Gae[O]??O);if(t.prototype&&O in t.prototype&&!(O in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((y=t.observedAttributes)!=null&&y.some(H=>H===se))){C[O]=z;continue}if(O.startsWith("on")){w[O]=z;continue}const F=c(z);if(se&&F!=null&&(M[se]=String(F),f||(x[se]=F)),se&&f){const H=rP(z);F!==H?x[se]=F:x[se]=z}}if(typeof window<"u"){for(const O in w){const z=w[O],se=O.endsWith("Capture"),F=(i?.[O]??O.slice(2).toLowerCase()).slice(0,se?-7:void 0);n.useLayoutEffect(()=>{const H=E?.current;if(!(!H||typeof z!="function"))return H.addEventListener(F,z,se),()=>{H.removeEventListener(F,z,se)}},[E?.current,z])}n.useLayoutEffect(()=>{if(E.current===null)return;const O=new Map;for(const z in C)sP(E.current,z,C[z]),A.current.delete(z),O.set(z,C[z]);for(const[z,se]of A.current)sP(E.current,z,void 0);A.current=O})}if(typeof window>"u"&&t?.getTemplateHTML&&t?.shadowRootOptions){const{mode:O,delegatesFocus:z}=t.shadowRootOptions,se=n.createElement("template",{shadowrootmode:O,shadowrootdelegatesfocus:z,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(M,g)},key:"ce-la-react-ssr-template-shadow-root"});x.children=[se,x.children]}return n.createElement(e,{...o,...x,ref:n.useCallback(O=>{E.current=O,typeof m=="function"?m(O):m!==null&&(m.current=O)},[m])},x.children)});return h.displayName=r??t.name,h}function sP(n,e,t){var i;n[e]=t,t==null&&e in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&n.removeAttribute(e)}var Kae=Vae({react:Gi,tagName:"tiktok-video",elementClass:jae,toAttributeName(n){return n==="muted"?"":n==="defaultMuted"?"muted":e4(n)}});const Yae=Object.freeze(Object.defineProperty({__proto__:null,default:Kae},Symbol.toStringTag,{value:"Module"})),U1="64px",F1={},Wae=({src:n,light:e,oEmbedUrl:t,onClickPreview:i,playIcon:r,previewTabIndex:o,previewAriaLabel:l})=>{const[c,f]=At.useState(null);At.useEffect(()=>{!n||!e||!t||h({src:n,light:e,oEmbedUrl:t})},[n,e,t]);const h=async({src:w,light:M,oEmbedUrl:x})=>{if(Gi.isValidElement(M))return;if(typeof M=="string"){f(M);return}if(F1[w]){f(F1[w]);return}f(null);const O=await(await fetch(x.replace("{url}",w))).json();if(O.thumbnail_url){const z=O.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");f(z),F1[w]=z}},g=w=>{(w.key==="Enter"||w.key===" ")&&i?.(w)},m=w=>{i?.(w)},p=Gi.isValidElement(e),y={display:"flex",alignItems:"center",justifyContent:"center"},E={preview:{width:"100%",height:"100%",backgroundImage:c&&!p?`url(${c})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...y},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:U1,width:U1,height:U1,position:p?"absolute":void 0,...y},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},A=Gi.createElement("div",{style:E.shadow,className:"react-player__shadow"},Gi.createElement("div",{style:E.playIcon,className:"react-player__play-icon"}));return Gi.createElement("div",{style:E.preview,className:"react-player__preview",tabIndex:o,onClick:m,onKeyDown:g,...l?{"aria-label":l}:{}},p?e:null,r||A)};var Qae=Wae;const Xae=Object.freeze(Object.defineProperty({__proto__:null,default:Qae},Symbol.toStringTag,{value:"Module"}));var Zae={7267:function(n,e){e.byteLength=function(h){var g=c(h),m=g[0],p=g[1];return 3*(m+p)/4-p},e.toByteArray=function(h){var g,m,p=c(h),y=p[0],E=p[1],A=new r((function(x,C,O){return 3*(C+O)/4-O})(0,y,E)),w=0,M=E>0?y-4:y;for(m=0;m<M;m+=4)g=i[h.charCodeAt(m)]<<18|i[h.charCodeAt(m+1)]<<12|i[h.charCodeAt(m+2)]<<6|i[h.charCodeAt(m+3)],A[w++]=g>>16&255,A[w++]=g>>8&255,A[w++]=255&g;return E===2&&(g=i[h.charCodeAt(m)]<<2|i[h.charCodeAt(m+1)]>>4,A[w++]=255&g),E===1&&(g=i[h.charCodeAt(m)]<<10|i[h.charCodeAt(m+1)]<<4|i[h.charCodeAt(m+2)]>>2,A[w++]=g>>8&255,A[w++]=255&g),A},e.fromByteArray=function(h){for(var g,m=h.length,p=m%3,y=[],E=16383,A=0,w=m-p;A<w;A+=E)y.push(f(h,A,A+E>w?w:A+E));return p===1?(g=h[m-1],y.push(t[g>>2]+t[g<<4&63]+"==")):p===2&&(g=(h[m-2]<<8)+h[m-1],y.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),y.join("")};for(var t=[],i=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)t[l]=o[l],i[o.charCodeAt(l)]=l;function c(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");return m===-1&&(m=g),[m,m===g?0:4-m%4]}function f(h,g,m){for(var p,y,E=[],A=g;A<m;A+=3)p=(h[A]<<16&16711680)+(h[A+1]<<8&65280)+(255&h[A+2]),E.push(t[(y=p)>>18&63]+t[y>>12&63]+t[y>>6&63]+t[63&y]);return E.join("")}i[45]=62,i[95]=63},44:function(n,e,t){var i=t(7267),r=t(7986),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=function(re){return+re!=re&&(re=0),f.alloc(+re)},e.INSPECT_MAX_BYTES=50;var l=2147483647;function c(re){if(re>l)throw new RangeError('The value "'+re+'" is invalid for option "size"');var ee=new Uint8Array(re);return Object.setPrototypeOf(ee,f.prototype),ee}function f(re,ee,P){if(typeof re=="number"){if(typeof ee=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(re)}return h(re,ee,P)}function h(re,ee,P){if(typeof re=="string")return(function(ce,Qe){if(typeof Qe=="string"&&Qe!==""||(Qe="utf8"),!f.isEncoding(Qe))throw new TypeError("Unknown encoding: "+Qe);var ht=0|A(ce,Qe),Je=c(ht),it=Je.write(ce,Qe);return it!==ht&&(Je=Je.slice(0,it)),Je})(re,ee);if(ArrayBuffer.isView(re))return(function(ce){if(Fe(ce,Uint8Array)){var Qe=new Uint8Array(ce);return y(Qe.buffer,Qe.byteOffset,Qe.byteLength)}return p(ce)})(re);if(re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(Fe(re,ArrayBuffer)||re&&Fe(re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(re,SharedArrayBuffer)||re&&Fe(re.buffer,SharedArrayBuffer)))return y(re,ee,P);if(typeof re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=re.valueOf&&re.valueOf();if(G!=null&&G!==re)return f.from(G,ee,P);var ve=(function(ce){if(f.isBuffer(ce)){var Qe=0|E(ce.length),ht=c(Qe);return ht.length===0||ce.copy(ht,0,0,Qe),ht}return ce.length!==void 0?typeof ce.length!="number"||ze(ce.length)?c(0):p(ce):ce.type==="Buffer"&&Array.isArray(ce.data)?p(ce.data):void 0})(re);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof re[Symbol.toPrimitive]=="function")return f.from(re[Symbol.toPrimitive]("string"),ee,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}function g(re){if(typeof re!="number")throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function m(re){return g(re),c(re<0?0:0|E(re))}function p(re){for(var ee=re.length<0?0:0|E(re.length),P=c(ee),G=0;G<ee;G+=1)P[G]=255&re[G];return P}function y(re,ee,P){if(ee<0||re.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<ee+(P||0))throw new RangeError('"length" is outside of buffer bounds');var G;return G=ee===void 0&&P===void 0?new Uint8Array(re):P===void 0?new Uint8Array(re,ee):new Uint8Array(re,ee,P),Object.setPrototypeOf(G,f.prototype),G}function E(re){if(re>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|re}function A(re,ee){if(f.isBuffer(re))return re.length;if(ArrayBuffer.isView(re)||Fe(re,ArrayBuffer))return re.byteLength;if(typeof re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);var P=re.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&P===0)return 0;for(var ve=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return We(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return ct(re).length;default:if(ve)return G?-1:We(re).length;ee=(""+ee).toLowerCase(),ve=!0}}function w(re,ee,P){var G=!1;if((ee===void 0||ee<0)&&(ee=0),ee>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(ee>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return He(this,ee,P);case"utf8":case"utf-8":return Ae(this,ee,P);case"ascii":return Ve(this,ee,P);case"latin1":case"binary":return Se(this,ee,P);case"base64":return be(this,ee,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,ee,P);default:if(G)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),G=!0}}function M(re,ee,P){var G=re[ee];re[ee]=re[P],re[P]=G}function x(re,ee,P,G,ve){if(re.length===0)return-1;if(typeof P=="string"?(G=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),ze(P=+P)&&(P=ve?0:re.length-1),P<0&&(P=re.length+P),P>=re.length){if(ve)return-1;P=re.length-1}else if(P<0){if(!ve)return-1;P=0}if(typeof ee=="string"&&(ee=f.from(ee,G)),f.isBuffer(ee))return ee.length===0?-1:C(re,ee,P,G,ve);if(typeof ee=="number")return ee&=255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(re,ee,P):Uint8Array.prototype.lastIndexOf.call(re,ee,P):C(re,[ee],P,G,ve);throw new TypeError("val must be string, number or Buffer")}function C(re,ee,P,G,ve){var ce,Qe=1,ht=re.length,Je=ee.length;if(G!==void 0&&((G=String(G).toLowerCase())==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(re.length<2||ee.length<2)return-1;Qe=2,ht/=2,Je/=2,P/=2}function it(dt,Bt){return Qe===1?dt[Bt]:dt.readUInt16BE(Bt*Qe)}if(ve){var Xe=-1;for(ce=P;ce<ht;ce++)if(it(re,ce)===it(ee,Xe===-1?0:ce-Xe)){if(Xe===-1&&(Xe=ce),ce-Xe+1===Je)return Xe*Qe}else Xe!==-1&&(ce-=ce-Xe),Xe=-1}else for(P+Je>ht&&(P=ht-Je),ce=P;ce>=0;ce--){for(var lt=!0,Rt=0;Rt<Je;Rt++)if(it(re,ce+Rt)!==it(ee,Rt)){lt=!1;break}if(lt)return ce}return-1}function O(re,ee,P,G){P=Number(P)||0;var ve=re.length-P;G?(G=Number(G))>ve&&(G=ve):G=ve;var ce=ee.length;G>ce/2&&(G=ce/2);for(var Qe=0;Qe<G;++Qe){var ht=parseInt(ee.substr(2*Qe,2),16);if(ze(ht))return Qe;re[P+Qe]=ht}return Qe}function z(re,ee,P,G){return It(We(ee,re.length-P),re,P,G)}function se(re,ee,P,G){return It((function(ve){for(var ce=[],Qe=0;Qe<ve.length;++Qe)ce.push(255&ve.charCodeAt(Qe));return ce})(ee),re,P,G)}function F(re,ee,P,G){return It(ct(ee),re,P,G)}function H(re,ee,P,G){return It((function(ve,ce){for(var Qe,ht,Je,it=[],Xe=0;Xe<ve.length&&!((ce-=2)<0);++Xe)ht=(Qe=ve.charCodeAt(Xe))>>8,Je=Qe%256,it.push(Je),it.push(ht);return it})(ee,re.length-P),re,P,G)}function be(re,ee,P){return ee===0&&P===re.length?i.fromByteArray(re):i.fromByteArray(re.slice(ee,P))}function Ae(re,ee,P){P=Math.min(re.length,P);for(var G=[],ve=ee;ve<P;){var ce,Qe,ht,Je,it=re[ve],Xe=null,lt=it>239?4:it>223?3:it>191?2:1;if(ve+lt<=P)switch(lt){case 1:it<128&&(Xe=it);break;case 2:(192&(ce=re[ve+1]))==128&&(Je=(31&it)<<6|63&ce)>127&&(Xe=Je);break;case 3:ce=re[ve+1],Qe=re[ve+2],(192&ce)==128&&(192&Qe)==128&&(Je=(15&it)<<12|(63&ce)<<6|63&Qe)>2047&&(Je<55296||Je>57343)&&(Xe=Je);break;case 4:ce=re[ve+1],Qe=re[ve+2],ht=re[ve+3],(192&ce)==128&&(192&Qe)==128&&(192&ht)==128&&(Je=(15&it)<<18|(63&ce)<<12|(63&Qe)<<6|63&ht)>65535&&Je<1114112&&(Xe=Je)}Xe===null?(Xe=65533,lt=1):Xe>65535&&(Xe-=65536,G.push(Xe>>>10&1023|55296),Xe=56320|1023&Xe),G.push(Xe),ve+=lt}return(function(Rt){var dt=Rt.length;if(dt<=Me)return String.fromCharCode.apply(String,Rt);for(var Bt="",wn=0;wn<dt;)Bt+=String.fromCharCode.apply(String,Rt.slice(wn,wn+=Me));return Bt})(G)}e.kMaxLength=l,f.TYPED_ARRAY_SUPPORT=(function(){try{var re=new Uint8Array(1),ee={foo:function(){return 42}};return Object.setPrototypeOf(ee,Uint8Array.prototype),Object.setPrototypeOf(re,ee),re.foo()===42}catch{return!1}})(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(re,ee,P){return h(re,ee,P)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(re,ee,P){return(function(G,ve,ce){return g(G),G<=0?c(G):ve!==void 0?typeof ce=="string"?c(G).fill(ve,ce):c(G).fill(ve):c(G)})(re,ee,P)},f.allocUnsafe=function(re){return m(re)},f.allocUnsafeSlow=function(re){return m(re)},f.isBuffer=function(re){return re!=null&&re._isBuffer===!0&&re!==f.prototype},f.compare=function(re,ee){if(Fe(re,Uint8Array)&&(re=f.from(re,re.offset,re.byteLength)),Fe(ee,Uint8Array)&&(ee=f.from(ee,ee.offset,ee.byteLength)),!f.isBuffer(re)||!f.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(re===ee)return 0;for(var P=re.length,G=ee.length,ve=0,ce=Math.min(P,G);ve<ce;++ve)if(re[ve]!==ee[ve]){P=re[ve],G=ee[ve];break}return P<G?-1:G<P?1:0},f.isEncoding=function(re){switch(String(re).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(re,ee){if(!Array.isArray(re))throw new TypeError('"list" argument must be an Array of Buffers');if(re.length===0)return f.alloc(0);var P;if(ee===void 0)for(ee=0,P=0;P<re.length;++P)ee+=re[P].length;var G=f.allocUnsafe(ee),ve=0;for(P=0;P<re.length;++P){var ce=re[P];if(Fe(ce,Uint8Array))ve+ce.length>G.length?f.from(ce).copy(G,ve):Uint8Array.prototype.set.call(G,ce,ve);else{if(!f.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(G,ve)}ve+=ce.length}return G},f.byteLength=A,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var re=this.length;if(re%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ee=0;ee<re;ee+=2)M(this,ee,ee+1);return this},f.prototype.swap32=function(){var re=this.length;if(re%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ee=0;ee<re;ee+=4)M(this,ee,ee+3),M(this,ee+1,ee+2);return this},f.prototype.swap64=function(){var re=this.length;if(re%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ee=0;ee<re;ee+=8)M(this,ee,ee+7),M(this,ee+1,ee+6),M(this,ee+2,ee+5),M(this,ee+3,ee+4);return this},f.prototype.toString=function(){var re=this.length;return re===0?"":arguments.length===0?Ae(this,0,re):w.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(re){if(!f.isBuffer(re))throw new TypeError("Argument must be a Buffer");return this===re||f.compare(this,re)===0},f.prototype.inspect=function(){var re="",ee=e.INSPECT_MAX_BYTES;return re=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(re+=" ... "),"<Buffer "+re+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(re,ee,P,G,ve){if(Fe(re,Uint8Array)&&(re=f.from(re,re.offset,re.byteLength)),!f.isBuffer(re))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof re);if(ee===void 0&&(ee=0),P===void 0&&(P=re?re.length:0),G===void 0&&(G=0),ve===void 0&&(ve=this.length),ee<0||P>re.length||G<0||ve>this.length)throw new RangeError("out of range index");if(G>=ve&&ee>=P)return 0;if(G>=ve)return-1;if(ee>=P)return 1;if(this===re)return 0;for(var ce=(ve>>>=0)-(G>>>=0),Qe=(P>>>=0)-(ee>>>=0),ht=Math.min(ce,Qe),Je=this.slice(G,ve),it=re.slice(ee,P),Xe=0;Xe<ht;++Xe)if(Je[Xe]!==it[Xe]){ce=Je[Xe],Qe=it[Xe];break}return ce<Qe?-1:Qe<ce?1:0},f.prototype.includes=function(re,ee,P){return this.indexOf(re,ee,P)!==-1},f.prototype.indexOf=function(re,ee,P){return x(this,re,ee,P,!0)},f.prototype.lastIndexOf=function(re,ee,P){return x(this,re,ee,P,!1)},f.prototype.write=function(re,ee,P,G){if(ee===void 0)G="utf8",P=this.length,ee=0;else if(P===void 0&&typeof ee=="string")G=ee,P=this.length,ee=0;else{if(!isFinite(ee))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ee>>>=0,isFinite(P)?(P>>>=0,G===void 0&&(G="utf8")):(G=P,P=void 0)}var ve=this.length-ee;if((P===void 0||P>ve)&&(P=ve),re.length>0&&(P<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var ce=!1;;)switch(G){case"hex":return O(this,re,ee,P);case"utf8":case"utf-8":return z(this,re,ee,P);case"ascii":case"latin1":case"binary":return se(this,re,ee,P);case"base64":return F(this,re,ee,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,re,ee,P);default:if(ce)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ce=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Me=4096;function Ve(re,ee,P){var G="";P=Math.min(re.length,P);for(var ve=ee;ve<P;++ve)G+=String.fromCharCode(127&re[ve]);return G}function Se(re,ee,P){var G="";P=Math.min(re.length,P);for(var ve=ee;ve<P;++ve)G+=String.fromCharCode(re[ve]);return G}function He(re,ee,P){var G=re.length;(!ee||ee<0)&&(ee=0),(!P||P<0||P>G)&&(P=G);for(var ve="",ce=ee;ce<P;++ce)ve+=pt[re[ce]];return ve}function Ue(re,ee,P){for(var G=re.slice(ee,P),ve="",ce=0;ce<G.length-1;ce+=2)ve+=String.fromCharCode(G[ce]+256*G[ce+1]);return ve}function he(re,ee,P){if(re%1!=0||re<0)throw new RangeError("offset is not uint");if(re+ee>P)throw new RangeError("Trying to access beyond buffer length")}function $e(re,ee,P,G,ve,ce){if(!f.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>ve||ee<ce)throw new RangeError('"value" argument is out of bounds');if(P+G>re.length)throw new RangeError("Index out of range")}function Ye(re,ee,P,G,ve,ce){if(P+G>re.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function tt(re,ee,P,G,ve){return ee=+ee,P>>>=0,ve||Ye(re,0,P,4),r.write(re,ee,P,G,23,4),P+4}function rt(re,ee,P,G,ve){return ee=+ee,P>>>=0,ve||Ye(re,0,P,8),r.write(re,ee,P,G,52,8),P+8}f.prototype.slice=function(re,ee){var P=this.length;(re=~~re)<0?(re+=P)<0&&(re=0):re>P&&(re=P),(ee=ee===void 0?P:~~ee)<0?(ee+=P)<0&&(ee=0):ee>P&&(ee=P),ee<re&&(ee=re);var G=this.subarray(re,ee);return Object.setPrototypeOf(G,f.prototype),G},f.prototype.readUintLE=f.prototype.readUIntLE=function(re,ee,P){re>>>=0,ee>>>=0,P||he(re,ee,this.length);for(var G=this[re],ve=1,ce=0;++ce<ee&&(ve*=256);)G+=this[re+ce]*ve;return G},f.prototype.readUintBE=f.prototype.readUIntBE=function(re,ee,P){re>>>=0,ee>>>=0,P||he(re,ee,this.length);for(var G=this[re+--ee],ve=1;ee>0&&(ve*=256);)G+=this[re+--ee]*ve;return G},f.prototype.readUint8=f.prototype.readUInt8=function(re,ee){return re>>>=0,ee||he(re,1,this.length),this[re]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(re,ee){return re>>>=0,ee||he(re,2,this.length),this[re]|this[re+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(re,ee){return re>>>=0,ee||he(re,2,this.length),this[re]<<8|this[re+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(re,ee){return re>>>=0,ee||he(re,4,this.length),(this[re]|this[re+1]<<8|this[re+2]<<16)+16777216*this[re+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(re,ee){return re>>>=0,ee||he(re,4,this.length),16777216*this[re]+(this[re+1]<<16|this[re+2]<<8|this[re+3])},f.prototype.readIntLE=function(re,ee,P){re>>>=0,ee>>>=0,P||he(re,ee,this.length);for(var G=this[re],ve=1,ce=0;++ce<ee&&(ve*=256);)G+=this[re+ce]*ve;return G>=(ve*=128)&&(G-=Math.pow(2,8*ee)),G},f.prototype.readIntBE=function(re,ee,P){re>>>=0,ee>>>=0,P||he(re,ee,this.length);for(var G=ee,ve=1,ce=this[re+--G];G>0&&(ve*=256);)ce+=this[re+--G]*ve;return ce>=(ve*=128)&&(ce-=Math.pow(2,8*ee)),ce},f.prototype.readInt8=function(re,ee){return re>>>=0,ee||he(re,1,this.length),128&this[re]?-1*(255-this[re]+1):this[re]},f.prototype.readInt16LE=function(re,ee){re>>>=0,ee||he(re,2,this.length);var P=this[re]|this[re+1]<<8;return 32768&P?4294901760|P:P},f.prototype.readInt16BE=function(re,ee){re>>>=0,ee||he(re,2,this.length);var P=this[re+1]|this[re]<<8;return 32768&P?4294901760|P:P},f.prototype.readInt32LE=function(re,ee){return re>>>=0,ee||he(re,4,this.length),this[re]|this[re+1]<<8|this[re+2]<<16|this[re+3]<<24},f.prototype.readInt32BE=function(re,ee){return re>>>=0,ee||he(re,4,this.length),this[re]<<24|this[re+1]<<16|this[re+2]<<8|this[re+3]},f.prototype.readFloatLE=function(re,ee){return re>>>=0,ee||he(re,4,this.length),r.read(this,re,!0,23,4)},f.prototype.readFloatBE=function(re,ee){return re>>>=0,ee||he(re,4,this.length),r.read(this,re,!1,23,4)},f.prototype.readDoubleLE=function(re,ee){return re>>>=0,ee||he(re,8,this.length),r.read(this,re,!0,52,8)},f.prototype.readDoubleBE=function(re,ee){return re>>>=0,ee||he(re,8,this.length),r.read(this,re,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(re,ee,P,G){re=+re,ee>>>=0,P>>>=0,G||$e(this,re,ee,P,Math.pow(2,8*P)-1,0);var ve=1,ce=0;for(this[ee]=255&re;++ce<P&&(ve*=256);)this[ee+ce]=re/ve&255;return ee+P},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(re,ee,P,G){re=+re,ee>>>=0,P>>>=0,G||$e(this,re,ee,P,Math.pow(2,8*P)-1,0);var ve=P-1,ce=1;for(this[ee+ve]=255&re;--ve>=0&&(ce*=256);)this[ee+ve]=re/ce&255;return ee+P},f.prototype.writeUint8=f.prototype.writeUInt8=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,1,255,0),this[ee]=255&re,ee+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,2,65535,0),this[ee]=255&re,this[ee+1]=re>>>8,ee+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,2,65535,0),this[ee]=re>>>8,this[ee+1]=255&re,ee+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,4,4294967295,0),this[ee+3]=re>>>24,this[ee+2]=re>>>16,this[ee+1]=re>>>8,this[ee]=255&re,ee+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,4,4294967295,0),this[ee]=re>>>24,this[ee+1]=re>>>16,this[ee+2]=re>>>8,this[ee+3]=255&re,ee+4},f.prototype.writeIntLE=function(re,ee,P,G){if(re=+re,ee>>>=0,!G){var ve=Math.pow(2,8*P-1);$e(this,re,ee,P,ve-1,-ve)}var ce=0,Qe=1,ht=0;for(this[ee]=255&re;++ce<P&&(Qe*=256);)re<0&&ht===0&&this[ee+ce-1]!==0&&(ht=1),this[ee+ce]=(re/Qe|0)-ht&255;return ee+P},f.prototype.writeIntBE=function(re,ee,P,G){if(re=+re,ee>>>=0,!G){var ve=Math.pow(2,8*P-1);$e(this,re,ee,P,ve-1,-ve)}var ce=P-1,Qe=1,ht=0;for(this[ee+ce]=255&re;--ce>=0&&(Qe*=256);)re<0&&ht===0&&this[ee+ce+1]!==0&&(ht=1),this[ee+ce]=(re/Qe|0)-ht&255;return ee+P},f.prototype.writeInt8=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,1,127,-128),re<0&&(re=255+re+1),this[ee]=255&re,ee+1},f.prototype.writeInt16LE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,2,32767,-32768),this[ee]=255&re,this[ee+1]=re>>>8,ee+2},f.prototype.writeInt16BE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,2,32767,-32768),this[ee]=re>>>8,this[ee+1]=255&re,ee+2},f.prototype.writeInt32LE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,4,2147483647,-2147483648),this[ee]=255&re,this[ee+1]=re>>>8,this[ee+2]=re>>>16,this[ee+3]=re>>>24,ee+4},f.prototype.writeInt32BE=function(re,ee,P){return re=+re,ee>>>=0,P||$e(this,re,ee,4,2147483647,-2147483648),re<0&&(re=4294967295+re+1),this[ee]=re>>>24,this[ee+1]=re>>>16,this[ee+2]=re>>>8,this[ee+3]=255&re,ee+4},f.prototype.writeFloatLE=function(re,ee,P){return tt(this,re,ee,!0,P)},f.prototype.writeFloatBE=function(re,ee,P){return tt(this,re,ee,!1,P)},f.prototype.writeDoubleLE=function(re,ee,P){return rt(this,re,ee,!0,P)},f.prototype.writeDoubleBE=function(re,ee,P){return rt(this,re,ee,!1,P)},f.prototype.copy=function(re,ee,P,G){if(!f.isBuffer(re))throw new TypeError("argument should be a Buffer");if(P||(P=0),G||G===0||(G=this.length),ee>=re.length&&(ee=re.length),ee||(ee=0),G>0&&G<P&&(G=P),G===P||re.length===0||this.length===0)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),re.length-ee<G-P&&(G=re.length-ee+P);var ve=G-P;return this===re&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ee,P,G):Uint8Array.prototype.set.call(re,this.subarray(P,G),ee),ve},f.prototype.fill=function(re,ee,P,G){if(typeof re=="string"){if(typeof ee=="string"?(G=ee,ee=0,P=this.length):typeof P=="string"&&(G=P,P=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!f.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(re.length===1){var ve=re.charCodeAt(0);(G==="utf8"&&ve<128||G==="latin1")&&(re=ve)}}else typeof re=="number"?re&=255:typeof re=="boolean"&&(re=Number(re));if(ee<0||this.length<ee||this.length<P)throw new RangeError("Out of range index");if(P<=ee)return this;var ce;if(ee>>>=0,P=P===void 0?this.length:P>>>0,re||(re=0),typeof re=="number")for(ce=ee;ce<P;++ce)this[ce]=re;else{var Qe=f.isBuffer(re)?re:f.from(re,G),ht=Qe.length;if(ht===0)throw new TypeError('The value "'+re+'" is invalid for argument "value"');for(ce=0;ce<P-ee;++ce)this[ce+ee]=Qe[ce%ht]}return this};var De=/[^+/0-9A-Za-z-_]/g;function We(re,ee){var P;ee=ee||1/0;for(var G=re.length,ve=null,ce=[],Qe=0;Qe<G;++Qe){if((P=re.charCodeAt(Qe))>55295&&P<57344){if(!ve){if(P>56319){(ee-=3)>-1&&ce.push(239,191,189);continue}if(Qe+1===G){(ee-=3)>-1&&ce.push(239,191,189);continue}ve=P;continue}if(P<56320){(ee-=3)>-1&&ce.push(239,191,189),ve=P;continue}P=65536+(ve-55296<<10|P-56320)}else ve&&(ee-=3)>-1&&ce.push(239,191,189);if(ve=null,P<128){if((ee-=1)<0)break;ce.push(P)}else if(P<2048){if((ee-=2)<0)break;ce.push(P>>6|192,63&P|128)}else if(P<65536){if((ee-=3)<0)break;ce.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((ee-=4)<0)break;ce.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return ce}function ct(re){return i.toByteArray((function(ee){if((ee=(ee=ee.split("=")[0]).trim().replace(De,"")).length<2)return"";for(;ee.length%4!=0;)ee+="=";return ee})(re))}function It(re,ee,P,G){for(var ve=0;ve<G&&!(ve+P>=ee.length||ve>=re.length);++ve)ee[ve+P]=re[ve];return ve}function Fe(re,ee){return re instanceof ee||re!=null&&re.constructor!=null&&re.constructor.name!=null&&re.constructor.name===ee.name}function ze(re){return re!=re}var pt=(function(){for(var re="0123456789abcdef",ee=new Array(256),P=0;P<16;++P)for(var G=16*P,ve=0;ve<16;++ve)ee[G+ve]=re[P]+re[ve];return ee})()},6877:function(n,e){var t={parseBuffer:function(o){return new i(o).parse()},addBoxProcessor:function(o,l){typeof o=="string"&&typeof l=="function"&&(r.prototype._boxProcessors[o]=l)},createFile:function(){return new i},createBox:function(o,l,c){var f=r.create(o);return l&&l.append(f,c),f},createFullBox:function(o,l,c){var f=t.createBox(o,l,c);return f.version=0,f.flags=0,f},Utils:{}};t.Utils.dataViewToString=function(o,l){var c=l||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(c).decode(o);var f=[],h=0;if(c==="utf-8")for(;h<o.byteLength;){var g=o.getUint8(h++);g<128||(g<224?(g=(31&g)<<6,g|=63&o.getUint8(h++)):g<240?(g=(15&g)<<12,g|=(63&o.getUint8(h++))<<6,g|=63&o.getUint8(h++)):(g=(7&g)<<18,g|=(63&o.getUint8(h++))<<12,g|=(63&o.getUint8(h++))<<6,g|=63&o.getUint8(h++))),f.push(String.fromCharCode(g))}else for(;h<o.byteLength;)f.push(String.fromCharCode(o.getUint8(h++)));return f.join("")},t.Utils.utf8ToByteArray=function(o){var l,c;if(typeof TextEncoder<"u")l=new TextEncoder().encode(o);else for(l=[],c=0;c<o.length;++c){var f=o.charCodeAt(c);f<128?l.push(f):f<2048?(l.push(192|f>>6),l.push(128|63&f)):f<65536?(l.push(224|f>>12),l.push(128|63&f>>6),l.push(128|63&f)):(l.push(240|f>>18),l.push(128|63&f>>12),l.push(128|63&f>>6),l.push(128|63&f))}return l},t.Utils.appendBox=function(o,l,c){if(l._offset=o._cursor.offset,l._root=o._root?o._root:o,l._raw=o._raw,l._parent=o,c!==-1)if(c!=null){var f,h=-1;if(typeof c=="number")h=c;else{if(typeof c=="string")f=c;else{if(typeof c!="object"||!c.type)return void o.boxes.push(l);f=c.type}for(var g=0;g<o.boxes.length;g++)if(f===o.boxes[g].type){h=g+1;break}}o.boxes.splice(h,0,l)}else o.boxes.push(l)},e.parseBuffer=t.parseBuffer,e.addBoxProcessor=t.addBoxProcessor,e.createFile=t.createFile,e.createBox=t.createBox,e.createFullBox=t.createFullBox,e.Utils=t.Utils,t.Cursor=function(o){this.offset=o===void 0?0:o};var i=function(o){this._cursor=new t.Cursor,this.boxes=[],o&&(this._raw=new DataView(o))};i.prototype.fetch=function(o){var l=this.fetchAll(o,!0);return l.length?l[0]:null},i.prototype.fetchAll=function(o,l){var c=[];return i._sweep.call(this,o,c,l),c},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var o=r.parse(this);if(o.type===void 0)break;this.boxes.push(o)}return this},i._sweep=function(o,l,c){for(var f in this.type&&this.type==o&&l.push(this),this.boxes){if(l.length&&c)return;i._sweep.call(this.boxes[f],o,l,c)}},i.prototype.write=function(){var o,l=0;for(o=0;o<this.boxes.length;o++)l+=this.boxes[o].getLength(!1);var c=new Uint8Array(l);for(this._rawo=new DataView(c.buffer),this.bytes=c,this._cursor.offset=0,o=0;o<this.boxes.length;o++)this.boxes[o].write();return c.buffer},i.prototype.append=function(o,l){t.Utils.appendBox(this,o,l)};var r=function(){this._cursor=new t.Cursor};r.parse=function(o){var l=new r;return l._offset=o._cursor.offset,l._root=o._root?o._root:o,l._raw=o._raw,l._parent=o,l._parseBox(),o._cursor.offset=l._raw.byteOffset+l._raw.byteLength,l},r.create=function(o){var l=new r;return l.type=o,l.boxes=[],l},r.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca","meta","grpl","prsl"],r.prototype._boxProcessors={},r.prototype._procField=function(o,l,c){this._parsing?this[o]=this._readField(l,c):this._writeField(l,c,this[o])},r.prototype._procFieldArray=function(o,l,c,f){var h;if(this._parsing)for(this[o]=[],h=0;h<l;h++)this[o][h]=this._readField(c,f);else for(h=0;h<this[o].length;h++)this._writeField(c,f,this[o][h])},r.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},r.prototype._procEntries=function(o,l,c){var f;if(this._parsing)for(this[o]=[],f=0;f<l;f++)this[o].push({}),c.call(this,this[o][f]);else for(f=0;f<l;f++)c.call(this,this[o][f])},r.prototype._procSubEntries=function(o,l,c,f){var h;if(this._parsing)for(o[l]=[],h=0;h<c;h++)o[l].push({}),f.call(this,o[l][h]);else for(h=0;h<c;h++)f.call(this,o[l][h])},r.prototype._procEntryField=function(o,l,c,f){this._parsing?o[l]=this._readField(c,f):this._writeField(c,f,o[l])},r.prototype._procSubBoxes=function(o,l){var c;if(this._parsing)for(this[o]=[],c=0;c<l;c++)this[o].push(r.parse(this));else for(c=0;c<l;c++)this._rawo?this[o][c].write():this.size+=this[o][c].getLength()},r.prototype._readField=function(o,l){switch(o){case"uint":return this._readUint(l);case"int":return this._readInt(l);case"template":return this._readTemplate(l);case"string":return l===-1?this._readTerminatedString():this._readString(l);case"data":return this._readData(l);case"utf8":return this._readUTF8String();case"utf8string":return this._readUTF8TerminatedString();default:return-1}},r.prototype._readInt=function(o){var l=null,c=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:l=this._raw.getInt8(c);break;case 16:l=this._raw.getInt16(c);break;case 32:l=this._raw.getInt32(c);break;case 64:var f=this._raw.getInt32(c),h=this._raw.getInt32(c+4);l=f*Math.pow(2,32)+h}return this._cursor.offset+=o>>3,l},r.prototype._readUint=function(o){var l,c,f=null,h=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:f=this._raw.getUint8(h);break;case 16:f=this._raw.getUint16(h);break;case 24:f=((l=this._raw.getUint16(h))<<8)+(c=this._raw.getUint8(h+2));break;case 32:f=this._raw.getUint32(h);break;case 64:l=this._raw.getUint32(h),c=this._raw.getUint32(h+4),f=l*Math.pow(2,32)+c}return this._cursor.offset+=o>>3,f},r.prototype._readString=function(o){for(var l="",c=0;c<o;c++){var f=this._readUint(8);l+=String.fromCharCode(f)}return l},r.prototype._readTemplate=function(o){return this._readUint(o/2)+this._readUint(o/2)/Math.pow(2,o/2)},r.prototype._readTerminatedString=function(){for(var o="";this._cursor.offset-this._offset<this._raw.byteLength;){var l=this._readUint(8);if(l===0)break;o+=String.fromCharCode(l)}return o},r.prototype._readData=function(o){var l=o>0?o:this._raw.byteLength-(this._cursor.offset-this._offset);if(l>0){var c=new Uint8Array(this._raw.buffer,this._cursor.offset,l);return this._cursor.offset+=l,c}return null},r.prototype._readUTF8String=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),l=null;return o>0&&(l=new DataView(this._raw.buffer,this._cursor.offset,o),this._cursor.offset+=o),l&&t.Utils.dataViewToString(l)},r.prototype._readUTF8TerminatedString=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),l=null;if(o>0){var c;for(l=new DataView(this._raw.buffer,this._cursor.offset,o),c=0;c<o&&l.getUint8(c)!==0;c++);l=new DataView(this._raw.buffer,this._cursor.offset,c),this._cursor.offset+=Math.min(c+1,o)}return l&&t.Utils.dataViewToString(l)},r.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},r.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},r.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(r.parse(this))},r.prototype.append=function(o,l){t.Utils.appendBox(this,o,l)},r.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.size+=this.boxes[o].getLength();return this._data&&this._writeData(this._data),this.size},r.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.boxes[o].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},r.prototype._writeInt=function(o,l){if(this._rawo){var c=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setInt8(c,l);break;case 16:this._rawo.setInt16(c,l);break;case 32:this._rawo.setInt32(c,l);break;case 64:var f=Math.floor(l/Math.pow(2,32)),h=l-f*Math.pow(2,32);this._rawo.setUint32(c,f),this._rawo.setUint32(c+4,h)}this._cursor.offset+=o>>3}else this.size+=o>>3},r.prototype._writeUint=function(o,l){if(this._rawo){var c,f,h=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setUint8(h,l);break;case 16:this._rawo.setUint16(h,l);break;case 24:c=(16776960&l)>>8,f=255&l,this._rawo.setUint16(h,c),this._rawo.setUint8(h+2,f);break;case 32:this._rawo.setUint32(h,l);break;case 64:f=l-(c=Math.floor(l/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(h,c),this._rawo.setUint32(h+4,f)}this._cursor.offset+=o>>3}else this.size+=o>>3},r.prototype._writeString=function(o,l){for(var c=0;c<o;c++)this._writeUint(8,l.charCodeAt(c))},r.prototype._writeTerminatedString=function(o){if(o.length!==0){for(var l=0;l<o.length;l++)this._writeUint(8,o.charCodeAt(l));this._writeUint(8,0)}},r.prototype._writeTemplate=function(o,l){var c=Math.floor(l),f=(l-c)*Math.pow(2,o/2);this._writeUint(o/2,c),this._writeUint(o/2,f)},r.prototype._writeData=function(o){if(o)if(this._rawo){if(o instanceof Array){for(var l=this._cursor.offset-this._rawo.byteOffset,c=0;c<o.length;c++)this._rawo.setInt8(l+c,o[c]);this._cursor.offset+=o.length}o instanceof Uint8Array&&(this._root.bytes.set(o,this._cursor.offset),this._cursor.offset+=o.length)}else this.size+=o.length},r.prototype._writeUTF8String=function(o){var l=t.Utils.utf8ToByteArray(o);if(this._rawo)for(var c=new DataView(this._rawo.buffer,this._cursor.offset,l.length),f=0;f<l.length;f++)c.setUint8(f,l[f]);else this.size+=l.length},r.prototype._writeField=function(o,l,c){switch(o){case"uint":this._writeUint(l,c);break;case"int":this._writeInt(l,c);break;case"template":this._writeTemplate(l,c);break;case"string":l==-1?this._writeTerminatedString(c):this._writeString(l,c);break;case"data":this._writeData(c);break;case"utf8":this._writeUTF8String(c)}},r.prototype._boxProcessors.ardi=function(){this._procFullBox(),this._procField("audio_rendering_indication","uint",8)},r.prototype._boxProcessors.avc1=r.prototype._boxProcessors.avc2=r.prototype._boxProcessors.avc3=r.prototype._boxProcessors.avc4=r.prototype._boxProcessors.hvc1=r.prototype._boxProcessors.hev1=r.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},r.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_offset",this.version===1?"int":"uint",32)}))},r.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.elng=function(){this._procFullBox(),this._procField("extended_language","utf8string")},r.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"segment_duration","uint",this.version===1?64:32),this._procEntryField(o,"media_time","int",this.version===1?64:32),this._procEntryField(o,"media_rate_integer","int",16),this._procEntryField(o,"media_rate_fraction","int",16)}))},r.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},r.prototype._boxProcessors.free=r.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},r.prototype._boxProcessors.ftyp=r.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var o=-1;this._parsing&&(o=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",o,"string",4)},r.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},r.prototype._boxProcessors.imda=function(){this._procField("imda_identifier","uint",32),this._procField("data","data",-1)},r.prototype._boxProcessors.kind=function(){this._procFullBox(),this._procField("schemeURI","utf8string"),this._procField("value","utf8string")},r.prototype._boxProcessors.labl=function(){this._procFullBox(),this.is_group_label=!!(1&this.flags),this._procField("label_id","uint",16),this._procField("language","utf8string"),this._procField("label","utf8string")},r.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},r.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},r.prototype._boxProcessors.meta=function(){this._procFullBox()},r.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},r.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},r.prototype._boxProcessors.mp4a=r.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},r.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},r.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},r.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},r.prototype._boxProcessors.prsl=function(){this._procFullBox(),this._procField("group_id","uint",32),this._procField("num_entities_in_group","uint",32),this._procEntries("entities",this.num_entities_in_group,(function(o){this._procEntryField(o,"entity_id","uint",32)})),4096&this.flags&&this._procField("preselection_tag","utf8string"),8192&this.flags&&this._procField("selection_priority","uint",8),16384&this.flags&&this._procField("interleaving_tag","utf8string")},r.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},r.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},r.prototype._boxProcessors.sdtp=function(){this._procFullBox();var o=-1;this._parsing&&(o=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",o,"uint",8)},r.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(o){this._parsing||(o.reference=(1&o.reference_type)<<31,o.reference|=2147483647&o.referenced_size,o.sap=(1&o.starts_with_SAP)<<31,o.sap|=(3&o.SAP_type)<<28,o.sap|=268435455&o.SAP_delta_time),this._procEntryField(o,"reference","uint",32),this._procEntryField(o,"subsegment_duration","uint",32),this._procEntryField(o,"sap","uint",32),this._parsing&&(o.reference_type=o.reference>>31&1,o.referenced_size=2147483647&o.reference,o.starts_with_SAP=o.sap>>31&1,o.SAP_type=o.sap>>28&7,o.SAP_delta_time=268435455&o.sap)}))},r.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},r.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(o){this._procEntryField(o,"ranges_count","uint",32),this._procSubEntries(o,"ranges",o.ranges_count,(function(l){this._procEntryField(l,"level","uint",8),this._procEntryField(l,"range_size","uint",24)}))}))},r.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},r.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_delta","uint",32)}))},r.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"sample_delta","uint",32),this._procEntryField(o,"subsample_count","uint",16),this._procSubEntries(o,"subsamples",o.subsample_count,(function(l){this._procEntryField(l,"subsample_size","uint",this.version===1?32:16),this._procEntryField(l,"subsample_priority","uint",8),this._procEntryField(l,"discardable","uint",8),this._procEntryField(l,"codec_specific_parameters","uint",32)}))}))},r.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},r.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},r.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(o){this._procEntryField(o,"time","uint",this.version===1?64:32),this._procEntryField(o,"moof_offset","uint",this.version===1?64:32),this._procEntryField(o,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(o,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(o,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},r.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},r.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(o){256&this.flags&&this._procEntryField(o,"sample_duration","uint",32),512&this.flags&&this._procEntryField(o,"sample_size","uint",32),1024&this.flags&&this._procEntryField(o,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(o,"sample_composition_time_offset",this.version===1?"int":"uint",32)}))},r.prototype._boxProcessors["url "]=r.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},r.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},r.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},r.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},r.prototype._boxProcessors.vtte=function(){}},9826:function(n){var e,t=typeof Reflect=="object"?Reflect:null,i=t&&typeof t.apply=="function"?t.apply:function(w,M,x){return Function.prototype.apply.call(w,M,x)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var r=Number.isNaN||function(w){return w!=w};function o(){o.init.call(this)}n.exports=o,n.exports.once=function(w,M){return new Promise((function(x,C){function O(se){w.removeListener(M,z),C(se)}function z(){typeof w.removeListener=="function"&&w.removeListener("error",O),x([].slice.call(arguments))}A(w,M,z,{once:!0}),M!=="error"&&(function(se,F){typeof se.on=="function"&&A(se,"error",F,{once:!0})})(w,O)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function c(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function f(w){return w._maxListeners===void 0?o.defaultMaxListeners:w._maxListeners}function h(w,M,x,C){var O,z,se,F;if(c(x),(z=w._events)===void 0?(z=w._events=Object.create(null),w._eventsCount=0):(z.newListener!==void 0&&(w.emit("newListener",M,x.listener?x.listener:x),z=w._events),se=z[M]),se===void 0)se=z[M]=x,++w._eventsCount;else if(typeof se=="function"?se=z[M]=C?[x,se]:[se,x]:C?se.unshift(x):se.push(x),(O=f(w))>0&&se.length>O&&!se.warned){se.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=w,H.type=M,H.count=se.length,F=H,console&&console.warn&&console.warn(F)}return w}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(w,M,x){var C={fired:!1,wrapFn:void 0,target:w,type:M,listener:x},O=g.bind(C);return O.listener=x,C.wrapFn=O,O}function p(w,M,x){var C=w._events;if(C===void 0)return[];var O=C[M];return O===void 0?[]:typeof O=="function"?x?[O.listener||O]:[O]:x?(function(z){for(var se=new Array(z.length),F=0;F<se.length;++F)se[F]=z[F].listener||z[F];return se})(O):E(O,O.length)}function y(w){var M=this._events;if(M!==void 0){var x=M[w];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function E(w,M){for(var x=new Array(M),C=0;C<M;++C)x[C]=w[C];return x}function A(w,M,x,C){if(typeof w.on=="function")C.once?w.once(M,x):w.on(M,x);else{if(typeof w.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w);w.addEventListener(M,(function O(z){C.once&&w.removeEventListener(M,O),x(z)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(w){if(typeof w!="number"||w<0||r(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");l=w}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||r(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(w){for(var M=[],x=1;x<arguments.length;x++)M.push(arguments[x]);var C=w==="error",O=this._events;if(O!==void 0)C=C&&O.error===void 0;else if(!C)return!1;if(C){var z;if(M.length>0&&(z=M[0]),z instanceof Error)throw z;var se=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw se.context=z,se}var F=O[w];if(F===void 0)return!1;if(typeof F=="function")i(F,this,M);else{var H=F.length,be=E(F,H);for(x=0;x<H;++x)i(be[x],this,M)}return!0},o.prototype.addListener=function(w,M){return h(this,w,M,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(w,M){return h(this,w,M,!0)},o.prototype.once=function(w,M){return c(M),this.on(w,m(this,w,M)),this},o.prototype.prependOnceListener=function(w,M){return c(M),this.prependListener(w,m(this,w,M)),this},o.prototype.removeListener=function(w,M){var x,C,O,z,se;if(c(M),(C=this._events)===void 0)return this;if((x=C[w])===void 0)return this;if(x===M||x.listener===M)--this._eventsCount==0?this._events=Object.create(null):(delete C[w],C.removeListener&&this.emit("removeListener",w,x.listener||M));else if(typeof x!="function"){for(O=-1,z=x.length-1;z>=0;z--)if(x[z]===M||x[z].listener===M){se=x[z].listener,O=z;break}if(O<0)return this;O===0?x.shift():(function(F,H){for(;H+1<F.length;H++)F[H]=F[H+1];F.pop()})(x,O),x.length===1&&(C[w]=x[0]),C.removeListener!==void 0&&this.emit("removeListener",w,se||M)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(w){var M,x,C;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[w]),this;if(arguments.length===0){var O,z=Object.keys(x);for(C=0;C<z.length;++C)(O=z[C])!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(M=x[w])=="function")this.removeListener(w,M);else if(M!==void 0)for(C=M.length-1;C>=0;C--)this.removeListener(w,M[C]);return this},o.prototype.listeners=function(w){return p(this,w,!0)},o.prototype.rawListeners=function(w){return p(this,w,!1)},o.listenerCount=function(w,M){return typeof w.listenerCount=="function"?w.listenerCount(M):y.call(w,M)},o.prototype.listenerCount=y,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7316:function(n){n.exports=function e(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;var r,o,l;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(o=r;o--!=0;)if(!e(t[o],i[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(l=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(o=r;o--!=0;)if(!Object.prototype.hasOwnProperty.call(i,l[o]))return!1;for(o=r;o--!=0;){var c=l[o];if(!e(t[c],i[c]))return!1}return!0}return t!=t&&i!=i}},7986:function(n,e){e.read=function(t,i,r,o,l){var c,f,h=8*l-o-1,g=(1<<h)-1,m=g>>1,p=-7,y=r?l-1:0,E=r?-1:1,A=t[i+y];for(y+=E,c=A&(1<<-p)-1,A>>=-p,p+=h;p>0;c=256*c+t[i+y],y+=E,p-=8);for(f=c&(1<<-p)-1,c>>=-p,p+=o;p>0;f=256*f+t[i+y],y+=E,p-=8);if(c===0)c=1-m;else{if(c===g)return f?NaN:1/0*(A?-1:1);f+=Math.pow(2,o),c-=m}return(A?-1:1)*f*Math.pow(2,c-o)},e.write=function(t,i,r,o,l,c){var f,h,g,m=8*c-l-1,p=(1<<m)-1,y=p>>1,E=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=o?0:c-1,w=o?1:-1,M=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,f=p):(f=Math.floor(Math.log(i)/Math.LN2),i*(g=Math.pow(2,-f))<1&&(f--,g*=2),(i+=f+y>=1?E/g:E*Math.pow(2,1-y))*g>=2&&(f++,g/=2),f+y>=p?(h=0,f=p):f+y>=1?(h=(i*g-1)*Math.pow(2,l),f+=y):(h=i*Math.pow(2,y-1)*Math.pow(2,l),f=0));l>=8;t[r+A]=255&h,A+=w,h/=256,l-=8);for(f=f<<l|h,m+=l;m>0;t[r+A]=255&f,A+=w,f/=256,m-=8);t[r+A-w]|=128*M}},5474:function(n,e,t){(function(i){i.parser=function(P,G){return new l(P,G)},i.SAXParser=l,i.SAXStream=f,i.createStream=function(P,G){return new f(P,G)},i.MAX_BUFFER_LENGTH=65536;var r,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function l(P,G){if(!(this instanceof l))return new l(P,G);var ve=this;(function(ce){for(var Qe=0,ht=o.length;Qe<ht;Qe++)ce[o[Qe]]=""})(ve),ve.q=ve.c="",ve.bufferCheckPosition=i.MAX_BUFFER_LENGTH,ve.opt=G||{},ve.opt.lowercase=ve.opt.lowercase||ve.opt.lowercasetags,ve.looseCase=ve.opt.lowercase?"toLowerCase":"toUpperCase",ve.tags=[],ve.closed=ve.closedRoot=ve.sawRoot=!1,ve.tag=ve.error=null,ve.strict=!!P,ve.noscript=!(!P&&!ve.opt.noscript),ve.state=Se.BEGIN,ve.strictEntities=ve.opt.strictEntities,ve.ENTITIES=ve.strictEntities?Object.create(i.XML_ENTITIES):Object.create(i.ENTITIES),ve.attribList=[],ve.opt.xmlns&&(ve.ns=Object.create(x)),ve.trackPosition=ve.opt.position!==!1,ve.trackPosition&&(ve.position=ve.line=ve.column=0),Ue(ve,"onready")}i.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(P){function G(){}return G.prototype=P,new G}),Object.keys||(Object.keys=function(P){var G=[];for(var ve in P)P.hasOwnProperty(ve)&&G.push(ve);return G}),l.prototype={end:function(){rt(this)},write:function(P){var G=this;if(this.error)throw this.error;if(G.closed)return tt(G,"Cannot write after close. Assign an onready handler.");if(P===null)return rt(G);typeof P=="object"&&(P=P.toString());for(var ve=0,ce="";ce=ee(P,ve++),G.c=ce,ce;)switch(G.trackPosition&&(G.position++,ce===`
`?(G.line++,G.column=0):G.column++),G.state){case Se.BEGIN:if(G.state=Se.BEGIN_WHITESPACE,ce==="\uFEFF")continue;re(G,ce);continue;case Se.BEGIN_WHITESPACE:re(G,ce);continue;case Se.TEXT:if(G.sawRoot&&!G.closedRoot){for(var Qe=ve-1;ce&&ce!=="<"&&ce!=="&";)(ce=ee(P,ve++))&&G.trackPosition&&(G.position++,ce===`
`?(G.line++,G.column=0):G.column++);G.textNode+=P.substring(Qe,ve-1)}ce!=="<"||G.sawRoot&&G.closedRoot&&!G.strict?(!be(h,ce)||G.sawRoot&&!G.closedRoot||De(G,"Text data outside of root node."),ce==="&"?G.state=Se.TEXT_ENTITY:G.textNode+=ce):(G.state=Se.OPEN_WAKA,G.startTagPosition=G.position);continue;case Se.SCRIPT:ce==="<"?G.state=Se.SCRIPT_ENDING:G.script+=ce;continue;case Se.SCRIPT_ENDING:ce==="/"?G.state=Se.CLOSE_TAG:(G.script+="<"+ce,G.state=Se.SCRIPT);continue;case Se.OPEN_WAKA:if(ce==="!")G.state=Se.SGML_DECL,G.sgmlDecl="";else if(!H(h,ce))if(H(C,ce))G.state=Se.OPEN_TAG,G.tagName=ce;else if(ce==="/")G.state=Se.CLOSE_TAG,G.tagName="";else if(ce==="?")G.state=Se.PROC_INST,G.procInstName=G.procInstBody="";else{if(De(G,"Unencoded <"),G.startTagPosition+1<G.position){var ht=G.position-G.startTagPosition;ce=new Array(ht).join(" ")+ce}G.textNode+="<"+ce,G.state=Se.TEXT}continue;case Se.SGML_DECL:(G.sgmlDecl+ce).toUpperCase()===E?(he(G,"onopencdata"),G.state=Se.CDATA,G.sgmlDecl="",G.cdata=""):G.sgmlDecl+ce==="--"?(G.state=Se.COMMENT,G.comment="",G.sgmlDecl=""):(G.sgmlDecl+ce).toUpperCase()===A?(G.state=Se.DOCTYPE,(G.doctype||G.sawRoot)&&De(G,"Inappropriately located doctype declaration"),G.doctype="",G.sgmlDecl=""):ce===">"?(he(G,"onsgmldeclaration",G.sgmlDecl),G.sgmlDecl="",G.state=Se.TEXT):(H(p,ce)&&(G.state=Se.SGML_DECL_QUOTED),G.sgmlDecl+=ce);continue;case Se.SGML_DECL_QUOTED:ce===G.q&&(G.state=Se.SGML_DECL,G.q=""),G.sgmlDecl+=ce;continue;case Se.DOCTYPE:ce===">"?(G.state=Se.TEXT,he(G,"ondoctype",G.doctype),G.doctype=!0):(G.doctype+=ce,ce==="["?G.state=Se.DOCTYPE_DTD:H(p,ce)&&(G.state=Se.DOCTYPE_QUOTED,G.q=ce));continue;case Se.DOCTYPE_QUOTED:G.doctype+=ce,ce===G.q&&(G.q="",G.state=Se.DOCTYPE);continue;case Se.DOCTYPE_DTD:G.doctype+=ce,ce==="]"?G.state=Se.DOCTYPE:H(p,ce)&&(G.state=Se.DOCTYPE_DTD_QUOTED,G.q=ce);continue;case Se.DOCTYPE_DTD_QUOTED:G.doctype+=ce,ce===G.q&&(G.state=Se.DOCTYPE_DTD,G.q="");continue;case Se.COMMENT:ce==="-"?G.state=Se.COMMENT_ENDING:G.comment+=ce;continue;case Se.COMMENT_ENDING:ce==="-"?(G.state=Se.COMMENT_ENDED,G.comment=Ye(G.opt,G.comment),G.comment&&he(G,"oncomment",G.comment),G.comment=""):(G.comment+="-"+ce,G.state=Se.COMMENT);continue;case Se.COMMENT_ENDED:ce!==">"?(De(G,"Malformed comment"),G.comment+="--"+ce,G.state=Se.COMMENT):G.state=Se.TEXT;continue;case Se.CDATA:ce==="]"?G.state=Se.CDATA_ENDING:G.cdata+=ce;continue;case Se.CDATA_ENDING:ce==="]"?G.state=Se.CDATA_ENDING_2:(G.cdata+="]"+ce,G.state=Se.CDATA);continue;case Se.CDATA_ENDING_2:ce===">"?(G.cdata&&he(G,"oncdata",G.cdata),he(G,"onclosecdata"),G.cdata="",G.state=Se.TEXT):ce==="]"?G.cdata+="]":(G.cdata+="]]"+ce,G.state=Se.CDATA);continue;case Se.PROC_INST:ce==="?"?G.state=Se.PROC_INST_ENDING:H(h,ce)?G.state=Se.PROC_INST_BODY:G.procInstName+=ce;continue;case Se.PROC_INST_BODY:if(!G.procInstBody&&H(h,ce))continue;ce==="?"?G.state=Se.PROC_INST_ENDING:G.procInstBody+=ce;continue;case Se.PROC_INST_ENDING:ce===">"?(he(G,"onprocessinginstruction",{name:G.procInstName,body:G.procInstBody}),G.procInstName=G.procInstBody="",G.state=Se.TEXT):(G.procInstBody+="?"+ce,G.state=Se.PROC_INST_BODY);continue;case Se.OPEN_TAG:H(O,ce)?G.tagName+=ce:(We(G),ce===">"?Fe(G):ce==="/"?G.state=Se.OPEN_TAG_SLASH:(be(h,ce)&&De(G,"Invalid character in tag name"),G.state=Se.ATTRIB));continue;case Se.OPEN_TAG_SLASH:ce===">"?(Fe(G,!0),ze(G)):(De(G,"Forward-slash in opening tag not followed by >"),G.state=Se.ATTRIB);continue;case Se.ATTRIB:if(H(h,ce))continue;ce===">"?Fe(G):ce==="/"?G.state=Se.OPEN_TAG_SLASH:H(C,ce)?(G.attribName=ce,G.attribValue="",G.state=Se.ATTRIB_NAME):De(G,"Invalid attribute name");continue;case Se.ATTRIB_NAME:ce==="="?G.state=Se.ATTRIB_VALUE:ce===">"?(De(G,"Attribute without value"),G.attribValue=G.attribName,It(G),Fe(G)):H(h,ce)?G.state=Se.ATTRIB_NAME_SAW_WHITE:H(O,ce)?G.attribName+=ce:De(G,"Invalid attribute name");continue;case Se.ATTRIB_NAME_SAW_WHITE:if(ce==="=")G.state=Se.ATTRIB_VALUE;else{if(H(h,ce))continue;De(G,"Attribute without value"),G.tag.attributes[G.attribName]="",G.attribValue="",he(G,"onattribute",{name:G.attribName,value:""}),G.attribName="",ce===">"?Fe(G):H(C,ce)?(G.attribName=ce,G.state=Se.ATTRIB_NAME):(De(G,"Invalid attribute name"),G.state=Se.ATTRIB)}continue;case Se.ATTRIB_VALUE:if(H(h,ce))continue;H(p,ce)?(G.q=ce,G.state=Se.ATTRIB_VALUE_QUOTED):(De(G,"Unquoted attribute value"),G.state=Se.ATTRIB_VALUE_UNQUOTED,G.attribValue=ce);continue;case Se.ATTRIB_VALUE_QUOTED:if(ce!==G.q){ce==="&"?G.state=Se.ATTRIB_VALUE_ENTITY_Q:G.attribValue+=ce;continue}It(G),G.q="",G.state=Se.ATTRIB_VALUE_CLOSED;continue;case Se.ATTRIB_VALUE_CLOSED:H(h,ce)?G.state=Se.ATTRIB:ce===">"?Fe(G):ce==="/"?G.state=Se.OPEN_TAG_SLASH:H(C,ce)?(De(G,"No whitespace between attributes"),G.attribName=ce,G.attribValue="",G.state=Se.ATTRIB_NAME):De(G,"Invalid attribute name");continue;case Se.ATTRIB_VALUE_UNQUOTED:if(be(y,ce)){ce==="&"?G.state=Se.ATTRIB_VALUE_ENTITY_U:G.attribValue+=ce;continue}It(G),ce===">"?Fe(G):G.state=Se.ATTRIB;continue;case Se.CLOSE_TAG:if(G.tagName)ce===">"?ze(G):H(O,ce)?G.tagName+=ce:G.script?(G.script+="</"+G.tagName,G.tagName="",G.state=Se.SCRIPT):(be(h,ce)&&De(G,"Invalid tagname in closing tag"),G.state=Se.CLOSE_TAG_SAW_WHITE);else{if(H(h,ce))continue;be(C,ce)?G.script?(G.script+="</"+ce,G.state=Se.SCRIPT):De(G,"Invalid tagname in closing tag."):G.tagName=ce}continue;case Se.CLOSE_TAG_SAW_WHITE:if(H(h,ce))continue;ce===">"?ze(G):De(G,"Invalid characters in closing tag");continue;case Se.TEXT_ENTITY:case Se.ATTRIB_VALUE_ENTITY_Q:case Se.ATTRIB_VALUE_ENTITY_U:var Je,it;switch(G.state){case Se.TEXT_ENTITY:Je=Se.TEXT,it="textNode";break;case Se.ATTRIB_VALUE_ENTITY_Q:Je=Se.ATTRIB_VALUE_QUOTED,it="attribValue";break;case Se.ATTRIB_VALUE_ENTITY_U:Je=Se.ATTRIB_VALUE_UNQUOTED,it="attribValue"}ce===";"?(G[it]+=pt(G),G.entity="",G.state=Je):H(G.entity.length?se:z,ce)?G.entity+=ce:(De(G,"Invalid character in entity name"),G[it]+="&"+G.entity+ce,G.entity="",G.state=Je);continue;default:throw new Error(G,"Unknown state: "+G.state)}return G.position>=G.bufferCheckPosition&&(function(Xe){for(var lt=Math.max(i.MAX_BUFFER_LENGTH,10),Rt=0,dt=0,Bt=o.length;dt<Bt;dt++){var wn=Xe[o[dt]].length;if(wn>lt)switch(o[dt]){case"textNode":$e(Xe);break;case"cdata":he(Xe,"oncdata",Xe.cdata),Xe.cdata="";break;case"script":he(Xe,"onscript",Xe.script),Xe.script="";break;default:tt(Xe,"Max buffer length exceeded: "+o[dt])}Rt=Math.max(Rt,wn)}var Zt=i.MAX_BUFFER_LENGTH-Rt;Xe.bufferCheckPosition=Zt+Xe.position})(G),G},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var P;$e(P=this),P.cdata!==""&&(he(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(he(P,"onscript",P.script),P.script="")}};try{r=t(3515).Stream}catch{r=function(){}}var c=i.EVENTS.filter((function(P){return P!=="error"&&P!=="end"}));function f(P,G){if(!(this instanceof f))return new f(P,G);r.apply(this),this._parser=new l(P,G),this.writable=!0,this.readable=!0;var ve=this;this._parser.onend=function(){ve.emit("end")},this._parser.onerror=function(ce){ve.emit("error",ce),ve._parser.error=null},this._decoder=null,c.forEach((function(ce){Object.defineProperty(ve,"on"+ce,{get:function(){return ve._parser["on"+ce]},set:function(Qe){if(!Qe)return ve.removeAllListeners(ce),ve._parser["on"+ce]=Qe,Qe;ve.on(ce,Qe)},enumerable:!0,configurable:!1})}))}f.prototype=Object.create(r.prototype,{constructor:{value:f}}),f.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var G=t(748).StringDecoder;this._decoder=new G("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},f.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},f.prototype.on=function(P,G){var ve=this;return ve._parser["on"+P]||c.indexOf(P)===-1||(ve._parser["on"+P]=function(){var ce=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ce.splice(0,0,P),ve.emit.apply(ve,ce)}),r.prototype.on.call(ve,P,G)};var h=`\r
	 `,g="0124356789",m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",p=`'"`,y=h+">",E="[CDATA[",A="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/2000/xmlns/",x={xml:w,xmlns:M};h=F(h),g=F(g),m=F(m);var C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,se=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function F(P){return P.split("").reduce((function(G,ve){return G[ve]=!0,G}),{})}function H(P,G){return(function(ve){return Object.prototype.toString.call(ve)==="[object RegExp]"})(P)?!!G.match(P):P[G]}function be(P,G){return!H(P,G)}p=F(p),y=F(y);var Ae,Me,Ve,Se=0;for(var He in i.STATE={BEGIN:Se++,BEGIN_WHITESPACE:Se++,TEXT:Se++,TEXT_ENTITY:Se++,OPEN_WAKA:Se++,SGML_DECL:Se++,SGML_DECL_QUOTED:Se++,DOCTYPE:Se++,DOCTYPE_QUOTED:Se++,DOCTYPE_DTD:Se++,DOCTYPE_DTD_QUOTED:Se++,COMMENT_STARTING:Se++,COMMENT:Se++,COMMENT_ENDING:Se++,COMMENT_ENDED:Se++,CDATA:Se++,CDATA_ENDING:Se++,CDATA_ENDING_2:Se++,PROC_INST:Se++,PROC_INST_BODY:Se++,PROC_INST_ENDING:Se++,OPEN_TAG:Se++,OPEN_TAG_SLASH:Se++,ATTRIB:Se++,ATTRIB_NAME:Se++,ATTRIB_NAME_SAW_WHITE:Se++,ATTRIB_VALUE:Se++,ATTRIB_VALUE_QUOTED:Se++,ATTRIB_VALUE_CLOSED:Se++,ATTRIB_VALUE_UNQUOTED:Se++,ATTRIB_VALUE_ENTITY_Q:Se++,ATTRIB_VALUE_ENTITY_U:Se++,CLOSE_TAG:Se++,CLOSE_TAG_SAW_WHITE:Se++,SCRIPT:Se++,SCRIPT_ENDING:Se++},i.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},i.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(i.ENTITIES).forEach((function(P){var G=i.ENTITIES[P],ve=typeof G=="number"?String.fromCharCode(G):G;i.ENTITIES[P]=ve})),i.STATE)i.STATE[i.STATE[He]]=He;function Ue(P,G,ve){P[G]&&P[G](ve)}function he(P,G,ve){P.textNode&&$e(P),Ue(P,G,ve)}function $e(P){P.textNode=Ye(P.opt,P.textNode),P.textNode&&Ue(P,"ontext",P.textNode),P.textNode=""}function Ye(P,G){return P.trim&&(G=G.trim()),P.normalize&&(G=G.replace(/\s+/g," ")),G}function tt(P,G){return $e(P),P.trackPosition&&(G+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),G=new Error(G),P.error=G,Ue(P,"onerror",G),P}function rt(P){return P.sawRoot&&!P.closedRoot&&De(P,"Unclosed root tag"),P.state!==Se.BEGIN&&P.state!==Se.BEGIN_WHITESPACE&&P.state!==Se.TEXT&&tt(P,"Unexpected end"),$e(P),P.c="",P.closed=!0,Ue(P,"onend"),l.call(P,P.strict,P.opt),P}function De(P,G){if(typeof P!="object"||!(P instanceof l))throw new Error("bad call to strictFail");P.strict&&tt(P,G)}function We(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var G=P.tags[P.tags.length-1]||P,ve=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(ve.ns=G.ns),P.attribList.length=0,he(P,"onopentagstart",ve)}function ct(P,G){var ve=P.indexOf(":")<0?["",P]:P.split(":"),ce=ve[0],Qe=ve[1];return G&&P==="xmlns"&&(ce="xmlns",Qe=""),{prefix:ce,local:Qe}}function It(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName))P.attribName=P.attribValue="";else{if(P.opt.xmlns){var G=ct(P.attribName,!0),ve=G.prefix,ce=G.local;if(ve==="xmlns")if(ce==="xml"&&P.attribValue!==w)De(P,"xml: prefix must be bound to "+w+`
Actual: `+P.attribValue);else if(ce==="xmlns"&&P.attribValue!==M)De(P,"xmlns: prefix must be bound to "+M+`
Actual: `+P.attribValue);else{var Qe=P.tag,ht=P.tags[P.tags.length-1]||P;Qe.ns===ht.ns&&(Qe.ns=Object.create(ht.ns)),Qe.ns[ce]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,he(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}}function Fe(P,G){if(P.opt.xmlns){var ve=P.tag,ce=ct(P.tagName);ve.prefix=ce.prefix,ve.local=ce.local,ve.uri=ve.ns[ce.prefix]||"",ve.prefix&&!ve.uri&&(De(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),ve.uri=ce.prefix);var Qe=P.tags[P.tags.length-1]||P;ve.ns&&Qe.ns!==ve.ns&&Object.keys(ve.ns).forEach((function(gn){he(P,"onopennamespace",{prefix:gn,uri:ve.ns[gn]})}));for(var ht=0,Je=P.attribList.length;ht<Je;ht++){var it=P.attribList[ht],Xe=it[0],lt=it[1],Rt=ct(Xe,!0),dt=Rt.prefix,Bt=Rt.local,wn=dt===""?"":ve.ns[dt]||"",Zt={name:Xe,value:lt,prefix:dt,local:Bt,uri:wn};dt&&dt!=="xmlns"&&!wn&&(De(P,"Unbound namespace prefix: "+JSON.stringify(dt)),Zt.uri=dt),P.tag.attributes[Xe]=Zt,he(P,"onattribute",Zt)}P.attribList.length=0}P.tag.isSelfClosing=!!G,P.sawRoot=!0,P.tags.push(P.tag),he(P,"onopentag",P.tag),G||(P.noscript||P.tagName.toLowerCase()!=="script"?P.state=Se.TEXT:P.state=Se.SCRIPT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function ze(P){if(!P.tagName)return De(P,"Weird empty close tag."),P.textNode+="</>",void(P.state=Se.TEXT);if(P.script){if(P.tagName!=="script")return P.script+="</"+P.tagName+">",P.tagName="",void(P.state=Se.SCRIPT);he(P,"onscript",P.script),P.script=""}var G=P.tags.length,ve=P.tagName;P.strict||(ve=ve[P.looseCase]());for(var ce=ve;G--&&P.tags[G].name!==ce;)De(P,"Unexpected close tag");if(G<0)return De(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",void(P.state=Se.TEXT);P.tagName=ve;for(var Qe=P.tags.length;Qe-- >G;){var ht=P.tag=P.tags.pop();P.tagName=P.tag.name,he(P,"onclosetag",P.tagName);var Je={};for(var it in ht.ns)Je[it]=ht.ns[it];var Xe=P.tags[P.tags.length-1]||P;P.opt.xmlns&&ht.ns!==Xe.ns&&Object.keys(ht.ns).forEach((function(lt){var Rt=ht.ns[lt];he(P,"onclosenamespace",{prefix:lt,uri:Rt})}))}G===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=Se.TEXT}function pt(P){var G,ve=P.entity,ce=ve.toLowerCase(),Qe="";return P.ENTITIES[ve]?P.ENTITIES[ve]:P.ENTITIES[ce]?P.ENTITIES[ce]:((ve=ce).charAt(0)==="#"&&(ve.charAt(1)==="x"?(ve=ve.slice(2),Qe=(G=parseInt(ve,16)).toString(16)):(ve=ve.slice(1),Qe=(G=parseInt(ve,10)).toString(10))),ve=ve.replace(/^0+/,""),Qe.toLowerCase()!==ve?(De(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(G))}function re(P,G){G==="<"?(P.state=Se.OPEN_WAKA,P.startTagPosition=P.position):be(h,G)&&(De(P,"Non-whitespace before first tag."),P.textNode=G,P.state=Se.TEXT)}function ee(P,G){var ve="";return G<P.length&&(ve=P.charAt(G)),ve}Se=i.STATE,String.fromCodePoint||(Ae=String.fromCharCode,Me=Math.floor,Ve=function(){var P,G,ve=[],ce=-1,Qe=arguments.length;if(!Qe)return"";for(var ht="";++ce<Qe;){var Je=Number(arguments[ce]);if(!isFinite(Je)||Je<0||Je>1114111||Me(Je)!==Je)throw RangeError("Invalid code point: "+Je);Je<=65535?ve.push(Je):(P=55296+((Je-=65536)>>10),G=Je%1024+56320,ve.push(P,G)),(ce+1===Qe||ve.length>16384)&&(ht+=Ae.apply(null,ve),ve.length=0)}return ht},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Ve,configurable:!0,writable:!0}):String.fromCodePoint=Ve)})(e)},6739:function(n,e,t){(function(i,r,o,l,c){function f(ee){if("contents"in ee)for(var P=("styleAttrs"in ee)?ee.styleAttrs[l.byName.ruby.qname]:null,G=ee.kind==="span"&&(P==="container"||P==="textContainer"||P==="baseContainer"),ve=ee.contents.length-1;ve>=0;ve--)!G||"styleAttrs"in ee.contents[ve]&&l.byName.ruby.qname in ee.contents[ve].styleAttrs?f(ee.contents[ve]):delete ee.contents[ve]}function h(ee,P,G,ve){var ce=ve&&ve.timeContainer==="seq",Qe=0;ve&&(Qe=ce&&G?G.end:ve.begin),P.begin=P.explicit_begin?P.explicit_begin+Qe:Qe;var ht=P.begin,Je=null;if("sets"in P)for(var it=0;it<P.sets.length;it++)h(ee,P.sets[it],Je,P),ht=P.timeContainer==="seq"?P.sets[it].end:Math.max(ht,P.sets[it].end),Je=P.sets[it];if("contents"in P){if("contents"in P)for(var Xe=0;Xe<P.contents.length;Xe++)h(ee,P.contents[Xe],Je,P),ht=P.timeContainer==="seq"?P.contents[Xe].end:Math.max(ht,P.contents[Xe].end),Je=P.contents[Xe]}else ht=ce?P.begin:Number.POSITIVE_INFINITY;P.explicit_end!==null&&P.explicit_dur!==null?P.end=Math.min(P.begin+P.explicit_dur,Qe+P.explicit_end):P.explicit_end===null&&P.explicit_dur!==null?P.end=P.begin+P.explicit_dur:P.explicit_end!==null&&P.explicit_dur===null?P.end=Qe+P.explicit_end:P.end=ht,delete P.explicit_begin,delete P.explicit_dur,delete P.explicit_end,ee._registerEvent(P)}function g(ee){this.node=ee}function m(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new y,this.layout=new w}function y(){this.styles={},this.initials={}}function E(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function A(){this.styleAttrs=null}function w(){this.regions={}}function M(ee,P){x.call(this,"image"),this.src=ee,this.type=P}function x(ee){this.kind=ee}function C(ee){this.id=ee}function O(ee){this.regionID=ee}function z(ee){this.styleAttrs=ee}function se(ee){this.sets=ee}function F(ee){this.contents=ee}function H(ee,P,G){this.explicit_begin=ee,this.explicit_end=P,this.explicit_dur=G}function be(){x.call(this,"body")}function Ae(){x.call(this,"div")}function Me(){x.call(this,"p")}function Ve(){x.call(this,"span")}function Se(){x.call(this,"span")}function He(){x.call(this,"br")}function Ue(){}function he(){}function $e(ee){return ee&&"xml:id"in ee.attributes&&ee.attributes["xml:id"].value||null}function Ye(ee){return ee&&"style"in ee.attributes?ee.attributes.style.value.split(" "):[]}function tt(ee,P){var G={};if(ee!==null)for(var ve in ee.attributes){var ce=ee.attributes[ve].uri+" "+ee.attributes[ve].local,Qe=l.byQName[ce];if(Qe!==void 0){var ht=Qe.parse(ee.attributes[ve].value);ht!==null?(G[ce]=ht,Qe===l.byName.zIndex&&Fe(P,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ze(P,"Cannot parse styling attribute "+ce+" --> "+ee.attributes[ve].value)}}return G}function rt(ee,P,G){for(var ve in ee.attributes)if(ee.attributes[ve].uri===P&&ee.attributes[ve].local===G)return ee.attributes[ve].value;return null}function De(ee,P,G){var ve,ce=null;return(ve=/^(\d+(?:\.\d+)?)f$/.exec(G))!==null?P!==null&&(ce=parseFloat(ve[1])/P):(ve=/^(\d+(?:\.\d+)?)t$/.exec(G))!==null?ee!==null&&(ce=parseFloat(ve[1])/ee):(ve=/^(\d+(?:\.\d+)?)ms$/.exec(G))!==null?ce=parseFloat(ve[1])/1e3:(ve=/^(\d+(?:\.\d+)?)s$/.exec(G))!==null?ce=parseFloat(ve[1]):(ve=/^(\d+(?:\.\d+)?)h$/.exec(G))!==null?ce=3600*parseFloat(ve[1]):(ve=/^(\d+(?:\.\d+)?)m$/.exec(G))!==null?ce=60*parseFloat(ve[1]):(ve=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(G))!==null?ce=3600*parseInt(ve[1])+60*parseInt(ve[2])+parseFloat(ve[3]):(ve=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(G))!==null&&P!==null&&(ce=3600*parseInt(ve[1])+60*parseInt(ve[2])+parseInt(ve[3])+(ve[4]===null?0:parseInt(ve[4])/P)),ce}function We(ee,P,G){for(;P.styleRefs.length>0;){var ve=P.styleRefs.pop();ve in ee.styles?(We(ee,ee.styles[ve],G),It(ee.styles[ve].styleAttrs,P.styleAttrs)):ze(G,"Non-existant style id referenced")}}function ct(ee,P,G,ve){for(var ce=P.length-1;ce>=0;ce--){var Qe=P[ce];Qe in ee.styles?It(ee.styles[Qe].styleAttrs,G):ze(ve,"Non-existant style id referenced")}}function It(ee,P){for(var G in ee)ee.hasOwnProperty(G)&&(G in P||(P[G]=ee[G]))}function Fe(ee,P){if(ee&&ee.warn&&ee.warn(P))throw P}function ze(ee,P){if(ee&&ee.error&&ee.error(P))throw P}function pt(ee,P){throw ee&&ee.fatal&&ee.fatal(P),P}function re(ee,P){for(var G,ve=0,ce=ee.length-1;ve<=ce;){var Qe=ee[G=Math.floor((ve+ce)/2)];if(Qe<P)ve=G+1;else{if(!(Qe>P))return{found:!0,index:G};ce=G-1}}return{found:!1,index:ve}}i.fromXML=function(ee,P,G){var ve=r.parser(!0,{xmlns:!0}),ce=[],Qe=[],ht=[],Je=0,it=null;ve.onclosetag=function(Bt){if(ce[0]instanceof Ue)it.head!==null&&it.head.styling!==null&&ct(it.head.styling,ce[0].styleRefs,ce[0].styleAttrs,P),delete ce[0].styleRefs;else if(ce[0]instanceof y)for(var wn in ce[0].styles)ce[0].styles.hasOwnProperty(wn)&&We(ce[0],ce[0].styles[wn],P);else if(ce[0]instanceof Me||ce[0]instanceof Ve){if(ce[0].contents.length>1){var Zt,gn=[ce[0].contents[0]];for(Zt=1;Zt<ce[0].contents.length;Zt++)ce[0].contents[Zt]instanceof Se&&gn[gn.length-1]instanceof Se?gn[gn.length-1].text+=ce[0].contents[Zt].text:gn.push(ce[0].contents[Zt]);ce[0].contents=gn}ce[0]instanceof Ve&&ce[0].contents.length===1&&ce[0].contents[0]instanceof Se&&(ce[0].text=ce[0].contents[0].text,delete ce[0].contents)}else ce[0]instanceof g&&(ce[0].node.uri===o.ns_tt&&ce[0].node.local==="metadata"?Je--:Je>0&&G&&"onCloseTag"in G&&G.onCloseTag());ht.shift(),Qe.shift(),ce.shift()},ve.ontext=function(Bt){if(ce[0]!==void 0)if(ce[0]instanceof Ve||ce[0]instanceof Me){if(ce[0]instanceof Ve){var wn=ce[0].styleAttrs[l.byName.ruby.qname];if(wn==="container"||wn==="textContainer"||wn==="baseContainer")return}var Zt=new Se;Zt.initFromText(it,ce[0],Bt,Qe[0],ht[0],P),ce[0].contents.push(Zt)}else ce[0]instanceof g&&Je>0&&G&&"onText"in G&&G.onText(Bt)},ve.onopentag=function(Bt){var wn=Bt.attributes["xml:space"];wn?ht.unshift(wn.value):ht.length===0?ht.unshift("default"):ht.unshift(ht[0]);var Zt=Bt.attributes["xml:lang"];if(Zt?Qe.unshift(Zt.value):Qe.length===0?Qe.unshift(""):Qe.unshift(Qe[0]),Bt.uri===o.ns_tt)if(Bt.local==="tt")it!==null&&pt(P,"Two <tt> elements at ("+this.line+","+this.column+")"),(it=new m).initFromNode(Bt,Qe[0],P),ce.unshift(it);else if(Bt.local==="head")ce[0]instanceof m||pt(P,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ce.unshift(it.head);else if(Bt.local==="styling")ce[0]instanceof p||pt(P,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ce.unshift(it.head.styling);else if(Bt.local==="style"){var gn;ce[0]instanceof y?((gn=new E).initFromNode(Bt,P),gn.id?it.head.styling.styles[gn.id]=gn:ze(P,"<style> element missing @id attribute"),ce.unshift(gn)):ce[0]instanceof Ue?((gn=new E).initFromNode(Bt,P),It(gn.styleAttrs,ce[0].styleAttrs),ce.unshift(gn)):pt(P,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(Bt.local==="initial"){var en;if(ce[0]instanceof y){for(var Wn in(en=new A).initFromNode(Bt,P),en.styleAttrs)en.styleAttrs.hasOwnProperty(Wn)&&(it.head.styling.initials[Wn]=en.styleAttrs[Wn]);ce.unshift(en)}else pt(P,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(Bt.local==="layout")ce[0]instanceof p||pt(P,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ce.unshift(it.head.layout);else if(Bt.local==="region"){ce[0]instanceof w||pt(P,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Ti=new Ue;Ti.initFromNode(it,Bt,Qe[0],P),!Ti.id||Ti.id in it.head.layout.regions?ze(P,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):it.head.layout.regions[Ti.id]=Ti,ce.unshift(Ti)}else if(Bt.local==="body"){ce[0]instanceof m||pt(P,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),it.body!==null&&pt(P,"Second <body> element at "+this.line+","+this.column+")");var Xi=new be;Xi.initFromNode(it,Bt,Qe[0],P),it.body=Xi,ce.unshift(Xi)}else if(Bt.local==="div"){ce[0]instanceof Ae||ce[0]instanceof be||pt(P,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var zi=new Ae;zi.initFromNode(it,ce[0],Bt,Qe[0],P);var ki=zi.styleAttrs[l.byName.backgroundImage.qname];ki&&(zi.contents.push(new M(ki)),delete zi.styleAttrs[l.byName.backgroundImage.qname]),ce[0].contents.push(zi),ce.unshift(zi)}else if(Bt.local==="image"){ce[0]instanceof Ae||pt(P,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var wa=new M;wa.initFromNode(it,ce[0],Bt,Qe[0],P),ce[0].contents.push(wa),ce.unshift(wa)}else if(Bt.local==="p"){ce[0]instanceof Ae||pt(P,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Gt=new Me;Gt.initFromNode(it,ce[0],Bt,Qe[0],P),ce[0].contents.push(Gt),ce.unshift(Gt)}else if(Bt.local==="span"){ce[0]instanceof Ve||ce[0]instanceof Me||pt(P,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var $t=new Ve;$t.initFromNode(it,ce[0],Bt,Qe[0],ht[0],P),ce[0].contents.push($t),ce.unshift($t)}else if(Bt.local==="br"){ce[0]instanceof Ve||ce[0]instanceof Me||pt(P,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Lt=new He;Lt.initFromNode(it,ce[0],Bt,Qe[0],P),ce[0].contents.push(Lt),ce.unshift(Lt)}else if(Bt.local==="set"){ce[0]instanceof Ve||ce[0]instanceof Me||ce[0]instanceof Ae||ce[0]instanceof be||ce[0]instanceof Ue||ce[0]instanceof He||pt(P,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var kt=new he;kt.initFromNode(it,ce[0],Bt,P),ce[0].sets.push(kt),ce.unshift(kt)}else ce.unshift(new g(Bt));else ce.unshift(new g(Bt));if(ce[0]instanceof g){if(Bt.uri===o.ns_tt&&Bt.local==="metadata")Je++;else if(Je>0&&G&&"onOpenTag"in G){var dn=[];for(var un in Bt.attributes)dn[Bt.attributes[un].uri+" "+Bt.attributes[un].local]={uri:Bt.attributes[un].uri,local:Bt.attributes[un].local,value:Bt.attributes[un].value};G.onOpenTag(Bt.uri,Bt.local,dn)}}},ve.write(ee).close(),delete it.head.styling.styles;var Xe=!1;for(var lt in it.head.layout.regions)if(it.head.layout.regions.hasOwnProperty(lt)){Xe=!0;break}if(!Xe){var Rt=Ue.prototype.createDefaultRegion(it.lang);it.head.layout.regions[Rt.id]=Rt}for(var dt in it.head.layout.regions)it.head.layout.regions.hasOwnProperty(dt)&&h(it,it.head.layout.regions[dt],null,null);return it.body&&h(it,it.body,null,null),it.body&&f(it.body),it},m.prototype.initFromNode=function(ee,P,G){var ve=(function(Je,it){var Xe=rt(Je,o.ns_ttp,"cellResolution"),lt=15,Rt=32;if(Xe!==null){var dt=/(\d+) (\d+)/.exec(Xe);dt!==null?(Rt=parseInt(dt[1]),lt=parseInt(dt[2])):Fe(it,"Malformed cellResolution value (using initial value instead)")}return{w:Rt,h:lt}})(ee,G);this.cellLength={h:new c.ComputedLength(0,1/ve.h),w:new c.ComputedLength(1/ve.w,0)};var ce=(function(Je,it){var Xe,lt=rt(Je,o.ns_ttp,"frameRate"),Rt=30;lt!==null&&((Xe=/(\d+)/.exec(lt))!==null?Rt=parseInt(Xe[1]):Fe(it,"Malformed frame rate attribute (using initial value instead)"));var dt=rt(Je,o.ns_ttp,"frameRateMultiplier"),Bt=1;dt!==null&&((Xe=/(\d+) (\d+)/.exec(dt))!==null?Bt=parseInt(Xe[1])/parseInt(Xe[2]):Fe(it,"Malformed frame rate multiplier attribute (using initial value instead)"));var wn=Bt*Rt,Zt=1,gn=rt(Je,o.ns_ttp,"tickRate");return gn===null?lt!==null&&(Zt=wn):(Xe=/(\d+)/.exec(gn))!==null?Zt=parseInt(Xe[1]):Fe(it,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:wn,tickRate:Zt}})(ee,G);this.effectiveFrameRate=ce.effectiveFrameRate,this.tickRate=ce.tickRate,this.aspectRatio=(function(Je,it){var Xe=rt(Je,o.ns_ittp,"aspectRatio");Xe===null&&(Xe=rt(Je,o.ns_ttp,"displayAspectRatio"));var lt=null;if(Xe!==null){var Rt=/(\d+)\s+(\d+)/.exec(Xe);if(Rt!==null){var dt=parseInt(Rt[1]),Bt=parseInt(Rt[2]);dt!==0&&Bt!==0?lt=dt/Bt:ze(it,"Illegal aspectRatio values (ignoring)")}else ze(it,"Malformed aspectRatio attribute (ignoring)")}return lt})(ee,G);var Qe=rt(ee,o.ns_ttp,"timeBase");Qe!==null&&Qe!=="media"&&pt(G,"Unsupported time base");var ht=(function(Je,it){var Xe=rt(Je,o.ns_tts,"extent");if(Xe===null)return null;var lt=Xe.split(" ");if(lt.length!==2)return Fe(it,"Malformed extent (ignoring)"),null;var Rt=c.parseLength(lt[0]),dt=c.parseLength(lt[1]);return dt&&Rt?{h:dt,w:Rt}:(Fe(it,"Malformed extent values (ignoring)"),null)})(ee,G);ht===null?this.pxLength={h:null,w:null}:(ht.h.unit==="px"&&ht.w.unit==="px"||pt(G,"Extent on TT must be in px or absent"),this.pxLength={h:new c.ComputedLength(0,1/ht.h.value),w:new c.ComputedLength(1/ht.w.value,0)}),this.dimensions={h:new c.ComputedLength(0,1),w:new c.ComputedLength(1,0)},this.lang=P},m.prototype._registerEvent=function(ee){if(!(ee.end<=ee.begin)){var P=re(this.events,ee.begin);if(P.found||this.events.splice(P.index,0,ee.begin),ee.end!==Number.POSITIVE_INFINITY){var G=re(this.events,ee.end);G.found||this.events.splice(G.index,0,ee.end)}}},m.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},m.prototype.getMediaTimeEvents=function(){return this.events},E.prototype.initFromNode=function(ee,P){this.id=$e(ee),this.styleAttrs=tt(ee,P),this.styleRefs=Ye(ee)},A.prototype.initFromNode=function(ee,P){for(var G in this.styleAttrs={},ee.attributes)if(ee.attributes[G].uri===o.ns_itts||ee.attributes[G].uri===o.ns_ebutts||ee.attributes[G].uri===o.ns_tts){var ve=ee.attributes[G].uri+" "+ee.attributes[G].local;this.styleAttrs[ve]=ee.attributes[G].value}},M.prototype.initFromNode=function(ee,P,G,ve,ce){this.src="src"in G.attributes?G.attributes.src.value:null,this.src||ze(ce,"Invalid image@src attribute"),this.type="type"in G.attributes?G.attributes.type.value:null,this.type||ze(ce,"Invalid image@type attribute"),z.prototype.initFromNode.call(this,ee,P,G,ce),H.prototype.initFromNode.call(this,ee,P,G,ce),se.prototype.initFromNode.call(this,ee,P,G,ce),O.prototype.initFromNode.call(this,ee,P,G,ce),this.lang=ve},C.prototype.initFromNode=function(ee,P,G,ve){this.id=$e(G)},O.prototype.initFromNode=function(ee,P,G,ve){this.regionID=(function(ce){return ce&&"region"in ce.attributes?ce.attributes.region.value:""})(G)},z.prototype.initFromNode=function(ee,P,G,ve){this.styleAttrs=tt(G,ve),ee.head!==null&&ee.head.styling!==null&&ct(ee.head.styling,Ye(G),this.styleAttrs,ve)},se.prototype.initFromNode=function(ee,P,G,ve){this.sets=[]},F.prototype.initFromNode=function(ee,P,G,ve){this.contents=[]},H.prototype.initFromNode=function(ee,P,G,ve){var ce=(function(Qe,ht,Je,it){var Xe=null;Je&&"begin"in Je.attributes&&(Xe=De(Qe.tickRate,Qe.effectiveFrameRate,Je.attributes.begin.value))===null&&Fe(it,"Malformed begin value "+Je.attributes.begin.value+" (using 0)");var lt=null;Je&&"dur"in Je.attributes&&(lt=De(Qe.tickRate,Qe.effectiveFrameRate,Je.attributes.dur.value))===null&&Fe(it,"Malformed dur value "+Je.attributes.dur.value+" (ignoring)");var Rt=null;return Je&&"end"in Je.attributes&&(Rt=De(Qe.tickRate,Qe.effectiveFrameRate,Je.attributes.end.value))===null&&Fe(it,"Malformed end value (ignoring)"),{explicit_begin:Xe,explicit_end:Rt,explicit_dur:lt}})(ee,0,G,ve);this.explicit_begin=ce.explicit_begin,this.explicit_end=ce.explicit_end,this.explicit_dur=ce.explicit_dur,this.timeContainer=(function(Qe,ht){var Je=Qe&&"timeContainer"in Qe.attributes?Qe.attributes.timeContainer.value:null;return Je&&Je!=="par"?Je==="seq"?"seq":(ze(ht,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"})(G,ve)},be.prototype.initFromNode=function(ee,P,G,ve){z.prototype.initFromNode.call(this,ee,null,P,ve),H.prototype.initFromNode.call(this,ee,null,P,ve),se.prototype.initFromNode.call(this,ee,null,P,ve),O.prototype.initFromNode.call(this,ee,null,P,ve),F.prototype.initFromNode.call(this,ee,null,P,ve),this.lang=G},Ae.prototype.initFromNode=function(ee,P,G,ve,ce){z.prototype.initFromNode.call(this,ee,P,G,ce),H.prototype.initFromNode.call(this,ee,P,G,ce),se.prototype.initFromNode.call(this,ee,P,G,ce),O.prototype.initFromNode.call(this,ee,P,G,ce),F.prototype.initFromNode.call(this,ee,P,G,ce),this.lang=ve},Me.prototype.initFromNode=function(ee,P,G,ve,ce){z.prototype.initFromNode.call(this,ee,P,G,ce),H.prototype.initFromNode.call(this,ee,P,G,ce),se.prototype.initFromNode.call(this,ee,P,G,ce),O.prototype.initFromNode.call(this,ee,P,G,ce),F.prototype.initFromNode.call(this,ee,P,G,ce),this.lang=ve},Ve.prototype.initFromNode=function(ee,P,G,ve,ce,Qe){z.prototype.initFromNode.call(this,ee,P,G,Qe),H.prototype.initFromNode.call(this,ee,P,G,Qe),se.prototype.initFromNode.call(this,ee,P,G,Qe),O.prototype.initFromNode.call(this,ee,P,G,Qe),F.prototype.initFromNode.call(this,ee,P,G,Qe),this.space=ce,this.lang=ve},Se.prototype.initFromText=function(ee,P,G,ve,ce,Qe){H.prototype.initFromNode.call(this,ee,P,null,Qe),this.text=G,this.space=ce,this.lang=ve},He.prototype.initFromNode=function(ee,P,G,ve,ce){O.prototype.initFromNode.call(this,ee,P,G,ce),H.prototype.initFromNode.call(this,ee,P,G,ce),this.lang=ve},Ue.prototype.createDefaultRegion=function(ee){var P=new Ue;return C.call(P,""),z.call(P,{}),se.call(P,[]),H.call(P,0,Number.POSITIVE_INFINITY,null),this.lang=ee,P},Ue.prototype.initFromNode=function(ee,P,G,ve){C.prototype.initFromNode.call(this,ee,null,P,ve),H.prototype.initFromNode.call(this,ee,null,P,ve),se.prototype.initFromNode.call(this,ee,null,P,ve),this.styleAttrs=tt(P,ve),this.styleRefs=Ye(P),this.lang=G},he.prototype.initFromNode=function(ee,P,G,ve){H.prototype.initFromNode.call(this,ee,P,G,ve);var ce=tt(G,ve);for(var Qe in this.qname=null,this.value=null,ce)if(ce.hasOwnProperty(Qe)){if(this.qname){ze(ve,"More than one style specified on set");break}this.qname=Qe,this.value=ce[Qe]}}})(e,typeof sax>"u"?t(5474):sax,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},1612:function(n,e,t){var i=/firefox/i.test(navigator.userAgent);(function(r,o,l){function c(F,H,be,Ae){var Me;if(be.kind==="region")(Me=document.createElement("div")).style.position="absolute";else if(be.kind==="body")Me=document.createElement("div");else if(be.kind==="div")Me=document.createElement("div");else if(be.kind==="image"){if(Me=document.createElement("img"),F.imgResolver!==null&&be.src!==null){var Ve=F.imgResolver(be.src,Me);Ve&&(Me.src=Ve),Me.height=F.regionH,Me.width=F.regionW}}else if(be.kind==="p")Me=document.createElement("p");else if(be.kind==="span")if(be.styleAttrs[l.byName.ruby.qname]==="container")Me=document.createElement("ruby"),F.ruby=!0;else if(be.styleAttrs[l.byName.ruby.qname]==="base")Me=document.createElement("span");else if(be.styleAttrs[l.byName.ruby.qname]==="text")Me=document.createElement("rt");else if(be.styleAttrs[l.byName.ruby.qname]==="baseContainer")Me=document.createElement("rbc");else if(be.styleAttrs[l.byName.ruby.qname]==="textContainer")Me=document.createElement("rtc");else{if(be.styleAttrs[l.byName.ruby.qname]==="delimiter")return;Me=document.createElement("span")}else be.kind==="br"&&(Me=document.createElement("br"));if(Me){if(be.lang&&(be.kind!=="region"&&be.lang===Ae.lang||(Me.lang=be.lang)),H.appendChild(Me),Me.style.margin="0",be.kind==="region"){var Se=be.styleAttrs[l.byName.writingMode.qname];Se==="lrtb"||Se==="lr"?(F.ipd="lr",F.bpd="tb"):Se==="rltb"||Se==="rl"?(F.ipd="rl",F.bpd="tb"):Se==="tblr"?(F.ipd="tb",F.bpd="lr"):Se!=="tbrl"&&Se!=="tb"||(F.ipd="tb",F.bpd="rl")}else if(be.kind==="p"&&F.bpd==="tb"){var He=be.styleAttrs[l.byName.direction.qname];F.ipd=He==="ltr"?"lr":"rl"}for(var Ue=0;Ue<A.length;Ue++){var he=A[Ue],$e=be.styleAttrs[he.qname];$e!==void 0&&he.map!==null&&he.map(F,Me,be,$e)}var Ye=Me,tt=be.styleAttrs[l.byName.linePadding.qname];if(tt&&!tt.isZero()){var rt=tt.toUsedLength(F.w,F.h);if(rt>0){var De=Math.ceil(rt)+"px";F.bpd==="tb"?(Ye.style.paddingLeft=De,Ye.style.paddingRight=De):(Ye.style.paddingTop=De,Ye.style.paddingBottom=De),F.lp=tt}}var We=be.styleAttrs[l.byName.multiRowAlign.qname];if(We&&We!=="auto"){var ct=document.createElement("span");ct.style.display="inline-block",ct.style.textAlign=We,Me.appendChild(ct),Ye=ct,F.mra=We}var It=be.styleAttrs[l.byName.rubyReserve.qname];if(It&&It[0]!=="none"&&(F.rubyReserve=It),be.styleAttrs[l.byName.fillLineGap.qname]&&(F.flg=!0),be.kind==="span"&&be.text){var Fe=be.styleAttrs[l.byName.textEmphasis.qname];if(Fe&&Fe.style!=="none"&&(F.textEmphasis=!0),l.byName.textCombine.qname in be.styleAttrs&&be.styleAttrs[l.byName.textCombine.qname]==="all")Me.textContent=be.text,Me._isd_element=be,Fe&&y(F,Me,0,Fe);else for(var ze="",pt=0;pt<be.text.length;pt++){ze+=be.text.charAt(pt);var re=be.text.charCodeAt(pt);if(re<55296||re>56319||pt===be.text.length-1){var ee=document.createElement("span");ee.textContent=ze,Fe&&y(F,ee,0,Fe),Me.appendChild(ee),ze="",ee._isd_element=be}}}if("contents"in be)for(var P=0;P<be.contents.length;P++)c(F,Ye,be.contents[P],be);var G=[];if(be.kind==="p"&&(p(F,Ye,G,null),F.rubyReserve&&((function(Je,it){for(var Xe=0;Xe<Je.length;Xe++){var lt,Rt,dt=document.createElement("ruby"),Bt=document.createElement("span");Bt.textContent="",dt.appendChild(Bt);var wn,Zt=it.rubyReserve[1].toUsedLength(it.w,it.h)+"px";it.rubyReserve[0]==="both"||it.rubyReserve[0]==="outside"&&Je.length==1?((lt=document.createElement("rtc")).style[C]=x?"after":"under",lt.textContent="",lt.style.fontSize=Zt,(Rt=document.createElement("rtc")).style[C]=x?"before":"over",Rt.textContent="",Rt.style.fontSize=Zt,dt.appendChild(lt),dt.appendChild(Rt)):((lt=document.createElement("rtc")).textContent="",lt.style.fontSize=Zt,wn=it.rubyReserve[0]==="after"||it.rubyReserve[0]==="outside"&&Xe>0?x?"after":it.bpd==="tb"||it.bpd==="rl"?"under":"over":x?"before":it.bpd==="tb"||it.bpd==="rl"?"over":"under",lt.style[C]=wn,dt.appendChild(lt));for(var gn=null,en=0;en<Je[Xe].rbc.length;en++)if(Je[Xe].rbc[en].localName==="ruby"){gn=Je[Xe].rbc[en];for(var Wn=0;Wn<gn.style.length;Wn++)dt.style.setProperty(gn.style.item(Wn),gn.style.getPropertyValue(gn.style.item(Wn)));break}(gn=gn||Je[Xe].elements[0].node).parentElement.insertBefore(dt,gn)}})(G,F),F.rubyReserve=null),(F.ruby||F.rubyReserve)&&((function(Je,it){for(var Xe=0;Xe<Je.length;Xe++)for(var lt=0;lt<Je[Xe].rbc.length;lt++){var Rt;Je[Xe].rbc[lt].style[C]||(Rt=x?Xe===0?"before":"after":it.bpd==="tb"||it.bpd==="rl"?Xe===0?"over":"under":Xe===0?"under":"over",Je[Xe].rbc[lt].style[C]=Rt)}})(G,F),F.ruby=null),F.textEmphasis&&((function(Je,it){for(var Xe=0;Xe<Je.length;Xe++)for(var lt=0;lt<Je[Xe].te.length;lt++){var Rt;Je[Xe].te[lt].style[z]&&Je[Xe].te[lt].style[z]!=="none"||(Rt=it.bpd==="tb"?Xe===0?"left over":"left under":it.bpd==="rl"?Xe===0?"right under":"left under":Xe===0?"left under":"right under",Je[Xe].te[lt].style[z]=Rt)}})(G,F),F.textEmphasis=null),F.mra&&((function(Je){for(var it=0;it<Je.length-1;it++){var Xe=Je[it].elements.length;if(Xe!==0&&Je[it].br===!1){var lt=document.createElement("br"),Rt=Je[it].elements[Xe-1].node;Rt.parentElement.insertBefore(lt,Rt.nextSibling)}}})(G),F.mra=null),F.lp&&((function(Je,it,Xe){if(Je!==null)for(var lt=0;lt<Je.length;lt++){var Rt=Je[lt].elements.length,dt=Math.ceil(it)+"px",Bt="-"+Math.ceil(it)+"px";if(Rt!==0){var wn=Je[lt].elements[Je[lt].start_elem],Zt=Je[lt].elements[Je[lt].end_elem];if(wn===Zt){var gn=wn.node.getBoundingClientRect();if(gn.width==0||gn.height==0)continue}Xe.ipd==="lr"?(wn.node.style.marginLeft=Bt,wn.node.style.paddingLeft=dt):Xe.ipd==="rl"?(wn.node.style.paddingRight=dt,wn.node.style.marginRight=Bt):Xe.ipd==="tb"&&(wn.node.style.paddingTop=dt,wn.node.style.marginTop=Bt),Xe.ipd==="lr"?(i||(Zt.node.style.marginRight=Bt),Zt.node.style.paddingRight=dt):Xe.ipd==="rl"?(Zt.node.style.paddingLeft=dt,i||(Zt.node.style.marginLeft=Bt)):Xe.ipd==="tb"&&(Zt.node.style.paddingBottom=dt,Zt.node.style.marginBottom=Bt)}}})(G,F.lp.toUsedLength(F.w,F.h),F),F.lp=null),(function(Je,it){for(var Xe=0;Xe<Je.length;Xe++)for(var lt=Je[Xe],Rt=1;Rt<lt.elements.length;){var dt=lt.elements[Rt-1],Bt=lt.elements[Rt];h(dt.node,Bt.node,it)?lt.elements.splice(Rt,1):Rt++}for(var wn,Zt,gn=[],en=0;en<Je.length;en++)for(var Wn=0;Wn<Je[en].elements.length;Wn++)(Zt=f(wn=Je[en].elements[Wn].node,gn,!1))&&(wn.style.backgroundColor=Zt);for(var Ti=0;Ti<gn.length;Ti++)gn[Ti].style.backgroundColor=""})(G,F),F.flg)){var ve=m(Ye.getBoundingClientRect(),F);(function(Je,it,Xe,lt){for(var Rt=Math.sign(Xe-it),dt=0;dt<=Je.length;dt++){var Bt,wn,Zt,gn;if(Bt=dt===0?Math.round(it):dt===Je.length?Math.round(Xe):Math.round((Je[dt-1].after+Je[dt].before)/2),dt>0&&Je[dt-1])for(Zt=0;Zt<Je[dt-1].elements.length;Zt++)wn=Rt*(Bt-(gn=Je[dt-1].elements[Zt]).after)+"px",lt.bpd==="lr"?gn.node.style.paddingRight=wn:lt.bpd==="rl"?gn.node.style.paddingLeft=wn:lt.bpd==="tb"&&(gn.node.style.paddingBottom=wn);if(dt<Je.length)for(Zt=0;Zt<Je[dt].elements.length;Zt++)wn=Rt*((gn=Je[dt].elements[Zt]).before-Bt)+"px",lt.bpd==="lr"?gn.node.style.paddingLeft=wn:lt.bpd==="rl"?gn.node.style.paddingRight=wn:lt.bpd==="tb"&&(gn.node.style.paddingTop=wn)}})(G,ve.before,ve.after,F),F.flg=null}if(be.kind==="region"&&F.bpd==="tb"&&F.enableRollUp&&be.contents.length>0&&be.styleAttrs[l.byName.displayAlign.qname]==="after"){p(F,Ye,G,null);var ce=new g(be.id===""?"_":be.id,G);if(F.currentISDState[ce.id]=ce,F.previousISDState&&ce.id in F.previousISDState&&F.previousISDState[ce.id].plist.length>0&&ce.plist.length>1&&ce.plist[ce.plist.length-2].text===F.previousISDState[ce.id].plist[F.previousISDState[ce.id].plist.length-1].text){var Qe=Me.firstElementChild,ht=ce.plist[ce.plist.length-1].after-ce.plist[ce.plist.length-1].before;Qe.style.bottom="-"+ht+"px",Qe.style.transition="transform 0.4s",Qe.style.position="relative",Qe.style.transform="translateY(-"+ht+"px)"}}}else se(F.errorHandler,"Error processing ISD element kind: "+be.kind)}function f(F,H,be){return F.style.backgroundColor?(be&&!H.includes(F)&&H.push(F),F.style.backgroundColor):F.parentElement.nodeName==="SPAN"||F.parentElement.nodeName==="RUBY"||F.parentElement.nodeName==="RBC"||F.parentElement.nodeName==="RTC"||F.parentElement.nodeName==="RT"?f(F.parentElement,H,!0):void 0}function h(F,H,be){if(F.tagName==="SPAN"&&H.tagName==="SPAN"&&F._isd_element===H._isd_element){if(!F._isd_element)return se(be.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;F.textContent+=H.textContent;for(var Ae=0;Ae<H.style.length;Ae++){var Me=H.style[Ae];(Me.indexOf("border")>=0||Me.indexOf("padding")>=0||Me.indexOf("margin")>=0)&&(F.style[Me]=H.style[Me])}return H.parentElement.removeChild(H),!0}return!1}function g(F,H){this.id=F,this.plist=H}function m(F,H){var be={before:null,after:null,start:null,end:null};return H.bpd==="tb"?(be.before=F.top,be.after=F.bottom,H.ipd==="lr"?(be.start=F.left,be.end=F.right):(be.start=F.right,be.end=F.left)):H.bpd==="lr"?(be.before=F.left,be.after=F.right,be.start=F.top,be.end=F.bottom):H.bpd==="rl"&&(be.before=F.right,be.after=F.left,be.start=F.top,be.end=F.bottom),be}function p(F,H,be,Ae){if(H.localName!=="rt"&&H.localName!=="rtc"){var Me,Ve,Se,He,Ue=H.style.backgroundColor||Ae;if(H.childElementCount===0)if(H.localName==="span"||H.localName==="rb"){var he=m(H.getBoundingClientRect(),F);if(be.length!==0&&(Me=he.before,Ve=he.after,Se=be[be.length-1].before,Ve<(He=be[be.length-1].after)&&Me>Se||He<=Ve&&Se>=Me)){var $e=Math.sign(he.after-he.before),Ye=Math.sign(he.end-he.start);$e*(he.before-be[be.length-1].before)<0&&(be[be.length-1].before=he.before),$e*(he.after-be[be.length-1].after)>0&&(be[be.length-1].after=he.after),Ye*(he.start-be[be.length-1].start)<0&&(be[be.length-1].start=he.start,be[be.length-1].start_elem=be[be.length-1].elements.length),Ye*(he.end-be[be.length-1].end)>0&&(be[be.length-1].end=he.end,be[be.length-1].end_elem=be[be.length-1].elements.length)}else be.push({before:he.before,after:he.after,start:he.start,end:he.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});be[be.length-1].text+=H.textContent,be[be.length-1].elements.push({node:H,bgcolor:Ue,before:he.before,after:he.after})}else H.localName==="br"&&be.length!==0&&(be[be.length-1].br=!0);else for(var tt=H.firstChild;tt;)tt.nodeType===Node.ELEMENT_NODE&&(p(F,tt,be,Ue),tt.localName==="ruby"||tt.localName==="rtc"?be.length>0&&be[be.length-1].rbc.push(tt):tt.localName==="span"&&tt.style[O]&&tt.style[O]!=="none"&&be.length>0&&be[be.length-1].te.push(tt)),tt=tt.nextSibling}}function y(F,H,be,Ae){var Me;Ae.style!=="none"&&(Ae.style==="auto"?H.style[O]="filled":H.style[O]=Ae.style+" "+Ae.symbol,(Ae.position==="before"||Ae.position==="after")&&(Me=F.bpd==="tb"?Ae.position==="before"?"left over":"left under":F.bpd==="rl"?Ae.position==="before"?"right under":"left under":Ae.position==="before"?"left under":"right under",H.style[z]=Me))}function E(F,H){this.qname=F,this.map=H}r.render=function(F,H,be,Ae,Me,Ve,Se,He,Ue){var he=Ae||H.clientHeight,$e=Me||H.clientWidth;if(F.aspectRatio!==null){var Ye=he*F.aspectRatio;Ye>$e?he=Math.round($e/F.aspectRatio):$e=Ye}var tt=document.createElement("div");tt.style.position="relative",tt.style.width=$e+"px",tt.style.height=he+"px",tt.style.margin="auto",tt.style.top=0,tt.style.bottom=0,tt.style.left=0,tt.style.right=0,tt.style.zIndex=0;var rt={h:he,w:$e,regionH:null,regionW:null,imgResolver:be,displayForcedOnlyMode:Ve||!1,isd:F,errorHandler:Se,previousISDState:He,enableRollUp:Ue||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(H.appendChild(tt),"contents"in F)for(var De=0;De<F.contents.length;De++)c(rt,tt,F.contents[De],F);return rt.currentISDState};for(var A=[new E("http://www.w3.org/ns/ttml#styling backgroundColor",(function(F,H,be,Ae){Ae[3]!==0&&(H.style.backgroundColor="rgba("+Ae[0].toString()+","+Ae[1].toString()+","+Ae[2].toString()+","+(Ae[3]/255).toString()+")")})),new E("http://www.w3.org/ns/ttml#styling color",(function(F,H,be,Ae){H.style.color="rgba("+Ae[0].toString()+","+Ae[1].toString()+","+Ae[2].toString()+","+(Ae[3]/255).toString()+")"})),new E("http://www.w3.org/ns/ttml#styling direction",(function(F,H,be,Ae){H.style.direction=Ae})),new E("http://www.w3.org/ns/ttml#styling display",(function(F,H,be,Ae){})),new E("http://www.w3.org/ns/ttml#styling displayAlign",(function(F,H,be,Ae){H.style.display="flex",H.style.flexDirection="column",Ae==="before"?H.style.justifyContent="flex-start":Ae==="center"?H.style.justifyContent="center":Ae==="after"&&(H.style.justifyContent="flex-end")})),new E("http://www.w3.org/ns/ttml#styling extent",(function(F,H,be,Ae){F.regionH=Ae.h.toUsedLength(F.w,F.h),F.regionW=Ae.w.toUsedLength(F.w,F.h);var Me=0,Ve=0,Se=be.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Se&&(Me=Se[0].toUsedLength(F.w,F.h)+Se[2].toUsedLength(F.w,F.h),Ve=Se[1].toUsedLength(F.w,F.h)+Se[3].toUsedLength(F.w,F.h)),H.style.height=F.regionH-Me+"px",H.style.width=F.regionW-Ve+"px"})),new E("http://www.w3.org/ns/ttml#styling fontFamily",(function(F,H,be,Ae){for(var Me=[],Ve=0;Ve<Ae.length;Ve++)Ae[Ve]=Ae[Ve].trim(),Ae[Ve]==="monospaceSerif"?(Me.push("Courier New"),Me.push('"Liberation Mono"'),Me.push("Courier"),Me.push("monospace")):Ae[Ve]==="proportionalSansSerif"?(Me.push("Arial"),Me.push("Helvetica"),Me.push('"Liberation Sans"'),Me.push("sans-serif")):Ae[Ve]==="monospace"?Me.push("monospace"):Ae[Ve]==="sansSerif"?Me.push("sans-serif"):Ae[Ve]==="serif"?Me.push("serif"):Ae[Ve]==="monospaceSansSerif"?(Me.push("Consolas"),Me.push("monospace")):Ae[Ve]==="proportionalSerif"?Me.push("serif"):Me.push(Ae[Ve]);if(Me.length>0){for(var Se=[Me[0]],He=1;He<Me.length;He++)Se.indexOf(Me[He])==-1&&Se.push(Me[He]);Me=Se}H.style.fontFamily=Me.join(",")})),new E("http://www.w3.org/ns/ttml#styling shear",(function(F,H,be,Ae){if(Ae!==0){var Me=-.9*Ae;F.bpd==="tb"?H.style.transform="skewX("+Me+"deg)":H.style.transform="skewY("+Me+"deg)"}})),new E("http://www.w3.org/ns/ttml#styling fontSize",(function(F,H,be,Ae){H.style.fontSize=Ae.toUsedLength(F.w,F.h)+"px"})),new E("http://www.w3.org/ns/ttml#styling fontStyle",(function(F,H,be,Ae){H.style.fontStyle=Ae})),new E("http://www.w3.org/ns/ttml#styling fontWeight",(function(F,H,be,Ae){H.style.fontWeight=Ae})),new E("http://www.w3.org/ns/ttml#styling lineHeight",(function(F,H,be,Ae){H.style.lineHeight=Ae==="normal"?"normal":Ae.toUsedLength(F.w,F.h)+"px"})),new E("http://www.w3.org/ns/ttml#styling opacity",(function(F,H,be,Ae){H.style.opacity=Ae})),new E("http://www.w3.org/ns/ttml#styling origin",(function(F,H,be,Ae){H.style.top=Ae.h.toUsedLength(F.w,F.h)+"px",H.style.left=Ae.w.toUsedLength(F.w,F.h)+"px"})),new E("http://www.w3.org/ns/ttml#styling overflow",(function(F,H,be,Ae){H.style.overflow=Ae})),new E("http://www.w3.org/ns/ttml#styling padding",(function(F,H,be,Ae){var Me=[];Me[0]=Ae[0].toUsedLength(F.w,F.h)+"px",Me[1]=Ae[3].toUsedLength(F.w,F.h)+"px",Me[2]=Ae[2].toUsedLength(F.w,F.h)+"px",Me[3]=Ae[1].toUsedLength(F.w,F.h)+"px",H.style.padding=Me.join(" ")})),new E("http://www.w3.org/ns/ttml#styling position",(function(F,H,be,Ae){H.style.top=Ae.h.toUsedLength(F.w,F.h)+"px",H.style.left=Ae.w.toUsedLength(F.w,F.h)+"px"})),new E("http://www.w3.org/ns/ttml#styling rubyAlign",(function(F,H,be,Ae){H.style.rubyAlign=Ae==="spaceAround"?"space-around":"center"})),new E("http://www.w3.org/ns/ttml#styling rubyPosition",(function(F,H,be,Ae){var Me;Ae!=="before"&&Ae!=="after"||(Me=x?Ae:F.bpd==="tb"||F.bpd==="rl"?Ae==="before"?"over":"under":Ae==="before"?"under":"over",H.parentElement.style[C]=Me)})),new E("http://www.w3.org/ns/ttml#styling showBackground",null),new E("http://www.w3.org/ns/ttml#styling textAlign",(function(F,H,be,Ae){var Me;Me=Ae==="start"?F.ipd==="rl"?"right":"left":Ae==="end"?F.ipd==="rl"?"left":"right":Ae,H.style.textAlign=Me})),new E("http://www.w3.org/ns/ttml#styling textDecoration",(function(F,H,be,Ae){H.style.textDecoration=Ae.join(" ").replace("lineThrough","line-through")})),new E("http://www.w3.org/ns/ttml#styling textOutline",(function(F,H,be,Ae){})),new E("http://www.w3.org/ns/ttml#styling textShadow",(function(F,H,be,Ae){var Me=be.styleAttrs[l.byName.textOutline.qname];if(Ae==="none"&&Me==="none")H.style.textShadow="";else{var Ve=[];if(Me!=="none"){var Se="rgba("+Me.color[0].toString()+","+Me.color[1].toString()+","+Me.color[2].toString()+","+(Me.color[3]/255).toString()+")";Ve.push("1px 1px 1px "+Se),Ve.push("-1px 1px 1px "+Se),Ve.push("1px -1px 1px "+Se),Ve.push("-1px -1px 1px "+Se)}if(Ae!=="none")for(var He=0;He<Ae.length;He++)Ve.push(Ae[He].x_off.toUsedLength(F.w,F.h)+"px "+Ae[He].y_off.toUsedLength(F.w,F.h)+"px "+Ae[He].b_radius.toUsedLength(F.w,F.h)+"px rgba("+Ae[He].color[0].toString()+","+Ae[He].color[1].toString()+","+Ae[He].color[2].toString()+","+(Ae[He].color[3]/255).toString()+")");H.style.textShadow=Ve.join(",")}})),new E("http://www.w3.org/ns/ttml#styling textCombine",(function(F,H,be,Ae){H.style.textCombineUpright=Ae})),new E("http://www.w3.org/ns/ttml#styling textEmphasis",(function(F,H,be,Ae){})),new E("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(F,H,be,Ae){var Me;Me=Ae==="bidiOverride"?"bidi-override":Ae,H.style.unicodeBidi=Me})),new E("http://www.w3.org/ns/ttml#styling visibility",(function(F,H,be,Ae){H.style.visibility=Ae})),new E("http://www.w3.org/ns/ttml#styling wrapOption",(function(F,H,be,Ae){Ae==="wrap"?be.space==="preserve"?H.style.whiteSpace="pre-wrap":H.style.whiteSpace="normal":be.space==="preserve"?H.style.whiteSpace="pre":H.style.whiteSpace="noWrap"})),new E("http://www.w3.org/ns/ttml#styling writingMode",(function(F,H,be,Ae){Ae==="lrtb"||Ae==="lr"||Ae==="rltb"||Ae==="rl"?H.style.writingMode="horizontal-tb":Ae==="tblr"?H.style.writingMode="vertical-lr":Ae!=="tbrl"&&Ae!=="tb"||(H.style.writingMode="vertical-rl")})),new E("http://www.w3.org/ns/ttml#styling zIndex",(function(F,H,be,Ae){H.style.zIndex=Ae})),new E("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(F,H,be,Ae){F.displayForcedOnlyMode&&Ae===!1&&(H.style.visibility="hidden")}))],w={},M=0;M<A.length;M++)w[A[M].qname]=A[M];var x="webkitRubyPosition"in window.getComputedStyle(document.documentElement),C=x?"webkitRubyPosition":"rubyPosition",O="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",z="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function se(F,H){if(F&&F.error&&F.error(H))throw H}})(e,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},8905:function(n,e,t){(function(i,r,o,l){i.generateISD=function(E,A,w){var M,x=new m(E),C={},O={},z=E.head.styling.initials[o.byName.showBackground.qname],se=E.head.styling.initials[o.byName.backgroundColor.qname];for(var F in E.head.layout.regions)if(E.head.layout.regions.hasOwnProperty(F)){var H=E.head.layout.regions[F],be=H.styleAttrs[o.byName.showBackground.qname]||z,Ae=H.styleAttrs[o.byName.backgroundColor.qname]||se;O[H.id]=(be==="always"||be===void 0)&&Ae!==void 0&&!(A<H.begin||A>=H.end)}for(var Me in E.body&&E.body.regionID&&(O[E.body.regionID]=!0),M=E.body!==null?(function Se(He,Ue){if(Ue.contents){var he={};for(var $e in Ue)Ue.hasOwnProperty($e)&&(he[$e]=Ue[$e]);return he.contents=[],Ue.contents.filter((function(Ye){return!(He<Ye.begin||He>=Ye.end)})).forEach((function(Ye){var tt=Se(He,Ye);tt.regionID&&(O[tt.regionID]=!0),tt!==null&&he.contents.push(tt)})),he}return Ue})(A,E.body):null,O[""]!==void 0&&(O[""]=!0),O)if(O[Me]){var Ve=f(E,A,E.head.layout.regions[Me],M,null,"",E.head.layout.regions[Me],w,C);Ve!==null&&x.contents.push(Ve.element)}return x};var c=[o.byName.color.qname,o.byName.textCombine.qname,o.byName.textDecoration.qname,o.byName.textEmphasis.qname,o.byName.textOutline.qname,o.byName.textShadow.qname];function f(E,A,w,M,x,C,O,z,se){if(A<O.begin||A>=O.end)return null;var F="regionID"in O&&O.regionID!==""?O.regionID:C;if(x!==null&&F!==w.id&&(!("contents"in O)||"contents"in O&&O.contents.length===0||F!==""))return null;var H=new p(O);if("sets"in O)for(var be=0;be<O.sets.length;be++)A<O.sets[be].begin||A>=O.sets[be].end||(H.styleAttrs[O.sets[be].qname]=O.sets[be].value);var Ae={};for(var Me in H.styleAttrs)if(H.styleAttrs.hasOwnProperty(Me)&&(Ae[Me]=!0,H.kind==="region"&&Me===o.byName.writingMode.qname&&!(o.byName.direction.qname in H.styleAttrs))){var Ve=H.styleAttrs[Me];Ve==="lrtb"||Ve==="lr"?H.styleAttrs[o.byName.direction.qname]="ltr":Ve!=="rltb"&&Ve!=="rl"||(H.styleAttrs[o.byName.direction.qname]="rtl")}if(x!==null)for(var Se=0;Se<o.all.length;Se++){var He=o.all[Se];if(He.qname===o.byName.textDecoration.qname){var Ue=x.styleAttrs[He.qname],he=H.styleAttrs[He.qname],$e=[];he===void 0?$e=Ue:he.indexOf("none")===-1?((he.indexOf("noUnderline")===-1&&Ue.indexOf("underline")!==-1||he.indexOf("underline")!==-1)&&$e.push("underline"),(he.indexOf("noLineThrough")===-1&&Ue.indexOf("lineThrough")!==-1||he.indexOf("lineThrough")!==-1)&&$e.push("lineThrough"),(he.indexOf("noOverline")===-1&&Ue.indexOf("overline")!==-1||he.indexOf("overline")!==-1)&&$e.push("overline")):$e.push("none"),H.styleAttrs[He.qname]=$e}else if(He.qname!==o.byName.fontSize.qname||He.qname in H.styleAttrs||H.kind!=="span"||H.styleAttrs[o.byName.ruby.qname]!=="textContainer")if(He.qname!==o.byName.fontSize.qname||He.qname in H.styleAttrs||H.kind!=="span"||H.styleAttrs[o.byName.ruby.qname]!=="text")He.inherit&&He.qname in x.styleAttrs&&!(He.qname in H.styleAttrs)&&(H.styleAttrs[He.qname]=x.styleAttrs[He.qname]);else{var Ye=x.styleAttrs[o.byName.fontSize.qname];x.styleAttrs[o.byName.ruby.qname]==="textContainer"?H.styleAttrs[He.qname]=Ye:H.styleAttrs[He.qname]=new l.ComputedLength(.5*Ye.rw,.5*Ye.rh)}else{var tt=x.styleAttrs[o.byName.fontSize.qname];H.styleAttrs[He.qname]=new l.ComputedLength(.5*tt.rw,.5*tt.rh)}}for(var rt=0;rt<o.all.length;rt++){var De=o.all[rt];if(!(De.qname in H.styleAttrs)&&!(De.qname===o.byName.position.qname&&o.byName.origin.qname in H.styleAttrs||De.qname===o.byName.origin.qname&&o.byName.position.qname in H.styleAttrs)){var We=E.head.styling.initials[De.qname]||De.initial;if(We!==null&&(H.kind==="region"||De.inherit===!1&&We!==null)){var ct=De.parse(We);ct!==null?(H.styleAttrs[De.qname]=ct,Ae[De.qname]=!0):y(z,"Invalid initial value for '"+De.qname+"' on element '"+H.kind)}}}for(var It=0;It<o.all.length;It++){var Fe=o.all[It];if(Fe.qname in Ae&&Fe.compute!==null){var ze=Fe.compute(E,x,H,H.styleAttrs[Fe.qname],se);ze!==null?H.styleAttrs[Fe.qname]=ze:(H.styleAttrs[Fe.qname]=Fe.compute(E,x,H,Fe.parse(Fe.initial),se),y(z,"Style '"+Fe.qname+"' on element '"+H.kind+"' cannot be computed"))}}if(H.styleAttrs[o.byName.display.qname]==="none")return null;var pt=null;x===null?pt=M===null?[]:[M]:"contents"in O&&(pt=O.contents);for(var re=0;pt!==null&&re<pt.length;re++){var ee=f(E,A,w,M,H,F,pt[re],z,se);ee!==null&&H.contents.push(ee.element)}for(var P in H.styleAttrs)if(H.styleAttrs.hasOwnProperty(P)){var G=!1;if(H.kind==="span"){var ve=H.styleAttrs[o.byName.ruby.qname];(G=(ve==="container"||ve==="textContainer"||ve==="baseContainer")&&c.indexOf(P)!==-1)||(G=ve!=="container"&&P===o.byName.rubyAlign.qname),G||(G=!(ve==="textContainer"||ve==="text")&&P===o.byName.rubyPosition.qname)}if(!G){var ce=o.byQName[P];"applies"in ce&&(G=ce.applies.indexOf(H.kind)===-1)}G&&delete H.styleAttrs[P]}var Qe=H.styleAttrs[o.byName.ruby.qname];if(H.kind==="p"||H.kind==="span"&&(Qe==="textContainer"||Qe==="text")){var ht=[];h(H,ht),(function(Je){for(var it,Xe=0;Xe<Je.length;)if((it=Je[Xe]).kind!=="br"&&it.space!=="preserve"){var lt=it.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(lt)&&(Xe===0||(Rt=Je[Xe-1]).kind==="br"||/[\r\n\t ]$/.test(Rt.text))&&(lt=lt.substring(1)),it.text=lt,lt.length===0?Je.splice(Xe,1):Xe++}else Xe++;var Rt,dt;for(Xe=0;Xe<Je.length;Xe++)(it=Je[Xe]).kind!=="br"&&it.space!=="preserve"?/[ ]$/.test(it.text)&&(Xe===Je.length-1||(dt=Je[Xe+1]).kind==="br"||dt.space==="preserve"&&/^[\r\n]/.test(dt.text))&&(it.text=it.text.slice(0,-1)):Xe++})(ht),g(H)}return H.kind==="div"&&o.byName.backgroundImage.qname in H.styleAttrs||H.kind==="br"||H.kind==="image"||"contents"in H&&H.contents.length>0||H.kind==="span"&&H.text!==null||H.kind==="region"&&H.styleAttrs[o.byName.showBackground.qname]==="always"?{region_id:F,element:H}:null}function h(E,A){if("contents"in E)for(var w=0;w<E.contents.length;w++){var M=E.contents[w],x=M.styleAttrs[o.byName.ruby.qname];(M.kind!=="span"||x!=="textContainer"&&x!=="text")&&("contents"in M?h(M,A):(M.kind==="span"&&M.text.length!==0||M.kind==="br")&&A.push(M))}}function g(E){if(E.kind==="br")return!1;if("text"in E)return E.text.length===0;if("contents"in E){for(var A=E.contents.length;A--;)g(E.contents[A])&&E.contents.splice(A,1);return E.contents.length===0}}function m(E){this.contents=[],this.aspectRatio=E.aspectRatio,this.lang=E.lang}function p(E){for(var A in this.kind=E.kind||"region",this.lang=E.lang,E.id&&(this.id=E.id),this.styleAttrs={},E.styleAttrs)E.styleAttrs.hasOwnProperty(A)&&(this.styleAttrs[A]=E.styleAttrs[A]);"src"in E&&(this.src=E.src),"type"in E&&(this.type=E.type),"text"in E?this.text=E.text:(this.kind==="region"||"contents"in E)&&(this.contents=[]),"space"in E&&(this.space=E.space)}function y(E,A){if(E&&E.error&&E.error(A))throw A}})(e,typeof imscNames>"u"?t(977):imscNames,typeof imscStyles>"u"?t(1219):imscStyles,typeof imscUtils>"u"?t(6404):imscUtils)},7640:function(n,e,t){e.generateISD=t(8905).generateISD,e.fromXML=t(6739).fromXML,e.renderHTML=t(1612).render},977:function(n,e){(function(t){t.ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"})(e)},1219:function(n,e,t){(function(i,r,o){function l(h,g,m,p,y,E,A,w){this.name=g,this.ns=h,this.qname=h+" "+g,this.inherit=y,this.animatable=E,this.initial=m,this.applies=p,this.parse=A,this.compute=w}for(var c in i.all=[new l(r.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,o.parseColor,null),new l(r.ns_tts,"color","white",["span"],!0,!0,o.parseColor,null),new l(r.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(h){return h}),null),new l(r.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(h){return h}),null),new l(r.ns_tts,"displayAlign","before",["region"],!1,!0,(function(h){return h}),null),new l(r.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(h){if(h==="auto")return h;var g=h.split(" ");if(g.length!==2)return null;var m=o.parseLength(g[0]),p=o.parseLength(g[1]);return p&&m?{h:p,w:m}:null}),(function(h,g,m,p,y){var E,A;if(p==="auto")E=new o.ComputedLength(0,1);else if((E=o.toComputedLength(p.h.value,p.h.unit,null,h.dimensions.h,null,h.pxLength.h))===null)return null;if(p==="auto")A=new o.ComputedLength(1,0);else if((A=o.toComputedLength(p.w.value,p.w.unit,null,h.dimensions.w,null,h.pxLength.w))===null)return null;return{h:E,w:A}})),new l(r.ns_tts,"fontFamily","default",["span","p"],!0,!0,(function(h){for(var g=h.split(","),m=[],p=0;p<g.length;p++)g[p]=g[p].trim(),g[p].charAt(0)!=="'"&&g[p].charAt(0)!=='"'&&g[p]==="default"?m.push("monospaceSerif"):m.push(g[p]);return m}),null),new l(r.ns_tts,"shear","0%",["p"],!0,!0,o.parseLength,(function(h,g,m,p){return p.unit!=="%"?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value})),new l(r.ns_tts,"fontSize","1c",["span","p"],!0,!0,o.parseLength,(function(h,g,m,p,y){return o.toComputedLength(p.value,p.unit,g!==null?g.styleAttrs[i.byName.fontSize.qname]:h.cellLength.h,g!==null?g.styleAttrs[i.byName.fontSize.qname]:h.cellLength.h,h.cellLength.h,h.pxLength.h)})),new l(r.ns_tts,"fontStyle","normal",["span","p"],!0,!0,(function(h){return h}),null),new l(r.ns_tts,"fontWeight","normal",["span","p"],!0,!0,(function(h){return h}),null),new l(r.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(h){return h==="normal"?h:o.parseLength(h)}),(function(h,g,m,p,y){var E;if(p==="normal")E=p;else if((E=o.toComputedLength(p.value,p.unit,m.styleAttrs[i.byName.fontSize.qname],m.styleAttrs[i.byName.fontSize.qname],h.cellLength.h,h.pxLength.h))===null)return null;return E})),new l(r.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new l(r.ns_tts,"origin","auto",["region"],!1,!0,(function(h){if(h==="auto")return h;var g=h.split(" ");if(g.length!==2)return null;var m=o.parseLength(g[0]),p=o.parseLength(g[1]);return p&&m?{h:p,w:m}:null}),(function(h,g,m,p,y){var E,A;if(p==="auto")E=new o.ComputedLength(0,0);else if((E=o.toComputedLength(p.h.value,p.h.unit,null,h.dimensions.h,null,h.pxLength.h))===null)return null;if(p==="auto")A=new o.ComputedLength(0,0);else if((A=o.toComputedLength(p.w.value,p.w.unit,null,h.dimensions.w,null,h.pxLength.w))===null)return null;return{h:E,w:A}})),new l(r.ns_tts,"overflow","hidden",["region"],!1,!0,(function(h){return h}),null),new l(r.ns_tts,"padding","0px",["region"],!1,!0,(function(h){var g=h.split(" ");if(g.length>4)return null;for(var m=[],p=0;p<g.length;p++){var y=o.parseLength(g[p]);if(!y)return null;m.push(y)}return m}),(function(h,g,m,p,y){var E;if(p.length===1)E=[p[0],p[0],p[0],p[0]];else if(p.length===2)E=[p[0],p[1],p[0],p[1]];else if(p.length===3)E=[p[0],p[1],p[2],p[1]];else{if(p.length!==4)return null;E=[p[0],p[1],p[2],p[3]]}var A=m.styleAttrs[i.byName.writingMode.qname];if(A==="lrtb"||A==="lr")E=[E[0],E[3],E[2],E[1]];else if(A==="rltb"||A==="rl")E=[E[0],E[1],E[2],E[3]];else if(A==="tblr")E=[E[3],E[0],E[1],E[2]];else{if(A!=="tbrl"&&A!=="tb")return null;E=[E[3],E[2],E[1],E[0]]}for(var w=[],M=0;M<E.length;M++)if(E[M].value===0)w[M]=new o.ComputedLength(0,0);else if(w[M]=o.toComputedLength(E[M].value,E[M].unit,m.styleAttrs[i.byName.fontSize.qname],M===0||M===2?m.styleAttrs[i.byName.extent.qname].h:m.styleAttrs[i.byName.extent.qname].w,M===0||M===2?h.cellLength.h:h.cellLength.w,M===0||M===2?h.pxLength.h:h.pxLength.w),w[M]===null)return null;return w})),new l(r.ns_tts,"position","top left",["region"],!1,!0,(function(h){return o.parsePosition(h)}),(function(h,g,m,p){var y,E;return(y=o.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new o.ComputedLength(-m.styleAttrs[i.byName.extent.qname].h.rw,h.dimensions.h.rh-m.styleAttrs[i.byName.extent.qname].h.rh),null,h.pxLength.h))===null?null:(p.v.edge==="bottom"&&(y=new o.ComputedLength(-y.rw-m.styleAttrs[i.byName.extent.qname].h.rw,h.dimensions.h.rh-y.rh-m.styleAttrs[i.byName.extent.qname].h.rh)),E=o.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new o.ComputedLength(h.dimensions.w.rw-m.styleAttrs[i.byName.extent.qname].w.rw,-m.styleAttrs[i.byName.extent.qname].w.rh),null,h.pxLength.w),y===null?null:(p.h.edge==="right"&&(E=new o.ComputedLength(h.dimensions.w.rw-E.rw-m.styleAttrs[i.byName.extent.qname].w.rw,-E.rh-m.styleAttrs[i.byName.extent.qname].w.rh)),{h:y,w:E}))})),new l(r.ns_tts,"ruby","none",["span"],!1,!0,(function(h){return h}),null),new l(r.ns_tts,"rubyAlign","center",["span"],!0,!0,(function(h){return h!=="center"&&h!=="spaceAround"?null:h}),null),new l(r.ns_tts,"rubyPosition","outside",["span"],!0,!0,(function(h){return h}),null),new l(r.ns_tts,"rubyReserve","none",["p"],!0,!0,(function(h){var g=h.split(" "),m=[null,null];if(g.length===0||g.length>2||g[0]!=="none"&&g[0]!=="both"&&g[0]!=="after"&&g[0]!=="before"&&g[0]!=="outside")return null;if(m[0]=g[0],g.length===2&&g[0]!=="none"){var p=o.parseLength(g[1]);if(!p)return null;m[1]=p}return m}),(function(h,g,m,p,y){if(p[0]==="none")return p;var E;return(E=p[1]===null?new o.ComputedLength(.5*m.styleAttrs[i.byName.fontSize.qname].rw,.5*m.styleAttrs[i.byName.fontSize.qname].rh):o.toComputedLength(p[1].value,p[1].unit,m.styleAttrs[i.byName.fontSize.qname],m.styleAttrs[i.byName.fontSize.qname],h.cellLength.h,h.pxLength.h))===null?null:[p[0],E]})),new l(r.ns_tts,"showBackground","always",["region"],!1,!0,(function(h){return h}),null),new l(r.ns_tts,"textAlign","start",["p"],!0,!0,(function(h){return h}),(function(h,g,m,p,y){return p==="left"?"start":p==="right"?"end":p})),new l(r.ns_tts,"textCombine","none",["span"],!0,!0,(function(h){return h==="none"||h==="all"?h:null}),null),new l(r.ns_tts,"textDecoration","none",["span"],!0,!0,(function(h){return h.split(" ")}),null),new l(r.ns_tts,"textEmphasis","none",["span"],!0,!0,(function(h){for(var g=h.split(" "),m={style:null,symbol:null,color:null,position:null},p=0;p<g.length;p++)if(g[p]==="none"||g[p]==="auto")m.style=g[p];else if(g[p]==="filled"||g[p]==="open")m.style=g[p];else if(g[p]==="circle"||g[p]==="dot"||g[p]==="sesame")m.symbol=g[p];else if(g[p]==="current")m.color=g[p];else if(g[p]==="outside"||g[p]==="before"||g[p]==="after")m.position=g[p];else if(m.color=o.parseColor(g[p]),m.color===null)return null;return m.style==null&&m.symbol==null?m.style="auto":(m.symbol=m.symbol||"circle",m.style=m.style||"filled"),m.position=m.position||"outside",m.color=m.color||"current",m}),null),new l(r.ns_tts,"textOutline","none",["span"],!0,!0,(function(h){if(h==="none")return h;var g={},m=h.split(" ");if(m.length===0||m.length>2)return null;var p=o.parseColor(m[0]);if(g.color=p,p!==null&&m.shift(),m.length!==1)return null;var y=o.parseLength(m[0]);return y?(g.thickness=y,g):null}),(function(h,g,m,p,y){if(p==="none")return p;var E={};return p.color===null?E.color=m.styleAttrs[i.byName.color.qname]:E.color=p.color,E.thickness=o.toComputedLength(p.thickness.value,p.thickness.unit,m.styleAttrs[i.byName.fontSize.qname],m.styleAttrs[i.byName.fontSize.qname],h.cellLength.h,h.pxLength.h),E.thickness===null?null:E})),new l(r.ns_tts,"textShadow","none",["span"],!0,!0,o.parseTextShadow,(function(h,g,m,p){if(p==="none")return p;for(var y=[],E=0;E<p.length;E++){var A={};if(A.x_off=o.toComputedLength(p[E][0].value,p[E][0].unit,null,m.styleAttrs[i.byName.fontSize.qname],null,h.pxLength.w),A.x_off===null||(A.y_off=o.toComputedLength(p[E][1].value,p[E][1].unit,null,m.styleAttrs[i.byName.fontSize.qname],null,h.pxLength.h),A.y_off===null))return null;if(p[E][2]===null)A.b_radius=0;else if(A.b_radius=o.toComputedLength(p[E][2].value,p[E][2].unit,null,m.styleAttrs[i.byName.fontSize.qname],null,h.pxLength.h),A.b_radius===null)return null;p[E][3]===null?A.color=m.styleAttrs[i.byName.color.qname]:A.color=p[E][3],y.push(A)}return y})),new l(r.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(h){return h}),null),new l(r.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(h){return h}),null),new l(r.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(h){return h}),null),new l(r.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(h){return h}),null),new l(r.ns_tts,"zIndex","auto",["region"],!1,!0,(function(h){var g;return h==="auto"?g=h:(g=parseInt(h),isNaN(g)&&(g=null)),g}),null),new l(r.ns_ebutts,"linePadding","0c",["p"],!0,!1,o.parseLength,(function(h,g,m,p,y){return o.toComputedLength(p.value,p.unit,null,null,h.cellLength.w,null)})),new l(r.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(h){return h}),null),new l(r.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(h){return h}),null),new l(r.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(h){return h==="true"}),null),new l(r.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(h){return h==="true"}),null)],i.byQName={},i.all)i.byQName[i.all[c].qname]=i.all[c];for(var f in i.byName={},i.all)i.byName[i.all[f].name]=i.all[f]})(e,typeof imscNames>"u"?t(977):imscNames,typeof imscUtils>"u"?t(6404):imscUtils)},6404:function(n,e){(function(t){var i=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,o=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,l={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(f){var h,g=null,m=l[f.toLowerCase()];return m!==void 0?g=m:(h=i.exec(f))!==null?g=[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16),h[4]!==void 0?parseInt(h[4],16):255]:(h=r.exec(f))!==null?g=[parseInt(h[1]),parseInt(h[2]),parseInt(h[3]),255]:(h=o.exec(f))!==null&&(g=[parseInt(h[1]),parseInt(h[2]),parseInt(h[3]),parseInt(h[4])]),g};var c=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(f){var h,g=null;return(h=c.exec(f))!==null&&(g={value:parseFloat(h[1]),unit:h[2]}),g},t.parseTextShadow=function(f){for(var h=f.match(/([^\(,\)]|\([^\)]+\))+/g),g=[],m=0;m<h.length;m++){var p=h[m].split(" ");if(p.length===1&&p[0]==="none")return"none";if(p.length>1&&p.length<5){var y=[null,null,null,null],E=t.parseLength(p.shift());if(E===null||(y[0]=E,(E=t.parseLength(p.shift()))===null))return null;if(y[1]=E,p.length===0){g.push(y);continue}if((E=t.parseLength(p[0]))!==null&&(y[2]=E,p.shift()),p.length===0){g.push(y);continue}var A=t.parseColor(p[0]);if(A===null)return null;y[3]=A,g.push(y)}}return g},t.parsePosition=function(f){var h=f.split(" "),g=function(M){return M==="center"||M==="left"||M==="top"||M==="bottom"||M==="right"};if(h.length>4)return null;for(var m=0;m<h.length;m++)if(!g(h[m])){var p=t.parseLength(h[m]);if(p===null)return null;h[m]=p}for(var y={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},E=0;E<h.length;){var A=h[E++];if(g(A)){var w={value:0,unit:"%"};h.length!==2&&E<h.length&&!g(h[E])&&(w=h[E++]),A==="right"?(y.h.edge=A,y.h.offset=w):A==="bottom"?(y.v.edge=A,y.v.offset=w):A==="left"?y.h.offset=w:A==="top"&&(y.v.offset=w)}else{if(h.length!==1&&h.length!==2)return null;E===1?y.h.offset=A:y.v.offset=A}}return y},t.ComputedLength=function(f,h){this.rw=f,this.rh=h},t.ComputedLength.prototype.toUsedLength=function(f,h){return f*this.rw+h*this.rh},t.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},t.toComputedLength=function(f,h,g,m,p,y){return h==="%"&&m?new t.ComputedLength(m.rw*f/100,m.rh*f/100):h==="em"&&g?new t.ComputedLength(g.rw*f,g.rh*f):h==="c"&&p?new t.ComputedLength(f*p.rw,f*p.rh):h==="px"&&y?new t.ComputedLength(f*y.rw,f*y.rh):h==="rh"?new t.ComputedLength(0,f/100):h==="rw"?new t.ComputedLength(f/100,0):null}})(e)},7523:function(n){typeof Object.create=="function"?n.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},3282:function(n){function e(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function t(r,o){for(var l,c="",f=0,h=-1,g=0,m=0;m<=r.length;++m){if(m<r.length)l=r.charCodeAt(m);else{if(l===47)break;l=47}if(l===47){if(!(h===m-1||g===1))if(h!==m-1&&g===2){if(c.length<2||f!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var p=c.lastIndexOf("/");if(p!==c.length-1){p===-1?(c="",f=0):f=(c=c.slice(0,p)).length-1-c.lastIndexOf("/"),h=m,g=0;continue}}else if(c.length===2||c.length===1){c="",f=0,h=m,g=0;continue}}o&&(c.length>0?c+="/..":c="..",f=2)}else c.length>0?c+="/"+r.slice(h+1,m):c=r.slice(h+1,m),f=m-h-1;h=m,g=0}else l===46&&g!==-1?++g:g=-1}return c}var i={resolve:function(){for(var r,o="",l=!1,c=arguments.length-1;c>=-1&&!l;c--){var f;c>=0?f=arguments[c]:(r===void 0&&(r=process.cwd()),f=r),e(f),f.length!==0&&(o=f+"/"+o,l=f.charCodeAt(0)===47)}return o=t(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(r){if(e(r),r.length===0)return".";var o=r.charCodeAt(0)===47,l=r.charCodeAt(r.length-1)===47;return(r=t(r,!o)).length!==0||o||(r="."),r.length>0&&l&&(r+="/"),o?"/"+r:r},isAbsolute:function(r){return e(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,o=0;o<arguments.length;++o){var l=arguments[o];e(l),l.length>0&&(r===void 0?r=l:r+="/"+l)}return r===void 0?".":i.normalize(r)},relative:function(r,o){if(e(r),e(o),r===o||(r=i.resolve(r))===(o=i.resolve(o)))return"";for(var l=1;l<r.length&&r.charCodeAt(l)===47;++l);for(var c=r.length,f=c-l,h=1;h<o.length&&o.charCodeAt(h)===47;++h);for(var g=o.length-h,m=f<g?f:g,p=-1,y=0;y<=m;++y){if(y===m){if(g>m){if(o.charCodeAt(h+y)===47)return o.slice(h+y+1);if(y===0)return o.slice(h+y)}else f>m&&(r.charCodeAt(l+y)===47?p=y:y===0&&(p=0));break}var E=r.charCodeAt(l+y);if(E!==o.charCodeAt(h+y))break;E===47&&(p=y)}var A="";for(y=l+p+1;y<=c;++y)y!==c&&r.charCodeAt(y)!==47||(A.length===0?A+="..":A+="/..");return A.length>0?A+o.slice(h+p):(h+=p,o.charCodeAt(h)===47&&++h,o.slice(h))},_makeLong:function(r){return r},dirname:function(r){if(e(r),r.length===0)return".";for(var o=r.charCodeAt(0),l=o===47,c=-1,f=!0,h=r.length-1;h>=1;--h)if((o=r.charCodeAt(h))===47){if(!f){c=h;break}}else f=!1;return c===-1?l?"/":".":l&&c===1?"//":r.slice(0,c)},basename:function(r,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(r);var l,c=0,f=-1,h=!0;if(o!==void 0&&o.length>0&&o.length<=r.length){if(o.length===r.length&&o===r)return"";var g=o.length-1,m=-1;for(l=r.length-1;l>=0;--l){var p=r.charCodeAt(l);if(p===47){if(!h){c=l+1;break}}else m===-1&&(h=!1,m=l+1),g>=0&&(p===o.charCodeAt(g)?--g==-1&&(f=l):(g=-1,f=m))}return c===f?f=m:f===-1&&(f=r.length),r.slice(c,f)}for(l=r.length-1;l>=0;--l)if(r.charCodeAt(l)===47){if(!h){c=l+1;break}}else f===-1&&(h=!1,f=l+1);return f===-1?"":r.slice(c,f)},extname:function(r){e(r);for(var o=-1,l=0,c=-1,f=!0,h=0,g=r.length-1;g>=0;--g){var m=r.charCodeAt(g);if(m!==47)c===-1&&(f=!1,c=g+1),m===46?o===-1?o=g:h!==1&&(h=1):o!==-1&&(h=-1);else if(!f){l=g+1;break}}return o===-1||c===-1||h===0||h===1&&o===c-1&&o===l+1?"":r.slice(o,c)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return(function(o,l){var c=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return c?c===l.root?c+f:c+"/"+f:f})(0,r)},parse:function(r){e(r);var o={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return o;var l,c=r.charCodeAt(0),f=c===47;f?(o.root="/",l=1):l=0;for(var h=-1,g=0,m=-1,p=!0,y=r.length-1,E=0;y>=l;--y)if((c=r.charCodeAt(y))!==47)m===-1&&(p=!1,m=y+1),c===46?h===-1?h=y:E!==1&&(E=1):h!==-1&&(E=-1);else if(!p){g=y+1;break}return h===-1||m===-1||E===0||E===1&&h===m-1&&h===g+1?m!==-1&&(o.base=o.name=g===0&&f?r.slice(1,m):r.slice(g,m)):(g===0&&f?(o.name=r.slice(1,h),o.base=r.slice(1,m)):(o.name=r.slice(g,h),o.base=r.slice(g,m)),o.ext=r.slice(h,m)),g>0?o.dir=r.slice(0,g-1):f&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,n.exports=i},3515:function(n,e,t){n.exports=r;var i=t(9826).EventEmitter;function r(){i.call(this)}t(7523)(r,i),r.Readable=t(2762),r.Writable=t(3726),r.Duplex=t(884),r.Transform=t(6756),r.PassThrough=t(1390),r.finished=t(2896),r.pipeline=t(8460),r.Stream=r,r.prototype.pipe=function(o,l){var c=this;function f(A){o.writable&&o.write(A)===!1&&c.pause&&c.pause()}function h(){c.readable&&c.resume&&c.resume()}c.on("data",f),o.on("drain",h),o._isStdio||l&&l.end===!1||(c.on("end",m),c.on("close",p));var g=!1;function m(){g||(g=!0,o.end())}function p(){g||(g=!0,typeof o.destroy=="function"&&o.destroy())}function y(A){if(E(),i.listenerCount(this,"error")===0)throw A}function E(){c.removeListener("data",f),o.removeListener("drain",h),c.removeListener("end",m),c.removeListener("close",p),c.removeListener("error",y),o.removeListener("error",y),c.removeListener("end",E),c.removeListener("close",E),o.removeListener("close",E)}return c.on("error",y),o.on("error",y),c.on("end",E),c.on("close",E),o.on("close",E),o.emit("pipe",c),o}},1602:function(n){var e={};function t(r,o,l){l||(l=Error);var c=(function(f){var h,g;function m(p,y,E){return f.call(this,(function(A,w,M){return typeof o=="string"?o:o(A,w,M)})(p,y,E))||this}return g=f,(h=m).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,m})(l);c.prototype.name=l.name,c.prototype.code=r,e[r]=c}function i(r,o){if(Array.isArray(r)){var l=r.length;return r=r.map((function(c){return String(c)})),l>2?"one of ".concat(o," ").concat(r.slice(0,l-1).join(", "),", or ")+r[l-1]:l===2?"one of ".concat(o," ").concat(r[0]," or ").concat(r[1]):"of ".concat(o," ").concat(r[0])}return"of ".concat(o," ").concat(String(r))}t("ERR_INVALID_OPT_VALUE",(function(r,o){return'The value "'+o+'" is invalid for option "'+r+'"'}),TypeError),t("ERR_INVALID_ARG_TYPE",(function(r,o,l){var c,f,h,g,m;if(typeof o=="string"&&(f="not ",o.substr(0,4)===f)?(c="must not be",o=o.replace(/^not /,"")):c="must be",(function(y,E,A){return(A===void 0||A>y.length)&&(A=y.length),y.substring(A-9,A)===E})(r," argument"))h="The ".concat(r," ").concat(c," ").concat(i(o,"type"));else{var p=(typeof m!="number"&&(m=0),m+1>(g=r).length||g.indexOf(".",m)===-1?"argument":"property");h='The "'.concat(r,'" ').concat(p," ").concat(c," ").concat(i(o,"type"))}return h+". Received type ".concat(typeof l)}),TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",(function(r){return"The "+r+" method is not implemented"})),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",(function(r){return"Cannot call "+r+" after a stream was destroyed"})),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",(function(r){return"Unknown encoding: "+r}),TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=e},884:function(n,e,t){var i=Object.keys||function(p){var y=[];for(var E in p)y.push(E);return y};n.exports=h;var r=t(2762),o=t(3726);t(7523)(h,r);for(var l=i(o.prototype),c=0;c<l.length;c++){var f=l[c];h.prototype[f]||(h.prototype[f]=o.prototype[f])}function h(p){if(!(this instanceof h))return new h(p);r.call(this,p),o.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}function g(){this._writableState.ended||process.nextTick(m,this)}function m(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})},1390:function(n,e,t){n.exports=r;var i=t(6756);function r(o){if(!(this instanceof r))return new r(o);i.call(this,o)}t(7523)(r,i),r.prototype._transform=function(o,l,c){c(null,o)}},2762:function(n,e,t){var i;n.exports=H,H.ReadableState=F,t(9826).EventEmitter;var r,o=function(Fe,ze){return Fe.listeners(ze).length},l=t(2611),c=t(44).Buffer,f=(t.g!==void 0?t.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h=t(7199);r=h&&h.debuglog?h.debuglog("stream"):function(){};var g,m,p,y=t(3791),E=t(2410),A=t(1749).getHighWaterMark,w=t(1602).codes,M=w.ERR_INVALID_ARG_TYPE,x=w.ERR_STREAM_PUSH_AFTER_EOF,C=w.ERR_METHOD_NOT_IMPLEMENTED,O=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(7523)(H,l);var z=E.errorOrDestroy,se=["error","close","destroy","pause","resume"];function F(Fe,ze,pt){i=i||t(884),Fe=Fe||{},typeof pt!="boolean"&&(pt=ze instanceof i),this.objectMode=!!Fe.objectMode,pt&&(this.objectMode=this.objectMode||!!Fe.readableObjectMode),this.highWaterMark=A(this,Fe,"readableHighWaterMark",pt),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Fe.emitClose!==!1,this.autoDestroy=!!Fe.autoDestroy,this.destroyed=!1,this.defaultEncoding=Fe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Fe.encoding&&(g||(g=t(748).StringDecoder),this.decoder=new g(Fe.encoding),this.encoding=Fe.encoding)}function H(Fe){if(i=i||t(884),!(this instanceof H))return new H(Fe);var ze=this instanceof i;this._readableState=new F(Fe,this,ze),this.readable=!0,Fe&&(typeof Fe.read=="function"&&(this._read=Fe.read),typeof Fe.destroy=="function"&&(this._destroy=Fe.destroy)),l.call(this)}function be(Fe,ze,pt,re,ee){r("readableAddChunk",ze);var P,G=Fe._readableState;if(ze===null)G.reading=!1,(function(ve,ce){if(r("onEofChunk"),!ce.ended){if(ce.decoder){var Qe=ce.decoder.end();Qe&&Qe.length&&(ce.buffer.push(Qe),ce.length+=ce.objectMode?1:Qe.length)}ce.ended=!0,ce.sync?Se(ve):(ce.needReadable=!1,ce.emittedReadable||(ce.emittedReadable=!0,He(ve)))}})(Fe,G);else if(ee||(P=(function(ve,ce){var Qe,ht;return ht=ce,c.isBuffer(ht)||ht instanceof f||typeof ce=="string"||ce===void 0||ve.objectMode||(Qe=new M("chunk",["string","Buffer","Uint8Array"],ce)),Qe})(G,ze)),P)z(Fe,P);else if(G.objectMode||ze&&ze.length>0)if(typeof ze=="string"||G.objectMode||Object.getPrototypeOf(ze)===c.prototype||(ze=(function(ve){return c.from(ve)})(ze)),re)G.endEmitted?z(Fe,new O):Ae(Fe,G,ze,!0);else if(G.ended)z(Fe,new x);else{if(G.destroyed)return!1;G.reading=!1,G.decoder&&!pt?(ze=G.decoder.write(ze),G.objectMode||ze.length!==0?Ae(Fe,G,ze,!1):Ue(Fe,G)):Ae(Fe,G,ze,!1)}else re||(G.reading=!1,Ue(Fe,G));return!G.ended&&(G.length<G.highWaterMark||G.length===0)}function Ae(Fe,ze,pt,re){ze.flowing&&ze.length===0&&!ze.sync?(ze.awaitDrain=0,Fe.emit("data",pt)):(ze.length+=ze.objectMode?1:pt.length,re?ze.buffer.unshift(pt):ze.buffer.push(pt),ze.needReadable&&Se(Fe)),Ue(Fe,ze)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Fe){this._readableState&&(this._readableState.destroyed=Fe)}}),H.prototype.destroy=E.destroy,H.prototype._undestroy=E.undestroy,H.prototype._destroy=function(Fe,ze){ze(Fe)},H.prototype.push=function(Fe,ze){var pt,re=this._readableState;return re.objectMode?pt=!0:typeof Fe=="string"&&((ze=ze||re.defaultEncoding)!==re.encoding&&(Fe=c.from(Fe,ze),ze=""),pt=!0),be(this,Fe,ze,!1,pt)},H.prototype.unshift=function(Fe){return be(this,Fe,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(Fe){g||(g=t(748).StringDecoder);var ze=new g(Fe);this._readableState.decoder=ze,this._readableState.encoding=this._readableState.decoder.encoding;for(var pt=this._readableState.buffer.head,re="";pt!==null;)re+=ze.write(pt.data),pt=pt.next;return this._readableState.buffer.clear(),re!==""&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};var Me=1073741824;function Ve(Fe,ze){return Fe<=0||ze.length===0&&ze.ended?0:ze.objectMode?1:Fe!=Fe?ze.flowing&&ze.length?ze.buffer.head.data.length:ze.length:(Fe>ze.highWaterMark&&(ze.highWaterMark=(function(pt){return pt>=Me?pt=Me:(pt--,pt|=pt>>>1,pt|=pt>>>2,pt|=pt>>>4,pt|=pt>>>8,pt|=pt>>>16,pt++),pt})(Fe)),Fe<=ze.length?Fe:ze.ended?ze.length:(ze.needReadable=!0,0))}function Se(Fe){var ze=Fe._readableState;r("emitReadable",ze.needReadable,ze.emittedReadable),ze.needReadable=!1,ze.emittedReadable||(r("emitReadable",ze.flowing),ze.emittedReadable=!0,process.nextTick(He,Fe))}function He(Fe){var ze=Fe._readableState;r("emitReadable_",ze.destroyed,ze.length,ze.ended),ze.destroyed||!ze.length&&!ze.ended||(Fe.emit("readable"),ze.emittedReadable=!1),ze.needReadable=!ze.flowing&&!ze.ended&&ze.length<=ze.highWaterMark,rt(Fe)}function Ue(Fe,ze){ze.readingMore||(ze.readingMore=!0,process.nextTick(he,Fe,ze))}function he(Fe,ze){for(;!ze.reading&&!ze.ended&&(ze.length<ze.highWaterMark||ze.flowing&&ze.length===0);){var pt=ze.length;if(r("maybeReadMore read 0"),Fe.read(0),pt===ze.length)break}ze.readingMore=!1}function $e(Fe){var ze=Fe._readableState;ze.readableListening=Fe.listenerCount("readable")>0,ze.resumeScheduled&&!ze.paused?ze.flowing=!0:Fe.listenerCount("data")>0&&Fe.resume()}function Ye(Fe){r("readable nexttick read 0"),Fe.read(0)}function tt(Fe,ze){r("resume",ze.reading),ze.reading||Fe.read(0),ze.resumeScheduled=!1,Fe.emit("resume"),rt(Fe),ze.flowing&&!ze.reading&&Fe.read(0)}function rt(Fe){var ze=Fe._readableState;for(r("flow",ze.flowing);ze.flowing&&Fe.read()!==null;);}function De(Fe,ze){return ze.length===0?null:(ze.objectMode?pt=ze.buffer.shift():!Fe||Fe>=ze.length?(pt=ze.decoder?ze.buffer.join(""):ze.buffer.length===1?ze.buffer.first():ze.buffer.concat(ze.length),ze.buffer.clear()):pt=ze.buffer.consume(Fe,ze.decoder),pt);var pt}function We(Fe){var ze=Fe._readableState;r("endReadable",ze.endEmitted),ze.endEmitted||(ze.ended=!0,process.nextTick(ct,ze,Fe))}function ct(Fe,ze){if(r("endReadableNT",Fe.endEmitted,Fe.length),!Fe.endEmitted&&Fe.length===0&&(Fe.endEmitted=!0,ze.readable=!1,ze.emit("end"),Fe.autoDestroy)){var pt=ze._writableState;(!pt||pt.autoDestroy&&pt.finished)&&ze.destroy()}}function It(Fe,ze){for(var pt=0,re=Fe.length;pt<re;pt++)if(Fe[pt]===ze)return pt;return-1}H.prototype.read=function(Fe){r("read",Fe),Fe=parseInt(Fe,10);var ze=this._readableState,pt=Fe;if(Fe!==0&&(ze.emittedReadable=!1),Fe===0&&ze.needReadable&&((ze.highWaterMark!==0?ze.length>=ze.highWaterMark:ze.length>0)||ze.ended))return r("read: emitReadable",ze.length,ze.ended),ze.length===0&&ze.ended?We(this):Se(this),null;if((Fe=Ve(Fe,ze))===0&&ze.ended)return ze.length===0&&We(this),null;var re,ee=ze.needReadable;return r("need readable",ee),(ze.length===0||ze.length-Fe<ze.highWaterMark)&&r("length less than watermark",ee=!0),ze.ended||ze.reading?r("reading or ended",ee=!1):ee&&(r("do read"),ze.reading=!0,ze.sync=!0,ze.length===0&&(ze.needReadable=!0),this._read(ze.highWaterMark),ze.sync=!1,ze.reading||(Fe=Ve(pt,ze))),(re=Fe>0?De(Fe,ze):null)===null?(ze.needReadable=ze.length<=ze.highWaterMark,Fe=0):(ze.length-=Fe,ze.awaitDrain=0),ze.length===0&&(ze.ended||(ze.needReadable=!0),pt!==Fe&&ze.ended&&We(this)),re!==null&&this.emit("data",re),re},H.prototype._read=function(Fe){z(this,new C("_read()"))},H.prototype.pipe=function(Fe,ze){var pt=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=Fe;break;case 1:re.pipes=[re.pipes,Fe];break;default:re.pipes.push(Fe)}re.pipesCount+=1,r("pipe count=%d opts=%j",re.pipesCount,ze);var ee=ze&&ze.end===!1||Fe===process.stdout||Fe===process.stderr?it:P;function P(){r("onend"),Fe.end()}re.endEmitted?process.nextTick(ee):pt.once("end",ee),Fe.on("unpipe",(function Xe(lt,Rt){r("onunpipe"),lt===pt&&Rt&&Rt.hasUnpiped===!1&&(Rt.hasUnpiped=!0,r("cleanup"),Fe.removeListener("close",ht),Fe.removeListener("finish",Je),Fe.removeListener("drain",G),Fe.removeListener("error",Qe),Fe.removeListener("unpipe",Xe),pt.removeListener("end",P),pt.removeListener("end",it),pt.removeListener("data",ce),ve=!0,!re.awaitDrain||Fe._writableState&&!Fe._writableState.needDrain||G())}));var G=(function(Xe){return function(){var lt=Xe._readableState;r("pipeOnDrain",lt.awaitDrain),lt.awaitDrain&&lt.awaitDrain--,lt.awaitDrain===0&&o(Xe,"data")&&(lt.flowing=!0,rt(Xe))}})(pt);Fe.on("drain",G);var ve=!1;function ce(Xe){r("ondata");var lt=Fe.write(Xe);r("dest.write",lt),lt===!1&&((re.pipesCount===1&&re.pipes===Fe||re.pipesCount>1&&It(re.pipes,Fe)!==-1)&&!ve&&(r("false write response, pause",re.awaitDrain),re.awaitDrain++),pt.pause())}function Qe(Xe){r("onerror",Xe),it(),Fe.removeListener("error",Qe),o(Fe,"error")===0&&z(Fe,Xe)}function ht(){Fe.removeListener("finish",Je),it()}function Je(){r("onfinish"),Fe.removeListener("close",ht),it()}function it(){r("unpipe"),pt.unpipe(Fe)}return pt.on("data",ce),(function(Xe,lt,Rt){if(typeof Xe.prependListener=="function")return Xe.prependListener(lt,Rt);Xe._events&&Xe._events[lt]?Array.isArray(Xe._events[lt])?Xe._events[lt].unshift(Rt):Xe._events[lt]=[Rt,Xe._events[lt]]:Xe.on(lt,Rt)})(Fe,"error",Qe),Fe.once("close",ht),Fe.once("finish",Je),Fe.emit("pipe",pt),re.flowing||(r("pipe resume"),pt.resume()),Fe},H.prototype.unpipe=function(Fe){var ze=this._readableState,pt={hasUnpiped:!1};if(ze.pipesCount===0)return this;if(ze.pipesCount===1)return Fe&&Fe!==ze.pipes||(Fe||(Fe=ze.pipes),ze.pipes=null,ze.pipesCount=0,ze.flowing=!1,Fe&&Fe.emit("unpipe",this,pt)),this;if(!Fe){var re=ze.pipes,ee=ze.pipesCount;ze.pipes=null,ze.pipesCount=0,ze.flowing=!1;for(var P=0;P<ee;P++)re[P].emit("unpipe",this,{hasUnpiped:!1});return this}var G=It(ze.pipes,Fe);return G===-1||(ze.pipes.splice(G,1),ze.pipesCount-=1,ze.pipesCount===1&&(ze.pipes=ze.pipes[0]),Fe.emit("unpipe",this,pt)),this},H.prototype.on=function(Fe,ze){var pt=l.prototype.on.call(this,Fe,ze),re=this._readableState;return Fe==="data"?(re.readableListening=this.listenerCount("readable")>0,re.flowing!==!1&&this.resume()):Fe==="readable"&&(re.endEmitted||re.readableListening||(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,r("on readable",re.length,re.reading),re.length?Se(this):re.reading||process.nextTick(Ye,this))),pt},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(Fe,ze){var pt=l.prototype.removeListener.call(this,Fe,ze);return Fe==="readable"&&process.nextTick($e,this),pt},H.prototype.removeAllListeners=function(Fe){var ze=l.prototype.removeAllListeners.apply(this,arguments);return Fe!=="readable"&&Fe!==void 0||process.nextTick($e,this),ze},H.prototype.resume=function(){var Fe=this._readableState;return Fe.flowing||(r("resume"),Fe.flowing=!Fe.readableListening,(function(ze,pt){pt.resumeScheduled||(pt.resumeScheduled=!0,process.nextTick(tt,ze,pt))})(this,Fe)),Fe.paused=!1,this},H.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(Fe){var ze=this,pt=this._readableState,re=!1;for(var ee in Fe.on("end",(function(){if(r("wrapped end"),pt.decoder&&!pt.ended){var G=pt.decoder.end();G&&G.length&&ze.push(G)}ze.push(null)})),Fe.on("data",(function(G){r("wrapped data"),pt.decoder&&(G=pt.decoder.write(G)),pt.objectMode&&G==null||(pt.objectMode||G&&G.length)&&(ze.push(G)||(re=!0,Fe.pause()))})),Fe)this[ee]===void 0&&typeof Fe[ee]=="function"&&(this[ee]=(function(G){return function(){return Fe[G].apply(Fe,arguments)}})(ee));for(var P=0;P<se.length;P++)Fe.on(se[P],this.emit.bind(this,se[P]));return this._read=function(G){r("wrapped _read",G),re&&(re=!1,Fe.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=t(5857)),m(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Fe){this._readableState&&(this._readableState.flowing=Fe)}}),H._fromList=De,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(Fe,ze){return p===void 0&&(p=t(3411)),p(H,Fe,ze)})},6756:function(n,e,t){n.exports=g;var i=t(1602).codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,l=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=i.ERR_TRANSFORM_WITH_LENGTH_0,f=t(884);function h(y,E){var A=this._transformState;A.transforming=!1;var w=A.writecb;if(w===null)return this.emit("error",new o);A.writechunk=null,A.writecb=null,E!=null&&this.push(E),w(y);var M=this._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}function g(y){if(!(this instanceof g))return new g(y);f.call(this,y),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",m)}function m(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush((function(E,A){p(y,E,A)}))}function p(y,E,A){if(E)return y.emit("error",E);if(A!=null&&y.push(A),y._writableState.length)throw new c;if(y._transformState.transforming)throw new l;return y.push(null)}t(7523)(g,f),g.prototype.push=function(y,E){return this._transformState.needTransform=!1,f.prototype.push.call(this,y,E)},g.prototype._transform=function(y,E,A){A(new r("_transform()"))},g.prototype._write=function(y,E,A){var w=this._transformState;if(w.writecb=A,w.writechunk=y,w.writeencoding=E,!w.transforming){var M=this._readableState;(w.needTransform||M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}},g.prototype._read=function(y){var E=this._transformState;E.writechunk===null||E.transforming?E.needTransform=!0:(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform))},g.prototype._destroy=function(y,E){f.prototype._destroy.call(this,y,(function(A){E(A)}))}},3726:function(n,e,t){function i(Ue){var he=this;this.next=null,this.entry=null,this.finish=function(){(function($e,Ye){var tt=$e.entry;for($e.entry=null;tt;){var rt=tt.callback;Ye.pendingcb--,rt(void 0),tt=tt.next}Ye.corkedRequestsFree.next=$e})(he,Ue)}}var r;n.exports=H,H.WritableState=F;var o,l={deprecate:t(9e3)},c=t(2611),f=t(44).Buffer,h=(t.g!==void 0?t.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=t(2410),m=t(1749).getHighWaterMark,p=t(1602).codes,y=p.ERR_INVALID_ARG_TYPE,E=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_MULTIPLE_CALLBACK,w=p.ERR_STREAM_CANNOT_PIPE,M=p.ERR_STREAM_DESTROYED,x=p.ERR_STREAM_NULL_VALUES,C=p.ERR_STREAM_WRITE_AFTER_END,O=p.ERR_UNKNOWN_ENCODING,z=g.errorOrDestroy;function se(){}function F(Ue,he,$e){r=r||t(884),Ue=Ue||{},typeof $e!="boolean"&&($e=he instanceof r),this.objectMode=!!Ue.objectMode,$e&&(this.objectMode=this.objectMode||!!Ue.writableObjectMode),this.highWaterMark=m(this,Ue,"writableHighWaterMark",$e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ye=Ue.decodeStrings===!1;this.decodeStrings=!Ye,this.defaultEncoding=Ue.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(tt){(function(rt,De){var We=rt._writableState,ct=We.sync,It=We.writecb;if(typeof It!="function")throw new A;if((function(ze){ze.writing=!1,ze.writecb=null,ze.length-=ze.writelen,ze.writelen=0})(We),De)(function(ze,pt,re,ee,P){--pt.pendingcb,re?(process.nextTick(P,ee),process.nextTick(He,ze,pt),ze._writableState.errorEmitted=!0,z(ze,ee)):(P(ee),ze._writableState.errorEmitted=!0,z(ze,ee),He(ze,pt))})(rt,We,ct,De,It);else{var Fe=Ve(We)||rt.destroyed;Fe||We.corked||We.bufferProcessing||!We.bufferedRequest||Me(rt,We),ct?process.nextTick(Ae,rt,We,Fe,It):Ae(rt,We,Fe,It)}})(he,tt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ue.emitClose!==!1,this.autoDestroy=!!Ue.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function H(Ue){var he=this instanceof(r=r||t(884));if(!he&&!o.call(H,this))return new H(Ue);this._writableState=new F(Ue,this,he),this.writable=!0,Ue&&(typeof Ue.write=="function"&&(this._write=Ue.write),typeof Ue.writev=="function"&&(this._writev=Ue.writev),typeof Ue.destroy=="function"&&(this._destroy=Ue.destroy),typeof Ue.final=="function"&&(this._final=Ue.final)),c.call(this)}function be(Ue,he,$e,Ye,tt,rt,De){he.writelen=Ye,he.writecb=De,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new M("write")):$e?Ue._writev(tt,he.onwrite):Ue._write(tt,rt,he.onwrite),he.sync=!1}function Ae(Ue,he,$e,Ye){$e||(function(tt,rt){rt.length===0&&rt.needDrain&&(rt.needDrain=!1,tt.emit("drain"))})(Ue,he),he.pendingcb--,Ye(),He(Ue,he)}function Me(Ue,he){he.bufferProcessing=!0;var $e=he.bufferedRequest;if(Ue._writev&&$e&&$e.next){var Ye=he.bufferedRequestCount,tt=new Array(Ye),rt=he.corkedRequestsFree;rt.entry=$e;for(var De=0,We=!0;$e;)tt[De]=$e,$e.isBuf||(We=!1),$e=$e.next,De+=1;tt.allBuffers=We,be(Ue,he,!0,he.length,tt,"",rt.finish),he.pendingcb++,he.lastBufferedRequest=null,rt.next?(he.corkedRequestsFree=rt.next,rt.next=null):he.corkedRequestsFree=new i(he),he.bufferedRequestCount=0}else{for(;$e;){var ct=$e.chunk,It=$e.encoding,Fe=$e.callback;if(be(Ue,he,!1,he.objectMode?1:ct.length,ct,It,Fe),$e=$e.next,he.bufferedRequestCount--,he.writing)break}$e===null&&(he.lastBufferedRequest=null)}he.bufferedRequest=$e,he.bufferProcessing=!1}function Ve(Ue){return Ue.ending&&Ue.length===0&&Ue.bufferedRequest===null&&!Ue.finished&&!Ue.writing}function Se(Ue,he){Ue._final((function($e){he.pendingcb--,$e&&z(Ue,$e),he.prefinished=!0,Ue.emit("prefinish"),He(Ue,he)}))}function He(Ue,he){var $e=Ve(he);if($e&&((function(tt,rt){rt.prefinished||rt.finalCalled||(typeof tt._final!="function"||rt.destroyed?(rt.prefinished=!0,tt.emit("prefinish")):(rt.pendingcb++,rt.finalCalled=!0,process.nextTick(Se,tt,rt)))})(Ue,he),he.pendingcb===0&&(he.finished=!0,Ue.emit("finish"),he.autoDestroy))){var Ye=Ue._readableState;(!Ye||Ye.autoDestroy&&Ye.endEmitted)&&Ue.destroy()}return $e}t(7523)(H,c),F.prototype.getBuffer=function(){for(var Ue=this.bufferedRequest,he=[];Ue;)he.push(Ue),Ue=Ue.next;return he},(function(){try{Object.defineProperty(F.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(Ue){return!!o.call(this,Ue)||this===H&&Ue&&Ue._writableState instanceof F}})):o=function(Ue){return Ue instanceof this},H.prototype.pipe=function(){z(this,new w)},H.prototype.write=function(Ue,he,$e){var Ye,tt=this._writableState,rt=!1,De=!tt.objectMode&&(Ye=Ue,f.isBuffer(Ye)||Ye instanceof h);return De&&!f.isBuffer(Ue)&&(Ue=(function(We){return f.from(We)})(Ue)),typeof he=="function"&&($e=he,he=null),De?he="buffer":he||(he=tt.defaultEncoding),typeof $e!="function"&&($e=se),tt.ending?(function(We,ct){var It=new C;z(We,It),process.nextTick(ct,It)})(this,$e):(De||(function(We,ct,It,Fe){var ze;return It===null?ze=new x:typeof It=="string"||ct.objectMode||(ze=new y("chunk",["string","Buffer"],It)),!ze||(z(We,ze),process.nextTick(Fe,ze),!1)})(this,tt,Ue,$e))&&(tt.pendingcb++,rt=(function(We,ct,It,Fe,ze,pt){if(!It){var re=(function(ve,ce,Qe){return ve.objectMode||ve.decodeStrings===!1||typeof ce!="string"||(ce=f.from(ce,Qe)),ce})(ct,Fe,ze);Fe!==re&&(It=!0,ze="buffer",Fe=re)}var ee=ct.objectMode?1:Fe.length;ct.length+=ee;var P=ct.length<ct.highWaterMark;if(P||(ct.needDrain=!0),ct.writing||ct.corked){var G=ct.lastBufferedRequest;ct.lastBufferedRequest={chunk:Fe,encoding:ze,isBuf:It,callback:pt,next:null},G?G.next=ct.lastBufferedRequest:ct.bufferedRequest=ct.lastBufferedRequest,ct.bufferedRequestCount+=1}else be(We,ct,!1,ee,Fe,ze,pt);return P})(this,tt,De,Ue,he,$e)),rt},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var Ue=this._writableState;Ue.corked&&(Ue.corked--,Ue.writing||Ue.corked||Ue.bufferProcessing||!Ue.bufferedRequest||Me(this,Ue))},H.prototype.setDefaultEncoding=function(Ue){if(typeof Ue=="string"&&(Ue=Ue.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ue+"").toLowerCase())>-1))throw new O(Ue);return this._writableState.defaultEncoding=Ue,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(Ue,he,$e){$e(new E("_write()"))},H.prototype._writev=null,H.prototype.end=function(Ue,he,$e){var Ye=this._writableState;return typeof Ue=="function"?($e=Ue,Ue=null,he=null):typeof he=="function"&&($e=he,he=null),Ue!=null&&this.write(Ue,he),Ye.corked&&(Ye.corked=1,this.uncork()),Ye.ending||(function(tt,rt,De){rt.ending=!0,He(tt,rt),De&&(rt.finished?process.nextTick(De):tt.once("finish",De)),rt.ended=!0,tt.writable=!1})(this,Ye,$e),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ue){this._writableState&&(this._writableState.destroyed=Ue)}}),H.prototype.destroy=g.destroy,H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(Ue,he){he(Ue)}},5857:function(n,e,t){var i;function r(x,C,O){return(C=(function(z){var se=(function(F){if(typeof F!="object"||F===null)return F;var H=F[Symbol.toPrimitive];if(H!==void 0){var be=H.call(F,"string");if(typeof be!="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)})(z);return typeof se=="symbol"?se:String(se)})(C))in x?Object.defineProperty(x,C,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[C]=O,x}var o=t(2896),l=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),g=Symbol("lastPromise"),m=Symbol("handlePromise"),p=Symbol("stream");function y(x,C){return{value:x,done:C}}function E(x){var C=x[l];if(C!==null){var O=x[p].read();O!==null&&(x[g]=null,x[l]=null,x[c]=null,C(y(O,!1)))}}function A(x){process.nextTick(E,x)}var w=Object.getPrototypeOf((function(){})),M=Object.setPrototypeOf((r(i={get stream(){return this[p]},next:function(){var x=this,C=this[f];if(C!==null)return Promise.reject(C);if(this[h])return Promise.resolve(y(void 0,!0));if(this[p].destroyed)return new Promise((function(F,H){process.nextTick((function(){x[f]?H(x[f]):F(y(void 0,!0))}))}));var O,z=this[g];if(z)O=new Promise((function(F,H){return function(be,Ae){F.then((function(){H[h]?be(y(void 0,!0)):H[m](be,Ae)}),Ae)}})(z,this));else{var se=this[p].read();if(se!==null)return Promise.resolve(y(se,!1));O=new Promise(this[m])}return this[g]=O,O}},Symbol.asyncIterator,(function(){return this})),r(i,"return",(function(){var x=this;return new Promise((function(C,O){x[p].destroy(null,(function(z){z?O(z):C(y(void 0,!0))}))}))})),i),w);n.exports=function(x){var C,O=Object.create(M,(r(C={},p,{value:x,writable:!0}),r(C,l,{value:null,writable:!0}),r(C,c,{value:null,writable:!0}),r(C,f,{value:null,writable:!0}),r(C,h,{value:x._readableState.endEmitted,writable:!0}),r(C,m,{value:function(z,se){var F=O[p].read();F?(O[g]=null,O[l]=null,O[c]=null,z(y(F,!1))):(O[l]=z,O[c]=se)},writable:!0}),C));return O[g]=null,o(x,(function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var se=O[c];return se!==null&&(O[g]=null,O[l]=null,O[c]=null,se(z)),void(O[f]=z)}var F=O[l];F!==null&&(O[g]=null,O[l]=null,O[c]=null,F(y(void 0,!0))),O[h]=!0})),x.on("readable",A.bind(null,O)),O}},3791:function(n,e,t){function i(m,p){var y=Object.keys(m);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(m);p&&(E=E.filter((function(A){return Object.getOwnPropertyDescriptor(m,A).enumerable}))),y.push.apply(y,E)}return y}function r(m){for(var p=1;p<arguments.length;p++){var y=arguments[p]!=null?arguments[p]:{};p%2?i(Object(y),!0).forEach((function(E){o(m,E,y[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach((function(E){Object.defineProperty(m,E,Object.getOwnPropertyDescriptor(y,E))}))}return m}function o(m,p,y){return(p=c(p))in m?Object.defineProperty(m,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[p]=y,m}function l(m,p){for(var y=0;y<p.length;y++){var E=p[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,c(E.key),E)}}function c(m){var p=(function(y){if(typeof y!="object"||y===null)return y;var E=y[Symbol.toPrimitive];if(E!==void 0){var A=E.call(y,"string");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)})(m);return typeof p=="symbol"?p:String(p)}var f=t(44).Buffer,h=t(3779).inspect,g=h&&h.custom||"inspect";n.exports=(function(){function m(){(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var p,y;return p=m,(y=[{key:"push",value:function(E){var A={data:E,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(E){var A={data:E,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var A=this.head,w=""+A.data;A=A.next;)w+=E+A.data;return w}},{key:"concat",value:function(E){if(this.length===0)return f.alloc(0);for(var A,w,M,x=f.allocUnsafe(E>>>0),C=this.head,O=0;C;)A=C.data,w=x,M=O,f.prototype.copy.call(A,w,M),O+=C.data.length,C=C.next;return x}},{key:"consume",value:function(E,A){var w;return E<this.head.data.length?(w=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):w=E===this.head.data.length?this.shift():A?this._getString(E):this._getBuffer(E),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var A=this.head,w=1,M=A.data;for(E-=M.length;A=A.next;){var x=A.data,C=E>x.length?x.length:E;if(C===x.length?M+=x:M+=x.slice(0,E),(E-=C)==0){C===x.length?(++w,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=x.slice(C));break}++w}return this.length-=w,M}},{key:"_getBuffer",value:function(E){var A=f.allocUnsafe(E),w=this.head,M=1;for(w.data.copy(A),E-=w.data.length;w=w.next;){var x=w.data,C=E>x.length?x.length:E;if(x.copy(A,A.length-E,0,C),(E-=C)==0){C===x.length?(++M,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=x.slice(C));break}++M}return this.length-=M,A}},{key:g,value:function(E,A){return h(this,r(r({},A),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),m})()},2410:function(n){function e(r,o){i(r,o),t(r)}function t(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function i(r,o){r.emit("error",o)}n.exports={destroy:function(r,o){var l=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(o?o(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,r)):process.nextTick(i,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(h){!o&&h?l._writableState?l._writableState.errorEmitted?process.nextTick(t,l):(l._writableState.errorEmitted=!0,process.nextTick(e,l,h)):process.nextTick(e,l,h):o?(process.nextTick(t,l),o(h)):process.nextTick(t,l)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,o){var l=r._readableState,c=r._writableState;l&&l.autoDestroy||c&&c.autoDestroy?r.destroy(o):r.emit("error",o)}}},2896:function(n,e,t){var i=t(1602).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}n.exports=function o(l,c,f){if(typeof c=="function")return o(l,null,c);c||(c={}),f=(function(C){var O=!1;return function(){if(!O){O=!0;for(var z=arguments.length,se=new Array(z),F=0;F<z;F++)se[F]=arguments[F];C.apply(this,se)}}})(f||r);var h=c.readable||c.readable!==!1&&l.readable,g=c.writable||c.writable!==!1&&l.writable,m=function(){l.writable||y()},p=l._writableState&&l._writableState.finished,y=function(){g=!1,p=!0,h||f.call(l)},E=l._readableState&&l._readableState.endEmitted,A=function(){h=!1,E=!0,g||f.call(l)},w=function(C){f.call(l,C)},M=function(){var C;return h&&!E?(l._readableState&&l._readableState.ended||(C=new i),f.call(l,C)):g&&!p?(l._writableState&&l._writableState.ended||(C=new i),f.call(l,C)):void 0},x=function(){l.req.on("finish",y)};return(function(C){return C.setHeader&&typeof C.abort=="function"})(l)?(l.on("complete",y),l.on("abort",M),l.req?x():l.on("request",x)):g&&!l._writableState&&(l.on("end",m),l.on("close",m)),l.on("end",A),l.on("finish",y),c.error!==!1&&l.on("error",w),l.on("close",M),function(){l.removeListener("complete",y),l.removeListener("abort",M),l.removeListener("request",x),l.req&&l.req.removeListener("finish",y),l.removeListener("end",m),l.removeListener("close",m),l.removeListener("finish",y),l.removeListener("end",A),l.removeListener("error",w),l.removeListener("close",M)}}},3411:function(n){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},8460:function(n,e,t){var i,r=t(1602).codes,o=r.ERR_MISSING_ARGS,l=r.ERR_STREAM_DESTROYED;function c(g){if(g)throw g}function f(g){g()}function h(g,m){return g.pipe(m)}n.exports=function(){for(var g=arguments.length,m=new Array(g),p=0;p<g;p++)m[p]=arguments[p];var y,E=(function(w){return w.length?typeof w[w.length-1]!="function"?c:w.pop():c})(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new o("streams");var A=m.map((function(w,M){var x=M<m.length-1;return(function(C,O,z,se){se=(function(be){var Ae=!1;return function(){Ae||(Ae=!0,be.apply(void 0,arguments))}})(se);var F=!1;C.on("close",(function(){F=!0})),i===void 0&&(i=t(2896)),i(C,{readable:O,writable:z},(function(be){if(be)return se(be);F=!0,se()}));var H=!1;return function(be){if(!F&&!H)return H=!0,(function(Ae){return Ae.setHeader&&typeof Ae.abort=="function"})(C)?C.abort():typeof C.destroy=="function"?C.destroy():void se(be||new l("pipe"))}})(w,x,M>0,(function(C){y||(y=C),C&&A.forEach(f),x||(A.forEach(f),E(y))}))}));return m.reduce(h)}},1749:function(n,e,t){var i=t(1602).codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(r,o,l,c){var f=(function(h,g,m){return h.highWaterMark!=null?h.highWaterMark:g?h[m]:null})(o,c,l);if(f!=null){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new i(c?l:"highWaterMark",f);return Math.floor(f)}return r.objectMode?16:16384}}},2611:function(n,e,t){n.exports=t(9826).EventEmitter},748:function(n,e,t){var i=t(4598).Buffer,r=i.isEncoding||function(E){switch((E=""+E)&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(E){var A;switch(this.encoding=(function(w){var M=(function(x){if(!x)return"utf8";for(var C;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(C)return;x=(""+x).toLowerCase(),C=!0}})(w);if(typeof M!="string"&&(i.isEncoding===r||!r(w)))throw new Error("Unknown encoding: "+w);return M||w})(E),this.encoding){case"utf16le":this.text=f,this.end=h,A=4;break;case"utf8":this.fillLast=c,A=4;break;case"base64":this.text=g,this.end=m,A=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(A)}function l(E){return E<=127?0:E>>5==6?2:E>>4==14?3:E>>3==30?4:E>>6==2?-1:-2}function c(E){var A=this.lastTotal-this.lastNeed,w=(function(M,x){if((192&x[0])!=128)return M.lastNeed=0,"";if(M.lastNeed>1&&x.length>1){if((192&x[1])!=128)return M.lastNeed=1,"";if(M.lastNeed>2&&x.length>2&&(192&x[2])!=128)return M.lastNeed=2,""}})(this,E);return w!==void 0?w:this.lastNeed<=E.length?(E.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(E.copy(this.lastChar,A,0,E.length),void(this.lastNeed-=E.length))}function f(E,A){if((E.length-A)%2==0){var w=E.toString("utf16le",A);if(w){var M=w.charCodeAt(w.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",A,E.length-1)}function h(E){var A=E&&E.length?this.write(E):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,w)}return A}function g(E,A){var w=(E.length-A)%3;return w===0?E.toString("base64",A):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",A,E.length-w))}function m(E){var A=E&&E.length?this.write(E):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function p(E){return E.toString(this.encoding)}function y(E){return E&&E.length?this.write(E):""}e.StringDecoder=o,o.prototype.write=function(E){if(E.length===0)return"";var A,w;if(this.lastNeed){if((A=this.fillLast(E))===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<E.length?A?A+this.text(E,w):this.text(E,w):A||""},o.prototype.end=function(E){var A=E&&E.length?this.write(E):"";return this.lastNeed?A+"":A},o.prototype.text=function(E,A){var w=(function(x,C,O){var z=C.length-1;if(z<O)return 0;var se=l(C[z]);return se>=0?(se>0&&(x.lastNeed=se-1),se):--z<O||se===-2?0:(se=l(C[z]))>=0?(se>0&&(x.lastNeed=se-2),se):--z<O||se===-2?0:(se=l(C[z]))>=0?(se>0&&(se===2?se=0:x.lastNeed=se-3),se):0})(this,E,A);if(!this.lastNeed)return E.toString("utf8",A);this.lastTotal=w;var M=E.length-(w-this.lastNeed);return E.copy(this.lastChar,0,M),E.toString("utf8",A,M)},o.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length}},4598:function(n,e,t){var i=t(44),r=i.Buffer;function o(c,f){for(var h in c)f[h]=c[h]}function l(c,f,h){return r(c,f,h)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=i:(o(i,e),e.Buffer=l),o(r,l),l.from=function(c,f,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,f,h)},l.alloc=function(c,f,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var g=r(c);return f!==void 0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},8571:function(n,e,t){var i;(function(r,o){var l="function",c="undefined",f="object",h="string",g="major",m="model",p="name",y="type",E="vendor",A="version",w="architecture",M="console",x="mobile",C="tablet",O="smarttv",z="wearable",se="embedded",F="Amazon",H="Apple",be="ASUS",Ae="BlackBerry",Me="Browser",Ve="Chrome",Se="Firefox",He="Google",Ue="Huawei",he="LG",$e="Microsoft",Ye="Motorola",tt="Opera",rt="Samsung",De="Sharp",We="Sony",ct="Xiaomi",It="Zebra",Fe="Facebook",ze="Chromium OS",pt="Mac OS",re=function(lt){for(var Rt={},dt=0;dt<lt.length;dt++)Rt[lt[dt].toUpperCase()]=lt[dt];return Rt},ee=function(lt,Rt){return typeof lt===h&&P(Rt).indexOf(P(lt))!==-1},P=function(lt){return lt.toLowerCase()},G=function(lt,Rt){if(typeof lt===h)return lt=lt.replace(/^\s\s*/,""),typeof Rt===c?lt:lt.substring(0,500)},ve=function(lt,Rt){for(var dt,Bt,wn,Zt,gn,en,Wn=0;Wn<Rt.length&&!gn;){var Ti=Rt[Wn],Xi=Rt[Wn+1];for(dt=Bt=0;dt<Ti.length&&!gn&&Ti[dt];)if(gn=Ti[dt++].exec(lt))for(wn=0;wn<Xi.length;wn++)en=gn[++Bt],typeof(Zt=Xi[wn])===f&&Zt.length>0?Zt.length===2?typeof Zt[1]==l?this[Zt[0]]=Zt[1].call(this,en):this[Zt[0]]=Zt[1]:Zt.length===3?typeof Zt[1]!==l||Zt[1].exec&&Zt[1].test?this[Zt[0]]=en?en.replace(Zt[1],Zt[2]):o:this[Zt[0]]=en?Zt[1].call(this,en,Zt[2]):o:Zt.length===4&&(this[Zt[0]]=en?Zt[3].call(this,en.replace(Zt[1],Zt[2])):o):this[Zt]=en||o;Wn+=2}},ce=function(lt,Rt){for(var dt in Rt)if(typeof Rt[dt]===f&&Rt[dt].length>0){for(var Bt=0;Bt<Rt[dt].length;Bt++)if(ee(Rt[dt][Bt],lt))return dt==="?"?o:dt}else if(ee(Rt[dt],lt))return dt==="?"?o:dt;return lt},Qe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ht={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[A,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[A,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,A],[/opios[\/ ]+([\w\.]+)/i],[A,[p,tt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[A,[p,tt+" GX"]],[/\bopr\/([\w\.]+)/i],[A,[p,tt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[A,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,A],[/\bddg\/([\w\.]+)/i],[A,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[A,[p,"UC"+Me]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[A,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[A,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[A,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[A,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[A,[p,"Smart Lenovo "+Me]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+Me],A],[/\bfocus\/([\w\.]+)/i],[A,[p,Se+" Focus"]],[/\bopt\/([\w\.]+)/i],[A,[p,tt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[A,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[A,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[A,[p,tt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[A,[p,"MIUI "+Me]],[/fxios\/([-\w\.]+)/i],[A,[p,Se]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+Me]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+Me],A],[/samsungbrowser\/([\w\.]+)/i],[A,[p,rt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],A],[/metasr[\/ ]?([\d\.]+)/i],[A,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],A],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,A],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Fe],A],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,A],[/\bgsa\/([\w\.]+) .*safari\//i],[A,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[A,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[A,[p,Ve+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,Ve+" WebView"],A],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[A,[p,"Android "+Me]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,A],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[A,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[A,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[A,ce,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,A],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],A],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[A,[p,Se+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,A],[/(cobalt)\/([\w\.]+)/i],[p,[A,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,P]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,"",P]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,P]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[E,rt],[y,C]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[E,rt],[y,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[E,H],[y,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[E,H],[y,C]],[/(macintosh);/i],[m,[E,H]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[E,De],[y,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[E,Ue],[y,C]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[E,Ue],[y,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[E,ct],[y,x]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[E,ct],[y,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[E,"OPPO"],[y,x]],[/\b(opd2\d{3}a?) bui/i],[m,[E,"OPPO"],[y,C]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[E,"Vivo"],[y,x]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[E,"Realme"],[y,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[E,Ye],[y,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[E,Ye],[y,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[E,he],[y,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[E,he],[y,x]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[E,"Lenovo"],[y,C]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[E,"Nokia"],[y,x]],[/(pixel c)\b/i],[m,[E,He],[y,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[E,He],[y,x]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[E,We],[y,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[E,We],[y,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[E,"OnePlus"],[y,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[E,F],[y,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[E,F],[y,x]],[/(playbook);[-\w\),; ]+(rim)/i],[m,E,[y,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[E,Ae],[y,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[E,be],[y,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[E,be],[y,x]],[/(nexus 9)/i],[m,[E,"HTC"],[y,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[m,/_/g," "],[y,x]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[E,"Acer"],[y,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[E,"Meizu"],[y,x]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[E,"Ulefone"],[y,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,m,[y,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,m,[y,C]],[/(surface duo)/i],[m,[E,$e],[y,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[E,"Fairphone"],[y,x]],[/(u304aa)/i],[m,[E,"AT&T"],[y,x]],[/\bsie-(\w*)/i],[m,[E,"Siemens"],[y,x]],[/\b(rct\w+) b/i],[m,[E,"RCA"],[y,C]],[/\b(venue[\d ]{2,7}) b/i],[m,[E,"Dell"],[y,C]],[/\b(q(?:mv|ta)\w+) b/i],[m,[E,"Verizon"],[y,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[E,"Barnes & Noble"],[y,C]],[/\b(tm\d{3}\w+) b/i],[m,[E,"NuVision"],[y,C]],[/\b(k88) b/i],[m,[E,"ZTE"],[y,C]],[/\b(nx\d{3}j) b/i],[m,[E,"ZTE"],[y,x]],[/\b(gen\d{3}) b.+49h/i],[m,[E,"Swiss"],[y,x]],[/\b(zur\d{3}) b/i],[m,[E,"Swiss"],[y,C]],[/\b((zeki)?tb.*\b) b/i],[m,[E,"Zeki"],[y,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],m,[y,C]],[/\b(ns-?\w{0,9}) b/i],[m,[E,"Insignia"],[y,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[E,"NextBook"],[y,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],m,[y,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],m,[y,x]],[/\b(ph-1) /i],[m,[E,"Essential"],[y,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[E,"Envizen"],[y,C]],[/\b(trio[-\w\. ]+) b/i],[m,[E,"MachSpeed"],[y,C]],[/\btu_(1491) b/i],[m,[E,"Rotor"],[y,C]],[/(shield[\w ]+) b/i],[m,[E,"Nvidia"],[y,C]],[/(sprint) (\w+)/i],[E,m,[y,x]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[E,$e],[y,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[E,It],[y,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[E,It],[y,x]],[/smart-tv.+(samsung)/i],[E,[y,O]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[E,rt],[y,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,he],[y,O]],[/(apple) ?tv/i],[E,[m,H+" TV"],[y,O]],[/crkey/i],[[m,Ve+"cast"],[E,He],[y,O]],[/droid.+aft(\w+)( bui|\))/i],[m,[E,F],[y,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[E,De],[y,O]],[/(bravia[\w ]+)( bui|\))/i],[m,[E,We],[y,O]],[/(mitv-\w{5}) bui/i],[m,[E,ct],[y,O]],[/Hbbtv.*(technisat) (.*);/i],[E,m,[y,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,G],[m,G],[y,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,m,[y,M]],[/droid.+; (shield) bui/i],[m,[E,"Nvidia"],[y,M]],[/(playstation [345portablevi]+)/i],[m,[E,We],[y,M]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[E,$e],[y,M]],[/((pebble))app/i],[E,m,[y,z]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[E,H],[y,z]],[/droid.+; (glass) \d/i],[m,[E,He],[y,z]],[/droid.+; (wt63?0{2,3})\)/i],[m,[E,It],[y,z]],[/(quest( \d| pro)?)/i],[m,[E,Fe],[y,z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[y,se]],[/(aeobc)\b/i],[m,[E,F],[y,se]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[y,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[y,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,C]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,x]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[A,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[A,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,A],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[A,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,A],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[A,ce,Qe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[A,ce,Qe],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[A,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,pt],[A,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[A,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,A],[/\(bb(10);/i],[A,[p,Ae]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[A,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[A,[p,Se+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[A,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[A,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[A,[p,Ve+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,ze],A],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,A],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],A],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,A]]},Je=function(lt,Rt){if(typeof lt===f&&(Rt=lt,lt=o),!(this instanceof Je))return new Je(lt,Rt).getResult();var dt=typeof r!==c&&r.navigator?r.navigator:o,Bt=lt||(dt&&dt.userAgent?dt.userAgent:""),wn=dt&&dt.userAgentData?dt.userAgentData:o,Zt=Rt?(function(en,Wn){var Ti={};for(var Xi in en)Wn[Xi]&&Wn[Xi].length%2==0?Ti[Xi]=Wn[Xi].concat(en[Xi]):Ti[Xi]=en[Xi];return Ti})(ht,Rt):ht,gn=dt&&dt.userAgent==Bt;return this.getBrowser=function(){var en,Wn={};return Wn[p]=o,Wn[A]=o,ve.call(Wn,Bt,Zt.browser),Wn[g]=typeof(en=Wn[A])===h?en.replace(/[^\d\.]/g,"").split(".")[0]:o,gn&&dt&&dt.brave&&typeof dt.brave.isBrave==l&&(Wn[p]="Brave"),Wn},this.getCPU=function(){var en={};return en[w]=o,ve.call(en,Bt,Zt.cpu),en},this.getDevice=function(){var en={};return en[E]=o,en[m]=o,en[y]=o,ve.call(en,Bt,Zt.device),gn&&!en[y]&&wn&&wn.mobile&&(en[y]=x),gn&&en[m]=="Macintosh"&&dt&&typeof dt.standalone!==c&&dt.maxTouchPoints&&dt.maxTouchPoints>2&&(en[m]="iPad",en[y]=C),en},this.getEngine=function(){var en={};return en[p]=o,en[A]=o,ve.call(en,Bt,Zt.engine),en},this.getOS=function(){var en={};return en[p]=o,en[A]=o,ve.call(en,Bt,Zt.os),gn&&!en[p]&&wn&&wn.platform&&wn.platform!="Unknown"&&(en[p]=wn.platform.replace(/chrome os/i,ze).replace(/macos/i,pt)),en},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Bt},this.setUA=function(en){return Bt=typeof en===h&&en.length>500?G(en,500):en,this},this.setUA(Bt),this};Je.VERSION="1.0.38",Je.BROWSER=re([p,A,g]),Je.CPU=re([w]),Je.DEVICE=re([m,E,y,M,x,O,C,z,se]),Je.ENGINE=Je.OS=re([p,A]),typeof e!==c?(n.exports&&(e=n.exports=Je),e.UAParser=Je):t.amdO?(i=(function(){return Je}).call(e,t,e,n))===o||(n.exports=i):typeof r!==c&&(r.UAParser=Je);var it=typeof r!==c&&(r.jQuery||r.Zepto);if(it&&!it.ua){var Xe=new Je;it.ua=Xe.getResult(),it.ua.get=function(){return Xe.getUA()},it.ua.set=function(lt){Xe.setUA(lt);var Rt=Xe.getResult();for(var dt in Rt)it.ua[dt]=Rt[dt]}}})(typeof window=="object"?window:this)},9e3:function(n,e,t){function i(r){try{if(!t.g.localStorage)return!1}catch{return!1}var o=t.g.localStorage[r];return o!=null&&String(o).toLowerCase()==="true"}n.exports=function(r,o){if(i("noDeprecation"))return r;var l=!1;return function(){if(!l){if(i("throwDeprecation"))throw new Error(o);i("traceDeprecation")?console.trace(o):console.warn(o),l=!0}return r.apply(this,arguments)}}},3779:function(){},7199:function(){},5393:function(n,e,t){t.r(e),t.d(e,{Debug:function(){return o.default},FactoryMaker:function(){return r.default},MediaPlayer:function(){return i.default}});var i=t(8200),r=t(138),o=t(649),l=t(8986),c=typeof window<"u"&&window||global,f=c.dashjs;f||(f=c.dashjs={}),f.MediaPlayer=i.default,f.FactoryMaker=r.default,f.Debug=o.default,f.Version=(0,l.getVersionString)(),e.default=f},649:function(n,e,t){t.r(e);var i=t(8850),r=t(3621),o=t(138);function l(f){f=f||{};const h=this.context,g=(0,i.default)(h).getInstance(),m=f.settings,p=[];let y,E,A,w;function M(H){return H&&H.bind?H.bind(window.console):window.console.log.bind(window.console)}function x(...H){F(1,this,...H)}function C(...H){F(2,this,...H)}function O(...H){F(3,this,...H)}function z(...H){F(4,this,...H)}function se(...H){F(5,this,...H)}function F(H,be,...Ae){let Me="",Ve=null;E&&(Ve=new Date().getTime(),Me+="["+(Ve-w)+"]"),A&&be&&be.getClassName&&(Me+="["+be.getClassName()+"]",be.getType&&(Me+="["+be.getType()+"]")),Me.length>0&&(Me+=" "),Array.apply(null,Ae).forEach((function(Se){Me+=Se+" "})),p[H]&&m&&m.get().debug.logLevel>=H&&p[H](Me),m&&m.get().debug.dispatchEvent&&g.trigger(r.default.LOG,{message:Me,level:H})}return y={getLogger:function(H){return{fatal:x.bind(H),error:C.bind(H),warn:O.bind(H),info:z.bind(H),debug:se.bind(H)}},setLogTimestampVisible:function(H){E=H},setCalleeNameVisible:function(H){A=H}},E=!0,A=!0,w=new Date().getTime(),typeof window<"u"&&window.console&&(p[1]=M(window.console.error),p[2]=M(window.console.error),p[3]=M(window.console.warn),p[4]=M(window.console.info),p[5]=M(window.console.debug)),y}l.__dashjs_factory_name="Debug";const c=o.default.getSingletonFactory(l);c.LOG_LEVEL_NONE=0,c.LOG_LEVEL_FATAL=1,c.LOG_LEVEL_ERROR=2,c.LOG_LEVEL_WARNING=3,c.LOG_LEVEL_INFO=4,c.LOG_LEVEL_DEBUG=5,o.default.updateSingletonFactory(l.__dashjs_factory_name,c),e.default=c},8850:function(n,e,t){t.r(e);var i=t(138),r=t(1191);function o(){let c={};function f(m,p,y,E={},A=!1){if(!m)throw new Error("event type cannot be null or undefined");if(!p||typeof p!="function")throw new Error("listener must be a function: "+p);let w=E.priority||0;if(g(m,p,y)>=0)return;c[m]=c[m]||[];const M={callback:p,scope:y,priority:w,executeOnlyOnce:A};y&&y.getStreamId&&(M.streamId=y.getStreamId()),y&&y.getType&&(M.mediaType=y.getType()),E&&E.mode&&(M.mode=E.mode),c[m].some(((x,C)=>{if(x&&w>x.priority)return c[m].splice(C,0,M),!0}))||c[m].push(M)}function h(m,p,y){if(!m||!p||!c[m])return;const E=g(m,p,y);E<0||(c[m][E]=null)}function g(m,p,y){let E=-1;return c[m]&&c[m].some(((A,w)=>{if(A&&A.callback===p&&(!y||y===A.scope))return E=w,!0})),E}return{on:function(m,p,y,E={}){f(m,p,y,E)},once:function(m,p,y,E={}){f(m,p,y,E,!0)},off:h,trigger:function(m,p={},y={}){if(!m||!c[m])return;if((p=p||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");p.type=m,y.streamId&&(p.streamId=y.streamId),y.mediaType&&(p.mediaType=y.mediaType);const E=[];c[m].filter((A=>!(!A||y.streamId&&A.streamId&&A.streamId!==y.streamId||y.mediaType&&A.mediaType&&A.mediaType!==y.mediaType||y.mode&&A.mode&&A.mode!==y.mode||!A.mode&&y.mode&&y.mode===r.default.EVENT_MODE_ON_RECEIVE))).forEach((A=>{A&&A.callback.call(A.scope,p),A.executeOnlyOnce&&E.push(A)})),E.forEach((A=>{h(m,A.callback,A.scope)}))},reset:function(){c={}}}}o.__dashjs_factory_name="EventBus";const l=i.default.getSingletonFactory(o);l.EVENT_PRIORITY_LOW=0,l.EVENT_PRIORITY_HIGH=5e3,i.default.updateSingletonFactory(o.__dashjs_factory_name,l),e.default=l},138:function(n,e,t){t.r(e);const i=(function(){let r,o=[];const l={},c={};function f(p,y){for(const E in o){const A=o[E];if(A.context===p&&A.name===y)return A.instance}return null}function h(p,y){return y[p]}function g(p,y,E){p in E&&(E[p]=y)}function m(p,y,E){let A;const w=p.__dashjs_factory_name,M=y[w];if(M){let x=M.instance;if(!M.override)return x.apply({context:y,factory:r},E);A=p.apply({context:y},E),x=x.apply({context:y,factory:r,parent:A},E);for(const C in x)A.hasOwnProperty(C)&&(A[C]=x[C])}else A=p.apply({context:y},E);return A.getClassName=function(){return w},A}return r={deleteSingletonInstances:function(p){o=o.filter((y=>y.context!==p))},extend:function(p,y,E,A){!A[p]&&y&&(A[p]={instance:y,override:E})},getClassFactory:function(p){let y=h(p.__dashjs_factory_name,c);return y||(y=function(E){return E===void 0&&(E={}),{create:function(){return m(p,E,arguments)}}},c[p.__dashjs_factory_name]=y),y},getClassFactoryByName:function(p){return h(p,c)},getSingletonFactory:function(p){let y=h(p.__dashjs_factory_name,l);return y||(y=function(E){let A;return E===void 0&&(E={}),{getInstance:function(){return A||(A=f(E,p.__dashjs_factory_name)),A||(A=m(p,E,arguments),o.push({name:p.__dashjs_factory_name,context:E,instance:A})),A}}},l[p.__dashjs_factory_name]=y),y},getSingletonFactoryByName:function(p){return h(p,l)},getSingletonInstance:f,setSingletonInstance:function(p,y,E){for(const A in o){const w=o[A];if(w.context===p&&w.name===y)return void(o[A].instance=E)}o.push({name:y,context:p,instance:E})},updateClassFactory:function(p,y){g(p,y,c)},updateSingletonFactory:function(p,y){g(p,y,l)}},r})();e.default=i},8261:function(n,e,t){t.r(e);var i=t(138),r=t(7263),o=t(649),l=t(5212),c=t(7568),f=t(8850),h=t(3621),g=t(4246);function m(){let y;const E=this.context,A=(0,f.default)(E).getInstance(),w={"streaming.delay.liveDelay":h.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":h.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":h.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":h.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":h.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,"streaming.abr.rules.throughputRule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.bolaRule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.insufficientBufferRule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.switchHistoryRule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.droppedFramesRule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.abandonRequestsRule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.l2ARule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.loLPRule.active":h.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.maxBitrate.video":h.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.maxBitrate.audio":h.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.minBitrate.video":h.default.SETTING_UPDATED_MIN_BITRATE,"streaming.abr.minBitrate.audio":h.default.SETTING_UPDATED_MIN_BITRATE},M={debug:{logLevel:o.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,supportedEssentialProperties:[{schemeIdUri:l.default.FONT_DOWNLOAD_DVB_SCHEME},{schemeIdUri:l.default.COLOUR_PRIMARIES_SCHEME_ID_URI,value:/1|5|6|7/},{schemeIdUri:l.default.URL_QUERY_INFO_SCHEME},{schemeIdUri:l.default.EXT_URL_QUERY_INFO_SCHEME},{schemeIdUri:l.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI,value:/0|1|5|6/},{schemeIdUri:l.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI,value:/1|6|13|14|15/},{schemeIdUri:l.default.SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI},...l.default.THUMBNAILS_SCHEME_ID_URIS.map((O=>({schemeIdUri:O})))],useMediaCapabilitiesApi:!0,filterVideoColorimetryEssentialProperties:!1,filterHDRMetadataFormatEssentialProperties:!1,filterAudioChannelConfiguration:!1},events:{eventControllerRefreshDelay:100,deleteEventMessageDataTimeout:1e4},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,keepProtectionMediaKeysMaximumOpenSessions:-1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0,ignoreKeyStatuses:!1},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:null,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,bufferTimeDefault:18,longFormContentDurationThreshold:600,stallThreshold:.3,lowLatencyStallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeType:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1,syntheticStallEvents:{enabled:!1,ignoreReadyState:!1}},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1,seekOffset:0},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"},artificialTimeOffsetToApply:0},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:l.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:10,audio:5},trackSwitchMode:{audio:l.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:l.default.TRACK_SWITCH_MODE_NEVER_REPLACE},includePreselectionsInMediainfoArray:!0,includePreselectionsForInitialTrackSelection:!1,ignoreSelectionPriority:!1,prioritizeRoleMain:!0,assumeDefaultRoleAsMain:!0,selectionModeForInitialTrack:l.default.TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:{[c.HTTPRequest.MPD_TYPE]:500,[c.HTTPRequest.XLINK_EXPANSION_TYPE]:500,[c.HTTPRequest.MEDIA_SEGMENT_TYPE]:1e3,[c.HTTPRequest.INIT_SEGMENT_TYPE]:1e3,[c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:1e3,[c.HTTPRequest.INDEX_SEGMENT_TYPE]:1e3,[c.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:1e3,[c.HTTPRequest.LICENSE]:1e3,[c.HTTPRequest.OTHER_TYPE]:1e3,lowLatencyReductionFactor:10},retryAttempts:{[c.HTTPRequest.MPD_TYPE]:3,[c.HTTPRequest.XLINK_EXPANSION_TYPE]:1,[c.HTTPRequest.MEDIA_SEGMENT_TYPE]:3,[c.HTTPRequest.INIT_SEGMENT_TYPE]:3,[c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:3,[c.HTTPRequest.INDEX_SEGMENT_TYPE]:3,[c.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:3,[c.HTTPRequest.LICENSE]:3,[c.HTTPRequest.OTHER_TYPE]:3,lowLatencyMultiplyFactor:5},abr:{limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,enableSupplementalPropertyAdaptationSetSwitching:!0,rules:{throughputRule:{active:!0,priority:g.default.PRIORITY.DEFAULT},bolaRule:{active:!0,priority:g.default.PRIORITY.DEFAULT},insufficientBufferRule:{active:!0,priority:g.default.PRIORITY.DEFAULT,parameters:{throughputSafetyFactor:.7,segmentIgnoreCount:2}},switchHistoryRule:{active:!0,priority:g.default.PRIORITY.DEFAULT,parameters:{sampleSize:8,switchPercentageThreshold:.075}},droppedFramesRule:{active:!1,priority:g.default.PRIORITY.DEFAULT,parameters:{minimumSampleSize:375,droppedFramesPercentageThreshold:.15}},abandonRequestsRule:{active:!0,priority:g.default.PRIORITY.DEFAULT,parameters:{abandonDurationMultiplier:1.8,minSegmentDownloadTimeThresholdInMs:500,minThroughputSamplesThreshold:6}},l2ARule:{active:!1,priority:g.default.PRIORITY.DEFAULT},loLPRule:{active:!1,priority:g.default.PRIORITY.DEFAULT}},throughput:{averageCalculationMode:l.default.THROUGHPUT_CALCULATION_MODES.EWMA,lowLatencyDownloadTimeCalculationMode:l.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING,useResourceTimingApi:!0,useNetworkInformationApi:{xhr:!1,fetch:!1},useDeadTimeLatency:!0,bandwidthSafetyFactor:.9,sampleSettings:{live:3,vod:4,enableSampleSizeAdjustment:!0,decreaseScale:.7,increaseScale:1.3,maxMeasurementsToKeep:20,averageLatencySampleAmount:4},ewma:{throughputSlowHalfLifeSeconds:8,throughputFastHalfLifeSeconds:3,latencySlowHalfLifeCount:2,latencyFastHalfLifeCount:1,weightDownloadTimeMultiplicationFactor:.0015}},maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},initialBitrate:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{applyParametersFromMpd:!0,enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:l.default.CMCD_MODE_QUERY,enabledKeys:l.default.CMCD_AVAILABLE_KEYS,includeInRequests:["segment","mpd"],version:1},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}},enhancement:{enabled:!1,codecs:["lvc1"]},defaultSchemeIdUri:{viewpoint:"",audioChannelConfiguration:"urn:mpeg:mpegB:cicp:ChannelConfiguration",role:"urn:mpeg:dash:role:2011",accessibility:"urn:mpeg:dash:role:2011"}},errors:{recoverAttempts:{mediaErrorDecode:5}}};let x=r.default.clone(M);function C(O,z,se){for(let F in O)O.hasOwnProperty(F)&&(z.hasOwnProperty(F)?typeof O[F]!="object"||O[F]instanceof RegExp||O[F]instanceof Array||O[F]===null?(z[F]=r.default.clone(O[F]),w[se+F]&&A.trigger(w[se+F])):C(O[F],z[F],se.slice()+F+"."):console.error("Settings parameter "+se+F+" is not supported"))}return y={get:function(){return x},update:function(O){typeof O=="object"&&C(O,x,"")},reset:function(){x=r.default.clone(M)}},y}m.__dashjs_factory_name="Settings";let p=i.default.getSingletonFactory(m);e.default=p},7263:function(n,e,t){t.r(e);var i=t(3282),r=t(8571),o=t(5212);class l{static mixin(f,h,g){let m,p={};if(f)for(let y in h)h.hasOwnProperty(y)&&(m=h[y],y in f&&(f[y]===m||y in p&&p[y]===m)||(typeof f[y]=="object"&&f[y]!==null?f[y]=l.mixin(f[y],m,g):f[y]=g(m)));return f}static clone(f){if(!f||typeof f!="object")return f;if(f instanceof RegExp)return new RegExp(f);let h;if(f instanceof Array){h=[];for(let g=0,m=f.length;g<m;++g)g in f&&h.push(l.clone(f[g]))}else h={};return l.mixin(h,f,l.clone)}static addAdditionalQueryParameterToUrl(f,h){try{if(!h||h.length===0)return f;let g=f;return h.forEach((({key:m,value:p})=>{const y=g.includes("?")?"&":"?";g+=`${y}${encodeURIComponent(m)}=${encodeURIComponent(p)}`})),g}catch{return f}}static removeQueryParameterFromUrl(f,h){if(!f||!h)return f;const g=new URL(f),m=new URLSearchParams(g.search);if(!m||m.size===0||!m.has(h))return f;m.delete(h);const p=Array.from(m.entries()).map((([E,A])=>`${E}=${A}`)).join("&"),y=`${g.origin}${g.pathname}`;return p?`${y}?${p}`:y}static parseHttpHeaders(f){let h={};if(!f)return h;let g=f.trim().split(`\r
`);for(let m=0,p=g.length;m<p;m++){let y=g[m],E=y.indexOf(": ");E>0&&(h[y.substring(0,E)]=y.substring(E+2))}return h}static parseQueryParams(f){const h=[],g=new URLSearchParams(f);for(const[m,p]of g.entries())h.push({key:decodeURIComponent(m),value:decodeURIComponent(p)});return h}static generateUuid(){let f=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(h){const g=(f+16*Math.random())%16|0;return f=Math.floor(f/16),(h=="x"?g:3&g|8).toString(16)}))}static generateHashCode(f){let h=0;if(f.length===0)return h;for(let g=0;g<f.length;g++)h=(h<<5)-h+f.charCodeAt(g),h|=0;return h}static getRelativeUrl(f,h){try{const g=new URL(f),m=new URL(h);if(g.protocol=m.protocol,g.origin!==m.origin)return h;let p=i.relative(g.pathname.substr(0,g.pathname.lastIndexOf("/")),m.pathname.substr(0,m.pathname.lastIndexOf("/")));const y=p.length===0?1:0;return p+=m.pathname.substr(m.pathname.lastIndexOf("/")+y,m.pathname.length-1),m.pathname.length<p.length?m.pathname:p}catch{return h}}static getHostFromUrl(f){try{return new URL(f).host}catch{return null}}static parseUserAgent(f=null){try{const h=f===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,r.UAParser)(h)}catch{return{}}}static stringHasProtocol(f){return/(http(s?)):\/\//i.test(f)}static bufferSourceToDataView(f){return l.toDataView(f,DataView)}static bufferSourceToInt8(f){return l.toDataView(f,Uint8Array)}static uint8ArrayToString(f){return new TextDecoder("utf-8").decode(f)}static bufferSourceToHex(f){const h=l.bufferSourceToInt8(f);let g="";for(let m of h)m=m.toString(16),m.length===1&&(m="0"+m),g+=m;return g}static toDataView(f,h){const g=l.getArrayBuffer(f);let m=1;"BYTES_PER_ELEMENT"in DataView&&(m=DataView.BYTES_PER_ELEMENT);const p=((f.byteOffset||0)+f.byteLength)/m,y=(f.byteOffset||0)/m,E=Math.floor(Math.max(0,Math.min(y,p)));return new h(g,E,Math.floor(Math.min(E+Math.max(1/0,0),p))-E)}static getArrayBuffer(f){return f instanceof ArrayBuffer?f:f.buffer}static getCodecFamily(f){const{base:h,profile:g}=l._getCodecParts(f);switch(h){case"mp4a":switch(g){case"69":case"6b":case"40.34":return o.default.CODEC_FAMILIES.MP3;case"66":case"67":case"68":case"40.2":case"40.02":case"40.5":case"40.05":case"40.29":case"40.42":return o.default.CODEC_FAMILIES.AAC;case"a5":return o.default.CODEC_FAMILIES.AC3;case"e6":return o.default.CODEC_FAMILIES.EC3;case"b2":return o.default.CODEC_FAMILIES.DTSX;case"a9":return o.default.CODEC_FAMILIES.DTSC}break;case"avc1":case"avc3":return o.default.CODEC_FAMILIES.AVC;case"hvc1":case"hvc3":return o.default.CODEC_FAMILIES.HEVC;default:return h}return h}static _getCodecParts(f){const[h,...g]=f.split(".");return{base:h,profile:g.join(".")}}}e.default=l},8986:function(n,e,t){t.r(e),t.d(e,{getVersionString:function(){return r}});const i="5.1.1";function r(){return i}},8748:function(n,e,t){t.r(e),e.default=class{extend(i,r){if(!i)return;let o=!!r&&r.override,l=!!r&&r.publicOnly;for(const c in i)!i.hasOwnProperty(c)||this[c]&&!o||l&&i[c].indexOf("public_")===-1||(this[c]=i[c])}}},5734:function(n,e,t){t.r(e);var i=t(7252);class r extends i.default{constructor(){super(),this.ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CMSD_STATIC_HEADER="cmsdStaticHeader",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.INBAND_EVENTS="inbandEvents",this.INITIAL_STREAM_SWITCH="initialStreamSwitch",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_FRAGMENT_NEEDED="initFragmentNeeded",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LOADING_ABANDONED="loadingAborted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIAINFO_UPDATED="mediaInfoUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.SEEK_TARGET="seekTarget",this.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",this.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",this.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",this.SETTING_UPDATED_ABR_ACTIVE_RULES="settingUpdatedAbrActiveRules",this.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",this.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",this.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",this.SETTING_UPDATED_MAX_BITRATE="settingUpdatedMaxBitrate",this.SETTING_UPDATED_MIN_BITRATE="settingUpdatedMinBitrate",this.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",this.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",this.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",this.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",this.SOURCE_BUFFER_ERROR="sourceBufferError",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.VIDEO_ELEMENT_RESIZED="videoElementResized",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}}e.default=r},3621:function(n,e,t){t.r(e);var i=t(5734);class r extends i.default{}let o=new r;e.default=o},7252:function(n,e,t){t.r(e),e.default=class{extend(i,r){if(!i)return;let o=!!r&&r.override,l=!!r&&r.publicOnly;for(const c in i)!i.hasOwnProperty(c)||this[c]&&!o||l&&i[c].indexOf("public_")===-1||(this[c]=i[c])}}},8854:function(n,e,t){t.r(e),e.default={ACCESSIBILITY:"Accessibility",ADAPTATION_SET:"AdaptationSet",ADAPTATION_SETS:"adaptationSets",ADAPTATION_SET_SWITCHING_SCHEME_ID_URI:"urn:mpeg:dash:adaptation-set-switching:2016",ADD:"add",ASSET_IDENTIFIER:"AssetIdentifier",AUDIO_CHANNEL_CONFIGURATION:"AudioChannelConfiguration",AUDIO_SAMPLING_RATE:"audioSamplingRate",AVAILABILITY_END_TIME:"availabilityEndTime",AVAILABILITY_START_TIME:"availabilityStartTime",AVAILABILITY_TIME_COMPLETE:"availabilityTimeComplete",AVAILABILITY_TIME_OFFSET:"availabilityTimeOffset",BANDWITH:"bandwidth",BASE_URL:"BaseURL",BITSTREAM_SWITCHING:"BitstreamSwitching",BITSTREAM_SWITCHING_MINUS:"bitstreamSwitching",BYTE_RANGE:"byteRange",CAPTION:"caption",CENC_DEFAULT_KID:"cenc:default_KID",CLIENT_DATA_REPORTING:"ClientDataReporting",CLIENT_REQUIREMENT:"clientRequirement",CMCD_PARAMETERS:"CMCDParameters",CODECS:"codecs",CODEC_PRIVATE_DATA:"codecPrivateData",CODING_DEPENDENCY:"codingDependency",CONTENT_COMPONENT:"ContentComponent",CONTENT_PROTECTION:"ContentProtection",CONTENT_STEERING:"ContentSteering",CONTENT_STEERING_RESPONSE:{VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},CONTENT_TYPE:"contentType",DEFAULT_SERVICE_LOCATION:"defaultServiceLocation",DEPENDENCY_ID:"dependencyId",DURATION:"duration",DVB_PRIORITY:"dvb:priority",DVB_WEIGHT:"dvb:weight",DVB_URL:"dvb:url",DVB_MIMETYPE:"dvb:mimeType",DVB_FONTFAMILY:"dvb:fontFamily",DYNAMIC:"dynamic",END_NUMBER:"endNumber",ESSENTIAL_PROPERTY:"EssentialProperty",EVENT:"Event",EVENT_STREAM:"EventStream",FORCED_SUBTITLE:"forced-subtitle",FRAMERATE:"frameRate",FRAME_PACKING:"FramePacking",GROUP_LABEL:"GroupLabel",HEIGHT:"height",ID:"id",INBAND:"inband",INBAND_EVENT_STREAM:"InbandEventStream",INDEX:"index",INDEX_RANGE:"indexRange",INITIALIZATION:"Initialization",INITIALIZATION_MINUS:"initialization",LA_URL:"Laurl",LA_URL_LOWER_CASE:"laurl",LABEL:"Label",LANG:"lang",LOCATION:"Location",MAIN:"main",MAXIMUM_SAP_PERIOD:"maximumSAPPeriod",MAX_PLAYOUT_RATE:"maxPlayoutRate",MAX_SEGMENT_DURATION:"maxSegmentDuration",MAX_SUBSEGMENT_DURATION:"maxSubsegmentDuration",MEDIA:"media",MEDIA_PRESENTATION_DURATION:"mediaPresentationDuration",MEDIA_RANGE:"mediaRange",MEDIA_STREAM_STRUCTURE_ID:"mediaStreamStructureId",METRICS:"Metrics",METRICS_MINUS:"metrics",MIME_TYPE:"mimeType",MINIMUM_UPDATE_PERIOD:"minimumUpdatePeriod",MIN_BUFFER_TIME:"minBufferTime",MP4_PROTECTION_SCHEME:"urn:mpeg:dash:mp4protection:2011",MPD:"MPD",MPD_TYPE:"mpd",MPD_PATCH_TYPE:"mpdpatch",ORDER:"order",ORIGINAL_MPD_ID:"mpdId",ORIGINAL_PUBLISH_TIME:"originalPublishTime",PATCH_LOCATION:"PatchLocation",PERIOD:"Period",PRESELECTION:"Preselection",PRESELECTION_COMPONENTS:"preselectionComponents",PRESENTATION_TIME:"presentationTime",PRESENTATION_TIME_OFFSET:"presentationTimeOffset",PRO:"pro",PRODUCER_REFERENCE_TIME:"ProducerReferenceTime",PRODUCER_REFERENCE_TIME_TYPE:{ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},PROFILES:"profiles",PSSH:"pssh",PUBLISH_TIME:"publishTime",QUALITY_RANKING:"qualityRanking",QUERY_BEFORE_START:"queryBeforeStart",QUERY_PART:"$querypart$",RANGE:"range",RATING:"Rating",REF:"ref",REF_ID:"refId",REMOVE:"remove",REPLACE:"replace",REPORTING:"Reporting",REPRESENTATION:"Representation",REPRESENTATION_INDEX:"RepresentationIndex",ROBUSTNESS:"robustness",ROLE:"Role",S:"S",SAR:"sar",SCAN_TYPE:"scanType",SEGMENT_ALIGNMENT:"segmentAlignment",SEGMENT_BASE:"SegmentBase",SEGMENT_LIST:"SegmentList",SEGMENT_PROFILES:"segmentProfiles",SEGMENT_SEQUENCE_PROPERTIES:"SegmentSequenceProperties",SEGMENT_TEMPLATE:"SegmentTemplate",SEGMENT_TIMELINE:"SegmentTimeline",SEGMENT_TYPE:"segment",SEGMENT_URL:"SegmentURL",SERVICE_DESCRIPTION:"ServiceDescription",SERVICE_DESCRIPTION_LATENCY:"Latency",SERVICE_DESCRIPTION_OPERATING_BANDWIDTH:"OperatingBandwidth",SERVICE_DESCRIPTION_OPERATING_QUALITY:"OperatingQuality",SERVICE_DESCRIPTION_PLAYBACK_RATE:"PlaybackRate",SERVICE_DESCRIPTION_SCOPE:"Scope",SERVICE_LOCATION:"serviceLocation",SERVICE_LOCATIONS:"serviceLocations",SOURCE_URL:"sourceURL",START:"start",START_NUMBER:"startNumber",START_WITH_SAP:"startWithSAP",STATIC:"static",STEERING_TYPE:"steering",SUBSET:"Subset",SUBTITLE:"subtitle",SUB_REPRESENTATION:"SubRepresentation",SUB_SEGMENT_ALIGNMENT:"subsegmentAlignment",SUGGESTED_PRESENTATION_DELAY:"suggestedPresentationDelay",SUPPLEMENTAL_PROPERTY:"SupplementalProperty",SUPPLEMENTAL_CODECS:"scte214:supplementalCodecs",TAG:"tag",TIMESCALE:"timescale",TIMESHIFT_BUFFER_DEPTH:"timeShiftBufferDepth",TTL:"ttl",TYPE:"type",UTC_TIMING:"UTCTiming",VALUE:"value",VIEWPOINT:"Viewpoint",WALL_CLOCK_TIME:"wallClockTime",WIDTH:"width"}},5717:function(n,e,t){t.r(e),e.default=class{constructor(){this.schemeIdUri="",this.value=""}}},8200:function(n,e,t){t.r(e),t.d(e,{default:function(){return jb}});var i=t(138),r=t(4246),o={TCP_CONNECTION:"TcpList",HTTP_REQUEST:"HttpList",TRACK_SWITCH:"RepSwitchList",BUFFER_LEVEL:"BufferLevel",BUFFER_LOADED:"bufferLoaded",ABANDON_LOAD:"abandonload",ALLOW_LOAD:"allowload",BUFFER_EMPTY:"bufferStalled",BUFFER_STATE:"BufferState",DVR_INFO:"DVRInfo",DROPPED_FRAMES:"DroppedFrames",SCHEDULING_INFO:"SchedulingInfo",REQUESTS_QUEUE:"RequestsQueue",MANIFEST_UPDATE:"ManifestUpdate",MANIFEST_UPDATE_STREAM_INFO:"ManifestUpdatePeriodInfo",MANIFEST_UPDATE_TRACK_INFO:"ManifestUpdateRepresentationInfo",PLAY_LIST:"PlayList",DVB_ERRORS:"DVBErrors",HTTP_REQUEST_DVB_REPORTING_TYPE:"DVBReporting"},l=t(649),c=t(8261);function f(T){T=T||{};const _=this.context,S=T.dashMetrics;let R,k,L;return R={getSwitchRequest:function($){try{const B=(0,r.default)(_).create();B.rule=this.getClassName();const U=$.getMediaInfo(),K=$.getMediaType(),Y=S.getCurrentBufferState(K),D=$.getScheduleController(),q=$.getAbrController(),j=$.getStreamInfo(),Z=j?j.id:null,ie=j&&j.manifestInfo?j.manifestInfo.isDynamic:null,ae=$.getThroughputController(),J=ae.getSafeAverageThroughput(K),fe=ae.getAverageLatency(K);return isNaN(J)||!Y||q.getAbandonmentStateFor(Z,K)===o.ALLOW_LOAD&&(Y.state===o.BUFFER_LOADED||ie)&&(B.representation=q.getOptimalRepresentationForBitrate(U,J,!0),B.priority=k.get().streaming.abr.rules.throughputRule.priority,B.reason={throughput:J,latency:fe,message:`[ThroughputRule]: Switching to Representation with bitrate ${B.representation?B.representation.bitrateInKbit:"n/a"} kbit/s. Throughput: ${J}`},D.setTimeToLoadDelay(0)),B}catch(B){return L.error(B),(0,r.default)(_).create()}},reset:function(){}},L=(0,l.default)(_).getInstance().getLogger(R),k=(0,c.default)(_).getInstance(),R}f.__dashjs_factory_name="ThroughputRule";var h=i.default.getClassFactory(f),g=t(8850),m=t(3621),p=t(5212),y=t(1191);function E(T){T=T||{};const _=this.context,S=(0,g.default)(_).getInstance(),R=T.dashMetrics,k=(0,c.default)(_).getInstance();let L,$,B;function U(){const D=k.get().streaming.abr.rules.insufficientBufferRule.parameters.segmentIgnoreCount;B={},B[p.default.VIDEO]={ignoreCount:D},B[p.default.AUDIO]={ignoreCount:D},B[p.default.ENHANCEMENT]={ignoreCount:D}}function K(){U()}function Y(D){isNaN(D.startTime)||D.mediaType!==p.default.AUDIO&&D.mediaType!==p.default.VIDEO||B[D.mediaType].ignoreCount>0&&B[D.mediaType].ignoreCount--}return L={getSwitchRequest:function(D){const q=(0,r.default)(_).create();if(q.rule=this.getClassName(),!D||!D.hasOwnProperty("getMediaType"))return q;const j=D.getMediaType(),Z=R.getCurrentBufferState(j),ie=D.getRepresentation().fragmentDuration;if(!(function(fe,me,pe){return!fe.getLowLatencyModeEnabled()&&B[me].ignoreCount<=0&&pe})(D.getScheduleController().getPlaybackController(),j,ie))return q;const ae=D.getMediaInfo(),J=D.getAbrController();if(Z&&Z.state===o.BUFFER_EMPTY)$.debug("["+j+"] Switch to index 0; buffer is empty."),q.representation=J.getOptimalRepresentationForBitrate(ae,0,!0),q.reason={message:"[InsufficientBufferRule]: Switching to lowest Representation because buffer is empty"};else{const fe=D.getThroughputController(),me=R.getCurrentBufferLevel(j),pe=fe.getAverageThroughput(j,null,NaN)*k.get().streaming.abr.rules.insufficientBufferRule.parameters.throughputSafetyFactor*me/ie;if(isNaN(pe)||pe<=0)return q;q.representation=J.getOptimalRepresentationForBitrate(ae,pe,!0),q.priority=k.get().streaming.abr.rules.insufficientBufferRule.priority,q.reason={message:"[InsufficientBufferRule]: Limiting maximum bitrate to avoid a buffer underrun.",bitrate:pe}}return q},reset:function(){U(),S.off(y.default.PLAYBACK_SEEKING,K,L),S.off(m.default.BYTES_APPENDED_END_FRAGMENT,Y,L)}},$=(0,l.default)(_).getInstance().getLogger(L),U(),S.on(y.default.PLAYBACK_SEEKING,K,L),S.on(m.default.BYTES_APPENDED_END_FRAGMENT,Y,L),L}E.__dashjs_factory_name="InsufficientBufferRule";var A=i.default.getClassFactory(E);function w(T){const _=(T=T||{}).mediaPlayerModel,S=T.dashMetrics,R=this.context,k=(0,c.default)(R).getInstance();let L,$,B;function U(){B={}}return L={shouldAbandon:function(K){const Y=(0,r.default)(R).create();Y.rule=this.getClassName();try{if(!K)return Y;const D=K.getCurrentRequest();if(!isNaN(D.index)){if(D.firstByteDate===null||B.hasOwnProperty(D.index))return Y;const q=_.getBufferTimeDefault(),j=K.getMediaType();if(S.getCurrentBufferLevel(j)>q)return Y;const Z=Date.now()-D.firstByteDate.getTime();if(D.traces.length>=k.get().streaming.abr.rules.abandonRequestsRule.parameters.minThroughputSamplesThreshold&&Z>k.get().streaming.abr.rules.abandonRequestsRule.parameters.minSegmentDownloadTimeThresholdInMs&&D.bytesLoaded<D.bytesTotal)return(function(ie,ae,J){const fe=ie.getMediaInfo(),me=ie.getMediaType(),pe=ae.traces.reduce(((Ie,le)=>Ie+le.b[0]),0)-ae.traces[0].b[0],Re=Math.max(ae.traces.reduce(((Ie,le)=>Ie+le.d),0)-ae.traces[0].d,1),ne=Math.round(8*pe/Re),Q=Number(8*ae.bytesTotal/ne/1e3).toFixed(2),V=ie.getRepresentation(),W=ie.getAbrController();if(Q<ae.duration*k.get().streaming.abr.rules.abandonRequestsRule.parameters.abandonDurationMultiplier||W.isPlayingAtLowestQuality(V))return J;if(!B.hasOwnProperty(ae.index)){const Ie=ie.getAbrController(),le=ae.bytesTotal-ae.bytesLoaded,Ce=Ie.getOptimalRepresentationForBitrate(fe,ne,!0),we=ae.representation;le>ae.bytesTotal*Ce.bitrateInKbit/we.bitrateInKbit&&(J.representation=Ce,J.priority=k.get().streaming.abr.rules.abandonRequestsRule.priority,J.reason={throughputInKbit:ne,message:`[AbandonRequestRule][${me} is asking to abandon and switch to quality to ${Ce.absoluteIndex}. The measured bandwidth was ${ne} kbit/s`},B[ae.index]=!0)}return J})(K,D,Y)}return Y}catch(D){return $.error(D),Y}},reset:U},$=(0,l.default)(R).getInstance().getLogger(L),U(),L}w.__dashjs_factory_name="AbandonRequestsRule";var M=i.default.getClassFactory(w);function x(){const T=this.context,_=(0,c.default)(T).getInstance();let S;return S={getSwitchRequest:function(R){const k=(0,r.default)(T).create();if(k.rule=this.getClassName(),!R||!R.hasOwnProperty("getDroppedFramesHistory"))return k;const L=R.getDroppedFramesHistory();if(!L)return k;const $=R.getStreamInfo().id,B=R.getMediaInfo(),U=R.getAbrController(),K=L.getFrameHistory($);if(!K||Object.keys(K).length===0)return k;let Y=0,D=0;const q=U.getPossibleVoRepresentationsFilteredBySettings(B,!0);let j=null;for(let Z=1;Z<q.length;Z++){const ie=q[Z];if(ie&&K[ie.id]&&(Y=K[ie.id].droppedVideoFrames,D=K[ie.id].totalVideoFrames,D>_.get().streaming.abr.rules.droppedFramesRule.parameters.minimumSampleSize&&Y/D>_.get().streaming.abr.rules.droppedFramesRule.parameters.droppedFramesPercentageThreshold)){j=q[Z-1];break}}return j&&(k.representation=j,k.priority=_.get().streaming.abr.rules.droppedFramesRule.priority,k.reason={droppedFrames:Y,message:`[DroppedFramesRule]: Switching to index ${j.absoluteIndex}. Dropped Frames: ${Y}, Total Frames: ${D}`}),k}},S}x.__dashjs_factory_name="DroppedFramesRule";var C=i.default.getClassFactory(x);function O(){const T=this.context,_=(0,c.default)(T).getInstance();let S;return S={getSwitchRequest:function(R){const k=(0,r.default)(T).create();if(k.rule=this.getClassName(),!R)return k;const L=R.getStreamInfo().id,$=R.getMediaType(),B=R?R.getSwitchRequestHistory():null,U=B?B.getSwitchRequests(L,$):{},K=R.getAbrController(),Y=R.getMediaInfo(),D=K.getPossibleVoRepresentationsFilteredBySettings(Y,!0);let q=0,j=0;for(let Z=0;Z<D.length;Z++){const ie=D[Z];if(ie&&U[ie.id]&&(q+=U[ie.id].drops,j+=U[ie.id].noDrops,q+j>=_.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize&&q/j>_.get().streaming.abr.rules.switchHistoryRule.parameters.switchPercentageThreshold)){k.representation=Z>0&&U[ie.id].drops>0?D[Z-1]:ie,k.priority=_.get().streaming.abr.rules.switchHistoryRule.priority,k.reason={drops:q,noDrops:j,message:`[SwitchHistoryRule]: Switch to index: ${k.representation.absoluteIndex} samples: ${q+j} drops:  ${q}`};break}}return k}},S}O.__dashjs_factory_name="SwitchHistoryRule";var z=i.default.getClassFactory(O),se=t(7568);const F="BOLA_STATE_ONE_BITRATE",H="BOLA_STATE_STARTUP",be="BOLA_STATE_STEADY",Ae=10;function Me(T){T=T||{};const _=this.context,S=T.dashMetrics,R=T.mediaPlayerModel,k=(0,g.default)(_).getInstance(),L=wa(_).getInstance();let $,B,U,K;function Y(W){const Ie=W.mediaType,le=W.streamId,Ce=Ie===p.default.AUDIO?[p.default.AUDIO]:K[le];for(const we in Ce)K[le]&&K[le].hasOwnProperty(we)&&K[le][we].state===be&&(K[le][we].placeholderBuffer=0)}function D(W){const Ie=W.streamId;for(const le in K[Ie])if(K[Ie].hasOwnProperty(le)){const Ce=K[Ie][le];Ce.state!==F&&(Ce.state=H,q(Ce))}}function q(W){W.placeholderBuffer=0,W.mostAdvancedSegmentStart=NaN,W.lastSegmentWasReplacement=!1,W.lastSegmentStart=NaN,W.lastSegmentDurationS=NaN,W.lastSegmentRequestTimeMs=NaN,W.lastSegmentFinishTimeMs=NaN}function j(W){try{if(W&&W.metric===o.HTTP_REQUEST&&W.value&&W.value.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE&&W.value.trace&&W.value.trace.length){const Ie=K[W.value._streamId]&&K[W.value._streamId][W.mediaType]?K[W.value._streamId][W.mediaType]:null;Ie&&Ie.state!==F&&(Ie.lastSegmentRequestTimeMs=W.value.trequest.getTime(),Ie.lastSegmentFinishTimeMs=W.value._tfinish.getTime(),Z(Ie,W.mediaType))}}catch(Ie){B.error(Ie)}}function Z(W,Ie){if(!isNaN(W.lastSegmentStart)&&!isNaN(W.lastSegmentRequestTimeMs)&&!isNaN(W.placeholderBuffer)){if(W.placeholderBuffer*=.99,!isNaN(W.lastSegmentFinishTimeMs)){const le=S.getCurrentBufferLevel(Ie)+.001*(W.lastSegmentFinishTimeMs-W.lastSegmentRequestTimeMs),Ce=fe(W,W.currentRepresentation),we=Math.max(0,Ce-le);W.placeholderBuffer=Math.min(we,W.placeholderBuffer)}W.lastSegmentWasReplacement&&!isNaN(W.lastSegmentDurationS)&&(W.placeholderBuffer+=W.lastSegmentDurationS),W.lastSegmentStart=NaN,W.lastSegmentRequestTimeMs=NaN}}function ie(W){if(W&&K[W.streamId]&&K[W.streamId][W.mediaType]){const Ie=K[W.streamId][W.mediaType];Ie&&Ie.state!==F&&(Ie.currentRepresentation=W.newRepresentation)}}function ae(W,Ie,le){const Ce=le.reduce(((Ge,Pe,te)=>Pe>le[Ge]?te:Ge),0);if(Ce===0)return null;const we=Math.max(W,Ae+2*Ie.length),Le=(le[Ce]-1)/(we/Ae-1);return{gp:Le,Vp:Ae/Le}}function J(W,Ie){const le=R.getBufferTimeDefault();if(W.bufferTimeDefault!==le){const Ce=ae(le,W.representations,W.utilities);if(Ce.Vp!==W.Vp||Ce.gp!==W.gp){const we=S.getCurrentBufferLevel(Ie);let Le=we+W.placeholderBuffer;Le-=Ae,Le*=Ce.Vp/W.Vp,Le+=Ae,W.bufferTimeDefault=le,W.Vp=Ce.Vp,W.gp=Ce.gp,W.placeholderBuffer=Math.max(0,Le-we)}}}function fe(W,Ie){return W.Vp*(W.utilities[Ie.absoluteIndex]+W.gp)}function me(W){if(W&&W.chunk&&W.chunk.representation.mediaInfo&&K[W.streamId]){const Ie=K[W.streamId][W.chunk.representation.mediaInfo.type];if(Ie&&Ie.state!==F){const le=W.chunk.start;isNaN(Ie.mostAdvancedSegmentStart)||le>Ie.mostAdvancedSegmentStart?(Ie.mostAdvancedSegmentStart=le,Ie.lastSegmentWasReplacement=!1):Ie.lastSegmentWasReplacement=!0,Ie.lastSegmentStart=le,Ie.lastSegmentDurationS=W.chunk.duration,Ie.currentRepresentation=W.chunk.representation,Z(Ie,W.chunk.representation.mediaInfo.type)}}}function pe(){V()}function Re(){U.get().streaming.abr.limitBitrateByPortal&&V()}function ne(W,Ie){const le=Ie.absoluteIndex,Ce=Ie.bandwidth,we=W.utilities[le];let Le=0;for(let Ge=le-1;Ge>=0;--Ge)if(W.utilities[Ge]<W.utilities[le]){const Pe=W.representations[Ge].bandwidth,te=W.utilities[Ge],oe=W.Vp*(W.gp+(Ce*te-Pe*we)/(Ce-Pe));Le=Math.max(Le,oe)}return Le}function Q(W){if(W&&K[W.streamId]){const Ie=K[W.streamId][W.mediaType];if(Ie&&Ie.state!==F){const le=S.getCurrentBufferLevel(W.mediaType);let Ce;Ce=Ie.currentRepresentation.absoluteIndex>0?ne(Ie,Ie.currentRepresentation):Ae;const we=Math.max(0,Ce-le);Ie.placeholderBuffer=Math.min(Ie.placeholderBuffer,we)}}}function V(){K={}}return $={getSwitchRequest:function(W){try{const Ie=(0,r.default)(_).create();W.getScheduleController().setTimeToLoadDelay(0),Ie.rule=this.getClassName(),Ie.reason=Ie.reason||{};const le=(function(Ce){const we=Ce.getMediaType(),Le=Ce.getStreamInfo().id;K[Le]||(K={},K[Le]={});let Ge=K[Le][we];return Ge?Ge.state!==F&&J(Ge,we):(Ge=(function(Pe){const te={},oe=Pe.getMediaInfo(),ge=L.getPossibleVoRepresentationsFilteredBySettings(oe,!0);let ue=ge.map((X=>X.bandwidth)).map((X=>Math.log(X)));ue=ue.map((X=>X-ue[0]+1));const de=R.getBufferTimeDefault(),Ee=ae(de,ge,ue);return Ee?(te.state=H,te.representations=ge,te.utilities=ue,te.bufferTimeDefault=de,te.Vp=Ee.Vp,te.gp=Ee.gp,te.currentRepresentation=null,q(te)):te.state=F,te})(Ce),K[Le][we]=Ge),Ge})(W);switch(Ie.reason.state=le.state,le.state){case F:break;case H:(function(Ce,we,Le){const Ge=we.getMediaType(),Pe=we.getThroughputController().getSafeAverageThroughput(Ge);if(isNaN(Pe))return;const te=we.getMediaInfo(),oe=L.getOptimalRepresentationForBitrate(te,Pe,!0),ge=S.getCurrentBufferLevel(Ge);Ce.representation=oe,Ce.reason.throughput=Pe,Le.placeholderBuffer=Math.max(0,ne(Le,oe)-ge),Le.currentRepresentation=oe,!isNaN(Le.lastSegmentDurationS)&&ge>=Le.lastSegmentDurationS&&(Le.state=be)})(Ie,W,le);break;case be:(function(Ce,we,Le){const Ge=we.getMediaType(),Pe=we.getThroughputController(),te=we.getMediaInfo(),oe=Pe.getSafeAverageThroughput(Ge),ge=we.getScheduleController();(function(_e,ke){const Oe=Date.now();if(isNaN(_e.lastSegmentFinishTimeMs)){if(!isNaN(_e.lastCallTimeMs)){const je=.001*(Oe-_e.lastCallTimeMs);_e.placeholderBuffer+=Math.max(0,je)}}else{const je=.001*(Oe-_e.lastSegmentFinishTimeMs);_e.placeholderBuffer+=Math.max(0,je)}_e.lastCallTimeMs=Oe,_e.lastSegmentStart=NaN,_e.lastSegmentRequestTimeMs=NaN,_e.lastSegmentFinishTimeMs=NaN,J(_e,ke)})(Le,Ge);const ue=S.getCurrentBufferLevel(Ge);let de=(function(_e,ke){const Oe=_e.representations.length;let je=NaN,Be=NaN;for(let Ze=0;Ze<Oe;++Ze){let mt=(_e.Vp*(_e.utilities[Ze]-1+_e.gp)-ke)/_e.representations[Ze].bandwidth;(isNaN(Be)||mt>=Be)&&(Be=mt,je=Ze)}return _e.representations[je]})(Le,ue+Le.placeholderBuffer);const Ee=L.getOptimalRepresentationForBitrate(te,oe,!0);de.absoluteIndex>Le.currentRepresentation.absoluteIndex&&de.absoluteIndex>Ee.absoluteIndex&&(de=Ee.absoluteIndex>Le.currentRepresentation.absoluteIndex?Ee:Le.currentRepresentation);let X=Math.max(0,ue+Le.placeholderBuffer-fe(Le,de));X<=Le.placeholderBuffer?(Le.placeholderBuffer-=X,X=0):(X-=Le.placeholderBuffer,Le.placeholderBuffer=0,L.isPlayingAtTopQuality(de)?X=0:ge.setTimeToLoadDelay(1e3*X)),Ce.representation=de,Ce.reason.throughput=oe,Ce.reason.bufferLevel=ue,Ce.reason.placeholderBuffer=Le.placeholderBuffer,Ce.reason.delay=X,Le.currentRepresentation=de})(Ie,W,le);break;default:(function(Ce,we,Le){B.debug("BOLA ABR rule invoked in bad state.");const Ge=we.getMediaInfo(),Pe=we.getMediaType(),te=we.getThroughputController().getSafeAverageThroughput(Pe);Ce.representation=L.getOptimalRepresentationForBitrate(Ge,te,!0),Ce.reason.state=Le.state,Ce.reason.throughput=te,Le.state=H,q(Le)})(Ie,W,le)}return Ie.priority=U.get().streaming.abr.rules.bolaRule.priority,Ie}catch(Ie){return B.error(Ie),(0,r.default)(_).create()}},handleNewMediaInfo:function(W){W&&W.streamInfo&&W.type&&K[W.streamInfo.id]&&K[W.streamInfo.id][W.type]&&delete K[W.streamInfo.id][W.type]},reset:function(){V(),k.off(y.default.BUFFER_EMPTY,Y,$),k.off(y.default.PLAYBACK_SEEKING,D,$),k.off(y.default.METRIC_ADDED,j,$),k.off(y.default.QUALITY_CHANGE_REQUESTED,ie,$),k.off(y.default.FRAGMENT_LOADING_ABANDONED,Q,$),k.off(m.default.MEDIA_FRAGMENT_LOADED,me,$),k.off(m.default.SETTING_UPDATED_MAX_BITRATE,pe,$),k.off(m.default.SETTING_UPDATED_MIN_BITRATE,pe,$),k.off(m.default.VIDEO_ELEMENT_RESIZED,Re,$)}},B=(0,l.default)(_).getInstance().getLogger($),U=(0,c.default)(_).getInstance(),V(),k.on(y.default.BUFFER_EMPTY,Y,$),k.on(y.default.PLAYBACK_SEEKING,D,$),k.on(y.default.METRIC_ADDED,j,$),k.on(y.default.QUALITY_CHANGE_REQUESTED,ie,$),k.on(y.default.FRAGMENT_LOADING_ABANDONED,Q,$),k.on(m.default.MEDIA_FRAGMENT_LOADED,me,$),k.on(m.default.SETTING_UPDATED_MAX_BITRATE,pe,$),k.on(m.default.SETTING_UPDATED_MIN_BITRATE,pe,$),k.on(m.default.VIDEO_ELEMENT_RESIZED,Re,$),$}Me.__dashjs_factory_name="BolaRule";var Ve=i.default.getClassFactory(Me);const Se="L2A_STATE_ONE_BITRATE",He="L2A_STATE_STARTUP",Ue="L2A_STATE_STEADY",he=Math.pow(4,.99);function $e(T){T=T||{};const _=this.context,S=T.dashMetrics,R=(0,g.default)(_).getInstance(),k=(0,c.default)(_).getInstance();let L,$,B,U;function K(ae){ae.placeholderBuffer=0,ae.mostAdvancedSegmentStart=NaN,ae.lastSegmentWasReplacement=!1,ae.lastSegmentStart=NaN,ae.lastSegmentDurationS=NaN,ae.lastSegmentRequestTimeMs=NaN,ae.lastSegmentFinishTimeMs=NaN,ae.lastSegmentUrl=""}function Y(){for(const ae in $)if($.hasOwnProperty(ae)){const J=$[ae];J.state!==Se&&(J.state=He,K(J))}}function D(ae){if(ae&&ae.chunk&&ae.chunk.representation&&ae.chunk.representation.mediaInfo){const J=$[ae.chunk.representation.mediaInfo.type],fe=B[ae.chunk.representation.mediaInfo.type];if(J&&J.state!==Se){const me=ae.chunk.start;isNaN(J.mostAdvancedSegmentStart)||me>J.mostAdvancedSegmentStart?(J.mostAdvancedSegmentStart=me,J.lastSegmentWasReplacement=!1):J.lastSegmentWasReplacement=!0,J.lastSegmentStart=me,J.lastSegmentDurationS=ae.chunk.duration,J.currentRepresentation=ae.chunk.representation,j(J,fe)}}}function q(ae){if(ae&&ae.metric===o.HTTP_REQUEST&&ae.value&&ae.value.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE&&ae.value.trace&&ae.value.trace.length){const J=$[ae.mediaType],fe=B[ae.mediaType];J&&J.state!==Se&&(J.lastSegmentRequestTimeMs=ae.value.trequest.getTime(),J.lastSegmentFinishTimeMs=ae.value._tfinish.getTime(),j(J,fe))}}function j(ae,J){isNaN(ae.lastSegmentStart)||isNaN(ae.lastSegmentRequestTimeMs)||(J.segment_request_start_s=.001*ae.lastSegmentRequestTimeMs,J.segment_download_finish_s=.001*ae.lastSegmentFinishTimeMs,ae.lastSegmentStart=NaN,ae.lastSegmentRequestTimeMs=NaN)}function Z(ae,J){if(ae.length!==J.length)return-1;let fe=0;for(let me=0;me<ae.length;me++)fe+=ae[me]*J[me];return fe}function ie(){$={},B={}}return L={getSwitchRequest:function(ae){try{const J=(0,r.default)(_).create();J.rule=this.getClassName();const fe=ae.getMediaType(),me=ae.getScheduleController();if(J.reason=J.reason||{},fe===p.default.AUDIO)return J;me.setTimeToLoadDelay(0);const pe=(function(Re){const ne=Re.getMediaType();let Q=$[ne];return Q||(Q=(function(V){const W={},Ie=V.getMediaInfo();return W.state=He,W.currentRepresentation=null,(function(le){le&&le.type&&(B[le.type]={},B[le.type].w=[],B[le.type].prev_w=[],B[le.type].Q=0,B[le.type].segment_request_start_s=0,B[le.type].segment_download_finish_s=0,B[le.type].B_target=1.5)})(Ie),K(W),W})(Re),$[ne]=Q),Q})(ae);if(!B[fe])return J;switch(J.reason.state=pe.state,pe.state){case Se:break;case He:(function(Re,ne,Q){const V=Re.getMediaInfo(),W=Re.getMediaType(),Ie=Re.getThroughputController().getSafeAverageThroughput(W);if(isNaN(Ie))return ne;const le=Re.getAbrController(),Ce=le.getOptimalRepresentationForBitrate(V,Ie,!0),we=S.getCurrentBufferLevel(W,!0),Le=B[W],Ge=le.getPossibleVoRepresentationsFilteredBySettings(V,!0);if(ne.representation=Ce,ne.reason.throughput=Ie,Q.currentRepresentation=Ce,!isNaN(Q.lastSegmentDurationS)&&we>=Le.B_target){Q.state=Ue,Le.Q=he;for(let Pe=0;Pe<Ge.length;++Pe)Ge[Pe].id===Q.currentRepresentation.id?Le.prev_w[Pe]=1:Le.prev_w[Pe]=0}})(ae,J,pe);break;case Ue:(function(Re,ne,Q){let V=[];const W=Re.getThroughputController(),Ie=Re.getMediaType();let le=W.getAverageThroughput(Ie,p.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN,1),Ce=S.getCurrentHttpRequest(Ie),we=null;const Le=B[Ie];if(le<1&&(le=1),Ce.url===Q.lastSegmentUrl||Ce.type===se.HTTPRequest.INIT_SEGMENT_TYPE)we=Q.currentRepresentation;else{let Ge=Q.lastSegmentDurationS,Pe=1;const te=Re.getAbrController(),oe=Re.getMediaInfo(),ge=te.getPossibleVoRepresentationsFilteredBySettings(oe,!0);let ue=Re.getVideoModel().getPlaybackRate();const de=Math.max(Math.pow(4,1),he*Math.sqrt(4));for(let ke=0;ke<ge.length;++ke){const Oe=ge[ke];ue*Oe.bitrateInKbit>le&&(Pe=-1),Le.w[ke]=Le.prev_w[ke]+Pe*(Ge/(2*de))*((Le.Q+he)*(ue*Oe.bitrateInKbit/le))}Le.w=(function(ke){const Oe=ke.length;let je=!1,Be=[];for(let vn=0;vn<Oe;++vn)Be[vn]=ke[vn];let Ze=ke.sort((function(vn,zt){return zt-vn})),mt=0,St=0,Ht=[];for(let vn=0;vn<Oe-1;++vn)if(mt+=Ze[vn],St=(mt-1)/(vn+1),St>=Ze[vn+1]){je=!0;break}je||(St=(mt+Ze[Oe-1]-1)/Oe);for(let vn=0;vn<Oe;++vn)Ht[vn]=Math.max(Be[vn]-St,0);return Ht})(Le.w);for(let ke=0;ke<ge.length;++ke)V[ke]=Le.w[ke]-Le.prev_w[ke],Le.prev_w[ke]=Le.w[ke];const Ee=ge.map((ke=>ke.bandwidth));Le.Q=Math.max(0,Le.Q-Ge+Ge*ue*((Z(Ee,Le.prev_w)+Z(Ee,V))/le));let X=[];for(let ke=0;ke<Ee.length;++ke)X[ke]=Math.abs(Ee[ke]-Z(Le.w,Ee));const _e=X.indexOf(Math.min(...X));we=te.getRepresentationByAbsoluteIndex(_e,oe,!0),we.absoluteIndex>Q.currentRepresentation.absoluteIndex&&Ee[Q.currentRepresentation.absoluteIndex+1]<=le&&(we=te.getRepresentationByAbsoluteIndex(Q.currentRepresentation.absoluteIndex+1,oe,!0)),we.bitrateInKbit>=le&&(Le.Q=2*Math.max(he,Le.Q)),Q.lastSegmentUrl=Ce.url}ne.representation=we,Q.currentRepresentation=ne.representation})(ae,J,pe);break;default:(function(Re,ne,Q){const V=Re.getAbrController(),W=Re.getMediaInfo(),Ie=Re.getMediaType(),le=Re.getThroughputController().getSafeAverageThroughput(Ie);ne.representation=V.getOptimalRepresentationForBitrate(W,le,!0),ne.reason.throughput=le,Q.state=He,K(Q)})(ae,J,pe)}return J.priority=k.get().streaming.abr.rules.l2ARule.priority,J}catch(J){return U.error(J),(0,r.default)(_).create()}},reset:function(){ie(),R.off(m.default.PLAYBACK_SEEKING,Y,L),R.off(m.default.MEDIA_FRAGMENT_LOADED,D,L),R.off(m.default.METRIC_ADDED,q,L)}},U=(0,l.default)(_).getInstance().getLogger(L),ie(),R.on(m.default.PLAYBACK_SEEKING,Y,L),R.on(m.default.MEDIA_FRAGMENT_LOADED,D,L),R.on(m.default.METRIC_ADDED,q,L),L}$e.__dashjs_factory_name="L2ARule";var Ye=i.default.getClassFactory($e);function tt(){const T=this.context;let _,S,R,k,L,$,B,U,K;function Y(){R=null,k=1,L=100,$=0,B=null,U=null,K="dynamic_weight_selection"}function D(){let ae=0;if(R)for(let J=0;J<R.length;J++){let fe=R[J];fe.state.throughput>ae&&(ae=fe.state.throughput)}return ae}function q(ae,J,fe){let me=ae.map(((pe,Re)=>fe[Re]*Math.pow(pe-J[Re],2))).reduce(((pe,Re)=>pe+Re));return(me<0?-1:1)*Math.sqrt(Math.abs(me))}function j(ae,J){return q([ae.state.throughput,ae.state.latency,ae.state.rebuffer,ae.state.switch],[J.state.throughput,J.state.latency,J.state.rebuffer,J.state.switch],[1,1,1,1])}function Z(ae,J){for(let fe=0;fe<R.length;fe++){let me=R[fe],pe=.1;const Re=j(me,ae);ie(me,J,Math.exp(-1*Math.pow(Re,2)/(2*Math.pow(pe,2))))}}function ie(ae,J,fe){let me=ae.state,pe=[.01,.01,.01,.01];me.throughput=me.throughput+(J[0]-me.throughput)*pe[0]*fe,me.latency=me.latency+(J[1]-me.latency)*pe[1]*fe,me.rebuffer=me.rebuffer+(J[2]-me.rebuffer)*pe[2]*fe,me.switch=me.switch+(J[3]-me.switch)*pe[3]*fe}return _={getNextQuality:function(ae,J,fe,me,pe,Re,ne,Q){let V=me,W=fe;(function(oe,ge){if(!R){R=[];const ue=ge.getPossibleVoRepresentationsFilteredBySettings(oe,!0),de=ue.map((Ee=>Ee.bandwidth));$=Math.min(...de),k=(function(Ee){const X=Ee.map((_e=>Math.pow(_e,2))).reduce(((_e,ke)=>_e+ke));return Math.sqrt(X)})(de),ue.forEach((Ee=>{let X={representation:Ee,state:{throughput:Ee.bandwidth/k,latency:0,rebuffer:0,switch:0}};R.push(X)})),U=(function(Ee){let X=[],_e=(function(Ze){let mt=[];for(let St=0;St<Ze;St++){let Ht=[Math.random()*D(),Math.random(),Math.random(),Math.random()];mt.push(Ht)}return mt})(Math.pow(Ee.length,2));X.push(_e[0]);let ke=[1,1,1,1];for(let Ze=1;Ze<Ee.length;Ze++){let mt=null,St=null;for(let Ht=0;Ht<_e.length;Ht++){let vn=_e[Ht],zt=null;for(let mn=0;mn<X.length;mn++){let Nn=q(vn,X[mn],ke);(zt===null||Nn<zt)&&(zt=Nn)}(St===null||zt>St)&&(mt=vn,St=zt)}X.push(mt)}let Oe=null,je=null;for(let Ze=0;Ze<X.length;Ze++){let mt=0;for(let St=0;St<X.length;St++)Ze!==St&&(mt+=q(X[Ze],X[St],ke));(Oe===null||mt>Oe)&&(Oe=mt,je=Ze)}let Be=[];for(Be.push(X[je]),X.splice(je,1);X.length>0;){let Ze=null,mt=null;for(let St=0;St<X.length;St++){let Ht=q(Be[0],X[St],ke);(Ze===null||Ht<Ze)&&(Ze=Ht,mt=St)}Be.push(X[mt]),X.splice(mt,1)}return Be})(R)}})(J,ae);let Ie=fe/k;Ie>1&&(Ie=D()),me/=L;let le=R.find((oe=>oe.representation.id===ne.id)),Ce=le.representation.bandwidth*Q.getSegmentDuration()/W,we=Math.max(0,Ce-pe);if(pe-Ce<Q.getMinBuffer())return S.debug(`Buffer is low for bitrate= ${le.representation.bandwidth} downloadTime=${Ce} currentBuffer=${pe} rebuffer=${we}`),(function(oe,ge){let ue=0,de=oe;if(R)for(let Ee=0;Ee<R.length;Ee++){let X=R[Ee];X.representation.bandwidth<oe.representation.bandwidth&&X.representation.bandwidth>ue&&ge>X.representation.bandwidth&&(ue=X.representation.bandwidth,de=X)}return de})(le,W).representation;switch(K){case"manual_weight_selection":B=[.4,.4,.4,.4];break;case"random_weight_selection":B=(function(oe){let ge=[],ue=Math.sqrt(2/oe);for(let de=0;de<4;de++)ge.push(Math.random()*ue);return B=ge,B})(R.length);break;default:(function(oe,ge,ue,de,Ee,X){B||(B=U[U.length-1]);let _e=oe.findWeightVector(R,ge,ue,de,Ee,X);_e!==null&&_e!==-1&&(B=_e)})(Q,V,pe,we,W,Re)}let Le=null,Ge=null,Pe=null;for(let oe=0;oe<R.length;oe++){let ge=R[oe],ue=ge.state,de=[ue.throughput,ue.latency,ue.rebuffer,ue.switch],Ee=B.slice(),X=Q.getNextBufferWithBitrate(ge.representation.bandwidth,pe,W),_e=X<Q.getMinBuffer();_e&&S.debug(`Buffer is low for bitrate=${ge.representation.bandwidth} downloadTime=${Ce} currentBuffer=${pe} nextBuffer=${X}`),(ge.representation.bandwidth>fe-1e4||_e)&&ge.representation.bandwidth!==$&&(Ee[0]=100);let ke=q(de,[Ie,0,0,0],Ee);(Le===null||ke<Le)&&(Le=ke,Ge=ge.representation,Pe=ge)}let te=Math.abs(le.representation.bandwidth-Pe.representation.bandwidth)/k;return Z(le,[Ie,me,we,te]),Z(Pe,[Ie,0,0,te]),Ge},reset:function(){Y()}},S=(0,l.default)(T).getInstance().getLogger(_),Y(),_}tt.__dashjs_factory_name="LearningAbrController";var rt=i.default.getClassFactory(tt),De=class{constructor(){this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}};function We(){let T,_,S,R,k;function L(){_=null,S=null,R=null,k=null}function $(U,K,Y,D){let q=new De;return q.type=U,q.weights.bitrateReward=K||1,q.weights.bitrateSwitchPenalty=1,q.weights.rebufferPenalty=Y||1e3,q.weights.latencyPenalty=[],q.weights.latencyPenalty.push({threshold:1.1,penalty:.05*D}),q.weights.latencyPenalty.push({threshold:1e8,penalty:.1*Y}),q.weights.playbackSpeedPenalty=D||200,q}function B(U,K,Y,D,q){q.bitrateWSum+=q.weights.bitrateReward*U,q.lastBitrate&&(q.bitrateSwitchWSum+=q.weights.bitrateSwitchPenalty*Math.abs(U-q.lastBitrate)),q.lastBitrate=U,q.rebufferWSum+=q.weights.rebufferPenalty*K;for(let j=0;j<q.weights.latencyPenalty.length;j++){let Z=q.weights.latencyPenalty[j];if(Y<=Z.threshold){q.latencyWSum+=Z.penalty*Y;break}}q.playbackSpeedWSum+=q.weights.playbackSpeedPenalty*Math.abs(1-D),q.totalQoe=q.bitrateWSum-q.bitrateSwitchWSum-q.rebufferWSum-q.latencyWSum-q.playbackSpeedWSum}return T={setupPerSegmentQoe:function(U,K,Y){_=$("segment",U,K,Y),S=U,R=K,k=Y},logSegmentMetrics:function(U,K,Y,D){_&&B(U,K,Y,D,_)},getPerSegmentQoe:function(){return _},calculateSingleUseQoe:function(U,K,Y,D){let q=null;return S&&R&&k&&(q=$("segment",S,R,k)),q?(B(U,K,Y,D,q),q.totalQoe):0},reset:function(){L()}},L(),T}We.__dashjs_factory_name="LoLpQoeEvaluator";var ct=i.default.getClassFactory(We);function It(T){let _,S,R,k,L=T.targetLatency,$=T.bufferMin,B=T.segmentDuration,U=T.qoeEvaluator;function K(){return B}function Y(D,q){const j=K();let Z;return Z=q>j?D-j:D+j-q,Z}return _={getMinBuffer:function(){return $},getSegmentDuration:K,getNextBufferWithBitrate:function(D,q,j){return Y(q,D*B/j)},getNextBuffer:Y,findWeightVector:function(D,q,j,Z,ie,ae){let J=null,fe=null,me=null,pe=Math.abs(q-k);return D.forEach((Re=>{R.forEach((ne=>{ne[0];let Q,V=ne[1],W=ne[2],Ie=(ne[3],Re.representation.bandwidth*B/ie),le=Y(j,Ie);Q=W===0?10:1/W;let Ce=Q*Math.max(1e-5,Ie-le);Q=V===0?10:1/V;let we=Q*Re.state.latency,Le=U.calculateSingleUseQoe(Re.representation.bandwidth,Ce,we,ae);(J===null||Le>J)&&(function(Ge,Pe,te){return!(Ge>L+te)&&Pe>=$})(q,le,pe)&&(J=Le,fe=ne,me=Re.representation.bandwidth)}))})),fe===null&&me===null&&(fe=-1),k=q,fe}},S=[.2,.4,.6,.8,1],R=(function(D){let q=D.map((function(Z){return[Z]})),j=function(Z,ie,ae){if(ae===ie)return Z;let J=Z.length;for(let fe=0;fe<J;fe++){let me=Z.shift();for(let pe=0;pe<D.length;pe++)Z.push(me.concat(D[pe]))}return j(Z,ie,ae+1)};return j(q,4,1)})(S),k=0,_}It.__dashjs_factory_name="LoLpWeightSelector";var Fe=i.default.getClassFactory(It);function ze(T){let _,S,R,k,L,$=(T=T||{}).dashMetrics,B=this.context;return R={getSwitchRequest:function(U){try{let K=(0,r.default)(B).create();K.rule=this.getClassName();let Y=U.getMediaInfo().type,D=U.getAbrController();const q=U.getStreamInfo();let j=U.getRepresentation();const Z=U.getMediaInfo(),ie=$.getCurrentBufferState(Y),ae=U.getScheduleController(),J=$.getCurrentBufferLevel(Y,!0),fe=ae.getPlaybackController();let me=fe.getCurrentLiveLatency();if(Y===p.default.AUDIO)return K;me||(me=0);const pe=fe.getPlaybackRate(),Re=U.getThroughputController().getSafeAverageThroughput(Y);if(_.debug(`Throughput ${Math.round(Re)} kbps`),isNaN(Re)||!ie||D.getAbandonmentStateFor(q.id,Y)===o.ABANDON_LOAD)return K;let ne=D.getPossibleVoRepresentationsFilteredBySettings(Z,!0).map((Ge=>Ge.bandwidth)),Q=U.getRepresentation().fragmentDuration,V=Math.min(...ne)/1e3,W=Math.max(...ne)/1e3,Ie=j.bandwidth/1e3,le=$.getCurrentHttpRequest(Y,!0),Ce=(le.tresponse.getTime()-le.trequest.getTime())/1e3,we=Ce>Q?Ce-Q:0;L.setupPerSegmentQoe(Q,W,V),L.logSegmentMetrics(Ie,we,me,pe);let Le=Fe(B).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Q,qoeEvaluator:L});return K.representation=k.getNextQuality(D,Z,1e3*Re,me,J,pe,j,Le),K.reason={throughput:Re,latency:me},K.priority=S.get().streaming.abr.rules.loLPRule.priority,ae.setTimeToLoadDelay(0),K}catch(K){throw K}},reset:function(){k.reset(),L.reset()}},_=(0,l.default)(B).getInstance().getLogger(R),k=rt(B).create(),L=ct(B).create(),S=(0,c.default)(B).getInstance(),R}ze.__dashjs_factory_name="LoLPRule";var pt=i.default.getClassFactory(ze);function re(T){T=T||{};const _=this.context,S=T.mediaPlayerModel,R=T.customParametersModel,k=T.dashMetrics,L=T.settings,$=(0,g.default)(_).getInstance();let B,U,K,Y;function D(){Object.values(p.default.QUALITY_SWITCH_RULES).forEach((ae=>{U=q(ae,U)})),Object.values(p.default.ABANDON_FRAGMENT_RULES).forEach((ae=>{K=q(ae,K)})),R.getAbrCustomRules().forEach((function(ae){ae.type===p.default.RULES_TYPES.QUALITY_SWITCH_RULES&&U.push(ae.rule(_).create()),ae.type===p.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&K.push(ae.rule(_).create())})),U.length===0&&(U.push(Ve(_).create({dashMetrics:k,mediaPlayerModel:S,settings:L})),U.push(h(_).create({dashMetrics:k})))}function q(ae,J){const fe=ae.charAt(0).toLowerCase()+ae.slice(1);return L.get().streaming.abr.rules[fe].active&&!(function(me,pe){return me.filter((Re=>Re.getClassName()===pe)).length>0})(J,ae)?(J.push((function(me){switch(me){case p.default.QUALITY_SWITCH_RULES.BOLA_RULE:return Ve(_).create({dashMetrics:k,mediaPlayerModel:S,settings:L});case p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE:return h(_).create({dashMetrics:k});case p.default.QUALITY_SWITCH_RULES.INSUFFICIENT_BUFFER_RULE:return A(_).create({dashMetrics:k,settings:L});case p.default.QUALITY_SWITCH_RULES.SWITCH_HISTORY_RULE:return z(_).create();case p.default.QUALITY_SWITCH_RULES.DROPPED_FRAMES_RULE:return C(_).create();case p.default.QUALITY_SWITCH_RULES.LEARN_TO_ADAPT_RULE:return Ye(_).create({dashMetrics:k,settings:L});case p.default.QUALITY_SWITCH_RULES.LOL_PLUS_RULE:return pt(_).create({dashMetrics:k});case p.default.ABANDON_FRAGMENT_RULES.ABANDON_REQUEST_RULE:return M(_).create({dashMetrics:k,mediaPlayerModel:S,settings:L})}})(ae)),J):L.get().streaming.abr.rules[fe].active?J:(function(me,pe){return me.filter((Re=>Re.getClassName()!==pe))})(J,ae)}function j(ae){return ae.filter((J=>J.representation!==r.default.NO_CHANGE))}function Z(ae){const J={};let fe,me,pe,Re=null;if(ae.length!==0){for(J[r.default.PRIORITY.STRONG]=null,J[r.default.PRIORITY.WEAK]=null,J[r.default.PRIORITY.DEFAULT]=null,fe=0,me=ae.length;fe<me;fe+=1)pe=ae[fe],pe.representation!==r.default.NO_CHANGE&&(J[pe.priority]===null||J[pe.priority].representation!==r.default.NO_CHANGE&&pe.representation.bitrateInKbit<J[pe.priority].representation.bitrateInKbit)&&(J[pe.priority]=pe);return J[r.default.PRIORITY.WEAK]&&J[r.default.PRIORITY.WEAK].representation!==r.default.NO_CHANGE&&(Re=J[r.default.PRIORITY.WEAK]),J[r.default.PRIORITY.DEFAULT]&&J[r.default.PRIORITY.DEFAULT].representation!==r.default.NO_CHANGE&&(Re=J[r.default.PRIORITY.DEFAULT]),J[r.default.PRIORITY.STRONG]&&J[r.default.PRIORITY.STRONG].representation!==r.default.NO_CHANGE&&(Re=J[r.default.PRIORITY.STRONG]),Re}}function ie(){D()}return B={clearDataForStream:function(ae){[U,K].forEach((J=>{J&&J.length&&J.forEach((fe=>fe.clearDataForStream&&typeof fe.clearDataForStream=="function"&&fe.clearDataForStream(ae)))}))},getAbandonFragmentRules:function(){return K},getBestPossibleSwitchRequest:function(ae){return ae&&Z(j(U.filter((J=>{const fe=J.getClassName();if(fe!==p.default.QUALITY_SWITCH_RULES.BOLA_RULE&&fe!==p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE)return!0;const me=ae.getMediaType();return Y[me]&&fe===p.default.QUALITY_SWITCH_RULES.BOLA_RULE||!Y[me]&&fe===p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE})).map((J=>J.getSwitchRequest(ae)))))||(0,r.default)(_).create()},getBolaState:function(ae){return Y[ae]},getMinSwitchRequest:Z,getQualitySwitchRules:function(){return U},handleNewMediaInfo:function(ae){U.forEach((J=>J.handleNewMediaInfo&&J.handleNewMediaInfo(ae))),K.forEach((J=>J.handleNewMediaInfo&&J.handleNewMediaInfo(ae)))},initialize:function(){U=[],K=[],Y={},D(),$.on(m.default.SETTING_UPDATED_ABR_ACTIVE_RULES,ie,B)},reset:function(){[U,K].forEach((ae=>{ae&&ae.length&&ae.forEach((J=>J.reset&&J.reset()))})),U=[],K=[],Y={},$.off(m.default.SETTING_UPDATED_ABR_ACTIVE_RULES,ie,B)},setBolaState:function(ae,J){Y[ae]=J},shouldAbandonFragment:function(ae){if(!ae)return(0,r.default)(_).create();const J=Z(j(K.map((fe=>fe.shouldAbandon(ae)))));return J&&J.reason&&(J.reason.forceAbandon=!0),J||(0,r.default)(_).create()}},B}re.__dashjs_factory_name="ABRRulesCollection";const ee=i.default.getClassFactory(re);i.default.updateSingletonFactory(re.__dashjs_factory_name,ee);var P=ee;class G{constructor(_){this.action=G.ACTION_DOWNLOAD,this.availabilityEndTime=null,this.availabilityStartTime=null,this.bandwidth=NaN,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.duration=NaN,this.endDate=null,this.firstByteDate=null,this.index=NaN,this.isPartialSegmentRequest=!1,this.mediaStartTime=NaN,this.mediaType=null,this.presentationStartTime=NaN,this.range=null,this.representation=null,this.responseType="arraybuffer",this.retryAttempts=0,this.serviceLocation=null,this.startDate=null,this.startTime=NaN,this.timescale=NaN,this.type=null,this.url=_||null,this.wallStartTime=null}isInitializationRequest(){return this.type&&this.type===se.HTTPRequest.INIT_SEGMENT_TYPE}setInfo(_){this.type=_&&_.init?se.HTTPRequest.INIT_SEGMENT_TYPE:se.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=_&&_.url?_.url:null,this.range=_&&_.range?_.range.start+"-"+_.range.end:null,this.mediaType=_&&_.mediaType?_.mediaType:null,this.representation=_&&_.representation?_.representation:null}}G.ACTION_DOWNLOAD="download",G.ACTION_COMPLETE="complete";var ve=G;const ce="loading",Qe="executed",ht="failed";function Je(T){const _=(T=T||{}).eventBus,S=T.events,R=T.dashMetrics,k=T.fragmentLoader,L=T.debug,$=T.streamInfo,B=T.type;let U,K,Y,D;function q(ne){return!!ne&&(function(Q){let V=!1;return Q.some((W=>{if(Ie=ne,le=W,!isNaN(Ie.index)&&Ie.startTime===le.startTime&&Ie.adaptationIndex===le.adaptationIndex&&Ie.type===le.type||(function(Ce,we){return Ce.representation.id===we.representation.id})(ne,W)||(function(Ce,we){return Ce.action===ve.ACTION_COMPLETE&&Ce.action===we.action})(ne,W))return V=!0,V;var Ie,le})),V})(Y)}function j(ne){return isNaN(ne.duration)?.25:Math.min(ne.duration/8,.5)}function Z(ne){Y=Y.filter((Q=>{const V=j(Q);return isNaN(Q.startTime)||ne!==void 0&&Q.startTime>=ne-V}))}function ie(ne,Q){Q<=ne+.5||(Y=Y.filter((V=>{const W=j(V);return isNaN(V.startTime)||V.startTime>=Q-W||isNaN(V.duration)||V.startTime+V.duration<=ne+W})))}function ae(ne,Q,V){for(let W=ne.length-1;W>=0;W--){const Ie=ne[W],le=Ie.startTime,Ce=le+Ie.duration;if(V=isNaN(V)?j(Ie):V,!isNaN(le)&&!isNaN(Ce)&&Q+V>=le&&Q-V<Ce||isNaN(le)&&isNaN(Q))return Ie}return null}function J(ne,Q){R.addSchedulingInfo(ne,Q),R.addRequestsQueue(ne.mediaType,D,Y)}function fe(ne){ne.sender===k&&(D.splice(D.indexOf(ne.request),1),ne.response&&!ne.error&&Y.push(ne.request),J(ne.request,ne.error?ht:Qe),_.trigger(S.FRAGMENT_LOADING_COMPLETED,{request:ne.request,response:ne.response,error:ne.error,sender:this},{streamId:$.id,mediaType:B}))}function me(ne){ne.sender===k&&_.trigger(S.FRAGMENT_LOADING_PROGRESS,{request:ne.request,response:ne.response,error:ne.error,sender:this},{streamId:$.id,mediaType:B})}function pe(ne){ne.sender===k&&_.trigger(S.FRAGMENT_LOADING_ABANDONED,{request:ne.request},{streamId:$.id,mediaType:B})}function Re(){Y=[],D=[],k&&k.resetInitialSettings()}return U={abortRequests:function(){K.debug("abort requests"),k.abort(),D=[]},executeRequest:function(ne){ne.action===ve.ACTION_DOWNLOAD?(J(ne,ce),D.push(ne),(function(Q){_.trigger(S.FRAGMENT_LOADING_STARTED,{request:Q},{streamId:$.id,mediaType:B}),k.load(Q)})(ne)):K.warn("Unknown request action.")},getRequests:function(ne){const Q=ne?ne.state instanceof Array?ne.state:[ne.state]:[];let V=[];return Q.forEach((W=>{const Ie=(function(le){let Ce;switch(le){case ce:Ce=D;break;case Qe:Ce=Y;break;default:Ce=[]}return Ce})(W);V=V.concat((function(le,Ce){return Ce.hasOwnProperty("time")?[ae(le,Ce.time,Ce.threshold)]:le.filter((we=>{for(const Le in Ce)if(Le!=="state"&&Ce.hasOwnProperty(Le)&&we[Le]!=Ce[Le])return!1;return!0}))})(Ie,ne))})),V},getStreamId:function(){return $.id},getType:function(){return B},isFragmentLoaded:q,isFragmentLoadedOrPending:function(ne){let Q,V=!1,W=0;if(V=q(ne),!V)for(W=0;W<D.length;W++)Q=D[W],ne.url===Q.url&&ne.startTime===Q.startTime&&(V=!0);return V},removeExecutedRequestsAfterTime:function(ne){Y=Y.filter((Q=>isNaN(Q.startTime)||ne!==void 0&&Q.startTime<ne))},removeExecutedRequestsBeforeTime:Z,reset:function(){_.off(S.LOADING_COMPLETED,fe,this),_.off(S.LOADING_DATA_PROGRESS,me,this),_.off(S.LOADING_ABANDONED,pe,this),k&&k.reset(),Re()},resetInitialSettings:Re,syncExecutedRequestsWithBufferedRange:function(ne,Q){if(!ne||ne.length===0)return void Z();let V=0;for(let W=0,Ie=ne.length;W<Ie;W++)ie(V,ne.start(W)),V=ne.end(W);Q>0&&ie(V,Q)}},K=L.getLogger(U),Re(),_.on(S.LOADING_COMPLETED,fe,U),_.on(S.LOADING_DATA_PROGRESS,me,U),_.on(S.LOADING_ABANDONED,pe,U),U}Je.__dashjs_factory_name="FragmentModel";const it=i.default.getClassFactory(Je);it.FRAGMENT_MODEL_LOADING=ce,it.FRAGMENT_MODEL_EXECUTED=Qe,it.FRAGMENT_MODEL_CANCELED="canceled",it.FRAGMENT_MODEL_FAILED=ht,i.default.updateClassFactory(Je.__dashjs_factory_name,it);var Xe=it;function lt(T){let _;const S=(T=T||{}).abrController,R=T.throughputController,k=T.switchRequestHistory,L=T.droppedFramesHistory,$=T.currentRequest,B=T.streamProcessor?T.streamProcessor.getScheduleController():null,U=T.streamProcessor?T.streamProcessor.getRepresentation():null,K=T.videoModel?T.videoModel:null;function Y(){return U?U.mediaInfo:null}return _={getAbrController:function(){return S},getCurrentRequest:function(){return $},getDroppedFramesHistory:function(){return L},getMediaInfo:Y,getMediaType:function(){const D=Y();return D?D.type:null},getRepresentation:function(){return U},getScheduleController:function(){return B},getStreamInfo:function(){const D=Y();return D?D.streamInfo:null},getSwitchRequestHistory:function(){return k},getThroughputController:function(){return R},getVideoModel:function(){return K}},_}lt.__dashjs_factory_name="RulesContext";var Rt=i.default.getClassFactory(lt);function dt(){let T={},_={};const S=this.context,R=(0,c.default)(S).getInstance();return{clearForStream:function(k){delete T[k],delete _[k]},getSwitchRequests:function(k,L){return k!=null&&L!=null&&T[k]&&T[k][L]?T[k][L]:{}},push:function(k){const L=k.currentRepresentation,$=k.newRepresentation;if(L.mediaInfo.streamInfo.id!==$.mediaInfo.streamInfo.id||$.mediaInfo.id!==L.mediaInfo.id)return;const B=L.mediaInfo.streamInfo.id;T[B]||(function(ie){T[ie]={},_[ie]={}})(B);const U=L.mediaInfo.type;T[B][U]||(function(ie,ae){T[ie][ae]={},_[ie][ae]=[]})(B,U);const K=k.currentRepresentation.id;T[B][U][K]||(function(ie,ae,J){T[ie][ae][J]={noDrops:0,drops:0,dropSize:0}})(B,U,K);let Y=k.newRepresentation.absoluteIndex-k.currentRepresentation.absoluteIndex,D=Y<0?1:0,q=D?-Y:0,j=D?0:1;T[B][U][k.currentRepresentation.id].drops+=D,T[B][U][k.currentRepresentation.id].dropSize+=q,T[B][U][k.currentRepresentation.id].noDrops+=j,_[B][U].push({id:k.currentRepresentation.id,noDrop:j,drop:D,dropSize:q});const Z=(function(ie,ae){return _[ie][ae].length>R.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize?_[ie][ae].shift():null})(B,U);Z&&(function(ie,ae,J){T[ie][ae][J.id].drops-=J.drop,T[ie][ae][J.id].dropSize-=J.dropSize,T[ie][ae][J.id].noDrops-=J.noDrop})(B,U,Z)},reset:function(){T={},_={}}}}dt.__dashjs_factory_name="SwitchRequestHistory";var Bt=i.default.getClassFactory(dt);function wn(){let T={},_={},S={};return{clearForStream:function(R){delete T[R],delete _[R],delete S[R]},getFrameHistory:function(R){return T[R]},push:function(R,k,L){if(!k)return;T[R]||(function(D){T[D]=[],_[D]=0,S[D]=0})(R);let $=L&&L.droppedVideoFrames?L.droppedVideoFrames:0,B=L&&L.totalVideoFrames?L.totalVideoFrames:0,U=$-_[R];_[R]=$;let K=B-S[R];S[R]=B;const Y=T[R];Y[k]?(Y[k].droppedVideoFrames+=U,Y[k].totalVideoFrames+=K):Y[k]={droppedVideoFrames:U,totalVideoFrames:K}},reset:function(){T={},_={},S={}}}}wn.__dashjs_factory_name="DroppedFramesHistory";var Zt=i.default.getClassFactory(wn);function gn(){const T=this.context,_=(0,l.default)(T).getInstance(),S=(0,g.default)(T).getInstance();let R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q;function V(){R={},pe={},J=new Map,j&&j.reset(),Re&&Re.reset(),K=void 0,j=void 0,Re=void 0,clearTimeout(k),k=null}function W(X,_e=!0){let ke=Ie(X,_e);return ke=(function(Oe){try{return(function(je){try{if(!fe.get().streaming.cmsd.enabled||!fe.get().streaming.cmsd.abr.applyMb)return je;const Be=je.filter((Ze=>{const mt=Ze.mediaInfo.type;let St=U.getMaxBitrate(mt);if(mt!==p.default.VIDEO||St<0)return!0;const Ht=Ze.mediaInfo.streamInfo.id;return St-=pe[Ht][p.default.AUDIO].getRepresentation().bitrateInKbit||0,Ze.bitrateInKbit<=St}));return Be.length>0?Be:je}catch(Be){return ie.error(Be),je}})(Oe=(function(je){try{if(!fe.get().streaming.abr.limitBitrateByPortal)return je;const{elementWidth:Be}=Q.getVideoElementSize(),Ze=je.filter((mt=>mt.mediaInfo.type!==p.default.VIDEO||mt.width<=Be));return Ze.length>0?Ze:je}catch(Be){return ie.error(Be),je}})(Oe=(function(je){try{const Be=je.filter((Ze=>{const mt=Ze.mediaInfo.type,St=Ze.bitrateInKbit,Ht=ae.getAbrBitrateParameter("maxBitrate",mt),vn=ae.getAbrBitrateParameter("minBitrate",mt);return!(Ht>-1&&St>Ht||vn>-1&&St<vn)}));return Be.length>0?Be:je}catch(Be){return ie.error(Be),je}})(Oe)))}catch(je){return ie.error(je),Oe}})(ke),ke}function Ie(X,_e){let ke=[];return X&&((function(je){try{const Be=[];if(je&&Be.push(je),!fe.get().streaming.abr.enableSupplementalPropertyAdaptationSetSwitching||!je.adaptationSetSwitchingCompatibleIds||je.adaptationSetSwitchingCompatibleIds.length===0)return Be;const Ze=pe[je.streamInfo.id][je.type].getAllMediaInfos().filter((mt=>je.adaptationSetSwitchingCompatibleIds.includes(mt.id)));return Be.concat(Ze)}catch{return[je]}})(X).forEach((je=>{let Be=$.getVoRepresentations(je);Be&&Be.length>0&&(ke=ke.concat(Be))})),ke=(function(je){return je.forEach((Be=>{if(Be.dependentRepresentation&&Be.dependentRepresentation.mediaInfo===null){let Ze=Be.dependentRepresentation.id,mt=je.find((St=>St.id===Ze));mt&&(Be.dependentRepresentation=mt)}})),je})(ke),ke=(function(je){return je=(function(Be){let Ze=null;return Be.filter((mt=>(Ze||(Ze=mt.mediaInfo),!isNaN(mt.qualityRanking)&&$.areMediaInfosEqual(Ze,mt.mediaInfo)))).length===Be.length})(je)?(function(Be){return Be.sort(((Ze,mt)=>mt.qualityRanking-Ze.qualityRanking)),Be})(je):(function(Be){return Be.sort(((Ze,mt)=>$.areMediaInfosEqual(Ze.mediaInfo,mt.mediaInfo)?isNaN(Ze.pixelsPerSecond)||isNaN(mt.pixelsPerSecond)||Ze.pixelsPerSecond===mt.pixelsPerSecond?Ze.bandwidth-mt.bandwidth:Ze.pixelsPerSecond-mt.pixelsPerSecond:isNaN(Ze.pixelsPerSecond)||isNaN(mt.pixelsPerSecond)||Ze.pixelsPerSecond===mt.pixelsPerSecond?isNaN(Ze.bitsPerPixel)||isNaN(mt.bitsPerPixel)?Ze.bandwidth-mt.bandwidth:mt.bitsPerPixel-Ze.bitsPerPixel:Ze.pixelsPerSecond-mt.pixelsPerSecond)),Be})(je)})(ke),ke.forEach(((je,Be)=>{je.absoluteIndex=Be})),ke=ke.filter((je=>{const Be=!!_e||$.areMediaInfosEqual(je.mediaInfo,X),Ze=!je||!je.mediaInfo||B.areKeyIdsUsable(je.mediaInfo);return Be&&Ze}))),ke}function le(X){const _e=X.request.mediaType,ke=X.streamId;if(!(_e&&ke&&pe[ke]&&fe.get().streaming.abr.autoSwitchBitrate[_e]))return;const Oe=pe[ke][_e];if(!Oe)return;var je;if(!(!((je=Oe.getLastSegment())&&je.isPartialSegment&&!isNaN(je.totalNumberOfPartialSegments)&&!isNaN(je.replacementSubNumber))||je.replacementSubNumber===0))return;const Be=we(Oe,X.request),Ze=L.shouldAbandonFragment(Be);Ze&&Ze.representation!==r.default.NO_CHANGE&&(function(mt,St,Ht,vn,zt){if(vn.getFragmentModel().getRequests({state:Xe.FRAGMENT_MODEL_LOADING,index:mt.request.index})[0]){const mn=(function(Nn,ri){return R[Nn]&&R[Nn][ri]?R[Nn][ri]:null})(St,Ht);mn&&(mn.state=o.ABANDON_LOAD),Re.reset(),ge(Ht,me.getActiveStreamInfo(),zt.representation,zt.reason),clearTimeout(k),k=setTimeout((()=>{mn&&(R[St][Ht].state=o.ALLOW_LOAD),k=null}),fe.get().streaming.abandonLoadTimeout)}})(X,ke,_e,Oe,Ze)}function Ce(){fe.get().streaming.abr.limitBitrateByPortal&&Object.keys(pe).forEach((X=>{Object.keys(pe[X]).forEach((_e=>{Pe(_e,X)}))}))}function we(X,_e){return Rt(T).create({abrController:Z,adapter:$,currentRequest:_e,droppedFramesHistory:j,streamProcessor:X,switchRequestHistory:Re,throughputController:ne,videoModel:Q})}function Le(X){X.mediaType===p.default.VIDEO&&(oe(X.streamId),K=X.newRepresentation.id)}function Ge(X){!Ee()||X.metric!==o.BUFFER_LEVEL||X.mediaType!==p.default.AUDIO&&X.mediaType!==p.default.VIDEO||(function(_e,ke){try{const Oe=ae.getBufferTimeDefault(),je=Oe,Be=.5*Oe,Ze=L.getBolaState(_e),mt=ke>=(Ze?Be:je);L.setBolaState(_e,mt),mt!==Ze&&(mt?ie.info("["+_e+"] switching from throughput to buffer occupancy ABR rule (buffer: "+ke.toFixed(3)+")."):ie.info("["+_e+"] switching from buffer occupancy to throughput ABR rule (buffer: "+ke.toFixed(3)+")."))}catch(Oe){ie.error(Oe)}})(X.mediaType,.001*X.value.level)}function Pe(X,_e){try{if(!(X&&pe&&pe[_e]&&pe[_e][X]))return!1;oe(_e);const ke=pe[_e][X],Oe=ke.getLastSegment(),je=ke.getRepresentationController()?.getCurrentCompositeRepresentation(),Be=te(Oe,je);if(!fe.get().streaming.abr.autoSwitchBitrate[X]||!Be)return!1;const Ze=we(ke),mt=L.getBestPossibleSwitchRequest(Ze);if(!mt||!mt.representation)return!1;let St=mt.representation;return(function(Ht,vn){Re.push({currentRepresentation:Ht,newRepresentation:vn})})(je,St),St.id!==je.id&&(R[_e][X].state===o.ALLOW_LOAD||St.absoluteIndex<je.absoluteIndex)&&(de(X,je,St,mt.reason),!0)}catch(ke){return ie.error(ke),!1}}function te(X,_e){return!(X&&X.isPartialSegment&&!isNaN(X.totalNumberOfPartialSegments)&&!isNaN(X.replacementSubNumber))||X.replacementSubNumber===X.totalNumberOfPartialSegments-1||(function(ke,Oe){if(!Oe||!Oe.segmentSequenceProperties||Oe.segmentSequenceProperties.length<=0||Oe&&Oe.mediaInfo&&Oe.mediaInfo.adaptationSetSwitchingCompatibleIds&&Oe.mediaInfo.adaptationSetSwitchingCompatibleIds.length>0)return!1;const je=Oe.segmentSequenceProperties.filter((Ze=>!isNaN(Ze.sapType)&&Ze.sapType<=1));if(je.length===0)return!1;let Be=(ke.replacementSubNumber+1)%ke.totalNumberOfPartialSegments;return je.some((Ze=>Be%Ze.cadence==0))})(X,_e)}function oe(X){if(j){const _e=Q.getPlaybackQuality();_e&&j.push(X,K,_e)}}function ge(X,_e,ke,Oe={}){if(!(_e&&_e.id&&X&&pe&&pe[_e.id]&&pe[_e.id][X]&&ke))return!1;const je=pe[_e.id][X],Be=je.getRepresentationController()?.getCurrentCompositeRepresentation();return(!Be||ke.id!==Be.id)&&de(X,Be,ke,Oe)}function ue(X,_e){return`${X}-${_e}`}function de(X,_e,ke,Oe){const je=ke.mediaInfo.streamInfo.id;if(!X||!pe[je]||!pe[je][X])return!1;const Be=pe[je][X].getStreamInfo(),Ze=D.getCurrentBufferLevel(X),mt=_e!==null&&!$.areMediaInfosEqual(_e.mediaInfo,ke.mediaInfo),St=_e?_e.bitrateInKbit:0;return ie.info(`[AbrController]: Switching quality in period ${je} for media type ${X}. Switch from bitrate ${St} to bitrate ${ke.bitrateInKbit}. Current buffer level: ${Ze}. Reason:`+(Oe?JSON.stringify(Oe):"/")),S.trigger(y.default.QUALITY_CHANGE_REQUESTED,{isAdaptationSetSwitch:mt,mediaType:X,newRepresentation:ke,oldRepresentation:_e,reason:Oe,streamInfo:Be},{streamId:Be.id,mediaType:X}),(function(Ht){const vn=ne.getAverageThroughput(Ht);isNaN(vn)||q.setSavedBitrateSettings(Ht,vn)})(X),!0}function Ee(){return fe.get().streaming.abr.rules.bolaRule.active&&fe.get().streaming.abr.rules.throughputRule.active}return Z={canPerformQualitySwitch:te,checkPlaybackQuality:Pe,clearDataForStream:function(X){j&&j.clearForStream(X),pe[X]&&delete pe[X],Re&&Re.clearForStream(X),R[X]&&delete R[X],L.clearDataForStream(X)},getAbandonmentStateFor:function(X,_e){return R[X]&&R[X][_e]?R[X][_e].state:null},getInitialBitrateFor:function(X){if(X===p.default.TEXT)return NaN;let _e=ae.getAbrBitrateParameter("initialBitrate",X);if(_e>0)return _e;let ke=NaN;if(q&&q.hasOwnProperty("getSavedBitrateSettings")&&(ke=q.getSavedBitrateSettings(X)),!isNaN(ke))return ke;const Oe=ne.getAverageThroughput(X);return!isNaN(Oe)&&Oe>0?Oe:X===p.default.VIDEO?1e3:100},getOptimalRepresentationForBitrate:function(X,_e,ke=!0){const Oe=W(X,ke);if(!Oe||Oe.length===0)return null;const je=Oe.reduce(((Ze,mt)=>Ze.bandwidth<mt.bandwidth?Ze:mt));if(_e<=0)return je;const Be=Oe.filter((Ze=>Ze.bitrateInKbit<=_e));return Be&&Be.length!==0?Be.reduce(((Ze,mt)=>mt.absoluteIndex>Ze.absoluteIndex?mt:Ze)):je},getPossibleVoRepresentations:function(X,_e=!0){return Ie(X,_e)},getPossibleVoRepresentationsFilteredBySettings:W,getRepresentationByAbsoluteIndex:function(X,_e,ke=!0){return isNaN(X)||X<0?null:W(_e,ke).find((Oe=>Oe.absoluteIndex===X))},handleNewMediaInfo:function(X){L.handleNewMediaInfo(X)},handlePendingManualQualitySwitch:function(X,_e){try{const ke=ue(X,_e);let Oe=null;if(J.has(ke)&&(Oe=J.get(ke)),!Oe)return!1;const je=pe[X][_e],Be=je.getLastSegment();if(!te(Be,je.getRepresentation()))return!1;const{type:Ze,streamInfo:mt,representation:St,reason:Ht}=Oe;return J.delete(ke),ge(Ze,mt,St,Ht),!0}catch(ke){ie.error(`Can not handle pending manual quality switch: ${ke}`)}},initialize:function(){j=Zt(T).create(),Re=Bt(T).create(),L=P(T).create({dashMetrics:D,customParametersModel:Y,mediaPlayerModel:ae,settings:fe}),L.initialize(),S.on(y.default.QUALITY_CHANGE_RENDERED,Le,Z),S.on(y.default.METRIC_ADDED,Ge,Z),S.on(m.default.LOADING_PROGRESS,le,Z),S.on(m.default.VIDEO_ELEMENT_RESIZED,Ce,Z)},isPlayingAtLowestQuality:function(X){return W(X.mediaInfo,!0)[0].id===X.id},isPlayingAtTopQuality:function(X){if(!X)return!0;const _e=W(X.mediaInfo,!0);return _e[_e.length-1].id===X.id},manuallySetPlaybackQuality:function(X,_e,ke,Oe={}){const je=pe[_e.id][X];if(te(je.getLastSegment(),je.getRepresentation()))return ge(X,_e,ke,Oe);(function(Be,Ze,mt,St){try{ie.debug(`[AbrController] Queuing manual quality switch for stream ${Ze.id} and type ${Be} to representation ${mt.id}`);const Ht=ue(Ze.id,Be);J.set(Ht,{type:Be,streamInfo:Ze,representation:mt,reason:St})}catch(Ht){ie.error(`Can not queue manual quality switch: ${Ht}`)}})(X,_e,ke,Oe)},registerStreamType:function(X,_e){const ke=_e.getStreamInfo().id;pe[ke]||(pe[ke]={}),pe[ke][X]=_e,R[ke]||(R[ke]={}),R[ke][X]={},R[ke][X].state=o.ALLOW_LOAD,L.getBolaState(X)===void 0&&L.setBolaState(X,fe.get().streaming.abr.rules.bolaRule.active&&!Ee())},reset:function(){V(),S.off(y.default.QUALITY_CHANGE_RENDERED,Le,Z),S.off(y.default.METRIC_ADDED,Ge,Z),S.off(m.default.LOADING_PROGRESS,le,Z),S.off(m.default.VIDEO_ELEMENT_RESIZED,Ce,Z),L&&L.reset()},setConfig:function(X){X&&(X.streamController&&(me=X.streamController),X.throughputController&&(ne=X.throughputController),X.domStorage&&(q=X.domStorage),X.mediaPlayerModel&&(ae=X.mediaPlayerModel),X.customParametersModel&&(Y=X.customParametersModel),X.cmsdModel&&(U=X.cmsdModel),X.dashMetrics&&(D=X.dashMetrics),X.adapter&&($=X.adapter),X.videoModel&&(Q=X.videoModel),X.settings&&(fe=X.settings),X.capabilities&&(B=X.capabilities))},setPlaybackQuality:ge,unRegisterStreamType:function(X,_e){try{pe[X]&&pe[X][_e]&&delete pe[X][_e],R[X]&&R[X][_e]&&delete R[X][_e]}catch{}}},ie=_.getLogger(Z),V(),Z}gn.__dashjs_factory_name="AbrController";const en=i.default.getSingletonFactory(gn);i.default.updateSingletonFactory(gn.__dashjs_factory_name,en);var Wn,Ti,Xi,zi,ki,wa=en,Gt=function(T){for(var _=[],S=0;S<T.length;++S){var R=T.charCodeAt(S);R<128?_.push(R):R<2048?(_.push(192|R>>6),_.push(128|63&R)):R<65536?(_.push(224|R>>12),_.push(128|63&R>>6),_.push(128|63&R)):(_.push(240|R>>18),_.push(128|63&R>>12),_.push(128|63&R>>6),_.push(128|63&R))}return _},$t=function(T){for(var _=[],S=0;S<T.length;){var R=T[S++];R<128||(R<224?(R=(31&R)<<6,R|=63&T[S++]):R<240?(R=(15&R)<<12,R|=(63&T[S++])<<6,R|=63&T[S++]):(R=(7&R)<<18,R|=(63&T[S++])<<12,R|=(63&T[S++])<<6,R|=63&T[S++])),_.push(String.fromCharCode(R))}return _.join("")},Lt={};Wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ti=function(T){for(var _=0,S=[],R=0|T.length/3;0<R--;){var k=(T[_]<<16)+(T[_+1]<<8)+T[_+2];_+=3,S.push(Wn.charAt(63&k>>18)),S.push(Wn.charAt(63&k>>12)),S.push(Wn.charAt(63&k>>6)),S.push(Wn.charAt(63&k))}return T.length-_==2?(k=(T[_]<<16)+(T[_+1]<<8),S.push(Wn.charAt(63&k>>18)),S.push(Wn.charAt(63&k>>12)),S.push(Wn.charAt(63&k>>6)),S.push("=")):T.length-_==1&&(k=T[_]<<16,S.push(Wn.charAt(63&k>>18)),S.push(Wn.charAt(63&k>>12)),S.push("==")),S.join("")},Xi=(function(){for(var T=[],_=0;_<64;++_)T[Wn.charCodeAt(_)]=_;return T[61]=0,T})(),zi=function(T){for(var _=0,S=[],R=0|T.length/4;0<R--;){var k=(Xi[T.charCodeAt(_)]<<18)+(Xi[T.charCodeAt(_+1)]<<12)+(Xi[T.charCodeAt(_+2)]<<6)+Xi[T.charCodeAt(_+3)];S.push(255&k>>16),S.push(255&k>>8),S.push(255&k),_+=4}return S&&(T.charAt(_-2)=="="?(S.pop(),S.pop()):T.charAt(_-1)=="="&&S.pop()),S},ki={encode:function(T){for(var _=[],S=0;S<T.length;++S)_.push(T.charCodeAt(S));return _},decode:function(T){for(var _=0;_<s.length;++_)a[_]=String.fromCharCode(a[_]);return a.join("")}},Lt.decodeArray=function(T){var _=zi(T);return new Uint8Array(_)},Lt.encodeASCII=function(T){var _=ki.encode(T);return Ti(_)},Lt.decodeASCII=function(T){var _=zi(T);return ki.decode(_)},Lt.encode=function(T){var _=Gt(T);return Ti(_)},Lt.decode=function(T){var _=zi(T);return $t(_)},typeof exports<"u"&&(exports.decode=Lt.decode,exports.decodeArray=Lt.decodeArray,exports.encode=Lt.encode,exports.encodeASCII=Lt.encodeASCII);var kt=Lt,dn=t(7393);const un=NaN;class pn{constructor(_,S){this.data={baseUrls:_||null,selectedIdx:S||un},this.children=[]}}function Sn(){let T,_,S,R;const k=this.context,L=(0,dn.default)(k).getInstance();function $(Y,D,q){const j=B(q);Y[D]?L.areEqual(j,Y[D].data.baseUrls)||(Y[D].data.baseUrls=j,Y[D].data.selectedIdx=un):Y[D]=new pn(j)}function B(Y){let D=S.getBaseURLsFromElement(Y);const q=R.getSynthesizedBaseUrlElements(D);return q&&q.length>0&&q.forEach((j=>{const Z=D.findIndex((ie=>ie.serviceLocation===j.serviceLocation));Z!==-1?D[Z]=j:D.push(j)})),D}function U(Y,D){const q=D||_;Y(q.data),q.children&&q.children.forEach((j=>U(Y,j)))}function K(){_=new pn}return T={reset:K,update:function(Y){(function(D){(function(){if(!S||!S.hasOwnProperty("getBaseURLsFromElement")||!S.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();const q=B(D);L.areEqual(q,_.data.baseUrls)||(_.data.baseUrls=q,_.data.selectedIdx=un),D&&D.Period&&D.Period.forEach(((j,Z)=>{$(_.children,Z,j),j.AdaptationSet&&j.AdaptationSet.forEach(((ie,ae)=>{$(_.children[Z].children,ae,ie),ie.Representation&&ie.Representation.sort(S.getRepresentationSortFunction()).forEach(((J,fe)=>{$(_.children[Z].children[ae].children,fe,J)}))}))}))})(Y)},getForPath:function(Y){let D=_;const q=[D.data];return Y&&Y.forEach((j=>{D=D.children[j],D&&q.push(D.data)})),q.filter((j=>j.baseUrls.length))},invalidateSelectedIndexes:function(Y){U((D=>{isNaN(D.selectedIdx)||Y===D.baseUrls[D.selectedIdx].serviceLocation&&(D.selectedIdx=un)}))},setConfig:function(Y){Y.adapter&&(S=Y.adapter),Y.contentSteeringController&&(R=Y.contentSteeringController)},getBaseUrls:function(Y){return B(Y)}},K(),T}Sn.__dashjs_factory_name="BaseURLTreeModel";var Wt=i.default.getClassFactory(Sn),Jt=t(8748);class cn extends Jt.default{constructor(){super(),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.NO_SUPPORTED_KEY_IDS=36,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",this.NO_SUPPORTED_KEY_IDS_MESSAGE="All possible Adaptation Sets have an invalid key status"}}var bn=new cn;function an(T){let _;T=T||{};let S=[];const R=(0,g.default)(this.context).getInstance(),k=T.updateEventName,L=T.addBlacklistEventName;function $(U){S.indexOf(U)===-1&&(S.push(U),R.trigger(k,{entry:U}))}function B(U){$(U.entry)}return _={add:$,remove:function(U){const K=S.indexOf(U);K!==-1&&S.splice(K,1)},contains:function(U){return!!(S.length&&U&&U.length)&&S.indexOf(U)!==-1},reset:function(){L&&R.off(L,B,_),S=[]}},L&&R.on(L,B,_),_}an.__dashjs_factory_name="BlackListController";var xn=i.default.getClassFactory(an);function ni(T){let _;const S=(T=T||{}).blacklistController;return _={select:function(R){return R&&(function(k){let L,$,B=0,U=[],K=0;if($=k.sort((function(Y,D){let q=Y.dvbPriority-D.dvbPriority;return isNaN(q)?0:q})).filter((function(Y,D,q){return!D||q[0].dvbPriority&&Y.dvbPriority&&q[0].dvbPriority===Y.dvbPriority})),$.length)return $.length>1&&($.forEach((Y=>{B+=Y.dvbWeight,U.push(B)})),L=Math.floor(Math.random()*(B-1)),U.every(((Y,D)=>(K=D,!(L<Y))))),$[K]})((function(k){let L=[];return k.filter((function($){return!S.contains($.serviceLocation)||($.dvbPriority&&L.push($.dvbPriority),!1)})).filter((function($){return!L.length||!$.dvbPriority||L.indexOf($.dvbPriority)===-1}))})(R))}},_}ni.__dashjs_factory_name="DVBSelector";var qn=i.default.getClassFactory(ni);function zn(T){let _;const S=(T=T||{}).blacklistController;return _={select:function(R){let k,L=0;return R&&R.some((($,B)=>(L=B,!S.contains($.serviceLocation))))&&(k=R[L]),k}},_}zn.__dashjs_factory_name="BasicSelector";var Ai=i.default.getClassFactory(zn),En=t(1944),Ut=t(656),vt=t(7263);function fn(){let T,_;function S(){_&&(_.onloadend=_.onerror=_.onprogress=_.onload=null,_.abort(),_=null)}return T={load:function(R,k){if(_=null,_=new XMLHttpRequest,_.open(R.method,R.url,!0),R.responseType&&(_.responseType=R.responseType),R.headers)for(let L in R.headers){let $=R.headers[L];$&&_.setRequestHeader(L,$)}return _.withCredentials=R.credentials==="include",_.timeout=R.timeout,_.onload=function(){k.url=this.responseURL,k.status=this.status,k.statusText=this.statusText,k.headers=vt.default.parseHttpHeaders(this.getAllResponseHeaders()),k.data=this.response},R.customData&&(_.onloadend=R.customData.onloadend,_.onprogress=R.customData.onprogress,_.onabort=R.customData.onabort,_.ontimeout=R.customData.ontimeout),_.send(),R.customData.abort=S.bind(this),!0},abort:S,getXhr:function(){return _},reset:function(){S(),T=null},resetInitialSettings:function(){S()}},T}fn.__dashjs_factory_name="XHRLoader";var An=i.default.getClassFactory(fn);function Qn(){const T=this.context,_=(0,c.default)(T).getInstance();let S,R,k;function L(D,q,j){D.customData.reader.read().then(j).catch((function(){$(D)}))}function $(D){D.customData.onloadend&&D.customData.onloadend()}function B(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function U(){if(this.customData.abortController)this.customData.abortController.abort();else if(this.customData.reader)try{this.customData.reader.cancel(),this.onabort()}catch{}}function K(D,q){try{if((D=D.filter((j=>j.bytes>q/4/D.length))).length>1){let j=0;const Z=(D[D.length-1].timestamp-D[0].timestamp)/D.length;return D.forEach(((ie,ae)=>{const J=D[ae+1];if(J){const fe=J.timestamp-ie.timestamp;j+=fe<Z?fe:0}})),j}return null}catch{return null}}function Y(D,q){return 8*D/q}return k=(0,l.default)(T).getInstance().getLogger(S),S={abort:U,calculateDownloadedTime:K,load:function(D,q){const j=(function(ae){const J=new Headers;if(ae.headers)for(let fe in ae.headers){let me=ae.headers[fe];me&&J.append(fe,me)}return J})(D),Z=(function(ae){let J;return typeof window.AbortController=="function"&&(J=new AbortController,ae.customData.abortController=J,J.signal.onabort=ae.customData.onabort),ae.customData.abort=U.bind(ae),J})(D),ie=(function(ae,J,fe){return new Request(ae.url,{method:ae.method,headers:J,credentials:ae.credentials,signal:fe?fe.signal:void 0})})(D,j,Z);fetch(ie).then((ae=>{(function(J,fe,me){(function(Le,Ge){Le.status=Ge.status,Le.statusText=Ge.statusText,Le.url=Ge.url;const Pe={};for(const te of Ge.headers.keys())Pe[te]=Ge.headers.get(te);Le.headers=Pe})(me,J),J.ok||fe.customData.onloadend();let pe=0,Re=!1,ne=new Uint8Array,Q=0;fe.customData.reader=J.body.getReader();let V=[],W=[],Ie=[],le=!0;const Ce=_.get().streaming.abr.throughput.lowLatencyDownloadTimeCalculationMode,we=({value:Le,done:Ge})=>{Ge?(function(){if(ne){const Pe=(function(){let te=null;return Ce===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING?te=(function(){const oe=(function(ge,ue){try{let de,Ee;if(de=ge.slice(0,-1),Ee=ue.slice(0,-1),de.length!==Ee.length&&k.warn(`[FetchLoader] Moof and Mdat data arrays have different lengths. Moof: ${de.length}, Mdat: ${Ee.length}`),de.length<=1)return null;let X=[],_e=0,ke=0;for(let Oe=0;Oe<de.length;Oe++)if(de[Oe]&&Ee[Oe]){let je=Ee[Oe].timestamp-de[Oe].timestamp;if(je>1){const Be=Y(Ee[Oe].bytes,je);X.push(Be),ke=0}else{ke===0&&(ke=de[Oe].timestamp,_e=0);let Be=Ee[Oe].timestamp-ke;if(Be>1){_e+=Ee[Oe].bytes;const Ze=Y(_e,Be);X.push(Ze),ke=0}else _e+=Ee[Oe].bytes}}return X.length>0?X.reduce(((Oe,je)=>Oe+je),0)/X.length:null}catch{return null}})(W,Ie);return oe?8*pe/oe:null})():Ce===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.DOWNLOADED_DATA&&(te=K(V,pe)),te})();fe.customData.onprogress({loaded:pe,total:pe,lengthComputable:!0,time:Pe}),me.data=ne.buffer}fe.customData.onloadend()})():(Le&&Le.length>0&&(function(Pe){ne=(function(oe,ge){if(oe.length===0)return ge;const ue=new Uint8Array(oe.length+ge.length);return ue.set(oe),ue.set(ge,oe.length),ue})(ne,Pe),pe+=Pe.length,V.push({timestamp:B(),bytes:Pe.length}),Ce===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING&&le&&R.findLastTopIsoBoxCompleted(["moof"],ne,Q).found&&(le=!1,W.push({timestamp:B()}));const te=R.findLastTopIsoBoxCompleted(["moov","mdat"],ne,Q);te.found?(function(oe){const ge=(function(ue){let de;return ue===ne.length?(de=ne,ne=new Uint8Array):(de=new Uint8Array(ne.subarray(0,ue)),ne=ne.subarray(ue)),de})(oe.startOffsetOfLastFoundTargetBox+oe.sizeOfLastFoundTargetBox);Ce!==p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING||le||(le=!0,Ie.push({timestamp:B(),bytes:ge.length})),fe.customData.onprogress({data:ge.buffer,lengthComputable:!1,noTrace:!0}),Q=0})(te):(function(oe){Q=oe.startOffsetOfLastCompletedBox+oe.sizeOfLastCompletedBox,Re||(fe.customData.onprogress({lengthComputable:!1,noTrace:!0}),Re=!0)})(te)})(Le),L(fe,0,we))};L(fe,0,we)})(ae,D,q)})).catch((()=>{$(D)}))},reset:function(){},setConfig:function(D){R=D.boxParser}},S}Qn.__dashjs_factory_name="FetchLoader";var wi=i.default.getClassFactory(Qn),Ri=t(913),Ni=class{constructor(){this.period=null,this.index=-1,this.id=null,this.type=null}};class yi{constructor(_,S,R,k){this.url=_||"",this.serviceLocation=S||_||"",this.dvbPriority=R||1,this.dvbWeight=k||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}}}yi.DEFAULT_DVB_PRIORITY=1,yi.DEFAULT_DVB_WEIGHT=1;var ua=yi,xe=t(8854),Qa=class{constructor(){this.schemeIdUri=null,this.value=null,this.id=null}init(T){T&&(this.schemeIdUri=T.schemeIdUri?T.schemeIdUri:null,this.value=T.value!==null&&T.value!==void 0?T.value.toString():null,this.id=T.id?T.id:null,T[xe.default.DVB_URL]&&(this.dvbUrl=T[xe.default.DVB_URL]),T[xe.default.DVB_MIMETYPE]&&(this.dvbMimeType=T[xe.default.DVB_MIMETYPE]),T[xe.default.DVB_FONTFAMILY]&&(this.dvbFontFamily=T[xe.default.DVB_FONTFAMILY]))}inArray(T){return!!T&&T.some((_=>this.schemeIdUri===_.schemeIdUri&&(this.value?this.value.toString().match(_.value):"".match(_.value))))}},Es=class extends Qa{constructor(){super(),this.version=null,this.sessionID=null,this.contentID=null,this.mode=null,this.keys=null,this.includeInRequests=null}init(T){super.init(T),T&&(this.version=T.version,this.sessionID=T.sessionID,this.contentID=T.contentID,this.mode=T.mode??"query",this.keys=T.keys?T.keys.split(" "):null,this.includeInRequests=T.includeInRequests?T.includeInRequests.split(" "):["segment"],this.schemeIdUri=T.schemeIdUri)}},ao=class{constructor(){this.adaptationSets=null,this.adaptationSetsArray=[],this.cmcdParameters=null,this.serviceLocations=null,this.serviceLocationsArray=[]}},Xa=class extends Qa{constructor(){super(),this.ref=null,this.refId=null,this.robustness=null,this.keyId=null,this.cencDefaultKid=null,this.pssh=null,this.pro=null,this.laUrl=null}init(T){super.init(T),T&&(this.ref=T.hasOwnProperty(xe.default.REF)?T[xe.default.REF]:null,this.refId=T.hasOwnProperty(xe.default.REF_ID)?T[xe.default.REF_ID]:null,this.robustness=T.hasOwnProperty(xe.default.ROBUSTNESS)?T[xe.default.ROBUSTNESS]:null,this.cencDefaultKid=T.hasOwnProperty(xe.default.CENC_DEFAULT_KID)?T[xe.default.CENC_DEFAULT_KID]:null,this.pssh=T.hasOwnProperty(xe.default.PSSH)?T[xe.default.PSSH]:null,this.pro=T.hasOwnProperty(xe.default.PRO)?T[xe.default.PRO]:null,this.laUrl=T.hasOwnProperty(xe.default.LA_URL)?T[xe.default.LA_URL]:T.hasOwnProperty(xe.default.LA_URL_LOWER_CASE)?T[xe.default.LA_URL_LOWER_CASE]:null)}mergeAttributesFromReference(T){["schemeIdUri","value","id","robustness","cencDefaultKid","pro","pssh","laUrl"].forEach((_=>{this[_]===null&&(this[_]=T[_])}))}},Uo=class{constructor(){this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0}},$a=class{constructor(){this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN,this.parsedMessageData=null}},ro=class{constructor(){this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0}},wl=class{constructor(){this.availabilityEndTime=Number.POSITIVE_INFINITY,this.availabilityStartTime=null,this.manifest=null,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.mediaPresentationDuration=NaN,this.minimumUpdatePeriod=NaN,this.publishTime=null,this.suggestedPresentationDelay=0,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY}},so=class{constructor(T,_){this.url=T||"",this.serviceLocation=_||null,this.queryParams={}}},qa=class{constructor(T,_,S){this.url=T||"",this.serviceLocation=_||null,this.ttl=S||NaN,this.queryParams={}}};class yc{constructor(){this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null,this.isEncrypted=!1}}yc.DEFAULT_ID="defaultId";var Fo=yc,oo=class{constructor(){this.period=null,this.index=-1,this.id=1,this.type=null,this.tag=null,this.order="undefined",this.preselectionComponents=[]}},nn=class{constructor(){this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null}},Rn=class{constructor(){this.absoluteIndex=NaN,this.adaptation=null,this.availabilityTimeComplete=!0,this.availabilityTimeOffset=0,this.bandwidth=NaN,this.bitrateInKbit=NaN,this.bitsPerPixel=NaN,this.codecFamily=null,this.codecPrivateData=null,this.codecs=null,this.dependencyId=null,this.dependentRepresentation=null,this.endNumber=null,this.essentialProperties=[],this.fragmentDuration=null,this.frameRate=null,this.height=NaN,this.id=null,this.indexRange=null,this.initialization=null,this.maxPlayoutRate=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.mediaInfo=null,this.mimeType=null,this.mseTimeOffset=NaN,this.pixelsPerSecond=NaN,this.presentationTimeOffset=0,this.qualityRanking=NaN,this.range=null,this.scanType=null,this.segments=null,this.segmentDuration=NaN,this.segmentInfoType=null,this.segmentSequenceProperties=[],this.supplementalProperties=[],this.startNumber=1,this.timescale=1,this.width=NaN}hasInitialization(){return this.initialization!==null||this.range!==null}hasSegments(){return this.segmentInfoType!==xe.default.BASE_URL&&this.segmentInfoType!==xe.default.SEGMENT_BASE&&!this.indexRange}};function Yn(){let T;const _=/^[a-z][a-z0-9+\-_.]*:/i,S=/^https?:\/\//i,R=/^https:\/\//i,k=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,L=(j,Z)=>{try{return new window.URL(j,Z).toString()}catch{return j}},$=(j,Z)=>{let ie=B;if(!Z||!Y(j))return j;D(j)&&(ie=U),q(j)&&(ie=K);const ae=ie(Z),J=ae.charAt(ae.length-1)!=="/"&&j.charAt(0)!=="/"?"/":"";return[ae,j].join(J)};function B(j){const Z=j.indexOf("/"),ie=j.lastIndexOf("/");return Z!==-1?ie===Z+1?j:(j.indexOf("?")!==-1&&(j=j.substring(0,j.indexOf("?"))),j.substring(0,ie+1)):""}function U(j){const Z=j.match(k);return Z?Z[1]:""}function K(j){const Z=j.match(_);return Z?Z[0]:""}function Y(j){return!_.test(j)}function D(j){return Y(j)&&j.charAt(0)==="/"}function q(j){return j.indexOf("//")===0}return(function(){try{new window.URL("x","http://y"),T=L}catch{}finally{T=T||$}})(),{parseBaseUrl:B,parseOrigin:U,parseScheme:K,isRelative:Y,isPathAbsolute:D,isSchemeRelative:q,isHTTPURL:function(j){return S.test(j)},isHTTPS:function(j){return R.test(j)},removeHostname:function(j){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(j)[2].substring(1)},resolve:function(j,Z){return T(j,Z)}}}Yn.__dashjs_factory_name="DefaultURLUtils";var vi=i.default.getSingletonFactory(Yn);function mi(){let T,_,S=[];const R=this.context;function k(L,$,B){let U=(function(K){let Y;for(Y=0;Y<S.length;Y++)if(S[Y].regex.test(K))return S[Y].utils;return _})(B||$);return U&&typeof U[L]=="function"?U[L]($,B):_[L]($,B)}return _=vi(R).getInstance(),T={registerUrlRegex:function(L,$){S.push({regex:L,utils:$})},parseBaseUrl:function(L){return k("parseBaseUrl",L)},parseOrigin:function(L){return k("parseOrigin",L)},parseScheme:function(L){return k("parseScheme",L)},isRelative:function(L){return k("isRelative",L)},isPathAbsolute:function(L){return k("isPathAbsolute",L)},isSchemeRelative:function(L){return k("isSchemeRelative",L)},isHTTPURL:function(L){return k("isHTTPURL",L)},isHTTPS:function(L){return k("isHTTPS",L)},removeHostname:function(L){return k("removeHostname",L)},resolve:function(L,$){return k("resolve",L,$)}},T}mi.__dashjs_factory_name="URLUtils";var Oi=i.default.getSingletonFactory(mi),Wi=t(5717),Ei=class{constructor(){this.cadence=1,this.sapType=0,this.event=!0,this.alignment=null}init(T){T&&(this.cadence=T.cadence===void 0||isNaN(T.cadence)?1:T.cadence,this.sapType=T.sapType===void 0||isNaN(T.sapType)?0:T.sapType,this.event=T.event===void 0||T.event,this.alignment=T.alignment!==void 0?T.alignment:null)}};function di(){let T,_,S,R;const k=this.context,L=Oi(k).getInstance(),$=Number.isInteger||function(te){return typeof te=="number"&&isFinite(te)&&Math.floor(te)===te};function B(te,oe){if(!te)throw new Error("adaptation is not defined");if(!oe)throw new Error("type is not defined");if(te.Representation&&te.Representation.length){const ue=Re(te.Representation[0]);if(ue&&ue.some((de=>p.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(de.schemeIdUri)>=0)))return oe===p.default.IMAGE}if(te.ContentComponent&&te.ContentComponent.length>0){if(te.ContentComponent.length>1)return oe===p.default.MUXED;if(te.ContentComponent[0].contentType===oe)return!0}const ge=oe===p.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(oe);if(te.Representation&&te.Representation.length){const ue=te.Representation[0].codecs;if(ge.test(ue))return!0}if(te.hasOwnProperty(xe.default.MIME_TYPE))return ge.test(te.mimeType);if(te.Representation){let ue;for(let de=0;de<te.Representation.length;de++)if(ue=te.Representation[de],ue.hasOwnProperty(xe.default.MIME_TYPE))return ge.test(ue.mimeType)}return!1}function U(te){if(!te)throw new Error("adaptation is not defined");if(te.hasOwnProperty(xe.default.SEGMENT_TEMPLATE)||te.hasOwnProperty(xe.default.SEGMENT_TIMELINE)||te.hasOwnProperty(xe.default.SEGMENT_LIST)||te.hasOwnProperty(xe.default.SEGMENT_BASE))return!0;if(te.Representation&&te.Representation.length>0){const oe=te.Representation[0];if(oe.hasOwnProperty(xe.default.SEGMENT_TEMPLATE)||oe.hasOwnProperty(xe.default.SEGMENT_TIMELINE)||oe.hasOwnProperty(xe.default.SEGMENT_LIST)||oe.hasOwnProperty(xe.default.SEGMENT_BASE))return!0}return!1}function K(te){return B(te,p.default.TEXT)}function Y(te){return te&&te.Representation&&te.Representation.sort(((oe,ge)=>oe.bandwidth-ge.bandwidth)),te}function D(te,oe){return te&&te.Period&&$(oe)&&te.Period[oe]?te.Period[oe].AdaptationSet:[]}function q(te){return te&&te.Period?te.Period:[]}function j(te,oe,ge){let ue=null;if(te&&te.Representation&&te.Representation.length>0){const de=$(oe)&&oe>=0&&oe<te.Representation.length?te.Representation[oe]:te.Representation[0];de&&(ue=de.mimeType+';codecs="'+de.codecs+'"',ge&&de.width!==void 0&&(ue+=';width="'+de.width+'";height="'+de.height+'"'))}return ue&&(ue=ue.replace(/\sprofiles=[^;]*/g,"")),ue}function Z(te){const oe=ie(te);return oe&&oe.length>0}function ie(te){let oe=[];if(!te)return oe;const ge=ae(te);return oe=oe.concat(ge),te.hasOwnProperty(xe.default.ADAPTATION_SET)&&te[xe.default.ADAPTATION_SET].length>0&&te[xe.default.ADAPTATION_SET].forEach((ue=>{const de=ae(ue);oe=oe.concat(de)})),oe}function ae(te){return te&&te.hasOwnProperty(xe.default.CONTENT_PROTECTION)&&te.ContentProtection.length!==0?te[xe.default.CONTENT_PROTECTION].map((oe=>{const ge=new Xa;return ge.init(oe),ge})):[]}function J(te){let oe=!1;return te&&te.hasOwnProperty("type")&&(oe=te.type===xe.default.DYNAMIC),oe}function fe(te){if(!te)return null;const oe=te[xe.default.FRAMERATE];if(!oe)return null;if(typeof oe=="string"&&oe.includes("/")){const[ge,ue]=oe.split("/").map((de=>parseInt(de,10)));if(!isNaN(ge)&&!isNaN(ue)&&ue!==0)return ge/ue}return parseInt(oe)}function me(te,oe){return oe&&oe.hasOwnProperty(te)&&oe[te].length?oe[te].map((ge=>{const ue=new Qa;return ue.init(ge),ue})):[]}function pe(te,oe){if(!oe)return[];let ge=(function(ue,de){if(!de||!de.length)return[];let Ee=de[0][ue]||[];return Ee.length===0?[]:de.length===1?Ee:Ee.filter((X=>de.slice(1).every((_e=>_e.hasOwnProperty(ue)&&_e[ue].some((ke=>ke.schemeIdUri===X.schemeIdUri&&ke.value===X.value))))))})(te,oe[xe.default.REPRESENTATION]);return oe.hasOwnProperty(te)&&oe[te].length&&ge.push(...oe[te]),ge.map((ue=>{const de=new Qa;return de.init(ue),de}))}function Re(te){return me(xe.default.ESSENTIAL_PROPERTY,te)}function ne(te){return me(xe.default.SUPPLEMENTAL_PROPERTY,te)}function Q(te){return te&&te.hasOwnProperty(xe.default.SEGMENT_SEQUENCE_PROPERTIES)&&te[xe.default.SEGMENT_SEQUENCE_PROPERTIES].length?te[xe.default.SEGMENT_SEQUENCE_PROPERTIES].map((oe=>{const ge=new Ei(oe);return ge.init(oe),ge})):[]}function V(te,oe,ge,ue,de,Ee){const X=new Rn;(function(Oe,je,Be,Ze,mt){if(Oe.index=mt,Oe.adaptation=Be,Oe.mediaInfo=Ze,je.hasOwnProperty(xe.default.ID)&&(Oe.id=je.id),je.hasOwnProperty(xe.default.CODECS)&&(Oe.codecs=je.codecs,Oe.codecFamily=vt.default.getCodecFamily(Oe.codecs)),je.hasOwnProperty(xe.default.DEPENDENCY_ID)){const St=je[xe.default.DEPENDENCY_ID].toString().split(" ")[0];Oe.dependencyId=St,Oe.dependentRepresentation=new Rn,Oe.dependentRepresentation.id=St}je.hasOwnProperty(xe.default.MIME_TYPE)&&(Oe.mimeType=je[xe.default.MIME_TYPE]),je.hasOwnProperty(xe.default.CODEC_PRIVATE_DATA)&&(Oe.codecPrivateData=je.codecPrivateData),je.hasOwnProperty(xe.default.BANDWITH)&&(Oe.bandwidth=je.bandwidth,Oe.bitrateInKbit=je.bandwidth/1e3),je.hasOwnProperty(xe.default.WIDTH)&&(Oe.width=je.width),je.hasOwnProperty(xe.default.HEIGHT)&&(Oe.height=je.height),je.hasOwnProperty(xe.default.SCAN_TYPE)&&(Oe.scanType=je.scanType),je.hasOwnProperty(xe.default.FRAMERATE)&&(Oe.frameRate=fe(je)),je.hasOwnProperty(xe.default.QUALITY_RANKING)&&(Oe.qualityRanking=je[xe.default.QUALITY_RANKING]),je.hasOwnProperty(xe.default.MAX_PLAYOUT_RATE)&&(Oe.maxPlayoutRate=je.maxPlayoutRate),Oe.essentialProperties=Re(je),Oe.supplementalProperties=ne(je),Oe.segmentSequenceProperties=Q(je),Oe.path=[Be.period.index,Be.index,mt]})(X,oe,ge,te,Ee);const{segmentInfo:_e,segmentInfoType:ke}=(function(Oe){let je,Be;return Oe.hasOwnProperty(xe.default.SEGMENT_BASE)?(je=Oe.SegmentBase,Be=xe.default.SEGMENT_BASE):Oe.hasOwnProperty(xe.default.SEGMENT_LIST)?(je=Oe.SegmentList,Be=je.hasOwnProperty(xe.default.SEGMENT_TIMELINE)?xe.default.SEGMENT_TIMELINE:xe.default.SEGMENT_LIST):Oe.hasOwnProperty(xe.default.SEGMENT_TEMPLATE)?(je=Oe.SegmentTemplate,Be=je.hasOwnProperty(xe.default.SEGMENT_TIMELINE)?xe.default.SEGMENT_TIMELINE:xe.default.SEGMENT_TEMPLATE):Be=xe.default.BASE_URL,{segmentInfo:je,segmentInfoType:Be}})(oe);return X.segmentInfoType=ke,(function(Oe,je,Be,Ze,mt,St){if(Oe){if(Oe.hasOwnProperty(xe.default.INITIALIZATION_MINUS)&&(Be.initialization=Oe.initialization.split("$Bandwidth$").join(mt.bandwidth).split("$RepresentationID$").join(mt.id)),Oe.hasOwnProperty(xe.default.INITIALIZATION)){const Ht=Oe.Initialization;Ht.hasOwnProperty(xe.default.SOURCE_URL)&&(Be.initialization=Ht.sourceURL),Ht.hasOwnProperty(xe.default.RANGE)&&(Be.range=Ht.range)}else K(Ze)&&U(Ze)&&Ze.mimeType&&Ze.mimeType.indexOf("application/mp4")===-1&&(Be.range=0);Oe.hasOwnProperty(xe.default.TIMESCALE)&&(Be.timescale=Oe.timescale),Oe.hasOwnProperty(xe.default.DURATION)?Be.segmentDuration=Oe.duration/Be.timescale:je===xe.default.SEGMENT_TIMELINE&&(Be.segmentDuration=(function(Ht){if(!Ht||!Ht.S)return NaN;let vn=Ht.S[0],zt=Ht.S[1];return vn.hasOwnProperty("d")?vn.d:zt.t-vn.t})(Oe.SegmentTimeline)/Be.timescale),Oe.hasOwnProperty(xe.default.MEDIA)&&(Be.media=Oe.media),Oe.hasOwnProperty(xe.default.START_NUMBER)&&(Be.startNumber=parseInt(Oe.startNumber)),Oe.hasOwnProperty(xe.default.INDEX_RANGE)&&(Be.indexRange=Oe.indexRange),Oe.hasOwnProperty(xe.default.PRESENTATION_TIME_OFFSET)&&(Be.presentationTimeOffset=Oe.presentationTimeOffset/Be.timescale),Oe.hasOwnProperty(xe.default.AVAILABILITY_TIME_OFFSET)?Be.availabilityTimeOffset=Oe.availabilityTimeOffset:St&&St.availabilityTimeOffset!==void 0&&(Be.availabilityTimeOffset=St.availabilityTimeOffset),Oe.hasOwnProperty(xe.default.AVAILABILITY_TIME_COMPLETE)?Be.availabilityTimeComplete=Oe.availabilityTimeComplete!=="false":St&&St.availabilityTimeComplete!==void 0&&(Be.availabilityTimeComplete=St.availabilityTimeComplete),Oe.hasOwnProperty(xe.default.END_NUMBER)&&(Be.endNumber=Oe[xe.default.END_NUMBER]),Be.mseTimeOffset=(function(Ht){const vn=Ht.presentationTimeOffset;return Ht.adaptation.period.start-vn})(Be)}})(_e,ke,X,ue,oe,de),(function(Oe){isNaN(Oe.width)||isNaN(Oe.height)||isNaN(Oe.frameRate)||(Oe.pixelsPerSecond=Math.max(1,Oe.width*Oe.height*Oe.frameRate),isNaN(Oe.bandwidth)||(Oe.bitsPerPixel=Oe.bandwidth/Oe.pixelsPerSecond))})(X),X}function W(te){return B(te,p.default.MUXED)?p.default.MUXED:B(te,p.default.AUDIO)?p.default.AUDIO:(function(oe){return B(oe,p.default.VIDEO)})(te)?p.default.VIDEO:K(te)?p.default.TEXT:(function(oe){return B(oe,p.default.IMAGE)})(te)?p.default.IMAGE:(_.warn("Unknown Preselection stream type"),null)}function Ie(te,oe){if(te&&te.hasOwnProperty(xe.default.PRESELECTION_COMPONENTS)&&Array.isArray(oe))return String(te.preselectionComponents).split(" ").map((ge=>oe.find((ue=>ue.id===ge))))}function le(te,oe){if(!te||!te.hasOwnProperty(xe.default.PRESELECTION_COMPONENTS)||!Array.isArray(oe))return;const ge=String(te.preselectionComponents).split(" ");return oe.find((ue=>ue.id===ge[0]))}function Ce(te,oe){if(!te)throw new Error("Period cannot be null or undefined");let ge=Fo.DEFAULT_ID+"_"+oe;return te.hasOwnProperty(xe.default.ID)&&te.id.toString().length>0&&te.id!=="__proto__"&&(ge=te.id.toString()),ge}function we(te,oe,ge){const ue=[];let de;if(!te)return ue;for(de=0;de<te.length;de++){const Ee=new ro;if(Ee.timescale=1,Ee.representation=oe,!te[de].hasOwnProperty(p.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Ee.schemeIdUri=te[de].schemeIdUri,te[de].hasOwnProperty(xe.default.TIMESCALE)&&(Ee.timescale=te[de].timescale),te[de].hasOwnProperty(xe.default.VALUE)&&(Ee.value=te[de].value),ue.push(Ee),Ee.period=ge}return ue}function Le(te){const oe=[],ge=te.BaseURL||[te.baseUri];let ue=!1;return ge.some((de=>{if(de){const Ee=new ua;let X=de.__text||de;return L.isRelative(X)&&(ue=!0,te.baseUri&&(X=L.resolve(X,te.baseUri))),Ee.url=X,de.hasOwnProperty(xe.default.SERVICE_LOCATION)&&de.serviceLocation.length?Ee.serviceLocation=de.serviceLocation:Ee.serviceLocation=X,de.hasOwnProperty(xe.default.DVB_PRIORITY)&&(Ee.dvbPriority=de[xe.default.DVB_PRIORITY]),de.hasOwnProperty(xe.default.DVB_WEIGHT)&&(Ee.dvbWeight=de[xe.default.DVB_WEIGHT]),de.hasOwnProperty(xe.default.AVAILABILITY_TIME_OFFSET)&&(Ee.availabilityTimeOffset=de[xe.default.AVAILABILITY_TIME_OFFSET]),de.hasOwnProperty(xe.default.AVAILABILITY_TIME_COMPLETE)&&(Ee.availabilityTimeComplete=de[xe.default.AVAILABILITY_TIME_COMPLETE]!=="false"),oe.push(Ee),ue}})),oe}function Ge(te){const oe=new Uo;return oe.serverUrl=te.__text,te.hasOwnProperty(xe.default.DEFAULT_SERVICE_LOCATION)&&(oe.defaultServiceLocation=te[xe.default.DEFAULT_SERVICE_LOCATION],oe.defaultServiceLocationArray=oe.defaultServiceLocation.split(" ")),te.hasOwnProperty(xe.default.QUERY_BEFORE_START)&&(oe.queryBeforeStart=te[xe.default.QUERY_BEFORE_START].toLowerCase()==="true"),te.hasOwnProperty(xe.default.CLIENT_REQUIREMENT)&&(oe.clientRequirement=te[xe.default.CLIENT_REQUIREMENT].toLowerCase()!=="false"),oe}function Pe(te){const oe=new ao;return te.hasOwnProperty(xe.default.CMCD_PARAMETERS)&&te[xe.default.CMCD_PARAMETERS].schemeIdUri===p.default.CTA_5004_2023_SCHEME&&(oe.cmcdParameters=new Es,oe.cmcdParameters.init(te[xe.default.CMCD_PARAMETERS])),te.hasOwnProperty(xe.default.SERVICE_LOCATIONS)&&te[xe.default.SERVICE_LOCATIONS]!==""&&(oe.serviceLocations=te[xe.default.SERVICE_LOCATIONS],oe.serviceLocationsArray=oe.serviceLocations.toString().split(" ")),te.hasOwnProperty(xe.default.ADAPTATION_SETS)&&te[xe.default.ADAPTATION_SETS]!==""&&(oe.adaptationSets=te[xe.default.ADAPTATION_SETS],oe.adaptationSetsArray=oe.adaptationSets.toString().split(" ")),oe}return T={getAccessibilityForAdaptation:function(te){return te&&te.hasOwnProperty(xe.default.ACCESSIBILITY)&&te[xe.default.ACCESSIBILITY].length?te[xe.default.ACCESSIBILITY].map((oe=>{const ge=new Qa;return ge.init(oe),ge})):[]},getAdaptationForId:function(te,oe,ge){const ue=D(oe,ge);let de,Ee;for(de=0,Ee=ue.length;de<Ee;de++)if(ue[de].hasOwnProperty(xe.default.ID)&&ue[de].id===te)return ue[de];return null},getAdaptationForIndex:function(te,oe,ge){const ue=D(oe,ge);return ue.length>0&&$(te)?ue[te]:null},getAdaptationsForPeriod:function(te){const oe=te&&$(te.index)?te.mpd.manifest.Period[te.index]:null,ge=[];let ue,de,Ee;if(oe&&oe.AdaptationSet)for(Ee=0;Ee<oe.AdaptationSet.length;Ee++)de=oe.AdaptationSet[Ee],ue=new Ni,de.hasOwnProperty(xe.default.ID)&&(ue.id=de.id),ue.index=Ee,ue.period=te,ue.type=W(de),ge.push(ue);return ge},getAdaptationsForType:function(te,oe,ge){const ue=D(te,oe);let de,Ee;const X=[];for(de=0,Ee=ue.length;de<Ee;de++)B(ue[de],ge)&&X.push(Y(ue[de]));return X},getAudioChannelConfigurationForAdaptation:function(te){return te&&te.hasOwnProperty(xe.default.AUDIO_CHANNEL_CONFIGURATION)&&te[xe.default.AUDIO_CHANNEL_CONFIGURATION].length?te[xe.default.AUDIO_CHANNEL_CONFIGURATION].map((oe=>{const ge=new Qa;return ge.init(oe),ge})):[]},getAudioChannelConfigurationForRepresentation:function(te){return te&&te.hasOwnProperty(xe.default.AUDIO_CHANNEL_CONFIGURATION)&&te[xe.default.AUDIO_CHANNEL_CONFIGURATION].length?te[xe.default.AUDIO_CHANNEL_CONFIGURATION].map((oe=>{const ge=new Qa;return ge.init(oe),ge})):[]},getAvailabilityStartTime:function(te){return te&&te.hasOwnProperty(xe.default.AVAILABILITY_START_TIME)&&te.availabilityStartTime!==null?te.availabilityStartTime.getTime():null},getBandwidth:function(te){return te&&te.bandwidth?te.bandwidth:NaN},getBaseURLsFromElement:Le,getBitrateListForAdaptation:function(te){const oe=Y(te);return(oe&&oe.Representation?oe.Representation:[]).map((ge=>({bandwidth:ge.bandwidth,width:ge.width||0,height:ge.height||0,scanType:ge.scanType||null,id:ge.id||null})))},getCodec:j,getCodecForPreselection:function(te,oe,ge){let ue=null;if(te&&oe){let de=j(le(te,oe),0,ge);if(te.hasOwnProperty(xe.default.CODECS)){let Ee=te.codecs;ue=de.replace(/(codecs=")[^"]*(")/,`$1${Ee}$2`),_.info("Preselection has own codecs-attribute: replacing in MainAdaptationSet (was: "+de+"), new Preselection codec is: "+ue)}else ue=de}return ue},getCombinedEssentialPropertiesForAdaptationSet:function(te){return pe(xe.default.ESSENTIAL_PROPERTY,te)},getCombinedSupplementalPropertiesForAdaptationSet:function(te){return pe(xe.default.SUPPLEMENTAL_PROPERTY,te)},getContentProtectionByAdaptation:function(te){return ae(te)},getContentProtectionByManifest:function(te){let oe=[];if(!te)return oe;const ge=ae(te);return oe=oe.concat(ge),te.hasOwnProperty(xe.default.PERIOD)&&te[xe.default.PERIOD].length>0&&te[xe.default.PERIOD].forEach((ue=>{const de=ie(ue);oe=oe.concat(de)})),oe},getContentProtectionByPeriod:ie,getContentSteering:function(te){if(te&&te.hasOwnProperty(xe.default.CONTENT_STEERING))return Ge(te[xe.default.CONTENT_STEERING][0])},getDuration:function(te){let oe;return oe=te&&te.hasOwnProperty(xe.default.MEDIA_PRESENTATION_DURATION)?te.mediaPresentationDuration:te&&te.type==="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,oe},getEssentialProperties:Re,getEventStreamForAdaptationSet:function(te,oe,ge){let ue,de,Ee;return te&&te.Period&&oe&&oe.period&&$(oe.period.index)&&(de=te.Period[oe.period.index],de&&de.AdaptationSet&&$(oe.index)&&(Ee=de.AdaptationSet[oe.index],Ee&&(ue=Ee.InbandEventStream))),we(ue,null,ge)},getEventStreamForRepresentation:function(te,oe,ge){let ue,de,Ee,X;return te&&te.Period&&oe&&oe.adaptation&&oe.adaptation.period&&$(oe.adaptation.period.index)&&(de=te.Period[oe.adaptation.period.index],de&&de.AdaptationSet&&$(oe.adaptation.index)&&(Ee=de.AdaptationSet[oe.adaptation.index],Ee&&Ee.Representation&&$(oe.index)&&(X=Ee.Representation[oe.index],X&&(ue=X.InbandEventStream)))),we(ue,oe,ge)},getEventsForPeriod:function(te){const oe=te&&te.mpd&&te.mpd.manifest?te.mpd.manifest:null,ge=oe?oe.Period:null,ue=ge&&te&&$(te.index)?ge[te.index].EventStream:null,de=[];let Ee,X;if(ue)for(Ee=0;Ee<ue.length;Ee++){const _e=new ro;if(_e.period=te,_e.timescale=1,!ue[Ee].hasOwnProperty(p.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(_e.schemeIdUri=ue[Ee][p.default.SCHEME_ID_URI],ue[Ee].hasOwnProperty(xe.default.TIMESCALE)&&(_e.timescale=ue[Ee][xe.default.TIMESCALE]),ue[Ee].hasOwnProperty(xe.default.VALUE)&&(_e.value=ue[Ee][xe.default.VALUE]),ue[Ee].hasOwnProperty(xe.default.PRESENTATION_TIME_OFFSET)&&(_e.presentationTimeOffset=ue[Ee][xe.default.PRESENTATION_TIME_OFFSET]),X=0;ue[Ee].Event&&X<ue[Ee].Event.length;X++){const ke=ue[Ee].Event[X],Oe=new $a;Oe.presentationTime=0,Oe.eventStream=_e,ke.hasOwnProperty(xe.default.PRESENTATION_TIME)&&(Oe.presentationTime=ke.presentationTime);const je=_e.presentationTimeOffset?_e.presentationTimeOffset/_e.timescale:0;Oe.calculatedPresentationTime=Oe.presentationTime/_e.timescale+te.start-je,ke.hasOwnProperty(xe.default.DURATION)&&(Oe.duration=ke.duration/_e.timescale),ke.hasOwnProperty(xe.default.ID)?Oe.id=parseInt(ke.id):Oe.id=null,ke.Signal&&ke.Signal.Binary&&ke.Signal.Binary.__text?Oe.messageData=R.decodeArray(ke.Signal.Binary.__text.toString()):Oe.messageData=ke.messageData||ke.__cdata||ke.__text,de.push(Oe)}}return de},getFramerate:fe,getId:function(te){return te&&te[xe.default.ID]||null},getIndexForAdaptation:function(te,oe,ge){if(!te)return-1;const ue=D(oe,ge);for(let de=0;de<ue.length;de++)if((0,dn.default)(k).getInstance().areEqual(ue[de],te))return de;return-1},getIsDynamic:J,getIsFragmented:U,getIsText:K,getIsTypeOf:B,getLabelsForAdaptation:function(te){if(!te||!te.Label)return[];const oe=[];for(let ge=0;ge<te.Label.length;ge++)oe.push({lang:te.Label[ge].lang,text:te.Label[ge].__text||te.Label[ge]});return oe},getLanguageForAdaptation:function(te){let oe="";return te&&te.hasOwnProperty(xe.default.LANG)&&(oe=te.lang),oe},getLocation:function(te){return te&&te.hasOwnProperty(xe.default.LOCATION)?te[xe.default.LOCATION].map((oe=>{const ge=oe.__text||oe,ue=oe.hasOwnProperty(xe.default.SERVICE_LOCATION)?oe[xe.default.SERVICE_LOCATION]:null;return new so(ge,ue)})):[]},getMainAdaptationSetForPreselection:le,getCommonRepresentationForPreselection:function(te,oe){if(!te||!Array.isArray(oe))return;const ge=le(te,oe);return ge?ge.Representation[0]:void 0},getManifestUpdatePeriod:function(te,oe=0){let ge=NaN;return te&&te.hasOwnProperty(xe.default.MINIMUM_UPDATE_PERIOD)&&(ge=te.minimumUpdatePeriod),isNaN(ge)?ge:Math.max(ge-oe,1)},getMimeType:function(te){return te&&te.Representation&&te.Representation.length>0?te.Representation[0].mimeType:null},getMpd:function(te){const oe=new wl;return te&&(oe.manifest=te,te.hasOwnProperty(xe.default.AVAILABILITY_START_TIME)?oe.availabilityStartTime=new Date(te.availabilityStartTime.getTime()):te.loadedTime&&(oe.availabilityStartTime=new Date(te.loadedTime.getTime())),te.hasOwnProperty(xe.default.AVAILABILITY_END_TIME)&&(oe.availabilityEndTime=new Date(te.availabilityEndTime.getTime())),te.hasOwnProperty(xe.default.MINIMUM_UPDATE_PERIOD)&&(oe.minimumUpdatePeriod=te.minimumUpdatePeriod),te.hasOwnProperty(xe.default.MEDIA_PRESENTATION_DURATION)&&(oe.mediaPresentationDuration=te.mediaPresentationDuration),te.hasOwnProperty(xe.default.SUGGESTED_PRESENTATION_DELAY)&&(oe.suggestedPresentationDelay=te.suggestedPresentationDelay),te.hasOwnProperty(xe.default.TIMESHIFT_BUFFER_DEPTH)&&(oe.timeShiftBufferDepth=te.timeShiftBufferDepth),te.hasOwnProperty(xe.default.MAX_SEGMENT_DURATION)&&(oe.maxSegmentDuration=te.maxSegmentDuration),te.hasOwnProperty(xe.default.PUBLISH_TIME)&&(oe.publishTime=new Date(te.publishTime))),oe},getPatchLocation:function(te){return te&&te.hasOwnProperty(xe.default.PATCH_LOCATION)?te[xe.default.PATCH_LOCATION].map((oe=>{const ge=oe.__text||oe,ue=oe.hasOwnProperty(xe.default.SERVICE_LOCATION)?oe[xe.default.SERVICE_LOCATION]:null;let de=oe.hasOwnProperty(xe.default.TTL)?1e3*parseFloat(oe[xe.default.TTL]):NaN;return new qa(ge,ue,de)})):[]},getPreselectionIsTypeOf:function(te,oe,ge){if(!te)throw new Error("preselection is not defined");if(!oe)throw new Error("adaptations is not defined");if(!ge)throw new Error("type is not defined");const ue=le(te,oe);return!!ue&&B(ue,ge)},getPreselectionsForPeriod:function(te){const oe=te&&$(te.index)?te.mpd.manifest.Period[te.index]:null,ge=[];let ue,de,Ee;if(oe&&oe.Preselection)for(Ee=0;Ee<oe.Preselection.length;Ee++){de=oe.Preselection[Ee],ue=new oo;const X=Ie(de,oe.AdaptationSet);X.every((_e=>!!_e))&&X.length===1?(de.hasOwnProperty(xe.default.ID)&&(ue.id=de.id),ue.index=Ee,ue.period=te,de.hasOwnProperty(xe.default.TAG)&&(ue.tag=de.tag),de.hasOwnProperty(xe.default.PRESELECTION_COMPONENTS)?ue.preselectionComponents=X:_.warn("Preselection (index: "+ue.index+") missing component(s)"),de.hasOwnProperty(xe.default.ORDER)&&(ue.order=de.order),ue.type=W(X[0]),ge.push(ue)):_.warn("Preselection removed because we don't support multi-representation preselections or not all components available.")}return ge},getProducerReferenceTimesForAdaptation:function(te){const oe=te&&te.hasOwnProperty(xe.default.PRODUCER_REFERENCE_TIME)?te[xe.default.PRODUCER_REFERENCE_TIME]:[];(te&&te.hasOwnProperty(xe.default.REPRESENTATION)?te[xe.default.REPRESENTATION]:[]).forEach((ue=>{ue.hasOwnProperty(xe.default.PRODUCER_REFERENCE_TIME)&&oe.push(...ue[xe.default.PRODUCER_REFERENCE_TIME])}));const ge=[];return oe.forEach((ue=>{const de=new nn;ue.hasOwnProperty(xe.default.ID)&&(de[xe.default.ID]=parseInt(ue[xe.default.ID]),ue.hasOwnProperty(xe.default.WALL_CLOCK_TIME)&&(de[xe.default.WALL_CLOCK_TIME]=ue[xe.default.WALL_CLOCK_TIME],ue.hasOwnProperty(xe.default.PRESENTATION_TIME)&&(de[xe.default.PRESENTATION_TIME]=ue[xe.default.PRESENTATION_TIME],ue.hasOwnProperty(xe.default.INBAND)&&(de[xe.default.INBAND]=ue[xe.default.INBAND]!=="false"),ue.hasOwnProperty(xe.default.TYPE)&&(de[xe.default.TYPE]=ue[xe.default.TYPE]),ge.push(de))))})),ge},getPublishTime:function(te){return te&&te.hasOwnProperty(xe.default.PUBLISH_TIME)?new Date(te[xe.default.PUBLISH_TIME]):null},getRealPeriodForIndex:function(te,oe){const ge=q(oe);return ge.length>0&&$(te)?ge[te]:null},getRealPeriods:q,getRegularPeriods:function(te){const oe=!!te&&J(te.manifest),ge=[];let ue,de,Ee=null,X=null,_e=null,ke=null;for(de=0,ue=te&&te.manifest&&te.manifest.Period?te.manifest.Period.length:0;de<ue;de++)X=te.manifest.Period[de],X.hasOwnProperty(xe.default.START)?(ke=new Fo,ke.start=X.start):Ee!==null&&Ee.hasOwnProperty(xe.default.DURATION)&&_e!==null?(ke=new Fo,ke.start=parseFloat((_e.start+_e.duration).toFixed(5))):de!==0||oe||(ke=new Fo,ke.start=0),_e!==null&&isNaN(_e.duration)&&(ke!==null?_e.duration=parseFloat((ke.start-_e.start).toFixed(5)):_.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),ke!==null&&(ke.id=Ce(X,de),ke.index=de,ke.mpd=te,ke.isEncrypted=Z(X),X.hasOwnProperty(xe.default.DURATION)&&(ke.duration=X.duration),_e&&(_e.nextPeriodId=ke.id),ge.push(ke),Ee=X,_e=ke),X=null,ke=null;return ge.length===0||_e!==null&&isNaN(_e.duration)&&(_e.duration=parseFloat(((function(Oe){(function(){if(!S||!S.hasOwnProperty("error"))throw new Error(p.default.MISSING_CONFIG_ERROR)})();const je=J(Oe.mpd.manifest);let Be;return Oe.mpd.manifest.mediaPresentationDuration?Be=Oe.mpd.manifest.mediaPresentationDuration:Oe.duration?Be=Oe.duration:je?Be=Number.POSITIVE_INFINITY:S.error(new En.default(bn.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Oe)),Be})(_e)-_e.start).toFixed(5))),ge},getRepresentationCount:function(te){return te&&te.Representation?te.Representation.length:0},getRepresentationFor:function(te,oe){return oe&&oe.Representation&&oe.Representation.length>0&&$(te)?oe.Representation[te]:null},getRepresentationSortFunction:function(){return(te,oe)=>te.bandwidth-oe.bandwidth},getRepresentationsForAdaptation:function(te,oe){const ge=[],ue=(function(Ee){if(Ee&&Ee.period&&$(Ee.period.index)){const X=Ee.period.mpd.manifest.Period[Ee.period.index];if(X&&X.AdaptationSet&&$(Ee.index))return Y(X.AdaptationSet[Ee.index])}})(te);let de;if(ue&&ue.Representation){if(te&&te.period&&$(te.period.index)){const Ee=Le(te.period.mpd.manifest);Ee&&(de=Ee[0])}for(let Ee=0,X=ue.Representation.length;Ee<X;++Ee){const _e=V(oe,ue.Representation[Ee],te,ue,de,Ee);ge.push(_e)}}return ge},getRolesForAdaptation:function(te){return te&&te.hasOwnProperty(xe.default.ROLE)&&te[xe.default.ROLE].length?te[xe.default.ROLE].map((oe=>{oe.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&oe.value==="Main"&&(oe.value=xe.default.MAIN);const ge=new Qa;return ge.init(oe),ge})):[]},getSegmentAlignment:function(te){return!(!te||!te.hasOwnProperty(xe.default.SEGMENT_ALIGNMENT))&&te[xe.default.SEGMENT_ALIGNMENT]==="true"},getSegmentSequencePropertiesForAdaptationSet:function(te){const oe=[];return te&&(oe.push(...Q(te)),te.Representation&&te.Representation.length&&te.Representation.forEach((ge=>{oe.push(...Q(ge))}))),oe},getSelectionPriority:function(te){try{const oe=te&&te.selectionPriority!==void 0?parseInt(te.selectionPriority):1;return isNaN(oe)?1:oe}catch{return 1}},getServiceDescriptions:function(te){const oe=[];if(te&&te.hasOwnProperty(xe.default.SERVICE_DESCRIPTION))for(const ge of te.ServiceDescription){let ue=null,de=null,Ee=null,X=null,_e=null,ke=null,Oe=null,je=null;for(const Be in ge)if(ge.hasOwnProperty(Be))if(Be===xe.default.ID)ue=ge[Be];else if(Be===xe.default.SERVICE_DESCRIPTION_SCOPE)de=ge[Be].schemeIdUri;else if(Be===xe.default.SERVICE_DESCRIPTION_LATENCY)Ee={target:parseInt(ge[Be].target),max:parseInt(ge[Be].max),min:parseInt(ge[Be].min),referenceId:parseInt(ge[Be].referenceId)};else if(Be===xe.default.SERVICE_DESCRIPTION_PLAYBACK_RATE)X={max:parseFloat(ge[Be].max),min:parseFloat(ge[Be].min)};else if(Be===xe.default.SERVICE_DESCRIPTION_OPERATING_QUALITY)_e={mediaType:ge[Be].mediaType,max:parseInt(ge[Be].max),min:parseInt(ge[Be].min),target:parseInt(ge[Be].target),type:ge[Be].type,maxQualityDifference:parseInt(ge[Be].maxQualityDifference)};else if(Be===xe.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH)ke={mediaType:ge[Be].mediaType,max:parseInt(ge[Be].max),min:parseInt(ge[Be].min),target:parseInt(ge[Be].target)};else if(Be===xe.default.CONTENT_STEERING){let Ze=ge[Be];Ze=Array.isArray(Ze)?Ze.at(Ze.length-1):Ze,Oe=Ge(Ze)}else Be===xe.default.CLIENT_DATA_REPORTING&&(je=Pe(ge[Be]));oe.push({id:ue,schemeIdUri:de,latency:Ee,playbackRate:X,operatingQuality:_e,operatingBandwidth:ke,contentSteering:Oe,clientDataReporting:je})}return oe},getSubSegmentAlignment:function(te){return!(!te||!te.hasOwnProperty(xe.default.SUB_SEGMENT_ALIGNMENT))&&te[xe.default.SUB_SEGMENT_ALIGNMENT]==="true"},getSuggestedPresentationDelay:function(te){return te&&te.hasOwnProperty(xe.default.SUGGESTED_PRESENTATION_DELAY)?te.suggestedPresentationDelay:null},getSupplementalProperties:ne,getUTCTimingSources:function(te){const oe=J(te),ge=!!te&&te.hasOwnProperty(xe.default.AVAILABILITY_START_TIME),ue=te?te.UTCTiming:null,de=[];return(oe||ge)&&ue&&ue.forEach((function(Ee){const X=new Wi.default;Ee.hasOwnProperty(p.default.SCHEME_ID_URI)&&(X.schemeIdUri=Ee.schemeIdUri,Ee.hasOwnProperty(xe.default.VALUE)&&(X.value=Ee.value.toString(),de.push(X)))})),de},getViewpointForAdaptation:function(te){return te&&te.hasOwnProperty(xe.default.VIEWPOINT)&&te[xe.default.VIEWPOINT].length?te[xe.default.VIEWPOINT].map((oe=>{const ge=new Qa;return ge.init(oe),ge})):[]},hasProfile:function(te,oe){let ge=!1;return te&&te.profiles&&te.profiles.length>0&&(ge=te.profiles.indexOf(oe)!==-1),ge},isPeriodEncrypted:Z,setConfig:function(te){te&&(te.errHandler&&(S=te.errHandler),te.BASE64&&(R=te.BASE64))}},_=(0,l.default)(k).getInstance().getLogger(T),T}di.__dashjs_factory_name="DashManifestModel";var xi=i.default.getSingletonFactory(di);const Zi="utf-16",os="utf-16be",bs="utf-16le",Xr="utf-8";function Bo(T,_){if(T<0)return-Bo(-T,_);const S=Math.pow(10,_);if(Math.abs(T*S%1-.5)<Number.EPSILON){const R=Math.floor(T*S);return(R%2==0?R:R+1)/S}return Math.round(T*S)/S}const Ur=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g;function zo(T){return T.indexOf("&")===-1?T:T.replace(Ur,(_=>{switch(_){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'";case"&nbsp;":return"";case"&lrm;":return"";case"&rlm;":return"";default:if(_[1]==="#"){const S=_[2]==="x"||_[2]==="X"?parseInt(_.slice(3),16):parseInt(_.slice(2),10);return String.fromCodePoint(S)}return _}}))}var Fr=class tk{constructor(_,S){Array.isArray(_)&&(_=_.map((R=>R instanceof tk?R:new tk(R)))),this.value=_,this.params=S}};const lo="Dict";function Oa(T,_){return{value:T,src:_}}function Gd(T,_,S,R){return new Error(`failed to ${T} "${k=_,Array.isArray(k)?JSON.stringify(k):k instanceof Map?"Map{}":k instanceof Set?"Set{}":typeof k=="object"?JSON.stringify(k):String(k)}" as ${S}`,{cause:R});var k}function Ji(T,_,S){return Gd("parse",T,_,S)}const uo="Inner List",Vd="Bare Item",Ec="Boolean",bc="Byte Sequence",_c="Date",Kd="Decimal",yh="Integer",Vi=`${yh} or ${Kd}`;function kr(T){return T<-999999999999999||999999999999999<T}function $o(T){let _,S=1,R="";const k=Ji(T,Vi);if(T[0]==="-"&&(S=-1,T=T.substring(1)),T.length<=0)throw k;const L=/^(\d+)?/g,$=L.exec(T);if($[0].length===0)throw k;if(R+=$[1],(T=T.substring(L.lastIndex))[0]==="."){if(R.length>12)throw k;const B=/^(\.\d+)?/g,U=B.exec(T);if(T=T.substring(B.lastIndex),U[0].length===0||U[1].length>4||(R+=U[1],R.length>16))throw k;_=parseFloat(R)*S}else{if(R.length>15)throw k;if(_=parseInt(R)*S,kr(_))throw Ji(R,Vi)}return Oa(_,T)}const Zr="String",qo=/[\x00-\x1f\x7f]+/;var ir=class{constructor(T){this.description=T}};const Yd="Token";function ls(T,_){const S=T[0];if(S==='"')return(function(R){let k="",L=0;if(R[L]!=='"')throw Ji(R,Zr);for(L++;R.length>L;){if(R[L]==="\\"){if(R.length<=L+1||(L++,R[L]!=='"'&&R[L]!=="\\"))throw Ji(R,Zr);k+=R[L]}else{if(R[L]==='"')return Oa(k,R.substring(++L));if(qo.test(R[L]))throw Ji(R,Zr);k+=R[L]}L++}throw Ji(R,Zr)})(T);if(/^[-0-9]/.test(S))return $o(T);if(S==="?")return(function(R){let k=0;if(R[k]!=="?")throw Ji(R,Ec);if(k++,R[k]==="1")return Oa(!0,R.substring(++k));if(R[k]==="0")return Oa(!1,R.substring(++k));throw Ji(R,Ec)})(T);if(S===":")return(function(R){if(R[0]!==":"||(R=R.substring(1)).includes(":")===!1)throw Ji(R,bc);const k=/(^.*?)(:)/g,L=k.exec(R)[1];return R=R.substring(k.lastIndex),Oa(new Uint8Array([...atob(L)].map(($=>$.charCodeAt(0)))),R)})(T);if(/^[a-zA-Z*]/.test(S))return(function(R,k){if(/^[a-zA-Z*]$/.test(R[0])===!1)throw Ji(R,Yd);const L=/^([!#$%&'*+\-.^_`|~\w:/]+)/g,$=L.exec(R)[1];return R=R.substring(L.lastIndex),Oa(Symbol.for($),R)})(T);if(S==="@")return(function(R){let k=0;if(R[k]!=="@")throw Ji(R,_c);k++;const L=$o(R.substring(k));if(Number.isInteger(L.value)===!1)throw Ji(R,_c);return Oa(new Date(1e3*L.value),L.src)})(T);throw Ji(T,Vd)}const Xg="Key";function Tc(T){let _=0;if(/^[a-z*]$/.test(T[_])===!1)throw Ji(T,Xg);let S="";for(;T.length>_;){if(/^[a-z0-9_\-.*]$/.test(T[_])===!1)return Oa(S,T.substring(_));S+=T[_],_++}return Oa(S,T.substring(_))}function Ps(T,_){let S;for(;T.length>0&&T[0]===";";){const R=Tc(T=T.substring(1).trim()),k=R.value;let L=!0;if((T=R.src)[0]==="="){const $=ls(T=T.substring(1));L=$.value,T=$.src}S==null&&(S={}),S[k]=L}return Oa(S,T)}function Eh(T,_){const S=ls(T),R=Ps(T=S.src);return T=R.src,Oa(new Fr(S.value,R.value),T)}function Sc(T,_){return T[0]==="("?(function(S,R){if(S[0]!=="(")throw Ji(S,uo);S=S.substring(1);const k=[];for(;S.length>0;){if((S=S.trim())[0]===")"){const $=Ps(S=S.substring(1));return Oa(new Fr(k,$.value),$.src)}const L=Eh(S);if(k.push(L.value),(S=L.src)[0]!==" "&&S[0]!==")")throw Ji(S,uo)}throw Ji(S,uo)})(T):Eh(T)}const Us="List";function _s(T,_,S){return Gd("serialize",T,_,S)}function Wd(T){if(kr(T))throw _s(T,yh);return T.toString()}function pE(T){const _=Bo(T,3);if(Math.floor(Math.abs(_)).toString().length>12)throw _s(T,Kd);const S=_.toString();return S.includes(".")?S:`${S}.0`}function Qd(T){return T.description||T.toString().slice(7,-1)}function Xd(T){const _=Qd(T);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(_)===!1)throw _s(_,Yd);return _}function bh(T){switch(typeof T){case"number":if(!Number.isFinite(T))throw _s(T,Vd);return Number.isInteger(T)?Wd(T):pE(T);case"string":return(function(_){if(qo.test(_))throw _s(_,Zr);return`"${_.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`})(T);case"symbol":return Xd(T);case"boolean":return(function(_){if(typeof _!="boolean")throw _s(_,Ec);return _?"?1":"?0"})(T);case"object":if(T instanceof Date)return(function(_){return`@${Wd(_.getTime()/1e3)}`})(T);if(T instanceof Uint8Array)return(function(_){if(ArrayBuffer.isView(_)===!1)throw _s(_,bc);return`:${S=_,btoa(String.fromCharCode(...S))}:`;var S})(T);if(T instanceof ir)return Xd(T);default:throw _s(T,Vd)}}function xr(T){if(/^[a-z*][a-z0-9\-_.*]*$/.test(T)===!1)throw _s(T,Xg);return T}function jo(T){return T==null?"":Object.entries(T).map((([_,S])=>S===!0?`;${xr(_)}`:`;${xr(_)}=${bh(S)}`)).join("")}function Zd(T){return T instanceof Fr?`${bh(T.value)}${jo(T.params)}`:bh(T)}function Ac(T,_){return(function(S,R={whitespace:!0}){if(typeof S!="object"||S==null)throw _s(S,lo);const k=S instanceof Map?S.entries():Object.entries(S),L=R?.whitespace?" ":"";return Array.from(k).map((([$,B])=>{B instanceof Fr==0&&(B=new Fr(B));let U=xr($);return B.value===!0?U+=jo(B.params):(U+="=",Array.isArray(B.value)?U+=(function(K){return`(${K.value.map(Zd).join(" ")})${jo(K.params)}`})(B):U+=Zd(B)),U})).join(`,${L}`)})(T,_)}const vE={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},us="CMCD-Object",Ra="CMCD-Request",Ts="CMCD-Session",Ss="CMCD-Status",yE={br:us,ab:us,d:us,ot:us,tb:us,tpb:us,lb:us,tab:us,lab:us,url:us,pb:Ra,bl:Ra,tbl:Ra,dl:Ra,ltc:Ra,mtp:Ra,nor:Ra,nrr:Ra,rc:Ra,sn:Ra,sta:Ra,su:Ra,ttfb:Ra,ttfbb:Ra,ttlb:Ra,cmsdd:Ra,cmsds:Ra,smrt:Ra,df:Ra,cs:Ra,ts:Ra,cid:Ts,pr:Ts,sf:Ts,sid:Ts,st:Ts,v:Ts,msd:Ts,bs:Ss,bsd:Ss,cdn:Ss,rtp:Ss,bg:Ss,pt:Ss,ec:Ss,e:Ss},Zg={OBJECT:us,REQUEST:Ra,SESSION:Ts,STATUS:Ss},EE="event",_h=T=>Math.round(T),Jd=(T,_)=>Array.isArray(T)?T.map((S=>Jd(S,_))):T instanceof Fr&&typeof T.value=="string"?new Fr(Jd(T.value,_),T.params):(_.baseUrl&&(T=(function(S,R){const k=new URL(S),L=new URL(R);if(k.origin!==L.origin)return S;const $=k.pathname.split("/").slice(1),B=L.pathname.split("/").slice(1,-1),U=Math.min($.length,B.length);for(let K=0;K<U&&$[K]===B[K];K++)$.shift(),B.shift();for(;B.length;)B.shift(),$.unshift("..");return $.join("/")+k.search+k.hash})(T,_.baseUrl)),_.version===1?encodeURIComponent(T):T),Th=T=>100*_h(T/100),gA={br:_h,d:_h,bl:Th,dl:Th,mtp:Th,nor:(T,_)=>{let S=T;return _.version>=2&&(T instanceof Fr&&typeof T.value=="string"?S=new Fr([T]):typeof T=="string"&&(S=[T])),Jd(S,_)},rtp:Th,tb:_h},bE="request",Jg=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],_E=["e"],Sh=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"],pA=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function ep(T){return pA.test(T)}const TE=["d","dl","nor","ot","rtp","su"],SE=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function tp(T){return SE.includes(T)||ep(T)}const vA={[EE]:function(T){return Jg.includes(T)||_E.includes(T)||Sh.includes(T)||ep(T)},[bE]:function(T){return Jg.includes(T)||TE.includes(T)||ep(T)}};function AE(T,_={}){const S={};if(T==null||typeof T!="object")return S;const R=_.version||T.v||1,k=_.reportingMode||bE,L=R===1?tp:vA[k];let $=Object.keys(T).filter(L);T.e&&T.e!=="rr"&&($=$.filter((D=>!(function(q){return Sh.includes(q)})(D))));const B=_.filter;typeof B=="function"&&($=$.filter(B));const U=k===EE;U&&!$.includes("ts")&&$.push("ts"),R>1&&!$.includes("v")&&$.push("v");const K=Object.assign({},gA,_.formatters),Y={version:R,reportingMode:k,baseUrl:_.baseUrl};return $.sort().forEach((D=>{let q=T[D];const j=K[D];if(typeof j=="function"&&(q=j(q,Y)),D==="v"){if(R===1)return;q=R}D=="pr"&&q===1||(U&&D==="ts"&&!Number.isFinite(q)&&(q=Date.now()),(function(Z){return typeof Z=="number"?Number.isFinite(Z):Z!=null&&Z!==""&&Z!==!1})(q)&&((function(Z){return["ot","sf","st","e","sta"].includes(Z)})(D)&&typeof q=="string"&&(q=new ir(q)),S[D]=q))})),S}function yA(T,_={}){const S={};if(!T)return S;const R=(function(k,L){const $={};if(!k)return $;const B=Object.keys(k),U=L?(K=L,Object.keys(K).reduce(((Y,D)=>(K[D]?.forEach((q=>Y[q]=D)),Y)),{})):{};var K;return B.reduce(((Y,D)=>{const q=yE[D]||U[D]||Zg.REQUEST;return(Y[q]??={})[D]=k[D],Y}),$)})(AE(T,_),_?.customHeaderMap);return Object.entries(R).reduce(((k,[L,$])=>{const B=Ac($,{whitespace:!1});return B&&(k[L]=B),k}),S)}const wE=new Set([...SE,...Jg,...TE,...Sh,..._E]),co=(Array.from(wE),vE),RE={DASH:"d",HLS:"h",SMOOTH:"s",OTHER:"o"},IE={VOD:"v",LIVE:"l"},kE="segment";function xE(){let T,_,S,R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae=this.context,J=(0,g.default)(ae).getInstance(),fe=(0,c.default)(ae).getInstance(),me=(0,l.default)(ae).getInstance();function pe(){R={pr:1,nor:null,st:null,sf:null,sid:`${vt.default.generateUuid()}`,cid:null},q={},D={},j={},Y=void 0,Z=void 0,ie=!1,V()}function Re(){V()}function ne(){Z||(Z=Date.now())}function Q(){Z&&!R.msd&&(R.msd=Date.now()-Z)}function V(){if(!$)return;const de=$.getStreamController();if(!de||typeof de.getActiveStream!="function")return;const Ee=de.getActiveStream();Ee&&(K=Ee.getStreamProcessors())}function W(de){try{const Ee=le(),X=Ee.version?Ee.keys:fe.get().streaming.cmcd.enabledKeys;return Object.keys(de).filter((_e=>X.includes(_e))).reduce(((_e,ke)=>(_e[ke]=de[ke],_e)),{})}catch{return de}}function Ie(){const de=le();return(function(Ee){if(Object.keys(Ee).length){if(parseInt(Ee.version)!==1)return S.error("version parameter must be defined in 1."),!1;if(!Ee.keys)return S.error("keys parameter must be defined."),!1}const X=Ee.version,_e=fe.get().streaming.cmcd&&fe.get().streaming.cmcd.enabled;return X||_e})(de)&&(function(Ee){let X=fe.get().streaming.cmcd.includeInRequests;Ee.version&&(X=Ee.includeInRequests??[kE]);const _e=p.default.CMCD_AVAILABLE_REQUESTS,ke=X.filter((Oe=>!_e.includes(Oe)));return ke.length===X.length?(S.error("None of the request types are supported."),!1):(ke.map((Oe=>{S.warn(`request type ${Oe} is not supported.`)})),!0)})(de)&&(function(Ee){const X=p.default.CMCD_AVAILABLE_KEYS,_e=p.default.CMCD_V2_AVAILABLE_KEYS,ke=Ee.version?Ee.keys:fe.get().streaming.cmcd.enabledKeys,Oe=fe.get().streaming.cmcd.version,je=ke.filter((Be=>!(X.includes(Be)||Oe===2&&_e.includes(Be))));return je.length===ke.length&&ke.length>0?(S.error(`None of the keys are implemented for CMCD version ${Oe}.`),!1):(je.map((Be=>{S.warn(`key parameter ${Be} is not implemented for CMCD version ${Oe}.`)})),!0)})(de)}function le(){let de={};if(B){const Ee=B.getServiceDescriptionSettings();fe.get().streaming.cmcd.applyParametersFromMpd&&Ee.clientDataReporting&&Ee.clientDataReporting.cmcdParameters&&(de=Ee.clientDataReporting.cmcdParameters)}return de}function Ce(de){try{let X=null;if(de.type,(Ee=de.mediaType)!==p.default.VIDEO&&Ee!==p.default.AUDIO||Y&&Y!=p.default.AUDIO||(Y=Ee),(function(_e){const ke=le();let Oe=fe.get().streaming.cmcd.includeInRequests;ke.version&&(Oe=ke.includeInRequests?ke.includeInRequests:[kE]);const je={[se.HTTPRequest.INIT_SEGMENT_TYPE]:"segment",[se.HTTPRequest.MEDIA_SEGMENT_TYPE]:"segment",[se.HTTPRequest.XLINK_EXPANSION_TYPE]:"xlink",[se.HTTPRequest.MPD_TYPE]:"mpd",[se.HTTPRequest.CONTENT_STEERING_TYPE]:"steering",[se.HTTPRequest.OTHER_TYPE]:"other"};return Oe.some((Be=>je[_e]===Be))})(de.type)){if(de.type===se.HTTPRequest.MPD_TYPE)return(function(){const _e=Ge();return _e.ot=co.MANIFEST,_e})();if(de.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE)return Le(de.mediaType),we(de,de.mediaType);if(de.type===se.HTTPRequest.INIT_SEGMENT_TYPE)return(function(){const _e=Ge();return _e.ot=co.INIT,_e.su=!0,_e})();if(de.type===se.HTTPRequest.OTHER_TYPE||de.type===se.HTTPRequest.XLINK_EXPANSION_TYPE)return(function(){const _e=Ge();return _e.ot=co.OTHER,_e})();if(de.type===se.HTTPRequest.LICENSE)return(function(){const _e=Ge();return _e.ot=co.KEY,_e})();if(de.type===se.HTTPRequest.CONTENT_STEERING_TYPE)return(function(_e){const ke=Y?we(_e,Y):Ge();return ke.ot=co.OTHER,ke})(de)}return X}catch{return null}var Ee}function we(de,Ee){Le(Ee);const X=Ge(),_e=(function(zt){try{return parseInt(zt.bandwidth/1e3)}catch{return null}})(de),ke=(function(zt){try{return isNaN(zt.duration)?NaN:Math.round(1e3*zt.duration)}catch{return null}})(de),Oe=(function(zt){try{return 100*parseInt(U.getSafeAverageThroughput(zt)/100)}catch{return null}})(Ee),je=(function(zt){try{const mn=R.pr,Nn=L.getCurrentBufferLevel(zt);return isNaN(mn)||isNaN(Nn)?null:100*parseInt(Nn/mn*10)}catch{return null}})(Ee),Be=Pe(Ee),Ze=(function(zt){try{const mn=k.getPossibleVoRepresentationsFilteredBySettings(zt).map((Nn=>Nn.bitrateInKbit));return Math.max(...mn)}catch{return null}})(de.representation?.mediaInfo),mt=R.pr,St=(function(zt){if(K&&K.length!==0){for(let mn of K)if(mn.getType()===zt)return mn.probeNextRequest()}})(Ee);let Ht;Ee===p.default.VIDEO&&(Ht=co.VIDEO),Ee===p.default.AUDIO&&(Ht=co.AUDIO),de.mediaType===p.default.ENHANCEMENT&&(Ht=co.OTHER),Ee===p.default.TEXT&&(Ht=de.representation.mediaInfo.mimeType==="application/mp4"?co.TIMED_TEXT:co.CAPTION);let vn=fe.get().streaming.cmcd.rtp;return vn||(vn=(function(zt){try{let mn=$.getPlaybackRate();mn||(mn=1);let{bandwidth:Nn,mediaType:ri,representation:jn,duration:Bn}=zt;if(!jn.mediaInfo)return NaN;let Hn=Pe(ri);Hn===0&&(Hn=500);let at=Nn*Bn/1e3/(Hn/mn/1e3),Ot=fe.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(fe.get().streaming.cmcd.rtpSafetyFactor)?fe.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(at*Ot/100)+1)}catch{return NaN}})(de)),isNaN(vn)||(X.rtp=vn),St&&(de.url!==St.url?X.nor=encodeURIComponent(vt.default.getRelativeUrl(de.url,St.url)):St.range&&(X.nrr=St.range)),_e&&(X.br=_e),Ht&&(X.ot=Ht),isNaN(ke)||(X.d=ke),isNaN(Oe)||(X.mtp=Oe),isNaN(je)||(X.dl=je),isNaN(Be)||(X.bl=Be),isNaN(Ze)||(X.tb=Ze),isNaN(mt)||mt===1||(X.pr=mt),q[Ee]&&(X.bs=!0,q[Ee]=!1),!D[Ee]&&j[Ee]||(X.su=!0,D[Ee]=!1,j[Ee]=!0),X}function Le(de){j.hasOwnProperty(de)||(j[de]=!1),D.hasOwnProperty(de)||(D[de]=!1),q.hasOwnProperty(de)||(q[de]=!1)}function Ge(){const de=le(),Ee={};let X=fe.get().streaming.cmcd.cid?fe.get().streaming.cmcd.cid:R.cid;if(X=de.contentID?de.contentID:X,Ee.v=fe.get().streaming.cmcd.version??1,Ee.sid=fe.get().streaming.cmcd.sid?fe.get().streaming.cmcd.sid:R.sid,Ee.sid=de.sessionID?de.sessionID:Ee.sid,Ee.sid=`${Ee.sid}`,X&&(Ee.cid=`${X}`),isNaN(R.pr)||R.pr===1||R.pr===null||(Ee.pr=R.pr),R.st&&(Ee.st=R.st),R.sf&&(Ee.sf=R.sf),Ee.v===2){let _e=1e3*$.getCurrentLiveLatency();isNaN(_e)||(Ee.ltc=_e);const ke=R.msd;ie||isNaN(ke)||(Ee.msd=ke,ie=!0)}return Ee}function Pe(de){try{const Ee=L.getCurrentBufferLevel(de);return isNaN(Ee)?null:100*parseInt(10*Ee)}catch{return null}}function te(de){try{R.pr=de.playbackRate}catch{}}function oe(de){try{const Ee=T.getIsDynamic(de.data)?IE.LIVE:IE.VOD,X=de.protocol&&de.protocol==="MSS"?RE.SMOOTH:RE.DASH;R.st=`${Ee}`,R.sf=`${X}`}catch{}}function ge(de){try{de.state&&de.mediaType&&de.state===y.default.BUFFER_EMPTY&&(q[de.mediaType]||(q[de.mediaType]=!0),D[de.mediaType]||(D[de.mediaType]=!0))}catch{}}function ue(){for(let de in q)q.hasOwnProperty(de)&&(q[de]=!0);for(let de in D)D.hasOwnProperty(de)&&(D[de]=!0)}return _={getCmcdData:Ce,getQueryParameter:function(de){try{if(Ie()){const Ee=Ce(de),X=(function(_e,ke={}){return _e?Ac(AE(_e,ke),{whitespace:!1}):""})(W(Ee));return J.trigger(Ri.default.CMCD_DATA_GENERATED,{url:de.url,mediaType:de.mediaType,cmcdData:Ee,cmcdString:X}),{key:"CMCD",value:X}}return null}catch{return null}},getHeaderParameters:function(de){try{if(Ie()){const Ee=Ce(de),X=yA(W(Ee),fe.get().streaming.cmcd.version===1?{}:{customHeaderMap:{[Zg.REQUEST]:["ltc"],[Zg.SESSION]:["msd"]}});return J.trigger(Ri.default.CMCD_DATA_GENERATED,{url:de.url,mediaType:de.mediaType,cmcdData:Ee,headers:X}),X}return null}catch{return null}},getCmcdParametersFromManifest:le,setConfig:function(de){de&&(de.abrController&&(k=de.abrController),de.dashMetrics&&(L=de.dashMetrics),de.throughputController&&(U=de.throughputController),de.playbackController&&($=de.playbackController),de.serviceDescriptionController&&(B=de.serviceDescriptionController))},reset:function(){J.off(y.default.PLAYBACK_RATE_CHANGED,te,this),J.off(y.default.MANIFEST_LOADED,oe,this),J.off(y.default.BUFFER_LEVEL_STATE_CHANGED,ge,_),J.off(y.default.PLAYBACK_SEEKED,ue,_),J.off(y.default.PLAYBACK_STARTED,ne,_),J.off(y.default.PLAYBACK_PLAYING,Q,_),pe()},initialize:function(de){J.on(y.default.PLAYBACK_RATE_CHANGED,te,_),J.on(y.default.MANIFEST_LOADED,oe,_),J.on(y.default.BUFFER_LEVEL_STATE_CHANGED,ge,_),J.on(y.default.PLAYBACK_SEEKED,ue,_),J.on(y.default.PERIOD_SWITCH_COMPLETED,Re,_),de?J.on(y.default.MANIFEST_LOADING_STARTED,ne,_):J.on(y.default.PLAYBACK_STARTED,ne,_),J.on(y.default.PLAYBACK_PLAYING,Q,_)},isCmcdEnabled:Ie},T=xi(ae).getInstance(),S=me.getLogger(_),pe(),_}xE.__dashjs_factory_name="CmcdModel";var CE=i.default.getSingletonFactory(xE);const ef="CMSD-Dynamic",DE="CMSD-Static",Ah=vE,np=DE.toLowerCase(),tf=ef.toLowerCase(),EA=["mb","st","sf","v"],wh="stream",LE={video:Ah.VIDEO,audio:Ah.AUDIO,text:Ah.TIMED_TEXT,stream:wh};function ip(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L;function $(){k={},L={}}function B(q){q&&Object.keys(q).forEach((j=>{EA.includes(j)||delete q[j]}))}function U(q){try{return(j=q)?Object.entries((function(Z,ie){try{const{src:ae,value:J}=(function(fe,me){const pe={};for(;fe.length>0;){let Re;const ne=Tc(fe),Q=ne.value;if((fe=ne.src)[0]==="="){const V=Sc(fe.substring(1),me);Re=V.value,fe=V.src}else{const V=Ps(fe,me);Re=new Fr(!0,V.value),fe=V.src}if(pe[Q]=Re,(fe=fe.trim()).length===0)return Oa(pe,fe);if(fe[0]!==","||(fe=fe.substring(1).trim()).length===0||fe[0]===",")throw Ji(fe,lo)}return Oa(pe,fe)})(Z.trim(),ie);if(ae!=="")throw Ji(ae,lo);return J}catch(ae){throw Ji(Z,lo,ae)}})(j)).reduce(((Z,[ie,ae])=>{const{value:J}=ae;return Z[ie]=typeof J=="symbol"?Qd(J):J,Z}),{}):{}}catch(Z){R.error("Failed to parse CMSD-Static response header value:",Z)}var j}function K(q){try{const Z=(j=q)?(function(ae,J){try{const{src:fe,value:me}=(function(pe,Re){const ne=[];for(;pe.length>0;){const Q=Sc(pe,Re);if(ne.push(Q.value),(pe=Q.src.trim()).length===0)return Oa(ne,pe);if(pe[0]!==","||(pe=pe.substring(1).trim()).length===0||pe[0]===",")throw Ji(pe,Us)}return Oa(ne,pe)})(ae.trim(),J);if(fe!=="")throw Ji(fe,Us);return me}catch(fe){throw Ji(ae,Us,fe)}})(j):[];return Z[Z.length-1]?.params||{}}catch(Z){return R.error("Failed to parse CMSD-Dynamic response header value:",Z),{}}var j}function Y(q){return LE[q]||Ah.OTHER}function D(q,j,Z){const ie=q===DE?k:L,ae=ie[j]||{},J=ie[wh]||{};return ae[Z]||J[Z]}return S={setConfig:function(){},initialize:function(){},reset:function(){$()},parseResponseHeaders:function(q,j){let Z=null,ie=null;for(const J in q){const fe=q[J];switch(J){case np:Z=U(fe),_.trigger(m.default.CMSD_STATIC_HEADER,Z);break;case tf:ie||(ie=K(fe))}}let ae=wh;return Z&&Z.ot?ae=Z.ot:j&&(ae=Y(j)),B(k[ae]),B(L[ae]),Z&&(k[ae]=Object.assign(k[ae]||{},Z)),ie&&(L[ae]=Object.assign(L[ae]||{},ie)),{static:Z,dynamic:ie}},getMaxBitrate:function(q){let j=Y(q);return D(ef,j,"mb")||-1},getEstimatedThroughput:function(q){let j=Y(q);return D(ef,j,"etp")||null},getResponseDelay:function(q){let j=Y(q);return D(ef,j,"rd")||null},getRoundTripTime:function(q){let j=Y(q);return D(ef,j,"rtt")||null}},R=(0,l.default)(T).getInstance().getLogger(S),$(),S}ip.__dashjs_factory_name="CmsdModel";var ap=i.default.getSingletonFactory(ip),Rh=t(1926);function Su(){let T,_;function S(){_={}}return T={reset:function(){S()},processResponseHeaders:function(R){if(!(R&&R.headers&&R.request&&R.request.url))return;const k=R.headers[p.default.COMMON_ACCESS_TOKEN_HEADER];if(k){const L=vt.default.getHostFromUrl(R.request.url);L&&(_[L]=k)}},getCommonAccessTokenForUrl:function(R){if(!R)return null;const k=vt.default.getHostFromUrl(R);return k?_[k]?_[k]:null:void 0}},S(),T}Su.__dashjs_factory_name="CommonAccessTokenController";var bA=i.default.getSingletonFactory(Su);function ME(){let T,_;return T={setConfig:function(S){S&&S.serviceDescriptionController&&(_=S.serviceDescriptionController)},isAdaptationsIncluded:function(S){const{adaptationSetsArray:R}=_?.getServiceDescriptionSettings()?.clientDataReporting??{};return!R||R?.length===0||R.includes(S)},isServiceLocationIncluded:function(S,R){if(S===se.HTTPRequest.CONTENT_STEERING_TYPE)return!0;const{serviceLocationsArray:k}=_?.getServiceDescriptionSettings()?.clientDataReporting??{};return!k||k?.length===0||k.includes(R)}},T}ME.__dashjs_factory_name="ClientDataReportingController";var NE=i.default.getSingletonFactory(ME);function rp(){let T,_,S;const R=this.context;function k(L,$,B,U,K){const Y=(function(D,q){let j=[];return j=q===xe.default.PERIOD?D[xe.default.SUPPLEMENTAL_PROPERTY]||[]:[...D[xe.default.ESSENTIAL_PROPERTY]||[],...D[xe.default.SUPPLEMENTAL_PROPERTY]||[]],j.find((Z=>Z.schemeIdUri===p.default.URL_QUERY_INFO_SCHEME&&Z.UrlQueryInfo||Z.schemeIdUri===p.default.EXT_URL_QUERY_INFO_SCHEME&&Z.ExtUrlQueryInfo))})($,K);(function(D,q,j,Z){j.initialQueryString="";let ie="";const ae=D?.ExtUrlQueryInfo||D?.UrlQueryInfo;ie=ae&&ae.queryString?q&&q.length>0?q+"&"+ae.queryString:ae.queryString:q,ae?.useMPDUrlQuery==="true"&&Z&&(ie=ie?ie+"&"+Z:Z),j.initialQueryString=ie})(Y,U.initialQueryString,L,B),(function(D,q,j){if(!D)return void(q.finalQueryString=j);const Z=D?.ExtUrlQueryInfo?.queryTemplate||D?.UrlQueryInfo?.queryTemplate||"";q.finalQueryString=Z===xe.default.QUERY_PART?q?.initialQueryString:""})(Y,L,U.finalQueryString),L.sameOriginOnly=Y?.ExtUrlQueryInfo?.sameOriginOnly,L.queryParams=vt.default.parseQueryParams(L?.finalQueryString),L.includeInRequests=(function(D,q){return D?D.ExtUrlQueryInfo?.includeInRequests?D.ExtUrlQueryInfo.includeInRequests.split(" "):[xe.default.SEGMENT_TYPE]:q})(Y,U.includeInRequests)}return _=(0,l.default)(R).getInstance().getLogger(T),T={getFinalQueryString:function(L){try{if(!S)return null;if(L.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE||L.type===se.HTTPRequest.INIT_SEGMENT_TYPE){const $=L.representation;if(!$)return null;const B=$.adaptation,U=B.period,K=S.period[U.index].adaptation[B.index].representation[$.index],Y=new URL(L.url),D=!K.sameOriginOnly||S.origin===Y.origin;if(K.includeInRequests.includes(xe.default.SEGMENT_TYPE)&&D)return K.queryParams}else if(L.type===se.HTTPRequest.MPD_TYPE){if([xe.default.MPD_TYPE,xe.default.MPD_PATCH_TYPE].some(($=>S.includeInRequests.includes($))))return S.queryParams}else if(L.type===se.HTTPRequest.CONTENT_STEERING_TYPE&&S.includeInRequests.includes(xe.default.STEERING_TYPE))return S.queryParams}catch($){return _.error($),null}},createFinalQueryStrings:function(L){S={origin:new URL(L.url).origin,period:[]};const $=L.url.split("?")[1];k(S,L,$,{initialQueryString:"",includeInRequests:[]},xe.default.MPD),L.Period.forEach((B=>{const U={adaptation:[]};k(U,B,$,S,xe.default.PERIOD),B.AdaptationSet.forEach((K=>{const Y={representation:[]};k(Y,K,$,U,xe.default.ADAPTATION_SET),K.Representation.forEach((D=>{const q={};k(q,D,$,Y,xe.default.REPRESENTATION),Y.representation.push(q)})),U.adaptation.push(Y)})),S.period.push(U)}))}},T}rp.__dashjs_factory_name="ExtUrlQueryInfoController";var sp=i.default.getSingletonFactory(rp),Au=class{constructor(T){this.url=T.url,this.method=T.method,this.responseType=T.responseType!==void 0?T.responseType:null,this.headers=T.headers!==void 0?T.headers:{},this.credentials=T.credentials!==void 0?T.credentials:null,this.mode=T.mode!==void 0?T.mode:null,this.timeout=T.timeout!==void 0?T.timeout:0,this.cmcd=T.cmcd!==void 0?T.cmcd:null,this.customData=T.customData!==void 0?T.customData:null}},wu=class{constructor(T){this.request=T.request,this.url=T.url!==void 0?T.url:null,this.redirected=T.redirected!==void 0&&T.redirected,this.status=T.status!==void 0?T.status:null,this.statusText=T.statusText!==void 0?T.statusText:"",this.type=T.type!==void 0?T.type:"",this.headers=T.headers!==void 0?T.headers:{},this.data=T.data!==void 0?T.data:null,this.resourceTiming=T.resourceTiming!==void 0?T.resourceTiming:null}};function OE(T){T=T||{};const _=this.context,S=T.errHandler,R=T.dashMetrics,k=T.mediaPlayerModel,L=T.boxParser,$=T.errors,B=T.requestTimeout||0,U=(0,g.default)(_).getInstance(),K=(0,c.default)(_).getInstance();let Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q;function V(W,Ie){const le=function(){Ge()},Ce=function(zt){const mn=new Date;Ee&&(Ee=!1,(!zt.lengthComputable||zt.lengthComputable&&zt.total!==zt.loaded)&&(ue.firstByteDate=mn,Be.resourceTiming.responseStart=mn.getTime())),zt.lengthComputable&&(ue.bytesLoaded=Be.length=zt.loaded,ue.bytesTotal=Be.resourceTiming.encodedBodySize=zt.total,Be.length=zt.total,Be.resourceTiming.encodedBodySize=zt.loaded),zt.noTrace||(de.push({s:_e,d:zt.time?zt.time:mn.getTime()-_e.getTime(),b:[zt.loaded?zt.loaded-ke:0],t:zt.throughput}),ue.traces=de,_e=mn,ke=zt.loaded),Oe&&(clearTimeout(Oe),Oe=null),K.get().streaming.fragmentRequestProgressTimeout>0&&(Oe=setTimeout((function(){Q.warn("Abort request "+je.url+" due to progress timeout"),mt.abort(je),le()}),K.get().streaming.fragmentRequestProgressTimeout)),W.progress&&zt&&W.progress(zt)},we=function(){Ge(!0)},Le=function(zt){let mn;if(zt.lengthComputable){let Nn=zt.loaded/zt.total*100;mn="Request timeout: loaded: "+zt.loaded+", out of: "+zt.total+" : "+Nn.toFixed(3)+"% Completed"}else mn="Request timeout: non-computable download size";Q.warn(mn)},Ge=function(zt=!1){D.indexOf(je)!==-1&&D.splice(D.indexOf(je),1),Oe&&(clearTimeout(Oe),Oe=null),pe.processResponseHeaders(Be),Pe(),te(),(function(mn){const Nn=me.getResponseInterceptors();return Nn?Nn.reduce(((ri,jn)=>ri.then((Bn=>jn(Bn)))),Promise.resolve(mn)):Promise.resolve(mn)})(Be).then((mn=>{if(Be=mn,(function(Nn,ri,jn){const Bn=Nn.customData.request,Hn=K.get().streaming.cmsd&&K.get().streaming.cmsd.enabled?ae.parseResponseHeaders(ri.headers,Bn.mediaType):null;R.addHttpRequest(Bn,ri.url,ri.status,ri.headers,jn,Hn)})(je,Be,de),zt)W.abort&&W.abort(ue);else if(ue.type===se.HTTPRequest.MPD_TYPE&&(R.addManifestUpdate(ue),U.trigger(m.default.MANIFEST_LOADING_FINISHED,{requestObject:ue})),Be.status>=200&&Be.status<=299&&Be.data)W.success&&W.success(Be.data,Be.statusText,Be.url),W.complete&&W.complete(ue,Be.statusText);else{try{Be.status===404&&K.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&ue.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE&&k.getRetryAttemptsForType(se.HTTPRequest.MEDIA_SEGMENT_TYPE)===Ie&&U.trigger(m.default.ATTEMPT_BACKGROUND_SYNC)}catch{}ge()}}))},Pe=function(){ue.startDate=X,ue.endDate=new Date,ue.firstByteDate=ue.firstByteDate||X},te=function(){Be.resourceTiming.responseEnd=Date.now(),(function(zt,mn){if(!K.get().streaming.abr.throughput.useResourceTimingApi||typeof performance>"u"||zt.range)return;const Nn=performance.getEntriesByType?.("resource");if(Nn===void 0||Nn.length<=0)return;let ri=0,jn=null;for(;ri<Nn.length;){if(Nn[ri].name===zt.url){jn=Nn[ri];break}ri+=1}(function(Bn){return Bn&&!isNaN(Bn.responseStart)&&Bn.responseStart>0&&!isNaN(Bn.responseEnd)&&Bn.responseEnd>0&&!isNaN(Bn.transferSize)&&Bn.transferSize>0})(jn)&&(zt.customData.request.resourceTimingValues=jn,mn.resourceTiming.startTime=jn.startTime,mn.resourceTiming.encodedBodySize=jn.encodedBodySize,mn.resourceTiming.responseStart=jn.startTime,mn.resourceTiming.responseEnd=jn.responseEnd,mn.resourceTiming.duration=jn.duration)})(je,Be)},oe=function(zt,mn,Nn){return new Promise((ri=>{(function(jn){const Bn=me.getRequestInterceptors();return Bn?Bn.reduce(((Hn,at)=>Hn.then((Ot=>at(Ot)))),Promise.resolve(jn)):Promise.resolve(jn)})(mn).then((jn=>{(mn=jn).customData.onloadend=le,mn.customData.onprogress=Ce,mn.customData.onabort=we,mn.customData.ontimeout=Le,Nn.resourceTiming.startTime=Date.now(),zt.load(mn,Nn),ri()}))}))},ge=function(){if(Ie>0){Ie--,W&&W.request&&(W.request.retryAttempts+=1);let zt={config:W};j.push(zt),zt.timeout=setTimeout((function(){j.indexOf(zt)!==-1&&(j.splice(j.indexOf(zt),1),V(W,Ie))}),k.getRetryIntervalsForType(ue.type))}else{if(ue.type===se.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;S.error(new En.default(Z[ue.type],ue.url+" is not available",{request:ue,response:Be})),W.error&&W.error(ue,"error",Be.statusText,Be),W.complete&&W.complete(ue,Be.statusText)}},ue=W.request,de=[];let Ee,X,_e,ke,Oe,je,Be;if(ue.bytesLoaded=NaN,ue.bytesTotal=NaN,ue.firstByteDate=null,ue.traces=[],Ee=!0,X=new Date,_e=X,ke=0,Oe=null,!R||!S)throw new Error("config object is not correct or missing");const Ze=(function(zt){let mn,Nn;return!zt.isPartialSegmentRequest&&zt.hasOwnProperty("availabilityTimeComplete")&&zt.availabilityTimeComplete===!1&&window.fetch&&zt.responseType==="arraybuffer"&&zt.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE?(fe||(fe=wi(_).create(),fe.setConfig({dashMetrics:R,boxParser:L})),mn=fe,Nn=p.default.FILE_LOADER_TYPES.FETCH):(J||(J=An(_).create()),mn=J,Nn=p.default.FILE_LOADER_TYPES.XHR),{loader:mn,fileLoaderType:Nn}})(ue),mt=Ze.loader;var St;ue.fileLoaderType=Ze.fileLoaderType,ue.headers={},(function(zt){const mn=zt?.serviceLocation,Nn=zt?.mediaInfo?.id?.toString();if(Re.isServiceLocationIncluded(zt.type,mn)&&Re.isAdaptationsIncluded(Nn)&&ie.isCmcdEnabled()){const ri=ie.getCmcdParametersFromManifest(),jn=ri.mode?ri.mode:K.get().streaming.cmcd.mode;if(jn===p.default.CMCD_MODE_QUERY){zt.url=vt.default.removeQueryParameterFromUrl(zt.url,p.default.CMCD_QUERY_KEY);const Bn=(function(Hn){try{const at=[],Ot=ie.getQueryParameter(Hn);return Ot&&at.push(Ot),at}catch{return[]}})(zt);zt.url=vt.default.addAdditionalQueryParameterToUrl(zt.url,Bn)}else jn===p.default.CMCD_MODE_HEADER&&(zt.headers=Object.assign(zt.headers,ie.getHeaderParameters(zt)))}})(St=ue),St.retryAttempts===0&&(function(zt){let mn=ne.getFinalQueryString(zt);mn&&(zt.url=vt.default.addAdditionalQueryParameterToUrl(zt.url,mn))})(St),(function(zt){if(zt.queryParams){const mn=Object.keys(zt.queryParams).map((Nn=>({key:Nn,value:zt.queryParams[Nn]})));zt.url=vt.default.addAdditionalQueryParameterToUrl(zt.url,mn)}})(St),(function(zt){const mn=pe.getCommonAccessTokenForUrl(zt.url);mn&&(zt.headers[p.default.COMMON_ACCESS_TOKEN_HEADER]=mn)})(St),ue.range&&(ue.headers.Range="bytes="+ue.range);const Ht=me.getXHRWithCredentialsForType(ue.type);je=new Au({url:ue.url,method:se.HTTPRequest.GET,responseType:ue.responseType,headers:ue.headers,credentials:Ht?"include":"omit",timeout:B,cmcd:ie.getCmcdData(ue),customData:{request:ue}}),Be=new wu({request:je,resourceTiming:{startTime:Date.now(),encodedBodySize:0},status:0});let vn=new Date().getTime();if(isNaN(ue.delayLoadingTime)||vn>=ue.delayLoadingTime)return D.push(je),oe(mt,je,Be);{let zt={httpRequest:je,httpResponse:Be};return q.push(zt),zt.delayTimeout=setTimeout((function(){if(q.indexOf(zt)!==-1){q.splice(q.indexOf(zt),1);try{X=new Date,_e=X,D.push(zt.httpRequest),oe(mt,zt.httpRequest,zt.httpResponse)}catch{zt.httpRequest.onloadend()}}}),ue.delayLoadingTime-vn),Promise.resolve()}}return Y={abort:function(){j.forEach((W=>{clearTimeout(W.timeout),W.config.request&&W.config.abort&&W.config.abort(W.config.request)})),j=[],q.forEach((W=>clearTimeout(W.delayTimeout))),q=[],D.forEach((W=>{const Ie=W.customData;Ie&&(Ie.request&&Ie.request.type===se.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE||(Ie.onloadend=Ie.onprogress=void 0,Ie.abort&&Ie.abort()))})),D=[]},load:function(W){return W.request?V(W,k.getRetryAttemptsForType(W.request.type)):(W.error&&W.error(W.request,"error"),Promise.resolve())},reset:function(){D=[],q=[],j=[],J&&J.reset(),fe&&fe.reset(),J=null,fe=null},resetInitialSettings:function(){J&&J.resetInitialSettings()},setConfig:function(W){W&&(W.commonAccessTokenController&&(pe=W.commonAccessTokenController),W.extUrlQueryInfoController&&(ne=W.extUrlQueryInfoController))}},Q=(0,l.default)(_).getInstance().getLogger(Y),D=[],q=[],j=[],ie=CE(_).getInstance(),Re=NE(_).getInstance(),ae=ap(_).getInstance(),me=(0,Rh.default)(_).getInstance(),pe=bA(_).getInstance(),ne=sp(_).getInstance(),Z={[se.HTTPRequest.MPD_TYPE]:$.DOWNLOAD_ERROR_ID_MANIFEST_CODE,[se.HTTPRequest.XLINK_EXPANSION_TYPE]:$.DOWNLOAD_ERROR_ID_XLINK_CODE,[se.HTTPRequest.INIT_SEGMENT_TYPE]:$.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE,[se.HTTPRequest.MEDIA_SEGMENT_TYPE]:$.DOWNLOAD_ERROR_ID_CONTENT_CODE,[se.HTTPRequest.INDEX_SEGMENT_TYPE]:$.DOWNLOAD_ERROR_ID_CONTENT_CODE,[se.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:$.DOWNLOAD_ERROR_ID_CONTENT_CODE,[se.HTTPRequest.OTHER_TYPE]:$.DOWNLOAD_ERROR_ID_CONTENT_CODE},Y}OE.__dashjs_factory_name="HTTPLoader";var Ih=i.default.getClassFactory(OE);function op(){let T,_;function S(){_={}}function R(){S()}return R(),T={getLoader:function(k){for(var L in _)if(_.hasOwnProperty(L)&&k.startsWith(L))return _[L];return Ih},registerLoader:function(k,L){_[k]=L},unregisterLoader:function(k){_[k]&&delete _[k]},unregisterAllLoader:S,reset:R},T}op.__dashjs_factory_name="SchemeLoaderFactory";var lp=i.default.getSingletonFactory(op);function kh(T){T=T||{};const _=this.context;let S,R,k;return R=lp(_).getInstance(),S={abort:function(){k&&k.abort()},load:function(L){k||(k=R.getLoader(L&&L.request?L.request.url:null)(_).create({errHandler:T.errHandler,mediaPlayerModel:T.mediaPlayerModel,dashMetrics:T.dashMetrics,boxParser:T.boxParser?T.boxParser:null,constants:T.constants?T.constants:null,dashConstants:T.dashConstants?T.dashConstants:null,urlUtils:T.urlUtils?T.urlUtils:null,requestTimeout:isNaN(T.requestTimeout)?0:T.requestTimeout,errors:T.errors})),k.load(L)},reset:function(){R&&(R.reset(),R=null),k&&typeof k.reset=="function"&&k.reset(),k=null},resetInitialSettings:function(){k&&typeof k.resetInitialSettings=="function"&&k.resetInitialSettings()}},S}kh.__dashjs_factory_name="URLLoader";var Rl=i.default.getClassFactory(kh),PE=class{constructor(T){this.url=T||null,this.type=se.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"}},UE=class{constructor(){this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]}};function up(){const T=this.context,_=Oi(T).getInstance();let S,R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae,J;function fe(we){Re(we,"baseUrl")}function me(we){Re(we,"location")}function pe(we){var Le,Ge;we&&we.throughputValues&&we.throughputValues.serviceLocation&&(Le=we.throughputValues.serviceLocation,Ge=we.throughputValues,ie[Le]||(ie[Le]=[]),ie[Le].push(Ge),ie[Le].length>4&&ie[Le].shift())}function Re(we,Le){if(we&&we.request&&we.request.serviceLocation){const Ge=we.request.serviceLocation;j[Le].all.indexOf(Ge)===-1&&j[Le].all.push(Ge),j[Le].current=Ge}}function ne(){const we=K.getValue();let Le=S.getContentSteering(we);return Le||(Le=q.getServiceDescriptionSettings().contentSteering),!Le&&R&&(Le=R),R=Le,Le}function Q(){return new Promise((we=>{try{const Le=ne();if(!Le||!Le.serverUrl)return void we();const Ge=(function(te){let oe=te.serverUrl;k&&k.reloadUri&&(oe=_.isRelative(k.reloadUri)?_.resolve(k.reloadUri,te.serverUrl):k.reloadUri);const ge=[],ue=j.baseUrl.all.concat(j.location.all);if(ue.length>0){const de=ue.map((_e=>{const ke=(function(Oe){if(!Oe||!ie[Oe]||ie[Oe].length===0)return-1;const je=Z.getArithmeticMean(ie[Oe],ie[Oe].length,!0);return parseInt(1e3*je)})(_e);return{serviceLocation:_e,throughput:ke}}));let Ee="",X="";de.forEach(((_e,ke)=>{ke!==0&&(Ee+=",",X+=","),Ee+=_e.serviceLocation,X+=_e.throughput>-1?_e.throughput:""})),ge.push({key:"_DASH_pathway",value:`"${Ee}"`}),ge.push({key:"_DASH_throughput",value:X})}return oe=vt.default.addAdditionalQueryParameterToUrl(oe,ge),oe})(Le),Pe=new PE(Ge);ae.load({request:Pe,success:te=>{(function(oe){oe&&oe[xe.default.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(oe[xe.default.CONTENT_STEERING_RESPONSE.VERSION])===1&&(k=new UE,k.version=oe[xe.default.CONTENT_STEERING_RESPONSE.VERSION],oe[xe.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(oe[xe.default.CONTENT_STEERING_RESPONSE.TTL])&&(k.ttl=oe[xe.default.CONTENT_STEERING_RESPONSE.TTL]),oe[xe.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(k.reloadUri=oe[xe.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),oe[xe.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(k.pathwayPriority=oe[xe.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),oe[xe.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(k.pathwayClones=oe[xe.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],k.pathwayClones=k.pathwayClones.filter((ge=>(function(ue){return ue[xe.default.CONTENT_STEERING_RESPONSE.BASE_ID]&&ue[xe.default.CONTENT_STEERING_RESPONSE.ID]&&ue[xe.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&ue[xe.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][xe.default.CONTENT_STEERING_RESPONSE.HOST]})(ge)))),Ie())})(te),B.trigger(y.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:k,url:Ge}),we()},error:(te,oe,ge,ue)=>{(function(de,Ee){try{switch(U.warn("Error fetching data from content steering server",de),Ee.status){case 404:case 410:R=null;break;case 429:const X=Ee&&Ee.getResponseHeader?Ee.getResponseHeader("retry-after"):null;X!==null&&(k||(k={}),k.ttl=parseInt(X)),Ie();break;default:Ie()}}catch(X){U.error(X)}})(te,ue),we(te)},complete:()=>{j.baseUrl.all=V(j.baseUrl),j.location.all=V(j.location)}})}catch(Le){we(Le)}}))}function V(we){return we.all&&we.all.length!==0&&we.current?we.all.filter((Le=>Le===we.current)):[]}function W(we){try{const Le=[];return we&&we.length!==0&&k&&k.pathwayClones&&k.pathwayClones.length!==0&&k.pathwayClones.forEach((Ge=>{let Pe=we.filter((oe=>Ge[xe.default.CONTENT_STEERING_RESPONSE.BASE_ID]===oe.serviceLocation)),te=null;if(Pe&&Pe.length>0&&(te=Pe[0]),te){const oe=new URL(te.url);let ge=Ge[xe.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][xe.default.CONTENT_STEERING_RESPONSE.HOST];ge=vt.default.stringHasProtocol(ge)?ge:`${oe.protocol}//${ge}`;const ue={synthesizedUrl:`${ge}${oe.pathname}`,serviceLocation:Ge[xe.default.CONTENT_STEERING_RESPONSE.ID],queryParams:Ge[xe.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][xe.default.CONTENT_STEERING_RESPONSE.PARAMS],reference:te};Le.push(ue)}})),Le}catch(Le){return U.error(Le),[]}}function Ie(){k&&k.ttl&&!isNaN(k.ttl)&&(D&&clearTimeout(D),D=setTimeout((()=>{Q()}),1e3*k.ttl))}function le(){D&&clearTimeout(D),D=null}function Ce(){k=null,R=null,ie={},j={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},le()}return J={reset:function(){Ce(),B.off(y.default.FRAGMENT_LOADING_STARTED,fe,J),B.off(y.default.MANIFEST_LOADING_STARTED,me,J),B.off(y.default.THROUGHPUT_MEASUREMENT_STORED,pe,J)},setConfig:function(we){we&&(we.adapter&&(S=we.adapter),we.errHandler&&($=we.errHandler),we.dashMetrics&&(L=we.dashMetrics),we.mediaPlayerModel&&(Y=we.mediaPlayerModel),we.manifestModel&&(K=we.manifestModel),we.serviceDescriptionController&&(q=we.serviceDescriptionController),we.throughputController&&(Z=we.throughputController),we.eventBus&&(B=we.eventBus))},loadSteeringData:Q,getCurrentSteeringResponseData:function(){return k},shouldQueryBeforeStart:function(){const we=ne();return!!we&&we.queryBeforeStart},getSteeringDataFromManifest:ne,stopSteeringRequestTimer:le,getSynthesizedBaseUrlElements:function(we){try{return W(we).map((Le=>{const Ge=new ua(Le.synthesizedUrl,Le.serviceLocation);return Ge.queryParams=Le.queryParams,Ge.dvbPriority=Le.reference.dvbPriority,Ge.dvbWeight=Le.reference.dvbWeight,Ge.availabilityTimeOffset=Le.reference.availabilityTimeOffset,Ge.availabilityTimeComplete=Le.reference.availabilityTimeComplete,Ge}))}catch(Le){return U.error(Le),[]}},getSynthesizedLocationElements:function(we){try{return W(we).map((Le=>{const Ge=new so(Le.synthesizedUrl,Le.serviceLocation);return Ge.queryParams=Le.queryParams,Ge}))}catch(Le){return U.error(Le),[]}},initialize:function(){ae=Rl(T).create({errHandler:$,dashMetrics:L,mediaPlayerModel:Y,errors:bn}),B.on(y.default.FRAGMENT_LOADING_STARTED,fe,J),B.on(y.default.MANIFEST_LOADING_STARTED,me,J),B.on(y.default.THROUGHPUT_MEASUREMENT_STORED,pe,J)}},U=(0,l.default)(T).getInstance().getLogger(J),Ce(),J}up.__dashjs_factory_name="ContentSteeringController";var cp=i.default.getSingletonFactory(up);function FE(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L=[];function $(U=[],K=[]){let Y=0,D=NaN;for(;Y<U.length;){const q=U[Y],j=K.findIndex((Z=>Z.serviceLocation&&Z.serviceLocation===q));if(j!==-1&&!k.contains(K[j].serviceLocation)){D=j;break}Y+=1}return D}function B(U){const K=R.getCurrentSteeringResponseData();if(!K)return;const Y=U.entry,D=setTimeout((()=>{k.remove(Y),L.splice(L.indexOf(D,1))}),1e3*K.ttl);L.push(D)}return S={selectBaseUrlIndex:function(U){let K=NaN;if(isNaN(U.selectedIdx)){const D=R.getSteeringDataFromManifest();D&&D.defaultServiceLocationArray.length>0&&(K=$(D.defaultServiceLocationArray,U.baseUrls))}const Y=R.getCurrentSteeringResponseData();return U.baseUrls&&U.baseUrls.length&&Y&&Y.pathwayPriority&&Y.pathwayPriority.length&&(K=$(Y.pathwayPriority,U.baseUrls)),K},setConfig:function(U){U.blacklistController&&(k=U.blacklistController),U.contentSteeringController&&(R=U.contentSteeringController),_.on(U.addBlacklistEventName,B,S)},reset:function(){L.forEach((U=>clearTimeout(U))),L=[]}},R=cp(T).getInstance(),S}FE.__dashjs_factory_name="ContentSteeringSelector";var _A=i.default.getClassFactory(FE);function BE(){const T=this.context,_=(0,g.default)(T).getInstance(),S=(0,c.default)(T).getInstance();let R,k,L,$,B,U;function K(){B.reset(),k.reset()}return R={chooseSelector:function(Y){(0,Ut.checkParameterType)(Y,"boolean"),U=Y?$:L},select:function(Y){if(!Y)return;if(S.get().streaming.applyContentSteering){const q=B.selectBaseUrlIndex(Y);isNaN(q)||q===-1||(Y.selectedIdx=q)}if(!isNaN(Y.selectedIdx))return Y.baseUrls[Y.selectedIdx];let D=U.select(Y.baseUrls);return D?(Y.selectedIdx=Y.baseUrls.indexOf(D),D):(_.trigger(m.default.URL_RESOLUTION_FAILED,{error:new En.default(bn.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,bn.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(U===L&&K()))},reset:K,setConfig:function(Y){Y.selector&&(U=Y.selector),Y.contentSteeringSelector&&(B=Y.contentSteeringSelector)}},k=xn(T).create({updateEventName:m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),L=Ai(T).create({blacklistController:k}),$=qn(T).create({blacklistController:k}),B=_A(T).create(),B.setConfig({blacklistController:k,addBlacklistEventName:m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),U=L,R}BE.__dashjs_factory_name="BaseURLSelector";var TA=i.default.getClassFactory(BE);function Jr(){let T,_;const S=this.context,R=(0,g.default)(S).getInstance(),k=Oi(S).getInstance();let L,$,B;function U(Y){L.update(Y),$.chooseSelector(_.getIsDVB(Y)),R.trigger(y.default.BASE_URLS_UPDATED,{baseUrls:K(Y)})}function K(Y){return L.getBaseUrls(Y)}return T={reset:function(){L.reset(),$.reset()},initialize:function(Y){L.setConfig({adapter:_,contentSteeringController:B}),U(Y)},resolve:function(Y){const D=L.getForPath(Y).reduce(((q,j)=>{const Z=$.select(j);return Z?(k.isRelative(Z.url)?q.url=k.resolve(Z.url,q.url):(q.url=Z.url,q.serviceLocation=Z.serviceLocation),q.availabilityTimeOffset=Z.availabilityTimeOffset,q.availabilityTimeComplete=Z.availabilityTimeComplete,q.queryParams=Z.queryParams,q):new ua}),new ua);if(!k.isRelative(D.url))return D},setConfig:function(Y){Y.baseURLTreeModel&&(L=Y.baseURLTreeModel),Y.baseURLSelector&&($=Y.baseURLSelector),Y.adapter&&(_=Y.adapter),Y.contentSteeringController&&(B=Y.contentSteeringController)},getBaseUrls:K,update:U},L=Wt(S).create(),$=TA(S).create(),R.on(m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,(function(Y){L.invalidateSelectedIndexes(Y.entry)}),T),T}Jr.__dashjs_factory_name="BaseURLController";var nf=i.default.getClassFactory(Jr);class xh{constructor(_){if(this.offset=_._offset,this.type=_.type,this.size=_.size,this.boxes=[],_.boxes)for(let S=0;S<_.boxes.length;S++)this.boxes.push(new xh(_.boxes[S]));switch(this.isComplete=!0,_.type){case"sidx":if(this.timescale=_.timescale,this.earliest_presentation_time=_.earliest_presentation_time,this.first_offset=_.first_offset,this.references=_.references,_.references){this.references=[];for(let S=0;S<_.references.length;S++){let R={reference_type:_.references[S].reference_type,referenced_size:_.references[S].referenced_size,subsegment_duration:_.references[S].subsegment_duration};this.references.push(R)}}break;case"emsg":this.id=_.id,this.version=_.version===1?1:0,this.value=_.value,this.timescale=_.timescale,this.scheme_id_uri=_.scheme_id_uri,this.presentation_time_delta=_.version===1?_.presentation_time:_.presentation_time_delta,this.event_duration=_.event_duration,this.message_data=_.message_data;break;case"mdhd":this.timescale=_.timescale;break;case"mfhd":this.sequence_number=_.sequence_number;break;case"subs":this.entry_count=_.entry_count,this.entries=_.entries;break;case"tfhd":this.base_data_offset=_.base_data_offset,this.sample_description_index=_.sample_description_index,this.default_sample_duration=_.default_sample_duration,this.default_sample_size=_.default_sample_size,this.default_sample_flags=_.default_sample_flags,this.flags=_.flags;break;case"tfdt":this.version=_.version,this.baseMediaDecodeTime=_.baseMediaDecodeTime,this.flags=_.flags;break;case"trun":if(this.sample_count=_.sample_count,this.first_sample_flags=_.first_sample_flags,this.data_offset=_.data_offset,this.flags=_.flags,this.samples=_.samples,_.samples){this.samples=[];for(let S=0,R=_.samples.length;S<R;S++){let k={sample_size:_.samples[S].sample_size,sample_duration:_.samples[S].sample_duration,sample_composition_time_offset:_.samples[S].sample_composition_time_offset};this.samples.push(k)}}break;case"prft":this.version=_.version,this.reference_track_ID=_.reference_track_ID,this.ntp_timestamp_sec=_.ntp_timestamp_sec,this.ntp_timestamp_frac=_.ntp_timestamp_frac,this.media_time=_.media_time,this.flags=_.flags}}getChildBox(_){for(let S=0;S<this.boxes.length;S++)if(this.boxes[S].type===_)return this.boxes[S]}getChildBoxes(_){let S=[];for(let R=0;R<this.boxes.length;R++)this.boxes[R].type===_&&S.push(this.boxes[R]);return S}}var zE=xh;function dp(){let T,_;function S(k){let L=[];if(!k||!_||typeof _.fetchAll!="function")return L;let $,B=_.fetchAll(k);for(let U=0,K=B.length;U<K;U++)$=R(B[U]),$&&L.push($);return L}function R(k){if(!k)return null;let L=new zE(k);return k.hasOwnProperty("_incomplete")&&(L.isComplete=!k._incomplete),L}return T={getBox:function(k){return k&&_&&_.boxes&&_.boxes.length!==0&&typeof _.fetch=="function"?R(_.fetch(k)):null},getBoxes:S,setData:function(k){_=k},getLastBox:function(){if(!_||!_.boxes||!_.boxes.length)return null;let k=S(_.boxes[_.boxes.length-1].type);return k.length>0?k[k.length-1]:null}},T}dp.__dashjs_factory_name="IsoFile";var $E=i.default.getClassFactory(dp),Ru=t(6877),fp=class{constructor({found:T,sizeOfLastCompletedBox:_,sizeOfLastFoundTargetBox:S,startOffsetOfLastCompletedBox:R,startOffsetOfLastFoundTargetBox:k,typeOfLastCompletedBox:L,typeOfLastTargetBox:$}){this.found=T!==void 0&&T,this.sizeOfLastCompletedBox=_!==void 0?_:0,this.sizeOfLastFoundTargetBox=S!==void 0?S:0,this.startOffsetOfLastCompletedBox=R!==void 0?R:0,this.startOffsetOfLastFoundTargetBox=k!==void 0?k:0,this.typeOfLastCompletedBox=L!==void 0?L:null,this.typeOfLastTargetBox=$!==void 0?$:null}};function Iu(){let T,_,S=this.context;function R($){if(!$)return null;$.fileStart===void 0&&($.fileStart=0);let B=Ru.parseBuffer($),U=$E(S).create();return U.setData(B),U}function k($,B){return $[B+3]>>>0|$[B+2]<<8>>>0|$[B+1]<<16>>>0|$[B]<<24>>>0}function L($,B){return String.fromCharCode($[B++])+String.fromCharCode($[B++])+String.fromCharCode($[B++])+String.fromCharCode($[B])}return _={findInitRange:function($){let B,U,K=null;const Y=R($);if(!Y)return K;const D=Y.getBox("ftyp"),q=Y.getBox("moov");return T.debug("Searching for initialization."),q&&q.isComplete&&(B=D?D.offset:q.offset,U=q.offset+q.size-1,K=B+"-"+U,T.debug("Found the initialization.  Range: "+K)),K},findLastTopIsoBoxCompleted:function($,B,U){if(U===void 0&&(U=0),!B||U+8>=B.byteLength)return new fp({found:!1});const K=B instanceof ArrayBuffer?new Uint8Array(B):B;let Y,D=0,q=0,j=null;for(;U<K.byteLength;){const Z=k(K,U),ie=L(K,U+4);if(Z===0)break;U+Z<=K.byteLength&&($.indexOf(ie)>=0?Y=new fp({found:!0,startOffsetOfLastFoundTargetBox:U,sizeOfLastFoundTargetBox:Z,typeOfLastTargetBox:ie}):(D=U,q=Z,j=ie)),U+=Z}return Y||new fp({found:!1,startOffsetOfLastCompletedBox:D,sizeOfLastCompletedBox:q,typeOfLastCompletedBox:j})},getMediaTimescaleFromMoov:function($){let B=R($),U=B?B.getBox("mdhd"):void 0;return U?U.timescale:NaN},getSamplesInfo:function($){if(!$||$.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};let B,U,K,Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V=R($),W=V.getBoxes("moof"),Ie=V.getBoxes("mfhd");ne=V.getBoxes("moof").length,Re=Ie[Ie.length-1].sequence_number,K=0,q=[];let le=-1,Ce=-1;for(J=0;J<W.length;J++){let we=W[J],Le=we.getChildBoxes("traf");for(ie=0;ie<Le.length;ie++){let Ge=Le[ie],Pe=Ge.getChildBox("tfhd"),te=Ge.getChildBox("tfdt");D=te.baseMediaDecodeTime;let oe=Ge.getChildBoxes("trun"),ge=Ge.getChildBoxes("subs");for(ae=0;ae<oe.length;ae++){let ue=oe[ae];for(K=ue.sample_count,pe=(Pe.base_data_offset||0)+(ue.data_offset||0),Z=0;Z<K;Z++){j=ue.samples[Z],B=j.sample_duration!==void 0?j.sample_duration:Pe.default_sample_duration,Y=j.sample_size!==void 0?j.sample_size:Pe.default_sample_size,U=j.sample_composition_time_offset!==void 0?j.sample_composition_time_offset:0;let de={dts:D,cts:D+U,duration:B,offset:we.offset+pe,size:Y,subSizes:[Y]};if(ge)for(fe=0;fe<ge.length;fe++){let Ee=ge[fe];if(le<Ee.entry_count-1&&Z>Ce&&(le++,Ce+=Ee.entries[le].sample_delta),Z==Ce){de.subSizes=[];let X=Ee.entries[le];for(me=0;me<X.subsample_count;me++)de.subSizes.push(X.subsamples[me].subsample_size)}}q.push(de),pe+=Y,D+=B}}Q=D-te.baseMediaDecodeTime}}return{sampleList:q,lastSequenceNumber:Re,totalDuration:Q,numSequences:ne}},parse:R},T=(0,l.default)(S).getInstance().getLogger(_),_}Iu.__dashjs_factory_name="BoxParser";var wc=i.default.getSingletonFactory(Iu),Rc=t(559);const af={0:void 0,1:{channels:1,lfe:0},2:{channels:2,lfe:0},3:{channels:3,lfe:0},4:{channels:4,lfe:0},5:{channels:5,lfe:0},6:{channels:5,lfe:1},7:{channels:7,lfe:1},8:{channels:2,lfe:0},9:{channels:3,lfe:0},10:{channels:4,lfe:0},11:{channels:6,lfe:1},12:{channels:7,lfe:1},13:{channels:22,lfe:2},14:{channels:7,lfe:1},15:{channels:10,lfe:2},16:{channels:9,lfe:1},17:{channels:11,lfe:1},18:{channels:13,lfe:1},19:{channels:11,lfe:1},20:{channels:13,lfe:1}};function hp(T){return T==0?0:T.toString(2).match(/1/g).length}function Ho(T,_){let S,R=parseInt("0x"+T,16),k=R&_[0],L=R&_[1];return S=hp(k)+2*hp(L),S}var ku=function(T,_=!1){let S;if(!T||!T.schemeIdUri||!T.value)return;const R=T.schemeIdUri,k=T.value;return R==="urn:mpeg:dash:23003:3:audio_channel_configuration:2011"||R==="urn:mpeg:mpegB:cicp:ChannelConfiguration"?S=af[k]&&af[k].channels+(_?af[k].lfe:0):R==="tag:dolby.com,2014:dash:audio_channel_configuration:2011"?S=(function(L,$){if(L.length===4)return Ho(L,[63880+($?6:0),1648])})(k,_):R==="tag:dolby.com,2015:dash:audio_channel_configuration:2015"?S=(function(L,$){if(L.length===6)return L==="800000"?24:Ho(L,[56834+($?4160:0),205245])})(k,_):R==="tag:dts.com,2014:dash:audio_channel_configuration:2012"?S=parseInt(k):R==="tag:dts.com,2018:uhd:audio_channel_configuration"&&(S=(function(L,$){if(!(L.length>8))return Ho(L,[4294901727+($?65568:0),0])})(k,_)),S};function Ch(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L,$,B,U;function K(J,fe,me,pe=void 0){const Re=D(J,fe,me,pe);return k.isCodecSupportedBasedOnTestedConfigurations(Re,J)}function Y(J,fe,me,pe,Re,ne=void 0){const Q=D(J,fe,me,ne),V=JSON.stringify(Q);pe.has(V)||(pe.add(V),Re.push(Q))}function D(J,fe,me,pe){let Re=null;switch(J){case p.default.VIDEO:Re=(function(ne,Q,V){let W={codec:Q,width:ne&&ne.width||null,height:ne&&ne.height||null,framerate:R.getFramerate(ne)||null,bitrate:ne&&ne.bandwidth||null,isSupported:!0};if(ne.tagName===xe.default.PRESELECTION&&V&&(W.width||(W.width=V.width||null),W.height||(W.height=V.height||null),W.bitrate||(W.bitrate=V.bandwidth||null),W.framerate||(W.framerate=R.getFramerate(V)||null)),L.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&(Object.assign(W,j(ne)),ne.tagName===xe.default.PRESELECTION&&V)){let Ce=j(V),we=Ce.isSupported;delete Ce.isSupported,W.isSupported=W.isSupported&&we,q(W,Ce)}let Ie=W.isSupported;if(L.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&(Object.assign(W,Z(ne)),ne.tagName===xe.default.PRESELECTION&&V)){let Ce=Z(V),we=Ce.isSupported;delete Ce.isSupported,W.isSupported=W.isSupported&&we,q(W,Ce)}let le=W.isSupported;return Ie&&le||(W.isSupported=!1),W})(fe,me,pe);break;case p.default.AUDIO:Re=(function(ne,Q,V){let W={codec:Q,samplerate:ne&&ne.audioSamplingRate||null,bitrate:ne&&ne.bandwidth||null,isSupported:!0};return ne.tagName===xe.default.PRESELECTION&&V&&(W.samplerate||(W.samplerate=V.audioSamplingRate||null),W.bitrate||(W.bitrate=V.bandwidth||null)),L.get().streaming.capabilities.filterAudioChannelConfiguration&&Object.assign(W,(function(Ie,le){let Ce=Ie[xe.default.AUDIO_CHANNEL_CONFIGURATION]||[],we=null;Ce.length==0&&le&&(Ce=le[xe.default.AUDIO_CHANNEL_CONFIGURATION]||[]);const Le=Ce.map((Ge=>ku(Ge,!0)));return Le.every((Ge=>Ge==Le[0]))&&(we=Le[0]),{channels:we}})(ne,V)),W})(fe,me,pe);break;default:return Re}return pe&&(Re=ie(pe,Re)),ie(fe,Re)}function q(J,fe){for(const me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&!(me in J)&&(J[me]=fe[me]);return J}function j(J){let fe={colorGamut:null,transferFunction:null,isSupported:!0};for(const me of J.EssentialProperty||[])me.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["1","5","6","7"].includes(me.value.toString())?fe.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.SRGB:me.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["11","12"].includes(me.value.toString())?fe.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.P3:me.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["9"].includes(me.value.toString())?fe.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.REC2020:me.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["2"].includes(me.value.toString())?fe.colorGamut=null:me.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&(fe.isSupported=!1),me.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["1","6","13","14","15"].includes(me.value.toString())?fe.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.SRGB:me.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["16"].includes(me.value.toString())?fe.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.PQ:me.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["18"].includes(me.value.toString())?fe.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.HLG:me.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["2"].includes(me.value.toString())?fe.transferFunction=null:me.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&(fe.isSupported=!1);return fe}function Z(J){let fe={isSupported:!0,hdrMetadataType:null};for(const me of J.EssentialProperty||[])me.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&me.value===p.default.HDR_METADATA_FORMAT_VALUES.ST2094_10?fe.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_10:me.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&me.value===p.default.HDR_METADATA_FORMAT_VALUES.SL_HDR2?fe.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SLHDR2:me.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&me.value===p.default.HDR_METADATA_FORMAT_VALUES.ST2094_40?fe.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_40:me.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&(fe.isSupported=!1);return fe}function ie(J,fe){return B&&J&&J[xe.default.CONTENT_PROTECTION]&&J[xe.default.CONTENT_PROTECTION].length>0&&(fe.keySystemsMetadata=B.getSupportedKeySystemMetadataFromContentProtection(J[xe.default.CONTENT_PROTECTION])),fe}function ae(J){if(!J||J.length===0)return!0;let fe=0;for(;fe<J.length;){if(!k.supportsEssentialProperty(J[fe]))return U.debug("[Stream] EssentialProperty not supported: "+J[fe].schemeIdUri),!1;fe+=1}return!0}return S={setConfig:function(J){J&&(J.adapter&&(R=J.adapter),J.capabilities&&(k=J.capabilities),J.settings&&(L=J.settings),J.protectionController&&(B=J.protectionController),J.customParametersModel&&($=J.customParametersModel))},filterUnsupportedFeatures:function(J){return new Promise((fe=>{const me=[p.default.VIDEO,p.default.AUDIO],pe=[];me.forEach((Re=>{(function(Q,V){if(!Q||!Q.Period||Q.Period.length===0)return[];const W=new Set,Ie=[];return Q.Period.forEach((le=>{le.AdaptationSet.forEach((Ce=>{R.getIsTypeOf(Ce,V)&&Ce.Representation.forEach(((we,Le)=>{const Ge=R.getCodec(Ce,Le,!1);Y(V,we,Ge,W,Ie);const Pe=R.getSupplementalCodecs(we);Pe.length>0&&Y(V,we,Pe[0],W,Ie)}))})),le.Preselection&&le.Preselection.length&&le.Preselection.forEach((Ce=>{if(R.getPreselectionIsTypeOf(Ce,le.AdaptationSet,V)){const we=R.getCodecForPreselection(Ce,le.AdaptationSet),Le=R.getCommonRepresentationForPreselection(Ce,le.AdaptationSet);Y(V,Ce,we,W,Ie,Le)}}))})),Ie})(J,Re).forEach((Q=>{pe.push(k.runCodecSupportCheck(Q,Re))}))})),Promise.allSettled(pe).then((()=>(me.forEach((Re=>{(function(ne,Q){Q&&Q.Period&&Q.Period.length!==0&&Q.Period.forEach((V=>{(function(W,Ie){W&&W.AdaptationSet&&W.AdaptationSet.length!==0&&(W.AdaptationSet=W.AdaptationSet.filter((le=>{R.getIsTypeOf(le,Ie)&&(function(we,Le){we.Representation&&we.Representation.length!==0&&(we.Representation=we.Representation.filter(((Ge,Pe)=>{const te=R.getCodec(we,Pe,!1),oe=K(Le,Ge,te);let ge=(function(ue,de){let Ee=!1;const X=R.getSupplementalCodecs(ue);return X.length>0&&(X.length>1&&U.warn("[CapabilitiesFilter] Multiple supplemental codecs not supported; using the first in list"),Ee=K(de,ue,X[0])),Ee})(Ge,Le);return ge&&(U.debug(`[CapabilitiesFilter] Codec supported. Upgrading codecs string of Representation with ID ${Ge.id}`),Ge.codecs=Ge[xe.default.SUPPLEMENTAL_CODECS]),oe||ge||U.warn(`[CapabilitiesFilter] Codec ${te} not supported. Removing Representation with ID ${Ge.id}`),oe||ge})))})(le,Ie);const Ce=le.Representation&&le.Representation.length>0;return Ce||(_.trigger(m.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:le}),U.warn(`[CapabilitiesFilter] AdaptationSet with ID ${le.id?le.id:"undefined"} and codec ${le.codecs?le.codecs:"undefined"} has been removed because of no supported Representation`)),Ce})))})(V,ne),(function(W,Ie){W&&W.Preselection&&W.Preselection.length!==0&&(W.Preselection=W.Preselection.filter((le=>{if(R.getPreselectionIsTypeOf(le,W.AdaptationSet,Ie)){const Ce=R.getCodecForPreselection(le,W.AdaptationSet);let we=!0;if(Ce){let Le=R.getCommonRepresentationForPreselection(le,W.AdaptationSet);we=K(Ie,le,Ce,Le)}return we||U.warn(`[CapabilitiesFilter] Preselection@codecs ${Ce} not supported. Removing Preselection with ID ${le.id}`),we}return!0})))})(V,ne)}))})(Re,J)})),L.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(function(Re){Re&&Re.Period&&Re.Period.length!==0&&Re.Period.forEach((ne=>{ne.AdaptationSet=ne.AdaptationSet.filter((Q=>!Q.Representation||Q.Representation.length===0||!!ae(R.getEssentialProperties(Q))&&(Q.Representation=Q.Representation.filter((V=>ae(R.getEssentialProperties(V)))),Q.Representation&&Q.Representation.length>0))),ne.Preselection&&ne.Preselection.length&&(ne.Preselection=ne.Preselection.filter((Q=>!!ae(R.getEssentialProperties(Q))||(U.warn(`[CapabilitiesFilter] removed Preselection (id: ${Q.id}) with unsupported EssentialProperty`),!1))))}))})(J),(function(Re){Re&&Re.Period&&Re.Period.length!==0&&Re.Period.forEach((ne=>{ne.Preselection&&(ne.Preselection=ne.Preselection.filter((Q=>{const V=String(Q.preselectionComponents).split(" ").length;return V!==1&&U.warn(`Multi-Representation Preselection (id: ${Q.id}) removed as not supported.`),V===1})))}))})(J),(function(Re){Re&&Re.Period&&Re.Period.length!==0&&Re.Period.forEach((ne=>{ne.Preselection&&(ne.Preselection=ne.Preselection.filter((Q=>{const V=String(Q.preselectionComponents).split(" "),W=ne.AdaptationSet.map((Ie=>Ie.id));return V.every((Ie=>W.includes(Ie)))})))}))})(J),(function(Re){if(!Re||!Re.Period||Re.Period.length===0)return Promise.resolve();const ne=[];return Re.Period.forEach((Q=>{ne.push((function(V){return new Promise((W=>{if(!V||!V.AdaptationSet||V.AdaptationSet.length===0)return void W();const Ie=[];V.AdaptationSet.forEach((le=>{Ie.push((function(Ce){return new Promise((we=>{if(!Ce.Representation||Ce.Representation.length===0)return void we();const Le=[];Ce.Representation.forEach((Ge=>{Le.push((function(Pe){const te=[],oe=$.getCustomCapabilitiesFilters();return oe&&oe.length!==0?oe.forEach((ge=>{te.push(new Promise((ue=>ue(ge(Pe)))))})):te.push(Promise.resolve(!0)),Promise.all(te)})(Ge))})),Promise.all(Le).then((Ge=>{Ce.Representation=Ce.Representation.filter(((Pe,te)=>{let oe=Ge[te].every((ge=>ge));return oe||U.debug("[Stream] Representation "+Pe.id+" has been removed because of unsupported CustomFilter"),oe})),we()})).catch((Ge=>{U.warn("[Stream] at least one promise rejected in CustomFilter with error: ",Ge),we()}))}))})(le))})),Promise.all(Ie).then((()=>{V.AdaptationSet=V.AdaptationSet.filter((le=>le.Representation&&le.Representation.length>0)),W()})).catch((()=>{W()}))}))})(Q))})),Promise.all(ne)})(J)))).then((()=>{fe()})).catch((Re=>{U.error(Re),fe()}))}))}},U=(0,l.default)(T).getInstance().getLogger(S),S}Ch.__dashjs_factory_name="CapabilitiesFilter";var qE=i.default.getSingletonFactory(Ch);function Il(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L,$,B,U,K,Y,D;function q(){R=!1;const Re=vt.default.parseUserAgent();k=Re&&Re.browser&&Re.browser.name&&Re.browser.name.toLowerCase()==="safari"}function j(){R=!1}function Z(Re){if(Re.streamId!==B.getActiveStreamInfo().id||!Y)return;const ne=U.getLiveDelay();U.getBufferLevel()>ne/2&&(Y=!1)}function ie(Re){Re.streamId===B.getActiveStreamInfo().id&&(Y=Re.state===o.BUFFER_EMPTY)}function ae(){K.getCatchupModeEnabled()||L.setPlaybackRate(1)}function J(){U.getIsDynamic()&&K.getCatchupModeEnabled()&&(K.getCatchupPlaybackRates().max>0||K.getCatchupPlaybackRates().min<0)&&!U.isPaused()&&!U.isSeeking()&&(function(){try{return!U.getTime()>0||R?!1:me()===p.default.LIVE_CATCHUP_MODE_LOLP?(function(Re,ne){try{return Math.abs(fe())>0||Re<ne}catch{return!1}})(U.getBufferLevel(),$.get().streaming.liveCatchup.playbackBufferMin):(function(){try{return Math.abs(fe())>0}catch{return!1}})()}catch{return!1}})()&&(function(){if(!R&&L){let Re;const ne=L.getPlaybackRate(),Q=K.getCatchupPlaybackRates(),V=U.getBufferLevel(),W=fe(),Ie=K.getCatchupMaxDrift();if(!isNaN(Ie)&&Ie>0&&W>Ie)D.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),R=!0,U.seekToCurrentLive(!0,!1);else{const le=U.getCurrentLiveLatency(),Ce=U.getLiveDelay();Re=me()===p.default.LIVE_CATCHUP_MODE_LOLP?(function(Le,Ge,Pe,te,oe){let ge;if(oe<te){const ue=Math.abs(Le.min),de=5*(oe-te);ge=1-ue+2*ue/(1+Math.pow(Math.E,-de)),D.debug("[LoL+ playback control_buffer-based] bufferLevel: "+oe+", newRate: "+ge)}else{if(Math.abs(Ge-Pe)<=.02*Pe)ge=1;else{const de=Ge-Pe,Ee=de<0?Math.abs(Le.min):Le.max,X=5*de;ge=1-Ee+2*Ee/(1+Math.pow(Math.E,-X))}D.debug("[LoL+ playback control_latency-based] latency: "+Ge+", newRate: "+ge)}return ge})(Q,le,Ce,$.get().streaming.liveCatchup.playbackBufferMin,V):(function(Le,Ge,Pe,te){if(Y)return 1;const oe=Ge-Pe,ge=oe<0?Math.abs(Le.min):Le.max,ue=5*oe;let de=1-ge+2*ge/(1+Math.pow(Math.E,-ue));return U.getPlaybackStalled()&&te<=Pe/2&&oe>0&&(de=1),de})(Q,le,Ce,V);const we=k?.25:.02/(.5/Q.max);(Re&&Math.abs(ne-Re)>=we||Re==1)&&(D.debug(`[CatchupController]: Setting playback rate to ${Re}`),L.setPlaybackRate(Re))}}})()}function fe(){return U.getCurrentLiveLatency()-U.getLiveDelay()}function me(){const Re=$.get().streaming.liveCatchup.playbackBufferMin;return $.get().streaming.liveCatchup.mode!==p.default.LIVE_CATCHUP_MODE_LOLP||Re===null||isNaN(Re)?p.default.LIVE_CATCHUP_MODE_DEFAULT:p.default.LIVE_CATCHUP_MODE_LOLP}function pe(){K.getCatchupPlaybackRates(!0)}return S={reset:function(){_.off(y.default.BUFFER_LEVEL_UPDATED,Z,S),_.off(y.default.BUFFER_LEVEL_STATE_CHANGED,ie,S),_.off(y.default.PLAYBACK_PROGRESS,J,S),_.off(y.default.PLAYBACK_TIME_UPDATED,J,S),_.off(y.default.PLAYBACK_SEEKED,j,S),_.off(m.default.SETTING_UPDATED_CATCHUP_ENABLED,ae,S),_.off(m.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,pe,S),_.off(m.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,pe,S),_.off(y.default.STREAM_INITIALIZED,pe,S),q(),L.setPlaybackRate(1,!0)},setConfig:function(Re){Re&&(Re.settings&&($=Re.settings),Re.videoModel&&(L=Re.videoModel),Re.streamController&&(B=Re.streamController),Re.playbackController&&(U=Re.playbackController),Re.mediaPlayerModel&&(K=Re.mediaPlayerModel))},initialize:function(){_.on(y.default.BUFFER_LEVEL_UPDATED,Z,S),_.on(y.default.BUFFER_LEVEL_STATE_CHANGED,ie,S),_.on(y.default.PLAYBACK_PROGRESS,J,S),_.on(y.default.PLAYBACK_TIME_UPDATED,J,S),_.on(y.default.PLAYBACK_SEEKED,j,S),_.on(m.default.SETTING_UPDATED_CATCHUP_ENABLED,ae,S),_.on(m.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,pe,S),_.on(m.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,pe,S),_.on(y.default.STREAM_INITIALIZED,pe,S),pe()}},D=(0,l.default)(T).getInstance().getLogger(S),q(),S}Il.__dashjs_factory_name="CatchupController";var jE=i.default.getSingletonFactory(Il);const HE=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],mp="dashjs_?_bitrate",GE="dashjs_?_settings",Ic="localStorage",VE="lastBitrate",gp="lastMediaSettings";function pp(T){T=T||{};const _=this.context,S=T.settings;let R,k,L;function $(Y){if(L!==void 0)return L;let D;L=!1;try{typeof window<"u"&&(D=window[Y])}catch(q){return k.warn("DOMStorage access denied: "+q.message),L}if(!D||Y!==Ic)return L;try{D.setItem("1","1"),D.removeItem("1"),L=!0}catch(q){k.warn("DOMStorage is supported, but cannot be used: "+q.message)}return L}function B(){return Math.round(new Date().getTime()/6e5)*6e5}function U(Y,D){return $(Y)&&S.get().streaming[D+"CachingInfo"].enabled}function K(){if(!S)throw new Error(p.default.MISSING_CONFIG_ERROR)}return R={getSavedBitrateSettings:function(Y){if(K(),!S.get().streaming.lastBitrateCachingInfo.enabled)return NaN;let D=NaN;if(U(Ic,VE)){const q=mp.replace(/\?/,Y);try{const j=JSON.parse(localStorage.getItem(q))||{},Z=new Date().getTime()-parseInt(j.timestamp,10)>=S.get().streaming.lastBitrateCachingInfo.ttl||!1,ie=parseFloat(j.bitrate);isNaN(ie)||Z?Z&&localStorage.removeItem(q):(D=ie,k.debug("Last saved bitrate for "+Y+" was "+ie))}catch{return null}}return D},setSavedBitrateSettings:function(Y,D){if(U(Ic,VE)&&D){const q=mp.replace(/\?/,Y);try{localStorage.setItem(q,JSON.stringify({bitrate:D.toFixed(3),timestamp:B()}))}catch(j){k.error(j.message)}}},getSavedMediaSettings:function(Y){if(K(),!S.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;let D=null;if(U(Ic,gp)){const q=GE.replace(/\?/,Y);try{const j=JSON.parse(localStorage.getItem(q))||{},Z=new Date().getTime()-parseInt(j.timestamp,10)>=S.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;D=j.settings,Z&&(localStorage.removeItem(q),D=null)}catch{return null}}return D},setSavedMediaSettings:function(Y,D){if(U(Ic,gp)){const q=GE.replace(/\?/,Y);try{localStorage.setItem(q,JSON.stringify({settings:D,timestamp:B()}))}catch(j){k.error(j.message)}}}},k=(0,l.default)(_).getInstance().getLogger(R),$(Ic)&&HE.forEach((Y=>{const D=localStorage.getItem(Y.oldKey);if(D){localStorage.removeItem(Y.oldKey);try{localStorage.setItem(Y.newKey,D)}catch(q){k.error(q.message)}}})),R}pp.__dashjs_factory_name="DOMStorage";var vp=i.default.getSingletonFactory(pp),es=class{constructor(){this.accessibility=null,this.adaptationSetSwitchingCompatibleIds=[],this.audioChannelConfiguration=null,this.bitrateList=null,this.codec=null,this.contentProtection=null,this.essentialProperties=[],this.id=null,this.index=null,this.isEmbedded=null,this.isFragmented=null,this.isPreselection=!1,this.isText=!1,this.labels=null,this.lang=null,this.mimeType=null,this.normalizedKeyIds=new Set,this.representationCount=0,this.roles=null,this.segmentAlignment=!1,this.segmentSequenceProperties=[],this.selectionPriority=1,this.streamInfo=null,this.subSegmentAlignment=!1,this.supplementalProperties=[],this.type=null,this.viewpoint=null}},rf=class{constructor(){this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isEncrypted=!1}},As=class{constructor(){this.availableFrom=null,this.duration=NaN,this.dvrWindowSize=NaN,this.isDynamic=!1,this.loadedTime=null,this.maxFragmentDuration=null,this.minBufferTime=NaN,this.protocol=null,this.serviceDescriptions=[]}},kc=class{constructor(T){this.valid=T[0]=="/",this.path=T.split("/").filter((_=>_.length!==0)).map((_=>{let S={name:_},R=_.indexOf("[");if(R!=-1){S.name=_.substring(0,R);let k=_.substring(R+1,_.length-1);this.valid=this.valid&&k.indexOf("[")==-1;let L=k.indexOf("=");L!=-1?(S.attribute={name:k.substring(1,L),value:k.substring(L+1)},["'",'"'].indexOf(S.attribute.value[0])!=-1&&(S.attribute.value=S.attribute.value.substring(1,S.attribute.value.length-1))):S.position=parseInt(k,10)-1}return S}))}isValid(){return this.valid}findsElement(){return!this.findsAttribute()}findsAttribute(){return this.path[this.path.length-1].name.startsWith("@")}findsTextReplace(){return this.path[this.path.length-1].name==="text()"}getMpdTarget(T,_){let S=null,R=T,k=1,L="MPD";for(;k<this.path.length&&R!==null;){S=R;let $=this.path[k];if(L=$.name,k!==this.path.length-1||!L.startsWith("@")&&L!=="text()"){let B=S[L]||[];if(B.length===0&&S[L]&&B.push(S[L]),$.position)R=B[$.position]||null;else if($.attribute){let U=$.attribute;R=B.filter((K=>K[U.name]==U.value))[0]||null}else R=Array.isArray(B)?B[0]:B}k++}return R===null?null:L.startsWith("@")?{name:L.substring(1),leaf:R,target:R}:L==="text()"?{name:"__text",leaf:R,target:R}:{name:L,leaf:R,target:_?S:R}}},yp=class{constructor(T,_,S){this.action=T,this.xpath=_,this.value=S,this.position=null}getMpdTarget(T){let _=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(T,_)}};function sf(){let T,_;const S=this.context;return T={getIsPatch:function(R){return R&&R.hasOwnProperty(xe.default.ORIGINAL_MPD_ID)||!1},getMpdId:function(R){return R&&R[xe.default.ORIGINAL_MPD_ID]||null},getOriginalPublishTime:function(R){return R&&R.hasOwnProperty(xe.default.ORIGINAL_PUBLISH_TIME)?new Date(R[xe.default.ORIGINAL_PUBLISH_TIME]):null},getPatchOperations:function(R){return R?(R.__children||[]).map((k=>{const L=k.tagName;if(L!=="add"&&L!=="remove"&&L!=="replace")return _.warn(`Ignoring node of invalid action: ${L}`),null;let $=k.sel;if(L==="add"&&k.type){if(!k.type.startsWith("@"))return _.warn(`Ignoring add action for prefixed namespace declaration: ${k.type}=${k.__text}`),null;$=`${$}/${k.type}`}let B=new kc($);if(!B.isValid())return _.warn(`Ignoring action with invalid selector: ${L} - ${$}`),null;let U=null;B.findsAttribute()||B.findsTextReplace()?U=k.__text||"":L!=="remove"&&(U=k.__children.reduce(((Y,D)=>{let q=D.tagName;return q!=="#text"&&(Y[q]=Y[q]||[],Y[q].push(D)),Y}),{}));let K=new yp(L,B,U);return L==="add"&&(K.position=k.pos),K})).filter((k=>!!k)):[]},getPublishTime:function(R){return R&&R.hasOwnProperty(xe.default.PUBLISH_TIME)?new Date(R[xe.default.PUBLISH_TIME]):null}},_=(0,l.default)(S).getInstance().getLogger(T),T}sf.__dashjs_factory_name="PatchManifestModel";var Dh=i.default.getSingletonFactory(sf);function Go(T={}){let _=[];if(T.irregular)return T.irregular;if(T.regular)return T.regular;if(T.language){_=_.concat(T.language,T.extendedLanguageSubtags||[],T.script||[],T.region||[],T.variants||[]);const S=T.extensions||[];let R=-1;for(;++R<S.length;){const k=S[R];k.singleton&&k.extensions&&k.extensions.length>0&&_.push(k.singleton,...k.extensions)}}return T.privateuse&&T.privateuse.length>0&&_.push("x",...T.privateuse),_.join("-")}function Za(T){const _=typeof T=="string"?T.charCodeAt(0):T;return _>=97&&_<=122||_>=65&&_<=90}function xu(T){const _=typeof T=="string"?T.charCodeAt(0):T;return _>=48&&_<=57}function Fs(T){return Za(T)||xu(T)}const xc=["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"],KE={"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"},cs={}.hasOwnProperty;function fo(T,_={}){const S={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},R=String(T),k=R.toLowerCase();let L=0;if(T==null)throw new Error("Expected string, got `"+T+"`");if(cs.call(KE,k)){const B=KE[k];return _.normalize!==void 0&&_.normalize!==null&&!_.normalize||typeof B!="string"?(S[xc.includes(k)?"regular":"irregular"]=R,S):fo(B)}for(;Za(k.charCodeAt(L))&&L<9;)L++;if(L>1&&L<9){if(S.language=R.slice(0,L),L<4){let B=0;for(;k.charCodeAt(L)===45&&Za(k.charCodeAt(L+1))&&Za(k.charCodeAt(L+2))&&Za(k.charCodeAt(L+3))&&!Za(k.charCodeAt(L+4));){if(B>2)return $(L,3,"Too many extended language subtags, expected at most 3 subtags");S.extendedLanguageSubtags.push(R.slice(L+1,L+4)),L+=4,B++}}for(k.charCodeAt(L)===45&&Za(k.charCodeAt(L+1))&&Za(k.charCodeAt(L+2))&&Za(k.charCodeAt(L+3))&&Za(k.charCodeAt(L+4))&&!Za(k.charCodeAt(L+5))&&(S.script=R.slice(L+1,L+5),L+=5),k.charCodeAt(L)===45&&(Za(k.charCodeAt(L+1))&&Za(k.charCodeAt(L+2))&&!Za(k.charCodeAt(L+3))?(S.region=R.slice(L+1,L+3),L+=3):xu(k.charCodeAt(L+1))&&xu(k.charCodeAt(L+2))&&xu(k.charCodeAt(L+3))&&!xu(k.charCodeAt(L+4))&&(S.region=R.slice(L+1,L+4),L+=4));k.charCodeAt(L)===45;){const B=L+1;let U=B;for(;Fs(k.charCodeAt(U));){if(U-B>7)return $(U,1,"Too long variant, expected at most 8 characters");U++}if(!(U-B>4||U-B>3&&xu(k.charCodeAt(B))))break;S.variants.push(R.slice(B,U)),L=U}for(;k.charCodeAt(L)===45&&k.charCodeAt(L+1)!==120&&Fs(k.charCodeAt(L+1))&&k.charCodeAt(L+2)===45&&Fs(k.charCodeAt(L+3));){let B=L+2,U=0;for(;k.charCodeAt(B)===45&&Fs(k.charCodeAt(B+1))&&Fs(k.charCodeAt(B+2));){const K=B+1;for(B=K+2,U++;Fs(k.charCodeAt(B));){if(B-K>7)return $(B,2,"Too long extension, expected at most 8 characters");B++}}if(!U)return $(B,4,"Empty extension, extensions must have at least 2 characters of content");S.extensions.push({singleton:R.charAt(L+1),extensions:R.slice(L+3,B).split("-")}),L=B}}else L=0;if(L===0&&k.charCodeAt(L)===120||k.charCodeAt(L)===45&&k.charCodeAt(L+1)===120){L=L?L+2:1;let B=L;for(;k.charCodeAt(B)===45&&Fs(k.charCodeAt(B+1));){const U=L+1;for(B=U;Fs(k.charCodeAt(B));){if(B-U>7)return $(B,5,"Too long private-use area, expected at most 8 characters");B++}S.privateuse.push(R.slice(L+1,B)),L=B}}return L!==R.length?$(L,6,"Found superfluous content after tag"):S;function $(B,U,K){return _.warning&&_.warning(K,U,B),_.forgiving?S:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}}function Vo(T,_){return function(S,R){let k=of(S,"tag");const L=of(R??"*","range"),$=[];let B=-1;for(;++B<L.length;){const U=L[B].toLowerCase();if(!_&&U==="*")continue;let K=-1;const Y=[];for(;++K<k.length;)if(T(k[K].toLowerCase(),U)){if(!_)return k[K];$.push(k[K])}else Y.push(k[K]);k=Y}return _?$:void 0}}const Lh=Vo((function(T,_){const S=T.split("-"),R=_.split("-");let k=0,L=0;if(R[L]!=="*"&&S[k]!==R[L])return!1;for(k++,L++;L<R.length;)if(R[L]!=="*"){if(!S[k])return!1;if(S[k]!==R[L]){if(S[k].length===1)return!1;k++}else k++,L++}else L++;return!0}),!0);function of(T,_){const S=T&&typeof T=="string"?[T]:T;if(!S||typeof S!="object"||!("length"in S))throw new Error("Invalid "+_+" `"+S+"`, expected non-empty string");return S}const Ko=[{from:"in",to:"id"},{from:"iw",to:"he"},{from:"ji",to:"yi"},{from:"jw",to:"jv"},{from:"mo",to:"ro"},{from:"scc",to:"sr"},{from:"scr",to:"hr"},{from:"aam",to:"aas"},{from:"adp",to:"dz"},{from:"aue",to:"ktz"},{from:"ayx",to:"nun"},{from:"bgm",to:"bcg"},{from:"bjd",to:"drl"},{from:"ccq",to:"rki"},{from:"cjr",to:"mom"},{from:"cka",to:"cmr"},{from:"cmk",to:"xch"},{from:"coy",to:"pij"},{from:"cqu",to:"quh"},{from:"drh",to:"mn"},{from:"drw",to:"fa-af"},{from:"gav",to:"dev"},{from:"gfx",to:"vaj"},{from:"ggn",to:"gvr"},{from:"gti",to:"nyc"},{from:"guv",to:"duz"},{from:"hrr",to:"jal"},{from:"ibi",to:"opa"},{from:"ilw",to:"gal"},{from:"jeg",to:"oyb"},{from:"kgc",to:"tdf"},{from:"kgh",to:"kml"},{from:"koj",to:"kwv"},{from:"krm",to:"bmf"},{from:"ktr",to:"dtp"},{from:"kvs",to:"gdj"},{from:"kwq",to:"yam"},{from:"kxe",to:"tvd"},{from:"kzj",to:"dtp"},{from:"kzt",to:"dtp"},{from:"lii",to:"raq"},{from:"lmm",to:"rmx"},{from:"meg",to:"cir"},{from:"mst",to:"mry"},{from:"mwj",to:"vaj"},{from:"myt",to:"mry"},{from:"nad",to:"xny"},{from:"ncp",to:"kdz"},{from:"nnx",to:"ngv"},{from:"nts",to:"pij"},{from:"oun",to:"vaj"},{from:"pcr",to:"adx"},{from:"pmc",to:"huw"},{from:"pmu",to:"phr"},{from:"ppa",to:"bfy"},{from:"ppr",to:"lcq"},{from:"pry",to:"prt"},{from:"puz",to:"pub"},{from:"sca",to:"hle"},{from:"skk",to:"oyb"},{from:"tdu",to:"dtp"},{from:"thc",to:"tpo"},{from:"thx",to:"oyb"},{from:"tie",to:"ras"},{from:"tkk",to:"twm"},{from:"tlw",to:"weo"},{from:"tmp",to:"tyj"},{from:"tne",to:"kak"},{from:"tnf",to:"fa-af"},{from:"tsf",to:"taj"},{from:"uok",to:"ema"},{from:"xba",to:"cax"},{from:"xia",to:"acn"},{from:"xkh",to:"waw"},{from:"xsj",to:"suj"},{from:"ybd",to:"rki"},{from:"yma",to:"lrr"},{from:"ymt",to:"mtm"},{from:"yos",to:"zom"},{from:"yuu",to:"yug"},{from:"asd",to:"snz"},{from:"dit",to:"dif"},{from:"llo",to:"ngt"},{from:"myd",to:"aog"},{from:"nns",to:"nbr"},{from:"agp",to:"apf"},{from:"ais",to:"ami"},{from:"ajt",to:"aeb"},{from:"baz",to:"nvo"},{from:"bhk",to:"fbl"},{from:"bic",to:"bir"},{from:"bjq",to:"bzc"},{from:"bkb",to:"ebk"},{from:"blg",to:"iba"},{from:"btb",to:"beb"},{from:"daf",to:"dnj"},{from:"dap",to:"njz"},{from:"djl",to:"dze"},{from:"dkl",to:"aqd"},{from:"drr",to:"kzk"},{from:"dud",to:"uth"},{from:"duj",to:"dwu"},{from:"dwl",to:"dbt"},{from:"elp",to:"amq"},{from:"gbc",to:"wny"},{from:"ggo",to:"esg"},{from:"ggr",to:"gtu"},{from:"gio",to:"aou"},{from:"gli",to:"kzk"},{from:"ill",to:"ilm"},{from:"izi",to:"eza"},{from:"jar",to:"jgk"},{from:"kdv",to:"zkd"},{from:"kgd",to:"ncq"},{from:"kpp",to:"jkm"},{from:"kxl",to:"kru"},{from:"kzh",to:"dgl"},{from:"lak",to:"ksp"},{from:"leg",to:"enl"},{from:"mgx",to:"jbk"},{from:"mnt",to:"wnn"},{from:"mof",to:"xnt"},{from:"mwd",to:"dmw"},{from:"nbf",to:"nru"},{from:"nbx",to:"ekc"},{from:"nln",to:"azd"},{from:"nlr",to:"nrk"},{from:"noo",to:"dtd"},{from:"nxu",to:"bpp"},{from:"pat",to:"kxr"},{from:"rmr",to:"emx"},{from:"sap",to:"aqt"},{from:"sgl",to:"isk"},{from:"smd",to:"kmb"},{from:"snb",to:"iba"},{from:"sul",to:"sgd"},{from:"sum",to:"ulw"},{from:"tgg",to:"bjp"},{from:"thw",to:"ola"},{from:"tid",to:"itd"},{from:"unp",to:"wro"},{from:"wgw",to:"wgb"},{from:"wit",to:"nol"},{from:"wiw",to:"nwo"},{from:"xrq",to:"dmw"},{from:"yen",to:"ynq"},{from:"yiy",to:"yrm"},{from:"zir",to:"scv"},{from:"sgn-br",to:"bzs"},{from:"sgn-co",to:"csn"},{from:"sgn-de",to:"gsg"},{from:"sgn-dk",to:"dsl"},{from:"sgn-fr",to:"fsl"},{from:"sgn-gb",to:"bfi"},{from:"sgn-gr",to:"gss"},{from:"sgn-ie",to:"isg"},{from:"sgn-it",to:"ise"},{from:"sgn-jp",to:"jsl"},{from:"sgn-mx",to:"mfs"},{from:"sgn-ni",to:"ncs"},{from:"sgn-nl",to:"dse"},{from:"sgn-no",to:"nsi"},{from:"sgn-pt",to:"psr"},{from:"sgn-se",to:"swl"},{from:"sgn-us",to:"ase"},{from:"sgn-za",to:"sfs"},{from:"sgn-es",to:"ssp"},{from:"zh-cmn",to:"zh"},{from:"zh-cmn-hans",to:"zh-hans"},{from:"zh-cmn-hant",to:"zh-hant"},{from:"zh-gan",to:"gan"},{from:"zh-wuu",to:"wuu"},{from:"zh-yue",to:"yue"},{from:"no-bokmal",to:"nb"},{from:"no-nynorsk",to:"nn"},{from:"aa-saaho",to:"ssy"},{from:"sh",to:"sr-latn"},{from:"cnr",to:"sr-me"},{from:"tl",to:"fil"},{from:"aju",to:"jrb"},{from:"als",to:"sq"},{from:"arb",to:"ar"},{from:"ayr",to:"ay"},{from:"azj",to:"az"},{from:"bcc",to:"bal"},{from:"bcl",to:"bik"},{from:"bxk",to:"luy"},{from:"bxr",to:"bua"},{from:"cld",to:"syr"},{from:"cmn",to:"zh"},{from:"cwd",to:"cr"},{from:"dgo",to:"doi"},{from:"dhd",to:"mwr"},{from:"dik",to:"din"},{from:"diq",to:"zza"},{from:"lbk",to:"bnc"},{from:"ekk",to:"et"},{from:"emk",to:"man"},{from:"esk",to:"ik"},{from:"fat",to:"ak"},{from:"fuc",to:"ff"},{from:"gaz",to:"om"},{from:"gbo",to:"grb"},{from:"gno",to:"gon"},{from:"gug",to:"gn"},{from:"gya",to:"gba"},{from:"hdn",to:"hai"},{from:"hea",to:"hmn"},{from:"ike",to:"iu"},{from:"kmr",to:"ku"},{from:"knc",to:"kr"},{from:"kng",to:"kg"},{from:"knn",to:"kok"},{from:"kpv",to:"kv"},{from:"lvs",to:"lv"},{from:"mhr",to:"chm"},{from:"mup",to:"raj"},{from:"khk",to:"mn"},{from:"npi",to:"ne"},{from:"ojg",to:"oj"},{from:"ory",to:"or"},{from:"pbu",to:"ps"},{from:"pes",to:"fa"},{from:"plt",to:"mg"},{from:"pnb",to:"lah"},{from:"quz",to:"qu"},{from:"rmy",to:"rom"},{from:"spy",to:"kln"},{from:"src",to:"sc"},{from:"swh",to:"sw"},{from:"ttq",to:"tmh"},{from:"tw",to:"ak"},{from:"umu",to:"del"},{from:"uzn",to:"uz"},{from:"xpe",to:"kpe"},{from:"xsl",to:"den"},{from:"ydd",to:"yi"},{from:"zai",to:"zap"},{from:"zsm",to:"ms"},{from:"zyb",to:"za"},{from:"him",to:"srx"},{from:"mnk",to:"man"},{from:"bh",to:"bho"},{from:"prs",to:"fa-af"},{from:"swc",to:"sw-cd"},{from:"aar",to:"aa"},{from:"abk",to:"ab"},{from:"ave",to:"ae"},{from:"afr",to:"af"},{from:"aka",to:"ak"},{from:"amh",to:"am"},{from:"arg",to:"an"},{from:"ara",to:"ar"},{from:"asm",to:"as"},{from:"ava",to:"av"},{from:"aym",to:"ay"},{from:"aze",to:"az"},{from:"bak",to:"ba"},{from:"bel",to:"be"},{from:"bul",to:"bg"},{from:"bih",to:"bho"},{from:"bis",to:"bi"},{from:"bam",to:"bm"},{from:"ben",to:"bn"},{from:"bod",to:"bo"},{from:"bre",to:"br"},{from:"bos",to:"bs"},{from:"cat",to:"ca"},{from:"che",to:"ce"},{from:"cha",to:"ch"},{from:"cos",to:"co"},{from:"cre",to:"cr"},{from:"ces",to:"cs"},{from:"chu",to:"cu"},{from:"chv",to:"cv"},{from:"cym",to:"cy"},{from:"dan",to:"da"},{from:"deu",to:"de"},{from:"div",to:"dv"},{from:"dzo",to:"dz"},{from:"ewe",to:"ee"},{from:"ell",to:"el"},{from:"eng",to:"en"},{from:"epo",to:"eo"},{from:"spa",to:"es"},{from:"est",to:"et"},{from:"eus",to:"eu"},{from:"fas",to:"fa"},{from:"ful",to:"ff"},{from:"fin",to:"fi"},{from:"fij",to:"fj"},{from:"fao",to:"fo"},{from:"fra",to:"fr"},{from:"fry",to:"fy"},{from:"gle",to:"ga"},{from:"gla",to:"gd"},{from:"glg",to:"gl"},{from:"grn",to:"gn"},{from:"guj",to:"gu"},{from:"glv",to:"gv"},{from:"hau",to:"ha"},{from:"heb",to:"he"},{from:"hin",to:"hi"},{from:"hmo",to:"ho"},{from:"hrv",to:"hr"},{from:"hat",to:"ht"},{from:"hun",to:"hu"},{from:"hye",to:"hy"},{from:"her",to:"hz"},{from:"ina",to:"ia"},{from:"ind",to:"id"},{from:"ile",to:"ie"},{from:"ibo",to:"ig"},{from:"iii",to:"ii"},{from:"ipk",to:"ik"},{from:"ido",to:"io"},{from:"isl",to:"is"},{from:"ita",to:"it"},{from:"iku",to:"iu"},{from:"jpn",to:"ja"},{from:"jav",to:"jv"},{from:"kat",to:"ka"},{from:"kon",to:"kg"},{from:"kik",to:"ki"},{from:"kua",to:"kj"},{from:"kaz",to:"kk"},{from:"kal",to:"kl"},{from:"khm",to:"km"},{from:"kan",to:"kn"},{from:"kor",to:"ko"},{from:"kau",to:"kr"},{from:"kas",to:"ks"},{from:"kur",to:"ku"},{from:"kom",to:"kv"},{from:"cor",to:"kw"},{from:"kir",to:"ky"},{from:"lat",to:"la"},{from:"ltz",to:"lb"},{from:"lug",to:"lg"},{from:"lim",to:"li"},{from:"lin",to:"ln"},{from:"lao",to:"lo"},{from:"lit",to:"lt"},{from:"lub",to:"lu"},{from:"lav",to:"lv"},{from:"mlg",to:"mg"},{from:"mah",to:"mh"},{from:"mri",to:"mi"},{from:"mkd",to:"mk"},{from:"mal",to:"ml"},{from:"mon",to:"mn"},{from:"mol",to:"ro"},{from:"mar",to:"mr"},{from:"msa",to:"ms"},{from:"mlt",to:"mt"},{from:"mya",to:"my"},{from:"nau",to:"na"},{from:"nob",to:"nb"},{from:"nde",to:"nd"},{from:"nep",to:"ne"},{from:"ndo",to:"ng"},{from:"nld",to:"nl"},{from:"nno",to:"nn"},{from:"nor",to:"no"},{from:"nbl",to:"nr"},{from:"nav",to:"nv"},{from:"nya",to:"ny"},{from:"oci",to:"oc"},{from:"oji",to:"oj"},{from:"orm",to:"om"},{from:"ori",to:"or"},{from:"oss",to:"os"},{from:"pan",to:"pa"},{from:"pli",to:"pi"},{from:"pol",to:"pl"},{from:"pus",to:"ps"},{from:"por",to:"pt"},{from:"que",to:"qu"},{from:"roh",to:"rm"},{from:"run",to:"rn"},{from:"ron",to:"ro"},{from:"rus",to:"ru"},{from:"kin",to:"rw"},{from:"san",to:"sa"},{from:"srd",to:"sc"},{from:"snd",to:"sd"},{from:"sme",to:"se"},{from:"sag",to:"sg"},{from:"hbs",to:"sr-latn"},{from:"sin",to:"si"},{from:"slk",to:"sk"},{from:"slv",to:"sl"},{from:"smo",to:"sm"},{from:"sna",to:"sn"},{from:"som",to:"so"},{from:"sqi",to:"sq"},{from:"srp",to:"sr"},{from:"ssw",to:"ss"},{from:"sot",to:"st"},{from:"sun",to:"su"},{from:"swe",to:"sv"},{from:"swa",to:"sw"},{from:"tam",to:"ta"},{from:"tel",to:"te"},{from:"tgk",to:"tg"},{from:"tha",to:"th"},{from:"tir",to:"ti"},{from:"tuk",to:"tk"},{from:"tgl",to:"fil"},{from:"tsn",to:"tn"},{from:"ton",to:"to"},{from:"tur",to:"tr"},{from:"tso",to:"ts"},{from:"tat",to:"tt"},{from:"twi",to:"ak"},{from:"tah",to:"ty"},{from:"uig",to:"ug"},{from:"ukr",to:"uk"},{from:"urd",to:"ur"},{from:"uzb",to:"uz"},{from:"ven",to:"ve"},{from:"vie",to:"vi"},{from:"vol",to:"vo"},{from:"wln",to:"wa"},{from:"wol",to:"wo"},{from:"xho",to:"xh"},{from:"yid",to:"yi"},{from:"yor",to:"yo"},{from:"zha",to:"za"},{from:"zho",to:"zh"},{from:"zul",to:"zu"},{from:"alb",to:"sq"},{from:"arm",to:"hy"},{from:"baq",to:"eu"},{from:"bur",to:"my"},{from:"chi",to:"zh"},{from:"cze",to:"cs"},{from:"dut",to:"nl"},{from:"fre",to:"fr"},{from:"geo",to:"ka"},{from:"ger",to:"de"},{from:"gre",to:"el"},{from:"ice",to:"is"},{from:"mac",to:"mk"},{from:"mao",to:"mi"},{from:"may",to:"ms"},{from:"per",to:"fa"},{from:"rum",to:"ro"},{from:"slo",to:"sk"},{from:"tib",to:"bo"},{from:"wel",to:"cy"},{from:"und-aaland",to:"und-ax"},{from:"hy-arevmda",to:"hyw"},{from:"und-arevmda",to:"und"},{from:"und-arevela",to:"und"},{from:"und-lojban",to:"und"},{from:"und-saaho",to:"und"},{from:"und-bokmal",to:"und"},{from:"und-nynorsk",to:"und"},{from:"und-hakka",to:"und"},{from:"und-xiang",to:"und"},{from:"und-hepburn-heploc",to:"und-alalc97"}],Cu=[{from:{field:"script",value:"qaai"},to:{field:"script",value:"zinh"}},{from:{field:"region",value:"bu"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"ct"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"dd"},to:{field:"region",value:"de"}},{from:{field:"region",value:"dy"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"fx"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"hv"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"jt"},to:{field:"region",value:"um"}},{from:{field:"region",value:"mi"},to:{field:"region",value:"um"}},{from:{field:"region",value:"nh"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"nq"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"pu"},to:{field:"region",value:"um"}},{from:{field:"region",value:"pz"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"qu"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"rh"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"tp"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"uk"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"vd"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"wk"},to:{field:"region",value:"um"}},{from:{field:"region",value:"yd"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"zr"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"230"},to:{field:"region",value:"et"}},{from:{field:"region",value:"280"},to:{field:"region",value:"de"}},{from:{field:"region",value:"736"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"886"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"958"},to:{field:"region",value:"aa"}},{from:{field:"region",value:"020"},to:{field:"region",value:"ad"}},{from:{field:"region",value:"784"},to:{field:"region",value:"ae"}},{from:{field:"region",value:"004"},to:{field:"region",value:"af"}},{from:{field:"region",value:"028"},to:{field:"region",value:"ag"}},{from:{field:"region",value:"660"},to:{field:"region",value:"ai"}},{from:{field:"region",value:"008"},to:{field:"region",value:"al"}},{from:{field:"region",value:"051"},to:{field:"region",value:"am"}},{from:{field:"region",value:"024"},to:{field:"region",value:"ao"}},{from:{field:"region",value:"010"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"032"},to:{field:"region",value:"ar"}},{from:{field:"region",value:"016"},to:{field:"region",value:"as"}},{from:{field:"region",value:"040"},to:{field:"region",value:"at"}},{from:{field:"region",value:"036"},to:{field:"region",value:"au"}},{from:{field:"region",value:"533"},to:{field:"region",value:"aw"}},{from:{field:"region",value:"248"},to:{field:"region",value:"ax"}},{from:{field:"region",value:"031"},to:{field:"region",value:"az"}},{from:{field:"region",value:"070"},to:{field:"region",value:"ba"}},{from:{field:"region",value:"052"},to:{field:"region",value:"bb"}},{from:{field:"region",value:"050"},to:{field:"region",value:"bd"}},{from:{field:"region",value:"056"},to:{field:"region",value:"be"}},{from:{field:"region",value:"854"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"100"},to:{field:"region",value:"bg"}},{from:{field:"region",value:"048"},to:{field:"region",value:"bh"}},{from:{field:"region",value:"108"},to:{field:"region",value:"bi"}},{from:{field:"region",value:"204"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"652"},to:{field:"region",value:"bl"}},{from:{field:"region",value:"060"},to:{field:"region",value:"bm"}},{from:{field:"region",value:"096"},to:{field:"region",value:"bn"}},{from:{field:"region",value:"068"},to:{field:"region",value:"bo"}},{from:{field:"region",value:"535"},to:{field:"region",value:"bq"}},{from:{field:"region",value:"076"},to:{field:"region",value:"br"}},{from:{field:"region",value:"044"},to:{field:"region",value:"bs"}},{from:{field:"region",value:"064"},to:{field:"region",value:"bt"}},{from:{field:"region",value:"104"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"074"},to:{field:"region",value:"bv"}},{from:{field:"region",value:"072"},to:{field:"region",value:"bw"}},{from:{field:"region",value:"112"},to:{field:"region",value:"by"}},{from:{field:"region",value:"084"},to:{field:"region",value:"bz"}},{from:{field:"region",value:"124"},to:{field:"region",value:"ca"}},{from:{field:"region",value:"166"},to:{field:"region",value:"cc"}},{from:{field:"region",value:"180"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"140"},to:{field:"region",value:"cf"}},{from:{field:"region",value:"178"},to:{field:"region",value:"cg"}},{from:{field:"region",value:"756"},to:{field:"region",value:"ch"}},{from:{field:"region",value:"384"},to:{field:"region",value:"ci"}},{from:{field:"region",value:"184"},to:{field:"region",value:"ck"}},{from:{field:"region",value:"152"},to:{field:"region",value:"cl"}},{from:{field:"region",value:"120"},to:{field:"region",value:"cm"}},{from:{field:"region",value:"156"},to:{field:"region",value:"cn"}},{from:{field:"region",value:"170"},to:{field:"region",value:"co"}},{from:{field:"region",value:"188"},to:{field:"region",value:"cr"}},{from:{field:"region",value:"192"},to:{field:"region",value:"cu"}},{from:{field:"region",value:"132"},to:{field:"region",value:"cv"}},{from:{field:"region",value:"531"},to:{field:"region",value:"cw"}},{from:{field:"region",value:"162"},to:{field:"region",value:"cx"}},{from:{field:"region",value:"196"},to:{field:"region",value:"cy"}},{from:{field:"region",value:"203"},to:{field:"region",value:"cz"}},{from:{field:"region",value:"278"},to:{field:"region",value:"de"}},{from:{field:"region",value:"276"},to:{field:"region",value:"de"}},{from:{field:"region",value:"262"},to:{field:"region",value:"dj"}},{from:{field:"region",value:"208"},to:{field:"region",value:"dk"}},{from:{field:"region",value:"212"},to:{field:"region",value:"dm"}},{from:{field:"region",value:"214"},to:{field:"region",value:"do"}},{from:{field:"region",value:"012"},to:{field:"region",value:"dz"}},{from:{field:"region",value:"218"},to:{field:"region",value:"ec"}},{from:{field:"region",value:"233"},to:{field:"region",value:"ee"}},{from:{field:"region",value:"818"},to:{field:"region",value:"eg"}},{from:{field:"region",value:"732"},to:{field:"region",value:"eh"}},{from:{field:"region",value:"232"},to:{field:"region",value:"er"}},{from:{field:"region",value:"724"},to:{field:"region",value:"es"}},{from:{field:"region",value:"231"},to:{field:"region",value:"et"}},{from:{field:"region",value:"246"},to:{field:"region",value:"fi"}},{from:{field:"region",value:"242"},to:{field:"region",value:"fj"}},{from:{field:"region",value:"238"},to:{field:"region",value:"fk"}},{from:{field:"region",value:"583"},to:{field:"region",value:"fm"}},{from:{field:"region",value:"234"},to:{field:"region",value:"fo"}},{from:{field:"region",value:"250"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"249"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"266"},to:{field:"region",value:"ga"}},{from:{field:"region",value:"826"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"308"},to:{field:"region",value:"gd"}},{from:{field:"region",value:"268"},to:{field:"region",value:"ge"}},{from:{field:"region",value:"254"},to:{field:"region",value:"gf"}},{from:{field:"region",value:"831"},to:{field:"region",value:"gg"}},{from:{field:"region",value:"288"},to:{field:"region",value:"gh"}},{from:{field:"region",value:"292"},to:{field:"region",value:"gi"}},{from:{field:"region",value:"304"},to:{field:"region",value:"gl"}},{from:{field:"region",value:"270"},to:{field:"region",value:"gm"}},{from:{field:"region",value:"324"},to:{field:"region",value:"gn"}},{from:{field:"region",value:"312"},to:{field:"region",value:"gp"}},{from:{field:"region",value:"226"},to:{field:"region",value:"gq"}},{from:{field:"region",value:"300"},to:{field:"region",value:"gr"}},{from:{field:"region",value:"239"},to:{field:"region",value:"gs"}},{from:{field:"region",value:"320"},to:{field:"region",value:"gt"}},{from:{field:"region",value:"316"},to:{field:"region",value:"gu"}},{from:{field:"region",value:"624"},to:{field:"region",value:"gw"}},{from:{field:"region",value:"328"},to:{field:"region",value:"gy"}},{from:{field:"region",value:"344"},to:{field:"region",value:"hk"}},{from:{field:"region",value:"334"},to:{field:"region",value:"hm"}},{from:{field:"region",value:"340"},to:{field:"region",value:"hn"}},{from:{field:"region",value:"191"},to:{field:"region",value:"hr"}},{from:{field:"region",value:"332"},to:{field:"region",value:"ht"}},{from:{field:"region",value:"348"},to:{field:"region",value:"hu"}},{from:{field:"region",value:"360"},to:{field:"region",value:"id"}},{from:{field:"region",value:"372"},to:{field:"region",value:"ie"}},{from:{field:"region",value:"376"},to:{field:"region",value:"il"}},{from:{field:"region",value:"833"},to:{field:"region",value:"im"}},{from:{field:"region",value:"356"},to:{field:"region",value:"in"}},{from:{field:"region",value:"086"},to:{field:"region",value:"io"}},{from:{field:"region",value:"368"},to:{field:"region",value:"iq"}},{from:{field:"region",value:"364"},to:{field:"region",value:"ir"}},{from:{field:"region",value:"352"},to:{field:"region",value:"is"}},{from:{field:"region",value:"380"},to:{field:"region",value:"it"}},{from:{field:"region",value:"832"},to:{field:"region",value:"je"}},{from:{field:"region",value:"388"},to:{field:"region",value:"jm"}},{from:{field:"region",value:"400"},to:{field:"region",value:"jo"}},{from:{field:"region",value:"392"},to:{field:"region",value:"jp"}},{from:{field:"region",value:"404"},to:{field:"region",value:"ke"}},{from:{field:"region",value:"417"},to:{field:"region",value:"kg"}},{from:{field:"region",value:"116"},to:{field:"region",value:"kh"}},{from:{field:"region",value:"296"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"174"},to:{field:"region",value:"km"}},{from:{field:"region",value:"659"},to:{field:"region",value:"kn"}},{from:{field:"region",value:"408"},to:{field:"region",value:"kp"}},{from:{field:"region",value:"410"},to:{field:"region",value:"kr"}},{from:{field:"region",value:"414"},to:{field:"region",value:"kw"}},{from:{field:"region",value:"136"},to:{field:"region",value:"ky"}},{from:{field:"region",value:"398"},to:{field:"region",value:"kz"}},{from:{field:"region",value:"418"},to:{field:"region",value:"la"}},{from:{field:"region",value:"422"},to:{field:"region",value:"lb"}},{from:{field:"region",value:"662"},to:{field:"region",value:"lc"}},{from:{field:"region",value:"438"},to:{field:"region",value:"li"}},{from:{field:"region",value:"144"},to:{field:"region",value:"lk"}},{from:{field:"region",value:"430"},to:{field:"region",value:"lr"}},{from:{field:"region",value:"426"},to:{field:"region",value:"ls"}},{from:{field:"region",value:"440"},to:{field:"region",value:"lt"}},{from:{field:"region",value:"442"},to:{field:"region",value:"lu"}},{from:{field:"region",value:"428"},to:{field:"region",value:"lv"}},{from:{field:"region",value:"434"},to:{field:"region",value:"ly"}},{from:{field:"region",value:"504"},to:{field:"region",value:"ma"}},{from:{field:"region",value:"492"},to:{field:"region",value:"mc"}},{from:{field:"region",value:"498"},to:{field:"region",value:"md"}},{from:{field:"region",value:"499"},to:{field:"region",value:"me"}},{from:{field:"region",value:"663"},to:{field:"region",value:"mf"}},{from:{field:"region",value:"450"},to:{field:"region",value:"mg"}},{from:{field:"region",value:"584"},to:{field:"region",value:"mh"}},{from:{field:"region",value:"807"},to:{field:"region",value:"mk"}},{from:{field:"region",value:"466"},to:{field:"region",value:"ml"}},{from:{field:"region",value:"496"},to:{field:"region",value:"mn"}},{from:{field:"region",value:"446"},to:{field:"region",value:"mo"}},{from:{field:"region",value:"580"},to:{field:"region",value:"mp"}},{from:{field:"region",value:"474"},to:{field:"region",value:"mq"}},{from:{field:"region",value:"478"},to:{field:"region",value:"mr"}},{from:{field:"region",value:"500"},to:{field:"region",value:"ms"}},{from:{field:"region",value:"470"},to:{field:"region",value:"mt"}},{from:{field:"region",value:"480"},to:{field:"region",value:"mu"}},{from:{field:"region",value:"462"},to:{field:"region",value:"mv"}},{from:{field:"region",value:"454"},to:{field:"region",value:"mw"}},{from:{field:"region",value:"484"},to:{field:"region",value:"mx"}},{from:{field:"region",value:"458"},to:{field:"region",value:"my"}},{from:{field:"region",value:"508"},to:{field:"region",value:"mz"}},{from:{field:"region",value:"516"},to:{field:"region",value:"na"}},{from:{field:"region",value:"540"},to:{field:"region",value:"nc"}},{from:{field:"region",value:"562"},to:{field:"region",value:"ne"}},{from:{field:"region",value:"574"},to:{field:"region",value:"nf"}},{from:{field:"region",value:"566"},to:{field:"region",value:"ng"}},{from:{field:"region",value:"558"},to:{field:"region",value:"ni"}},{from:{field:"region",value:"528"},to:{field:"region",value:"nl"}},{from:{field:"region",value:"578"},to:{field:"region",value:"no"}},{from:{field:"region",value:"524"},to:{field:"region",value:"np"}},{from:{field:"region",value:"520"},to:{field:"region",value:"nr"}},{from:{field:"region",value:"570"},to:{field:"region",value:"nu"}},{from:{field:"region",value:"554"},to:{field:"region",value:"nz"}},{from:{field:"region",value:"512"},to:{field:"region",value:"om"}},{from:{field:"region",value:"591"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"604"},to:{field:"region",value:"pe"}},{from:{field:"region",value:"258"},to:{field:"region",value:"pf"}},{from:{field:"region",value:"598"},to:{field:"region",value:"pg"}},{from:{field:"region",value:"608"},to:{field:"region",value:"ph"}},{from:{field:"region",value:"586"},to:{field:"region",value:"pk"}},{from:{field:"region",value:"616"},to:{field:"region",value:"pl"}},{from:{field:"region",value:"666"},to:{field:"region",value:"pm"}},{from:{field:"region",value:"612"},to:{field:"region",value:"pn"}},{from:{field:"region",value:"630"},to:{field:"region",value:"pr"}},{from:{field:"region",value:"275"},to:{field:"region",value:"ps"}},{from:{field:"region",value:"620"},to:{field:"region",value:"pt"}},{from:{field:"region",value:"585"},to:{field:"region",value:"pw"}},{from:{field:"region",value:"600"},to:{field:"region",value:"py"}},{from:{field:"region",value:"634"},to:{field:"region",value:"qa"}},{from:{field:"region",value:"959"},to:{field:"region",value:"qm"}},{from:{field:"region",value:"960"},to:{field:"region",value:"qn"}},{from:{field:"region",value:"962"},to:{field:"region",value:"qp"}},{from:{field:"region",value:"963"},to:{field:"region",value:"qq"}},{from:{field:"region",value:"964"},to:{field:"region",value:"qr"}},{from:{field:"region",value:"965"},to:{field:"region",value:"qs"}},{from:{field:"region",value:"966"},to:{field:"region",value:"qt"}},{from:{field:"region",value:"967"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"968"},to:{field:"region",value:"qv"}},{from:{field:"region",value:"969"},to:{field:"region",value:"qw"}},{from:{field:"region",value:"970"},to:{field:"region",value:"qx"}},{from:{field:"region",value:"971"},to:{field:"region",value:"qy"}},{from:{field:"region",value:"972"},to:{field:"region",value:"qz"}},{from:{field:"region",value:"638"},to:{field:"region",value:"re"}},{from:{field:"region",value:"642"},to:{field:"region",value:"ro"}},{from:{field:"region",value:"688"},to:{field:"region",value:"rs"}},{from:{field:"region",value:"643"},to:{field:"region",value:"ru"}},{from:{field:"region",value:"646"},to:{field:"region",value:"rw"}},{from:{field:"region",value:"682"},to:{field:"region",value:"sa"}},{from:{field:"region",value:"090"},to:{field:"region",value:"sb"}},{from:{field:"region",value:"690"},to:{field:"region",value:"sc"}},{from:{field:"region",value:"729"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"752"},to:{field:"region",value:"se"}},{from:{field:"region",value:"702"},to:{field:"region",value:"sg"}},{from:{field:"region",value:"654"},to:{field:"region",value:"sh"}},{from:{field:"region",value:"705"},to:{field:"region",value:"si"}},{from:{field:"region",value:"744"},to:{field:"region",value:"sj"}},{from:{field:"region",value:"703"},to:{field:"region",value:"sk"}},{from:{field:"region",value:"694"},to:{field:"region",value:"sl"}},{from:{field:"region",value:"674"},to:{field:"region",value:"sm"}},{from:{field:"region",value:"686"},to:{field:"region",value:"sn"}},{from:{field:"region",value:"706"},to:{field:"region",value:"so"}},{from:{field:"region",value:"740"},to:{field:"region",value:"sr"}},{from:{field:"region",value:"728"},to:{field:"region",value:"ss"}},{from:{field:"region",value:"678"},to:{field:"region",value:"st"}},{from:{field:"region",value:"222"},to:{field:"region",value:"sv"}},{from:{field:"region",value:"534"},to:{field:"region",value:"sx"}},{from:{field:"region",value:"760"},to:{field:"region",value:"sy"}},{from:{field:"region",value:"748"},to:{field:"region",value:"sz"}},{from:{field:"region",value:"796"},to:{field:"region",value:"tc"}},{from:{field:"region",value:"148"},to:{field:"region",value:"td"}},{from:{field:"region",value:"260"},to:{field:"region",value:"tf"}},{from:{field:"region",value:"768"},to:{field:"region",value:"tg"}},{from:{field:"region",value:"764"},to:{field:"region",value:"th"}},{from:{field:"region",value:"762"},to:{field:"region",value:"tj"}},{from:{field:"region",value:"772"},to:{field:"region",value:"tk"}},{from:{field:"region",value:"626"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"795"},to:{field:"region",value:"tm"}},{from:{field:"region",value:"788"},to:{field:"region",value:"tn"}},{from:{field:"region",value:"776"},to:{field:"region",value:"to"}},{from:{field:"region",value:"792"},to:{field:"region",value:"tr"}},{from:{field:"region",value:"780"},to:{field:"region",value:"tt"}},{from:{field:"region",value:"798"},to:{field:"region",value:"tv"}},{from:{field:"region",value:"158"},to:{field:"region",value:"tw"}},{from:{field:"region",value:"834"},to:{field:"region",value:"tz"}},{from:{field:"region",value:"804"},to:{field:"region",value:"ua"}},{from:{field:"region",value:"800"},to:{field:"region",value:"ug"}},{from:{field:"region",value:"581"},to:{field:"region",value:"um"}},{from:{field:"region",value:"840"},to:{field:"region",value:"us"}},{from:{field:"region",value:"858"},to:{field:"region",value:"uy"}},{from:{field:"region",value:"860"},to:{field:"region",value:"uz"}},{from:{field:"region",value:"336"},to:{field:"region",value:"va"}},{from:{field:"region",value:"670"},to:{field:"region",value:"vc"}},{from:{field:"region",value:"862"},to:{field:"region",value:"ve"}},{from:{field:"region",value:"092"},to:{field:"region",value:"vg"}},{from:{field:"region",value:"850"},to:{field:"region",value:"vi"}},{from:{field:"region",value:"704"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"548"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"876"},to:{field:"region",value:"wf"}},{from:{field:"region",value:"882"},to:{field:"region",value:"ws"}},{from:{field:"region",value:"973"},to:{field:"region",value:"xa"}},{from:{field:"region",value:"974"},to:{field:"region",value:"xb"}},{from:{field:"region",value:"975"},to:{field:"region",value:"xc"}},{from:{field:"region",value:"976"},to:{field:"region",value:"xd"}},{from:{field:"region",value:"977"},to:{field:"region",value:"xe"}},{from:{field:"region",value:"978"},to:{field:"region",value:"xf"}},{from:{field:"region",value:"979"},to:{field:"region",value:"xg"}},{from:{field:"region",value:"980"},to:{field:"region",value:"xh"}},{from:{field:"region",value:"981"},to:{field:"region",value:"xi"}},{from:{field:"region",value:"982"},to:{field:"region",value:"xj"}},{from:{field:"region",value:"983"},to:{field:"region",value:"xk"}},{from:{field:"region",value:"984"},to:{field:"region",value:"xl"}},{from:{field:"region",value:"985"},to:{field:"region",value:"xm"}},{from:{field:"region",value:"986"},to:{field:"region",value:"xn"}},{from:{field:"region",value:"987"},to:{field:"region",value:"xo"}},{from:{field:"region",value:"988"},to:{field:"region",value:"xp"}},{from:{field:"region",value:"989"},to:{field:"region",value:"xq"}},{from:{field:"region",value:"990"},to:{field:"region",value:"xr"}},{from:{field:"region",value:"991"},to:{field:"region",value:"xs"}},{from:{field:"region",value:"992"},to:{field:"region",value:"xt"}},{from:{field:"region",value:"993"},to:{field:"region",value:"xu"}},{from:{field:"region",value:"994"},to:{field:"region",value:"xv"}},{from:{field:"region",value:"995"},to:{field:"region",value:"xw"}},{from:{field:"region",value:"996"},to:{field:"region",value:"xx"}},{from:{field:"region",value:"997"},to:{field:"region",value:"xy"}},{from:{field:"region",value:"998"},to:{field:"region",value:"xz"}},{from:{field:"region",value:"720"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"887"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"175"},to:{field:"region",value:"yt"}},{from:{field:"region",value:"710"},to:{field:"region",value:"za"}},{from:{field:"region",value:"894"},to:{field:"region",value:"zm"}},{from:{field:"region",value:"716"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"999"},to:{field:"region",value:"zz"}},{from:{field:"variants",value:"polytoni"},to:{field:"variants",value:"polyton"}},{from:{field:"variants",value:"heploc"},to:{field:"variants",value:"alalc97"}}],Mh={region:{172:["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],200:["cz","sk"],530:["cw","sx","bq"],532:["cw","sx","bq"],536:["sa","iq"],582:["fm","mh","mp","pw"],810:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],830:["je","gg"],890:["rs","me","si","hr","mk","ba"],891:["rs","me"],an:["cw","sx","bq"],cs:["rs","me"],fq:["aq","tf"],nt:["sa","iq"],pc:["fm","mh","mp","pw"],su:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yu:["rs","me"],"062":["034","143"],ant:["cw","sx","bq"],scg:["rs","me"],ntz:["sa","iq"],sun:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yug:["rs","me"]}},Cc={aa:"aa-latn-et",aaa:"aaa-latn-ng",aab:"aab-latn-ng",aac:"aac-latn-pg",aad:"aad-latn-pg",aae:"aae-latn-it","aae-grek":"aae-grek-it",aaf:"aaf-mlym-in","aaf-arab":"aaf-arab-in",aag:"aag-latn-pg",aah:"aah-latn-pg",aai:"aai-latn-zz",aak:"aak-latn-zz",aal:"aal-latn-cm",aan:"aan-latn-br",aao:"aao-arab-dz",aap:"aap-latn-br",aaq:"aaq-latn-us",aas:"aas-latn-tz",aat:"aat-grek-gr",aau:"aau-latn-zz",aaw:"aaw-latn-pg",aax:"aax-latn-id",aaz:"aaz-latn-id",ab:"ab-cyrl-ge",aba:"aba-latn-ci",abb:"abb-latn-cm",abc:"abc-latn-ph",abd:"abd-latn-ph",abe:"abe-latn-ca",abf:"abf-latn-my",abg:"abg-latn-pg",abh:"abh-arab-tj",abi:"abi-latn-zz",abl:"abl-rjng-id","abl-latn":"abl-latn-id",abm:"abm-latn-ng",abn:"abn-latn-ng",abo:"abo-latn-ng",abp:"abp-latn-ph",abq:"abq-cyrl-zz",abr:"abr-latn-gh",abs:"abs-latn-id",abt:"abt-latn-zz",abu:"abu-latn-ci",abv:"abv-arab-bh",abw:"abw-latn-pg",abx:"abx-latn-ph",aby:"aby-latn-zz",abz:"abz-latn-id",aca:"aca-latn-co",acb:"acb-latn-ng",acd:"acd-latn-zz",ace:"ace-latn-id",acf:"acf-latn-lc",ach:"ach-latn-ug",acm:"acm-arab-iq",acn:"acn-latn-cn",acp:"acp-latn-ng",acq:"acq-arab-ye",acr:"acr-latn-gt",acs:"acs-latn-br",act:"act-latn-nl",acu:"acu-latn-ec",acv:"acv-latn-us",acw:"acw-arab-sa",acx:"acx-arab-om",acy:"acy-latn-cy","acy-arab":"acy-arab-cy","acy-grek":"acy-grek-cy",acz:"acz-latn-sd",ada:"ada-latn-gh",adb:"adb-latn-tl",add:"add-latn-cm",ade:"ade-latn-zz",adf:"adf-arab-om",adg:"adg-latn-au",adh:"adh-latn-ug",adi:"adi-latn-in","adi-tibt":"adi-tibt-cn",adj:"adj-latn-zz",adl:"adl-latn-in",adn:"adn-latn-id",ado:"ado-latn-pg",adp:"adp-tibt-bt",adq:"adq-latn-gh",adr:"adr-latn-id",adt:"adt-latn-au",adu:"adu-latn-ng",adw:"adw-latn-br",adx:"adx-tibt-cn",ady:"ady-cyrl-ru",adz:"adz-latn-zz",ae:"ae-avst-ir",aea:"aea-latn-au",aeb:"aeb-arab-tn",aec:"aec-arab-eg",aee:"aee-arab-af",aek:"aek-latn-nc",ael:"ael-latn-cm",aem:"aem-latn-vn",aeq:"aeq-arab-pk",aer:"aer-latn-au",aeu:"aeu-latn-cn",aew:"aew-latn-pg",aey:"aey-latn-zz",aez:"aez-latn-pg",af:"af-latn-za",afb:"afb-arab-kw",afd:"afd-latn-pg",afe:"afe-latn-ng",afh:"afh-latn-gh",afi:"afi-latn-pg",afk:"afk-latn-pg",afn:"afn-latn-ng",afo:"afo-latn-ng",afp:"afp-latn-pg",afs:"afs-latn-mx",afu:"afu-latn-gh",afz:"afz-latn-id",aga:"aga-latn-pe",agb:"agb-latn-ng",agc:"agc-latn-zz",agd:"agd-latn-zz",age:"age-latn-pg",agf:"agf-latn-id",agg:"agg-latn-zz",agh:"agh-latn-cd",agi:"agi-deva-in",agj:"agj-ethi-et","agj-arab":"agj-arab-et",agk:"agk-latn-ph",agl:"agl-latn-pg",agm:"agm-latn-zz",agn:"agn-latn-ph",ago:"ago-latn-zz",agq:"agq-latn-cm",agr:"agr-latn-pe",ags:"ags-latn-cm",agt:"agt-latn-ph",agu:"agu-latn-gt",agv:"agv-latn-ph",agw:"agw-latn-sb",agx:"agx-cyrl-ru",agy:"agy-latn-ph",agz:"agz-latn-ph",aha:"aha-latn-zz",ahb:"ahb-latn-vu",ahg:"ahg-ethi-et",ahh:"ahh-latn-id",ahi:"ahi-latn-ci",ahk:"ahk-latn-mm","ahk-mymr":"ahk-mymr-mm","ahk-th":"ahk-latn-th","ahk-thai":"ahk-thai-th",ahl:"ahl-latn-zz",ahm:"ahm-latn-ci",ahn:"ahn-latn-ng",aho:"aho-ahom-in",ahp:"ahp-latn-ci",ahr:"ahr-deva-in",ahs:"ahs-latn-ng",aht:"aht-latn-us",aia:"aia-latn-sb",aib:"aib-arab-cn",aic:"aic-latn-pg",aid:"aid-latn-au",aie:"aie-latn-pg",aif:"aif-latn-pg",aig:"aig-latn-ag",aij:"aij-hebr-il",aik:"aik-latn-ng",ail:"ail-latn-pg",aim:"aim-latn-in",ain:"ain-kana-jp","ain-latn":"ain-latn-jp",aio:"aio-mymr-in",aip:"aip-latn-id",aiq:"aiq-arab-af",air:"air-latn-id",ait:"ait-latn-br",aiw:"aiw-latn-et","aiw-arab":"aiw-arab-et","aiw-ethi":"aiw-ethi-et",aix:"aix-latn-pg",aiy:"aiy-latn-cf",aja:"aja-latn-ss",ajg:"ajg-latn-zz",aji:"aji-latn-nc",ajn:"ajn-latn-au",ajp:"ajp-arab-jo",ajt:"ajt-arab-tn",ajw:"ajw-latn-ng",ajz:"ajz-latn-in",ak:"ak-latn-gh",akb:"akb-latn-id","akb-batk":"akb-batk-id",akc:"akc-latn-id",akd:"akd-latn-ng",ake:"ake-latn-gy",akf:"akf-latn-ng",akg:"akg-latn-id",akh:"akh-latn-pg",aki:"aki-latn-pg",akk:"akk-xsux-iq",akl:"akl-latn-ph",ako:"ako-latn-sr",akp:"akp-latn-gh",akq:"akq-latn-pg",akr:"akr-latn-vu",aks:"aks-latn-tg",akt:"akt-latn-pg",aku:"aku-latn-cm",akv:"akv-cyrl-ru",akw:"akw-latn-cg",akz:"akz-latn-us",ala:"ala-latn-zz",alc:"alc-latn-cl",ald:"ald-latn-ci",ale:"ale-latn-us",alf:"alf-latn-ng",alh:"alh-latn-au",ali:"ali-latn-zz",alj:"alj-latn-ph",alk:"alk-laoo-la",all:"all-mlym-in",alm:"alm-latn-vu",aln:"aln-latn-xk",alo:"alo-latn-id",alp:"alp-latn-id",alq:"alq-latn-ca",alr:"alr-cyrl-ru",alt:"alt-cyrl-ru",alu:"alu-latn-sb",alw:"alw-ethi-et",alx:"alx-latn-pg",aly:"aly-latn-au",alz:"alz-latn-cd",am:"am-ethi-et",ama:"ama-latn-br",amb:"amb-latn-ng",amc:"amc-latn-pe",ame:"ame-latn-pe",amf:"amf-latn-et","amf-ethi":"amf-ethi-et",amg:"amg-latn-au",ami:"ami-latn-tw",amj:"amj-latn-td",amk:"amk-latn-id",amm:"amm-latn-zz",amn:"amn-latn-zz",amo:"amo-latn-ng",amp:"amp-latn-zz",amq:"amq-latn-id",amr:"amr-latn-pe",ams:"ams-jpan-jp",amt:"amt-latn-pg",amu:"amu-latn-mx",amv:"amv-latn-id",amw:"amw-syrc-sy","amw-arab":"amw-arab-sy","amw-armi":"amw-armi-sy","amw-latn":"amw-latn-sy",amx:"amx-latn-au",amy:"amy-latn-au",amz:"amz-latn-au",an:"an-latn-es",ana:"ana-latn-co",anb:"anb-latn-pe",anc:"anc-latn-zz",and:"and-latn-id",ane:"ane-latn-nc",anf:"anf-latn-gh",ang:"ang-latn-gb",anh:"anh-latn-pg",ani:"ani-cyrl-ru",anj:"anj-latn-pg",ank:"ank-latn-zz",anl:"anl-latn-mm",anm:"anm-latn-in",ann:"ann-latn-ng",ano:"ano-latn-co",anp:"anp-deva-in",anr:"anr-deva-in",ans:"ans-latn-co",ant:"ant-latn-au",anu:"anu-ethi-et","anu-arab":"anu-arab-ss","anu-latn":"anu-latn-ss",anv:"anv-latn-cm",anw:"anw-latn-ng",anx:"anx-latn-pg",any:"any-latn-zz",anz:"anz-latn-pg",aoa:"aoa-latn-st",aob:"aob-latn-pg",aoc:"aoc-latn-ve",aod:"aod-latn-pg",aoe:"aoe-latn-pg",aof:"aof-latn-pg",aog:"aog-latn-pg",aoi:"aoi-latn-au",aoj:"aoj-latn-zz",aok:"aok-latn-nc",aol:"aol-latn-id",aom:"aom-latn-zz",aon:"aon-latn-pg",aor:"aor-latn-vu",aos:"aos-latn-id",aot:"aot-beng-bd","aot-latn":"aot-latn-in",aox:"aox-latn-gy",aoz:"aoz-latn-id",apb:"apb-latn-sb",apc:"apc-arab-sy",apd:"apd-arab-tg",ape:"ape-latn-zz",apf:"apf-latn-ph",apg:"apg-latn-id",aph:"aph-deva-np",api:"api-latn-br",apj:"apj-latn-us",apk:"apk-latn-us",apl:"apl-latn-us",apm:"apm-latn-us",apn:"apn-latn-br",apo:"apo-latn-pg",app:"app-latn-vu",apr:"apr-latn-zz",aps:"aps-latn-zz",apt:"apt-latn-in",apu:"apu-latn-br",apv:"apv-latn-br",apw:"apw-latn-us",apx:"apx-latn-id",apy:"apy-latn-br",apz:"apz-latn-zz",aqc:"aqc-cyrl-ru",aqd:"aqd-latn-ml",aqg:"aqg-latn-ng",aqk:"aqk-latn-ng",aqm:"aqm-latn-id",aqn:"aqn-latn-ph",aqr:"aqr-latn-nc",aqt:"aqt-latn-py",aqz:"aqz-latn-br",ar:"ar-arab-eg",arc:"arc-armi-ir","arc-nbat":"arc-nbat-jo","arc-palm":"arc-palm-sy",ard:"ard-latn-au",are:"are-latn-au",arh:"arh-latn-zz",ari:"ari-latn-us",arj:"arj-latn-br",ark:"ark-latn-br",arl:"arl-latn-pe",arn:"arn-latn-cl",aro:"aro-latn-bo",arp:"arp-latn-us",arq:"arq-arab-dz",arr:"arr-latn-br",ars:"ars-arab-sa",aru:"aru-latn-br",arw:"arw-latn-sr",arx:"arx-latn-br",ary:"ary-arab-ma",arz:"arz-arab-eg",as:"as-beng-in",asa:"asa-latn-tz",asb:"asb-latn-ca",asc:"asc-latn-id",ase:"ase-sgnw-us",asg:"asg-latn-zz",ash:"ash-latn-pe",asi:"asi-latn-id",asj:"asj-latn-cm",ask:"ask-arab-af",asl:"asl-latn-id",asn:"asn-latn-br",aso:"aso-latn-zz",ass:"ass-latn-cm",ast:"ast-latn-es",asu:"asu-latn-br",asv:"asv-latn-cd",asx:"asx-latn-pg",asy:"asy-latn-id",asz:"asz-latn-id",ata:"ata-latn-zz",atb:"atb-latn-cn","atb-lisu":"atb-lisu-cn",atc:"atc-latn-pe",atd:"atd-latn-ph",ate:"ate-latn-pg",atg:"atg-latn-zz",ati:"ati-latn-ci",atj:"atj-latn-ca",atk:"atk-latn-ph",atl:"atl-latn-ph",atm:"atm-latn-ph",atn:"atn-arab-ir",ato:"ato-latn-cm",atp:"atp-latn-ph",atq:"atq-latn-id",atr:"atr-latn-br",ats:"ats-latn-us",att:"att-latn-ph",atu:"atu-latn-ss",atv:"atv-cyrl-ru",atw:"atw-latn-us",atx:"atx-latn-br",aty:"aty-latn-vu",atz:"atz-latn-ph",aua:"aua-latn-sb",auc:"auc-latn-ec",aud:"aud-latn-sb",aug:"aug-latn-bj",auh:"auh-latn-zm",aui:"aui-latn-pg",auj:"auj-arab-ly","auj-latn":"auj-latn-ly","auj-tfng":"auj-tfng-ly",auk:"auk-latn-pg",aul:"aul-latn-vu",aum:"aum-latn-ng",aun:"aun-latn-pg",auo:"auo-latn-ng",aup:"aup-latn-pg",auq:"auq-latn-id",aur:"aur-latn-pg",aut:"aut-latn-pf",auu:"auu-latn-id",auw:"auw-latn-id",auy:"auy-latn-zz",auz:"auz-arab-uz",av:"av-cyrl-ru",avb:"avb-latn-pg",avd:"avd-arab-ir",avi:"avi-latn-ci",avk:"avk-latn-001",avl:"avl-arab-zz",avm:"avm-latn-au",avn:"avn-latn-zz",avo:"avo-latn-br",avs:"avs-latn-pe",avt:"avt-latn-zz",avu:"avu-latn-zz",avv:"avv-latn-br",awa:"awa-deva-in",awb:"awb-latn-zz",awc:"awc-latn-ng",awe:"awe-latn-br",awg:"awg-latn-au",awh:"awh-latn-id",awi:"awi-latn-pg",awk:"awk-latn-au",awm:"awm-latn-pg",awn:"awn-ethi-et",awo:"awo-latn-zz",awr:"awr-latn-id",aws:"aws-latn-id",awt:"awt-latn-br",awu:"awu-latn-id",awv:"awv-latn-id",aww:"aww-latn-pg",awx:"awx-latn-zz",awy:"awy-latn-id",axb:"axb-latn-ar",axe:"axe-latn-au",axg:"axg-latn-br",axk:"axk-latn-cf",axl:"axl-latn-au",axm:"axm-armn-am",axx:"axx-latn-nc",ay:"ay-latn-bo",aya:"aya-latn-pg",ayb:"ayb-latn-zz",ayc:"ayc-latn-pe",ayd:"ayd-latn-au",aye:"aye-latn-ng",ayg:"ayg-latn-tg",ayh:"ayh-arab-ye",ayi:"ayi-latn-ng",ayk:"ayk-latn-ng",ayl:"ayl-arab-ly",ayn:"ayn-arab-ye",ayo:"ayo-latn-py",ayp:"ayp-arab-iq",ayq:"ayq-latn-pg",ays:"ays-latn-ph",ayt:"ayt-latn-ph",ayu:"ayu-latn-ng",ayz:"ayz-latn-id",az:"az-latn-az","az-arab":"az-arab-ir","az-iq":"az-arab-iq","az-ir":"az-arab-ir","az-ru":"az-cyrl-ru",azb:"azb-arab-ir","azb-cyrl":"azb-cyrl-az","azb-latn":"azb-latn-az",azd:"azd-latn-mx",azg:"azg-latn-mx",azm:"azm-latn-mx",azn:"azn-latn-mx",azo:"azo-latn-cm",azt:"azt-latn-ph",azz:"azz-latn-mx",ba:"ba-cyrl-ru",baa:"baa-latn-sb",bab:"bab-latn-gw",bac:"bac-latn-id",bae:"bae-latn-ve",baf:"baf-latn-cm",bag:"bag-latn-cm",bah:"bah-latn-bs",baj:"baj-latn-id",bal:"bal-arab-pk",ban:"ban-latn-id",bao:"bao-latn-co",bap:"bap-deva-np",bar:"bar-latn-at",bas:"bas-latn-cm",bau:"bau-latn-ng",bav:"bav-latn-zz",baw:"baw-latn-cm",bax:"bax-bamu-cm",bay:"bay-latn-id",bba:"bba-latn-zz",bbb:"bbb-latn-zz",bbc:"bbc-latn-id",bbd:"bbd-latn-zz",bbe:"bbe-latn-cd",bbf:"bbf-latn-pg",bbg:"bbg-latn-ga",bbi:"bbi-latn-cm",bbj:"bbj-latn-cm",bbk:"bbk-latn-cm",bbl:"bbl-geor-ge",bbm:"bbm-latn-cd",bbn:"bbn-latn-pg",bbo:"bbo-latn-bf",bbp:"bbp-latn-zz",bbq:"bbq-latn-cm",bbr:"bbr-latn-zz",bbs:"bbs-latn-ng",bbt:"bbt-latn-ng",bbu:"bbu-latn-ng",bbv:"bbv-latn-pg",bbw:"bbw-latn-cm",bbx:"bbx-latn-cm",bby:"bby-latn-cm",bca:"bca-latn-cn","bca-hani":"bca-hani-cn",bcb:"bcb-latn-sn",bcd:"bcd-latn-id",bce:"bce-latn-cm",bcf:"bcf-latn-zz",bcg:"bcg-latn-gn",bch:"bch-latn-zz",bci:"bci-latn-ci",bcj:"bcj-latn-au",bck:"bck-latn-au",bcm:"bcm-latn-zz",bcn:"bcn-latn-zz",bco:"bco-latn-zz",bcp:"bcp-latn-cd",bcq:"bcq-ethi-zz",bcr:"bcr-latn-ca",bcs:"bcs-latn-ng",bct:"bct-latn-cd",bcu:"bcu-latn-zz",bcv:"bcv-latn-ng",bcw:"bcw-latn-cm",bcy:"bcy-latn-ng",bcz:"bcz-latn-sn",bda:"bda-latn-sn",bdb:"bdb-latn-id",bdc:"bdc-latn-co",bdd:"bdd-latn-zz",bde:"bde-latn-ng",bdf:"bdf-latn-pg",bdg:"bdg-latn-my",bdh:"bdh-latn-ss",bdi:"bdi-latn-sd",bdj:"bdj-latn-ss",bdk:"bdk-latn-az",bdl:"bdl-latn-id",bdm:"bdm-latn-td",bdn:"bdn-latn-cm",bdo:"bdo-latn-td",bdp:"bdp-latn-tz",bdq:"bdq-latn-vn",bdr:"bdr-latn-my",bds:"bds-latn-tz",bdt:"bdt-latn-cf",bdu:"bdu-latn-cm",bdv:"bdv-orya-in",bdw:"bdw-latn-id",bdx:"bdx-latn-id",bdy:"bdy-latn-au",bdz:"bdz-arab-pk",be:"be-cyrl-by",bea:"bea-latn-ca","bea-cans":"bea-cans-ca",beb:"beb-latn-cm",bec:"bec-latn-cm",bed:"bed-latn-id",bee:"bee-deva-in",bef:"bef-latn-zz",beh:"beh-latn-zz",bei:"bei-latn-id",bej:"bej-arab-sd",bek:"bek-latn-pg",bem:"bem-latn-zm",beo:"beo-latn-pg",bep:"bep-latn-id",beq:"beq-latn-cg",bes:"bes-latn-td",bet:"bet-latn-zz",beu:"beu-latn-id",bev:"bev-latn-ci",bew:"bew-latn-id",bex:"bex-latn-zz",bey:"bey-latn-pg",bez:"bez-latn-tz",bfa:"bfa-latn-ss","bfa-arab":"bfa-arab-ss",bfb:"bfb-deva-in",bfc:"bfc-latn-cn",bfd:"bfd-latn-cm",bfe:"bfe-latn-id",bff:"bff-latn-cf",bfg:"bfg-latn-id",bfh:"bfh-latn-pg",bfj:"bfj-latn-cm",bfl:"bfl-latn-cf",bfm:"bfm-latn-cm",bfn:"bfn-latn-tl",bfo:"bfo-latn-bf",bfp:"bfp-latn-cm",bfq:"bfq-taml-in",bfs:"bfs-latn-cn","bfs-hani":"bfs-hani-cn",bft:"bft-arab-pk",bfu:"bfu-tibt-in","bfu-takr":"bfu-takr-in",bfw:"bfw-orya-in",bfx:"bfx-latn-ph",bfy:"bfy-deva-in",bfz:"bfz-deva-in",bg:"bg-cyrl-bg",bga:"bga-latn-ng",bgb:"bgb-latn-id",bgc:"bgc-deva-in",bgd:"bgd-deva-in",bgf:"bgf-latn-cm",bgg:"bgg-latn-in",bgi:"bgi-latn-ph",bgj:"bgj-latn-cm",bgn:"bgn-arab-pk",bgo:"bgo-latn-gn",bgp:"bgp-arab-pk",bgq:"bgq-deva-in",bgr:"bgr-latn-in",bgs:"bgs-latn-ph",bgt:"bgt-latn-sb",bgu:"bgu-latn-ng",bgv:"bgv-latn-id",bgw:"bgw-deva-in",bgx:"bgx-grek-tr",bgy:"bgy-latn-id",bgz:"bgz-latn-id",bha:"bha-deva-in",bhb:"bhb-deva-in",bhc:"bhc-latn-id",bhd:"bhd-deva-in","bhd-arab":"bhd-arab-in","bhd-takr":"bhd-takr-in",bhe:"bhe-arab-pk",bhf:"bhf-latn-pg",bhg:"bhg-latn-zz",bhh:"bhh-cyrl-il","bhh-hebr":"bhh-hebr-il","bhh-latn":"bhh-latn-il",bhi:"bhi-deva-in",bhj:"bhj-deva-np",bhl:"bhl-latn-zz",bhm:"bhm-arab-om",bhn:"bhn-syrc-ge",bho:"bho-deva-in",bhp:"bhp-latn-id",bhq:"bhq-latn-id",bhr:"bhr-latn-mg",bhs:"bhs-latn-cm",bht:"bht-takr-in","bht-deva":"bht-deva-in","bht-latn":"bht-latn-in",bhu:"bhu-deva-in",bhv:"bhv-latn-id",bhw:"bhw-latn-id",bhy:"bhy-latn-zz",bhz:"bhz-latn-id",bi:"bi-latn-vu",bia:"bia-latn-au",bib:"bib-latn-zz",bid:"bid-latn-td",bie:"bie-latn-pg",bif:"bif-latn-gw",big:"big-latn-zz",bik:"bik-latn-ph",bil:"bil-latn-ng",bim:"bim-latn-zz",bin:"bin-latn-ng",bio:"bio-latn-zz",bip:"bip-latn-cd",biq:"biq-latn-zz",bir:"bir-latn-pg",bit:"bit-latn-pg",biu:"biu-latn-in",biv:"biv-latn-gh",biw:"biw-latn-cm",biy:"biy-deva-in",biz:"biz-latn-cd",bja:"bja-latn-cd",bjb:"bjb-latn-au",bjc:"bjc-latn-pg",bjf:"bjf-syrc-il",bjg:"bjg-latn-gw",bjh:"bjh-latn-zz",bji:"bji-ethi-zz",bjj:"bjj-deva-in",bjk:"bjk-latn-pg",bjl:"bjl-latn-pg",bjm:"bjm-arab-iq",bjn:"bjn-latn-id",bjo:"bjo-latn-zz",bjp:"bjp-latn-pg",bjr:"bjr-latn-zz",bjs:"bjs-latn-bb",bjt:"bjt-latn-sn",bju:"bju-latn-cm",bjv:"bjv-latn-td",bjw:"bjw-latn-ci",bjx:"bjx-latn-ph",bjy:"bjy-latn-au",bjz:"bjz-latn-zz",bka:"bka-latn-ng",bkc:"bkc-latn-zz",bkd:"bkd-latn-ph",bkf:"bkf-latn-cd",bkg:"bkg-latn-cf",bkh:"bkh-latn-cm",bki:"bki-latn-vu",bkj:"bkj-latn-cf",bkl:"bkl-latn-id",bkm:"bkm-latn-cm",bkn:"bkn-latn-id",bko:"bko-latn-cm",bkp:"bkp-latn-cd",bkq:"bkq-latn-zz",bkr:"bkr-latn-id",bks:"bks-latn-ph",bkt:"bkt-latn-cd",bku:"bku-latn-ph",bkv:"bkv-latn-zz",bkw:"bkw-latn-cg",bkx:"bkx-latn-tl",bky:"bky-latn-ng",bkz:"bkz-latn-id",bla:"bla-latn-ca",blb:"blb-latn-sb",blc:"blc-latn-ca",bld:"bld-latn-id",ble:"ble-latn-gw",blf:"blf-latn-id",blg:"blg-latn-my",blh:"blh-latn-lr",bli:"bli-latn-cd",blj:"blj-latn-id",blk:"blk-mymr-mm",blm:"blm-latn-ss",bln:"bln-latn-ph",blo:"blo-latn-bj",blp:"blp-latn-sb",blq:"blq-latn-pg",blr:"blr-latn-cn","blr-tale":"blr-tale-cn","blr-thai":"blr-thai-th",bls:"bls-latn-id",blt:"blt-tavt-vn",blv:"blv-latn-ao",blw:"blw-latn-ph",blx:"blx-latn-ph",bly:"bly-latn-bj",blz:"blz-latn-id",bm:"bm-latn-ml",bma:"bma-latn-ng",bmb:"bmb-latn-cd",bmc:"bmc-latn-pg",bmd:"bmd-latn-gn",bme:"bme-latn-cf",bmf:"bmf-latn-sl",bmg:"bmg-latn-cd",bmh:"bmh-latn-zz",bmi:"bmi-latn-td",bmj:"bmj-deva-np",bmk:"bmk-latn-zz",bml:"bml-latn-cd",bmm:"bmm-latn-mg",bmn:"bmn-latn-pg",bmo:"bmo-latn-cm",bmp:"bmp-latn-pg",bmq:"bmq-latn-ml",bmr:"bmr-latn-co",bms:"bms-latn-ne",bmu:"bmu-latn-zz",bmv:"bmv-latn-cm",bmw:"bmw-latn-cg",bmx:"bmx-latn-pg",bmz:"bmz-latn-pg",bn:"bn-beng-bd",bna:"bna-latn-id",bnb:"bnb-latn-my",bnc:"bnc-latn-ph",bnd:"bnd-latn-id",bne:"bne-latn-id",bnf:"bnf-latn-id",bng:"bng-latn-zz",bni:"bni-latn-cd",bnj:"bnj-latn-ph",bnk:"bnk-latn-vu",bnm:"bnm-latn-zz",bnn:"bnn-latn-tw",bno:"bno-latn-ph",bnp:"bnp-latn-zz",bnq:"bnq-latn-id",bnr:"bnr-latn-vu",bns:"bns-deva-in",bnu:"bnu-latn-id",bnv:"bnv-latn-id",bnw:"bnw-latn-pg",bnx:"bnx-latn-cd",bny:"bny-latn-my",bnz:"bnz-latn-cm",bo:"bo-tibt-cn",boa:"boa-latn-pe",bob:"bob-latn-ke",boe:"boe-latn-cm",bof:"bof-latn-bf",boh:"boh-latn-cd",boj:"boj-latn-zz",bok:"bok-latn-cg",bol:"bol-latn-ng",bom:"bom-latn-zz",bon:"bon-latn-zz",boo:"boo-latn-ml",bop:"bop-latn-pg",boq:"boq-latn-pg",bor:"bor-latn-br",bot:"bot-latn-ss",bou:"bou-latn-tz",bov:"bov-latn-gh",bow:"bow-latn-pg",box:"box-latn-bf",boy:"boy-latn-cf",boz:"boz-latn-ml","boz-arab":"boz-arab-ml",bpa:"bpa-latn-vu",bpc:"bpc-latn-cm",bpd:"bpd-latn-cf",bpe:"bpe-latn-pg",bpg:"bpg-latn-id",bph:"bph-cyrl-ru",bpi:"bpi-latn-pg",bpj:"bpj-latn-cd",bpk:"bpk-latn-nc",bpl:"bpl-latn-au",bpm:"bpm-latn-pg",bpo:"bpo-latn-id",bpp:"bpp-latn-id",bpq:"bpq-latn-id",bpr:"bpr-latn-ph",bps:"bps-latn-ph",bpt:"bpt-latn-au",bpu:"bpu-latn-pg",bpv:"bpv-latn-id",bpw:"bpw-latn-pg",bpx:"bpx-deva-in",bpy:"bpy-beng-in",bpz:"bpz-latn-id",bqa:"bqa-latn-bj",bqb:"bqb-latn-id",bqc:"bqc-latn-zz",bqd:"bqd-latn-cm",bqf:"bqf-latn-gn","bqf-arab":"bqf-arab-gn",bqg:"bqg-latn-tg",bqi:"bqi-arab-ir",bqj:"bqj-latn-sn",bqk:"bqk-latn-cf",bql:"bql-latn-pg",bqm:"bqm-latn-cm",bqo:"bqo-latn-cm",bqp:"bqp-latn-zz",bqq:"bqq-latn-id",bqr:"bqr-latn-id",bqs:"bqs-latn-pg",bqt:"bqt-latn-cm",bqu:"bqu-latn-cd",bqv:"bqv-latn-ci",bqw:"bqw-latn-ng",bqx:"bqx-latn-ng",bqz:"bqz-latn-cm",br:"br-latn-fr",bra:"bra-deva-in",brb:"brb-khmr-kh","brb-laoo":"brb-laoo-la","brb-latn":"brb-latn-vn",brc:"brc-latn-gy",brd:"brd-deva-np",brf:"brf-latn-cd",brg:"brg-latn-bo",brh:"brh-arab-pk",bri:"bri-latn-cm",brj:"brj-latn-vu",brk:"brk-arab-sd",brl:"brl-latn-bw",brm:"brm-latn-cd",brn:"brn-latn-cr",brp:"brp-latn-id",brq:"brq-latn-pg",brr:"brr-latn-sb",brs:"brs-latn-id",brt:"brt-latn-ng",bru:"bru-latn-vn","bru-laoo":"bru-laoo-la","bru-thai":"bru-thai-la",brv:"brv-laoo-la",brx:"brx-deva-in",bry:"bry-latn-pg",brz:"brz-latn-zz",bs:"bs-latn-ba",bsa:"bsa-latn-id",bsb:"bsb-latn-bn",bsc:"bsc-latn-sn",bse:"bse-latn-cm",bsf:"bsf-latn-ng",bsh:"bsh-arab-af",bsi:"bsi-latn-cm",bsj:"bsj-latn-zz",bsk:"bsk-arab-pk","bsk-latn":"bsk-latn-pk",bsl:"bsl-latn-ng",bsm:"bsm-latn-id",bsn:"bsn-latn-co",bso:"bso-latn-td",bsp:"bsp-latn-gn",bsq:"bsq-bass-lr",bsr:"bsr-latn-ng",bss:"bss-latn-cm",bst:"bst-ethi-zz",bsu:"bsu-latn-id",bsv:"bsv-latn-gn","bsv-arab":"bsv-arab-gn",bsw:"bsw-latn-et","bsw-ethi":"bsw-ethi-et",bsx:"bsx-latn-ng",bsy:"bsy-latn-my",bta:"bta-latn-ng",btc:"btc-latn-cm",btd:"btd-batk-id",bte:"bte-latn-ng",btf:"btf-latn-td",btg:"btg-latn-ci",bth:"bth-latn-my",bti:"bti-latn-id",btj:"btj-latn-id",btm:"btm-batk-id",btn:"btn-latn-ph",bto:"bto-latn-ph",btp:"btp-latn-pg",btq:"btq-latn-my",btr:"btr-latn-vu",bts:"bts-latn-id","bts-batk":"bts-batk-id",btt:"btt-latn-zz",btu:"btu-latn-ng",btv:"btv-deva-pk",btw:"btw-latn-ph",btx:"btx-latn-id","btx-batk":"btx-batk-id",bty:"bty-latn-id",btz:"btz-latn-id",bua:"bua-cyrl-ru",bub:"bub-latn-td",buc:"buc-latn-yt",bud:"bud-latn-zz",bue:"bue-latn-ca",buf:"buf-latn-cd",bug:"bug-latn-id",buh:"buh-latn-cn",bui:"bui-latn-cg",buj:"buj-latn-ng",buk:"buk-latn-zz",bum:"bum-latn-cm",bun:"bun-latn-sl",buo:"buo-latn-zz",bup:"bup-latn-id",buq:"buq-latn-pg",bus:"bus-latn-zz",but:"but-latn-pg",buu:"buu-latn-zz",buv:"buv-latn-pg",buw:"buw-latn-ga",bux:"bux-latn-ng",buy:"buy-latn-sl",buz:"buz-latn-ng",bva:"bva-latn-td",bvb:"bvb-latn-gq",bvc:"bvc-latn-sb",bvd:"bvd-latn-sb",bve:"bve-latn-id",bvf:"bvf-latn-td",bvg:"bvg-latn-cm",bvh:"bvh-latn-ng",bvi:"bvi-latn-ss",bvj:"bvj-latn-ng",bvk:"bvk-latn-id",bvm:"bvm-latn-cm",bvn:"bvn-latn-pg",bvo:"bvo-latn-td",bvq:"bvq-latn-cf",bvr:"bvr-latn-au",bvt:"bvt-latn-id",bvu:"bvu-latn-id",bvv:"bvv-latn-ve",bvw:"bvw-latn-ng",bvx:"bvx-latn-cg",bvy:"bvy-latn-ph",bvz:"bvz-latn-id",bwa:"bwa-latn-nc",bwb:"bwb-latn-fj",bwc:"bwc-latn-zm",bwd:"bwd-latn-zz",bwe:"bwe-mymr-mm","bwe-latn":"bwe-latn-mm",bwf:"bwf-latn-pg",bwg:"bwg-latn-mz",bwh:"bwh-latn-cm",bwi:"bwi-latn-ve",bwj:"bwj-latn-bf",bwk:"bwk-latn-pg",bwl:"bwl-latn-cd",bwm:"bwm-latn-pg",bwo:"bwo-latn-et","bwo-ethi":"bwo-ethi-et",bwp:"bwp-latn-id",bwq:"bwq-latn-bf",bwr:"bwr-latn-zz",bws:"bws-latn-cd",bwt:"bwt-latn-cm",bwu:"bwu-latn-gh",bww:"bww-latn-cd",bwx:"bwx-latn-cn",bwy:"bwy-latn-bf",bwz:"bwz-latn-cg",bxa:"bxa-latn-sb",bxb:"bxb-latn-ss",bxc:"bxc-latn-gq",bxf:"bxf-latn-pg",bxg:"bxg-latn-cd",bxh:"bxh-latn-zz",bxi:"bxi-latn-au",bxj:"bxj-latn-au",bxl:"bxl-latn-bf",bxm:"bxm-cyrl-mn","bxm-latn":"bxm-latn-mn","bxm-mong":"bxm-mong-mn",bxn:"bxn-latn-au",bxo:"bxo-latn-ng",bxp:"bxp-latn-cm",bxq:"bxq-latn-ng",bxs:"bxs-latn-cm",bxu:"bxu-mong-cn","bxu-cyrl":"bxu-cyrl-cn","bxu-latn":"bxu-latn-cn",bxv:"bxv-latn-td",bxw:"bxw-latn-ml",bxz:"bxz-latn-pg",bya:"bya-latn-ph",byb:"byb-latn-cm",byc:"byc-latn-ng",byd:"byd-latn-id",bye:"bye-latn-zz",byf:"byf-latn-ng",byh:"byh-deva-np",byi:"byi-latn-cd",byj:"byj-latn-ng",byk:"byk-latn-cn",byl:"byl-latn-id",bym:"bym-latn-au",byn:"byn-ethi-er",byp:"byp-latn-ng",byr:"byr-latn-zz",bys:"bys-latn-zz",byv:"byv-latn-cm",byw:"byw-deva-np",byx:"byx-latn-zz",byz:"byz-latn-pg",bza:"bza-latn-zz",bzb:"bzb-latn-id",bzc:"bzc-latn-mg",bzd:"bzd-latn-cr",bze:"bze-latn-ml",bzf:"bzf-latn-zz",bzh:"bzh-latn-zz",bzi:"bzi-thai-th",bzj:"bzj-latn-bz",bzk:"bzk-latn-ni",bzl:"bzl-latn-id",bzm:"bzm-latn-cd",bzn:"bzn-latn-id",bzo:"bzo-latn-cd",bzp:"bzp-latn-id",bzq:"bzq-latn-id",bzr:"bzr-latn-au",bzt:"bzt-latn-001",bzu:"bzu-latn-id",bzv:"bzv-latn-cm",bzw:"bzw-latn-zz",bzx:"bzx-latn-ml",bzy:"bzy-latn-ng",bzz:"bzz-latn-ng",ca:"ca-latn-es",caa:"caa-latn-gt",cab:"cab-latn-hn",cac:"cac-latn-gt",cad:"cad-latn-us",cae:"cae-latn-sn",caf:"caf-latn-ca","caf-cans":"caf-cans-ca",cag:"cag-latn-py",cah:"cah-latn-pe",caj:"caj-latn-ar",cak:"cak-latn-gt",cal:"cal-latn-mp",cam:"cam-latn-nc",can:"can-latn-zz",cao:"cao-latn-bo",cap:"cap-latn-bo",caq:"caq-latn-in",car:"car-latn-ve",cas:"cas-latn-bo",cav:"cav-latn-bo",caw:"caw-latn-bo",cax:"cax-latn-bo",cay:"cay-latn-ca",caz:"caz-latn-bo",cbb:"cbb-latn-co",cbc:"cbc-latn-co",cbd:"cbd-latn-co",cbg:"cbg-latn-co",cbi:"cbi-latn-ec",cbj:"cbj-latn-zz",cbk:"cbk-latn-ph","cbk-brai":"cbk-brai-ph",cbl:"cbl-latn-mm",cbn:"cbn-thai-th",cbo:"cbo-latn-ng",cbq:"cbq-latn-ng",cbr:"cbr-latn-pe",cbs:"cbs-latn-pe",cbt:"cbt-latn-pe",cbu:"cbu-latn-pe",cbv:"cbv-latn-co",cbw:"cbw-latn-ph",cby:"cby-latn-co",ccc:"ccc-latn-pe",ccd:"ccd-latn-br",cce:"cce-latn-mz",ccg:"ccg-latn-ng",cch:"cch-latn-ng",ccj:"ccj-latn-gw",ccl:"ccl-latn-tz",ccm:"ccm-latn-my",cco:"cco-latn-mx",ccp:"ccp-cakm-bd",ccr:"ccr-latn-sv",cde:"cde-telu-in",cdf:"cdf-latn-in","cdf-beng":"cdf-beng-in",cdh:"cdh-deva-in","cdh-takr":"cdh-takr-in",cdi:"cdi-gujr-in",cdj:"cdj-deva-in",cdm:"cdm-deva-np","cdm-latn":"cdm-latn-np",cdo:"cdo-hans-cn","cdo-hant":"cdo-hant-cn","cdo-latn":"cdo-latn-cn",cdr:"cdr-latn-ng",cdz:"cdz-beng-in",ce:"ce-cyrl-ru",cea:"cea-latn-us",ceb:"ceb-latn-ph",ceg:"ceg-latn-py",cek:"cek-latn-mm",cen:"cen-latn-ng",cet:"cet-latn-ng",cey:"cey-latn-mm",cfa:"cfa-latn-zz",cfd:"cfd-latn-ng",cfg:"cfg-latn-ng",cfm:"cfm-latn-mm","cfm-beng":"cfm-beng-in",cga:"cga-latn-pg",cgc:"cgc-latn-ph",cgg:"cgg-latn-ug",cgk:"cgk-tibt-bt",ch:"ch-latn-gu",chb:"chb-latn-co",chd:"chd-latn-mx",chf:"chf-latn-mx",chg:"chg-arab-tm",chh:"chh-latn-us",chj:"chj-latn-mx",chk:"chk-latn-fm",chl:"chl-latn-us",chm:"chm-cyrl-ru",chn:"chn-latn-us","chn-dupl":"chn-dupl-us",cho:"cho-latn-us",chp:"chp-latn-ca",chq:"chq-latn-mx",chr:"chr-cher-us",cht:"cht-latn-pe",chw:"chw-latn-mz",chx:"chx-deva-np",chy:"chy-latn-us",chz:"chz-latn-mx",cia:"cia-latn-id","cia-arab":"cia-arab-id","cia-hang":"cia-hang-id",cib:"cib-latn-bj",cic:"cic-latn-us",cie:"cie-latn-ng",cih:"cih-deva-in",cim:"cim-latn-it",cin:"cin-latn-br",cip:"cip-latn-mx",cir:"cir-latn-nc",ciw:"ciw-latn-us","ciw-cans":"ciw-cans-us",ciy:"ciy-latn-ve",cja:"cja-arab-kh",cje:"cje-latn-vn",cjh:"cjh-latn-us",cji:"cji-cyrl-ru",cjk:"cjk-latn-ao",cjm:"cjm-cham-vn",cjn:"cjn-latn-pg",cjo:"cjo-latn-pe",cjp:"cjp-latn-cr",cjs:"cjs-latn-ru","cjs-cyrl":"cjs-cyrl-ru",cjv:"cjv-latn-zz",cjy:"cjy-hans-cn","cjy-hant":"cjy-hant-cn",ckb:"ckb-arab-iq",ckl:"ckl-latn-zz",ckm:"ckm-latn-hr","ckm-glag":"ckm-glag-hr",ckn:"ckn-latn-mm",cko:"cko-latn-zz",ckq:"ckq-latn-td",ckr:"ckr-latn-pg",cks:"cks-latn-nc",ckt:"ckt-cyrl-ru",cku:"cku-latn-us",ckv:"ckv-latn-tw",ckx:"ckx-latn-cm",cky:"cky-latn-zz",ckz:"ckz-latn-gt",cla:"cla-latn-zz",clc:"clc-latn-ca",cle:"cle-latn-mx",clh:"clh-arab-pk",cli:"cli-latn-gh",clj:"clj-latn-mm",clk:"clk-latn-in","clk-tibt":"clk-tibt-cn",cll:"cll-latn-gh",clm:"clm-latn-us",clo:"clo-latn-mx",clt:"clt-latn-mm",clu:"clu-latn-ph",clw:"clw-cyrl-ru",cly:"cly-latn-mx",cma:"cma-latn-vn",cme:"cme-latn-zz",cmg:"cmg-soyo-mn",cmi:"cmi-latn-co",cml:"cml-latn-id",cmo:"cmo-latn-vn","cmo-kh":"cmo-latn-kh","cmo-khmr":"cmo-khmr-kh",cmr:"cmr-latn-mm",cms:"cms-latn-it",cmt:"cmt-latn-za",cna:"cna-tibt-in",cnb:"cnb-latn-mm",cnc:"cnc-latn-vn",cng:"cng-latn-cn",cnh:"cnh-latn-mm",cni:"cni-latn-pe",cnk:"cnk-latn-mm",cnl:"cnl-latn-mx",cnp:"cnp-hans-cn","cnp-hant":"cnp-hant-cn",cnq:"cnq-latn-cm",cns:"cns-latn-id",cnt:"cnt-latn-mx",cnw:"cnw-latn-mm",cnx:"cnx-latn-gb",co:"co-latn-fr",coa:"coa-latn-au",cob:"cob-latn-mx",coc:"coc-latn-mx",cod:"cod-latn-pe",coe:"coe-latn-co",cof:"cof-latn-ec",cog:"cog-thai-th",coh:"coh-latn-ke",coj:"coj-latn-mx",cok:"cok-latn-mx",col:"col-latn-us",com:"com-latn-us",coo:"coo-latn-ca",cop:"cop-copt-eg",coq:"coq-latn-us",cot:"cot-latn-pe",cou:"cou-latn-sn",cox:"cox-latn-pe",coz:"coz-latn-mx",cpa:"cpa-latn-mx",cpb:"cpb-latn-pe",cpc:"cpc-latn-pe",cpg:"cpg-grek-gr",cpi:"cpi-latn-nr",cpn:"cpn-latn-gh",cpo:"cpo-latn-bf",cps:"cps-latn-ph",cpu:"cpu-latn-pe",cpx:"cpx-latn-cn",cpy:"cpy-latn-pe",cqd:"cqd-latn-cn",cr:"cr-cans-ca",crb:"crb-latn-vc",crc:"crc-latn-vu",crd:"crd-latn-us",crf:"crf-latn-co",crg:"crg-latn-ca",crh:"crh-cyrl-ua",cri:"cri-latn-st",crj:"crj-cans-ca","crj-latn":"crj-latn-ca",crk:"crk-cans-ca",crl:"crl-cans-ca",crm:"crm-cans-ca",crn:"crn-latn-mx",cro:"cro-latn-us",crq:"crq-latn-ar",crs:"crs-latn-sc",crt:"crt-latn-ar",crv:"crv-latn-in",crw:"crw-latn-vn",crx:"crx-latn-ca","crx-cans":"crx-cans-ca",cry:"cry-latn-ng",crz:"crz-latn-us",cs:"cs-latn-cz",csa:"csa-latn-mx",csb:"csb-latn-pl",csh:"csh-mymr-mm","csh-latn":"csh-latn-mm",csj:"csj-latn-mm",csk:"csk-latn-sn",csm:"csm-latn-us",cso:"cso-latn-mx",csp:"csp-hans-cn","csp-hant":"csp-hant-cn",css:"css-latn-us",cst:"cst-latn-us",csv:"csv-latn-mm",csw:"csw-cans-ca",csy:"csy-latn-mm",csz:"csz-latn-us",cta:"cta-latn-mx",ctc:"ctc-latn-us",ctd:"ctd-pauc-mm",cte:"cte-latn-mx",ctg:"ctg-beng-bd","ctg-arab":"ctg-arab-bd","ctg-latn":"ctg-latn-bd",cth:"cth-latn-mm",ctl:"ctl-latn-mx",ctm:"ctm-latn-us",ctn:"ctn-deva-np",cto:"cto-latn-co",ctp:"ctp-latn-mx",cts:"cts-latn-ph",ctt:"ctt-taml-in",ctu:"ctu-latn-mx",ctz:"ctz-latn-mx",cu:"cu-cyrl-ru","cu-glag":"cu-glag-bg",cua:"cua-latn-vn",cub:"cub-latn-co",cuc:"cuc-latn-mx",cuh:"cuh-latn-ke",cui:"cui-latn-co",cuj:"cuj-latn-pe",cuk:"cuk-latn-pa",cul:"cul-latn-br",cuo:"cuo-latn-ve",cup:"cup-latn-us",cut:"cut-latn-mx",cuu:"cuu-lana-cn",cuv:"cuv-latn-cm",cux:"cux-latn-mx",cv:"cv-cyrl-ru",cvg:"cvg-latn-in","cvg-tibt":"cvg-tibt-in",cvn:"cvn-latn-mx",cwa:"cwa-latn-tz",cwb:"cwb-latn-mz",cwe:"cwe-latn-tz",cwg:"cwg-latn-my",cwt:"cwt-latn-sn",cy:"cy-latn-gb",cya:"cya-latn-mx",cyb:"cyb-latn-bo",cyo:"cyo-latn-ph",czh:"czh-hans-cn","czh-hant":"czh-hant-cn",czk:"czk-hebr-cz",czn:"czn-latn-mx",czt:"czt-latn-mm",da:"da-latn-dk",daa:"daa-latn-td",dac:"dac-latn-pg",dad:"dad-latn-zz",dae:"dae-latn-cm",daf:"daf-latn-ci",dag:"dag-latn-zz",dah:"dah-latn-zz",dai:"dai-latn-td",daj:"daj-latn-sd",dak:"dak-latn-us",dal:"dal-latn-ke",dam:"dam-latn-ng",dao:"dao-latn-mm",daq:"daq-deva-in",dar:"dar-cyrl-ru",das:"das-latn-ci",dau:"dau-latn-td",dav:"dav-latn-ke",daw:"daw-latn-ph",dax:"dax-latn-au",daz:"daz-latn-id",dba:"dba-latn-ml",dbb:"dbb-latn-ng",dbd:"dbd-latn-zz",dbe:"dbe-latn-id",dbf:"dbf-latn-id",dbg:"dbg-latn-ml",dbi:"dbi-latn-ng",dbj:"dbj-latn-my","dbj-arab":"dbj-arab-my",dbl:"dbl-latn-au",dbm:"dbm-latn-ng",dbn:"dbn-latn-id",dbo:"dbo-latn-ng",dbp:"dbp-latn-ng",dbq:"dbq-latn-zz",dbt:"dbt-latn-ml",dbu:"dbu-latn-ml",dbv:"dbv-latn-ng",dbw:"dbw-latn-ml",dby:"dby-latn-pg",dcc:"dcc-arab-in",dcr:"dcr-latn-vi",dda:"dda-latn-au",ddd:"ddd-latn-ss",dde:"dde-latn-cg",ddg:"ddg-latn-tl",ddi:"ddi-latn-pg",ddj:"ddj-latn-au",ddn:"ddn-latn-zz",ddo:"ddo-cyrl-ru",ddr:"ddr-latn-au",dds:"dds-latn-ml",ddw:"ddw-latn-id",de:"de-latn-de",dec:"dec-latn-sd",ded:"ded-latn-zz",dee:"dee-latn-lr",def:"def-arab-ir",deg:"deg-latn-ng",deh:"deh-arab-pk",dei:"dei-latn-id",dek:"dek-latn-cm",del:"del-latn-us",dem:"dem-latn-id",den:"den-latn-ca",deq:"deq-latn-cf",der:"der-beng-in","der-latn":"der-latn-in",des:"des-latn-br",dev:"dev-latn-pg",dez:"dez-latn-cd",dga:"dga-latn-zz",dgb:"dgb-latn-ml",dgc:"dgc-latn-ph",dgd:"dgd-latn-bf",dge:"dge-latn-pg",dgg:"dgg-latn-pg",dgh:"dgh-latn-zz",dgi:"dgi-latn-zz",dgk:"dgk-latn-cf",dgl:"dgl-arab-zz",dgn:"dgn-latn-au",dgr:"dgr-latn-ca",dgs:"dgs-latn-bf",dgt:"dgt-latn-au",dgw:"dgw-latn-au",dgx:"dgx-latn-pg",dgz:"dgz-latn-zz",dhg:"dhg-latn-au",dhi:"dhi-deva-np",dhl:"dhl-latn-au",dhm:"dhm-latn-ao",dhn:"dhn-gujr-in",dho:"dho-deva-in",dhr:"dhr-latn-au",dhs:"dhs-latn-tz",dhu:"dhu-latn-au",dhv:"dhv-latn-nc",dhw:"dhw-deva-np",dhx:"dhx-latn-au",dia:"dia-latn-zz",dib:"dib-latn-ss",dic:"dic-latn-ci",did:"did-latn-ss",dif:"dif-latn-au",dig:"dig-latn-ke",dih:"dih-latn-mx",dii:"dii-latn-cm",dij:"dij-latn-id",dil:"dil-latn-sd",din:"din-latn-ss","din-arab":"din-arab-ss",dio:"dio-latn-ng",dip:"dip-latn-ss",dir:"dir-latn-ng",dis:"dis-latn-in","dis-beng":"dis-beng-in",diu:"diu-latn-na",diw:"diw-latn-ss",dix:"dix-latn-vu",diy:"diy-latn-id",diz:"diz-latn-cd",dja:"dja-latn-au",djb:"djb-latn-au",djc:"djc-latn-td",djd:"djd-latn-au",dje:"dje-latn-ne",djf:"djf-latn-au",dji:"dji-latn-au",djj:"djj-latn-au",djk:"djk-latn-sr",djm:"djm-latn-ml",djn:"djn-latn-au",djo:"djo-latn-id",djr:"djr-latn-au",dju:"dju-latn-pg",djw:"djw-latn-au",dka:"dka-tibt-bt",dkg:"dkg-latn-ng",dkk:"dkk-latn-id",dkr:"dkr-latn-my",dks:"dks-latn-ss",dkx:"dkx-latn-cm",dlg:"dlg-cyrl-ru",dlm:"dlm-latn-hr",dln:"dln-latn-in",dma:"dma-latn-ga",dmb:"dmb-latn-ml",dmc:"dmc-latn-pg",dmd:"dmd-latn-au",dme:"dme-latn-cm",dmf:"dmf-medf-ng",dmg:"dmg-latn-my",dmk:"dmk-arab-pk",dml:"dml-arab-pk",dmm:"dmm-latn-cm",dmo:"dmo-latn-cm",dmr:"dmr-latn-id",dms:"dms-latn-id",dmu:"dmu-latn-id",dmv:"dmv-latn-my",dmw:"dmw-latn-au",dmx:"dmx-latn-mz",dmy:"dmy-latn-id",dna:"dna-latn-id",dnd:"dnd-latn-pg",dne:"dne-latn-tz",dng:"dng-cyrl-kg","dng-arab":"dng-arab-kg",dni:"dni-latn-id",dnj:"dnj-latn-ci",dnk:"dnk-latn-id",dnn:"dnn-latn-bf",dno:"dno-latn-cd",dnr:"dnr-latn-pg",dnt:"dnt-latn-id",dnu:"dnu-mymr-mm",dnv:"dnv-mymr-mm",dnw:"dnw-latn-id",dny:"dny-latn-br",doa:"doa-latn-pg",dob:"dob-latn-zz",doc:"doc-latn-cn",doe:"doe-latn-tz",dof:"dof-latn-pg",doh:"doh-latn-ng",doi:"doi-deva-in",dok:"dok-latn-id",dol:"dol-latn-pg",don:"don-latn-pg",doo:"doo-latn-cd",dop:"dop-latn-zz",dor:"dor-latn-sb",dos:"dos-latn-bf",dot:"dot-latn-ng",dov:"dov-latn-zw",dow:"dow-latn-zz",dox:"dox-ethi-et",doy:"doy-latn-gh",dpp:"dpp-latn-my",drc:"drc-latn-pt",dre:"dre-tibt-np",drg:"drg-latn-my",drh:"drh-mong-cn",dri:"dri-latn-zz",drl:"drl-latn-au",drn:"drn-latn-id",dro:"dro-latn-my",drq:"drq-deva-np",drs:"drs-ethi-zz",drt:"drt-latn-nl",dru:"dru-latn-tw",dry:"dry-deva-np",dsb:"dsb-latn-de",dsh:"dsh-latn-ke",dsi:"dsi-latn-td",dsn:"dsn-latn-id",dso:"dso-orya-in",dsq:"dsq-latn-ml","dsq-arab":"dsq-arab-ml",dta:"dta-latn-cn","dta-cyrl":"dta-cyrl-cn","dta-hans":"dta-hans-cn",dtb:"dtb-latn-my",dtd:"dtd-latn-ca",dth:"dth-latn-au",dti:"dti-latn-ml",dtk:"dtk-latn-ml",dtm:"dtm-latn-ml",dto:"dto-latn-ml",dtp:"dtp-latn-my",dtr:"dtr-latn-my",dts:"dts-latn-zz",dtt:"dtt-latn-ml",dtu:"dtu-latn-ml",dty:"dty-deva-np",dua:"dua-latn-cm",dub:"dub-gujr-in",duc:"duc-latn-zz",dud:"dud-latn-zz",due:"due-latn-ph",duf:"duf-latn-nc",dug:"dug-latn-zz",duh:"duh-deva-in","duh-gujr":"duh-gujr-in",dui:"dui-latn-pg",duk:"duk-latn-pg",dul:"dul-latn-ph",dum:"dum-latn-nl",dun:"dun-latn-id",duo:"duo-latn-ph",dup:"dup-latn-id",duq:"duq-latn-id",dur:"dur-latn-cm",dus:"dus-deva-np",duu:"duu-latn-cn",duv:"duv-latn-id",duw:"duw-latn-id",dux:"dux-latn-ml",duy:"duy-latn-ph",duz:"duz-latn-cm",dv:"dv-thaa-mv",dva:"dva-latn-zz",dwa:"dwa-latn-ng",dwk:"dwk-orya-in",dwr:"dwr-latn-et","dwr-ethi":"dwr-ethi-et",dws:"dws-latn-001",dwu:"dwu-latn-au",dww:"dww-latn-zz",dwy:"dwy-latn-au",dwz:"dwz-deva-np",dya:"dya-latn-bf",dyb:"dyb-latn-au",dyd:"dyd-latn-au",dyg:"dyg-latn-ph",dyi:"dyi-latn-ci",dym:"dym-latn-ml",dyn:"dyn-latn-au",dyo:"dyo-latn-sn",dyu:"dyu-latn-bf",dyy:"dyy-latn-au",dz:"dz-tibt-bt",dza:"dza-latn-ng",dze:"dze-latn-au",dzg:"dzg-latn-zz",dzl:"dzl-tibt-bt",dzn:"dzn-latn-cd",eaa:"eaa-latn-au",ebc:"ebc-latn-id",ebg:"ebg-latn-ng",ebk:"ebk-latn-ph",ebo:"ebo-latn-cg",ebr:"ebr-latn-ci",ebu:"ebu-latn-ke",ecr:"ecr-grek-gr",ecy:"ecy-cprt-cy",ee:"ee-latn-gh",efa:"efa-latn-ng",efe:"efe-latn-cd",efi:"efi-latn-ng",ega:"ega-latn-ci",egl:"egl-latn-it",egm:"egm-latn-tz",ego:"ego-latn-ng",egy:"egy-egyp-eg",ehu:"ehu-latn-ng",eip:"eip-latn-id",eit:"eit-latn-pg",eiv:"eiv-latn-pg",eja:"eja-latn-gw",eka:"eka-latn-zz",eke:"eke-latn-ng",ekg:"ekg-latn-id",eki:"eki-latn-ng",ekl:"ekl-latn-bd",ekm:"ekm-latn-cm",eko:"eko-latn-mz","eko-arab":"eko-arab-mz",ekp:"ekp-latn-ng",ekr:"ekr-latn-ng",eky:"eky-kali-mm",el:"el-grek-gr",ele:"ele-latn-pg",elk:"elk-latn-pg",elm:"elm-latn-ng",elo:"elo-latn-ke",elu:"elu-latn-pg",ema:"ema-latn-zz",emb:"emb-latn-id",eme:"eme-latn-gf",emg:"emg-deva-np",emi:"emi-latn-zz",emm:"emm-latn-mx",emn:"emn-latn-cm",emp:"emp-latn-pa",ems:"ems-latn-us","ems-cyrl":"ems-cyrl-us",emu:"emu-deva-in",emw:"emw-latn-id",emx:"emx-latn-fr",emz:"emz-latn-cm",en:"en-latn-us","en-shaw":"en-shaw-gb",ena:"ena-latn-pg",enb:"enb-latn-ke",enc:"enc-latn-vn",end:"end-latn-id",enf:"enf-cyrl-ru",enh:"enh-cyrl-ru",enl:"enl-latn-py",enm:"enm-latn-gb",enn:"enn-latn-zz",eno:"eno-latn-id",enq:"enq-latn-zz",enr:"enr-latn-id",env:"env-latn-ng",enw:"enw-latn-ng",enx:"enx-latn-py",eo:"eo-latn-001",eot:"eot-latn-ci",epi:"epi-latn-ng",era:"era-taml-in",erg:"erg-latn-vu",erh:"erh-latn-ng",eri:"eri-latn-zz",erk:"erk-latn-vu",err:"err-latn-au",ert:"ert-latn-id",erw:"erw-latn-id",es:"es-latn-es",ese:"ese-latn-bo",esg:"esg-gonm-in",esh:"esh-arab-ir",esi:"esi-latn-us",esm:"esm-latn-ci",ess:"ess-latn-us","ess-cyrl":"ess-cyrl-us",esu:"esu-latn-us",esy:"esy-latn-ph",et:"et-latn-ee",etb:"etb-latn-ng",etn:"etn-latn-vu",eto:"eto-latn-cm",etr:"etr-latn-zz",ets:"ets-latn-ng",ett:"ett-ital-it",etu:"etu-latn-zz",etx:"etx-latn-zz",etz:"etz-latn-id",eu:"eu-latn-es",eve:"eve-cyrl-ru",evh:"evh-latn-ng",evn:"evn-cyrl-ru","evn-latn":"evn-latn-cn","evn-mong":"evn-mong-cn",ewo:"ewo-latn-cm",ext:"ext-latn-es",eya:"eya-latn-us",eyo:"eyo-latn-ke",eza:"eza-latn-zz",eze:"eze-latn-ng",fa:"fa-arab-ir",faa:"faa-latn-zz",fab:"fab-latn-zz",fad:"fad-latn-pg",faf:"faf-latn-sb",fag:"fag-latn-zz",fah:"fah-latn-ng",fai:"fai-latn-zz",faj:"faj-latn-pg",fak:"fak-latn-cm",fal:"fal-latn-cm",fam:"fam-latn-ng",fan:"fan-latn-gq",fap:"fap-latn-sn",far:"far-latn-sb",fau:"fau-latn-id",fax:"fax-latn-es",fay:"fay-arab-ir",faz:"faz-arab-ir",fbl:"fbl-latn-ph",fer:"fer-latn-ss",ff:"ff-latn-sn","ff-adlm":"ff-adlm-gn",ffi:"ffi-latn-zz",ffm:"ffm-latn-ml",fgr:"fgr-latn-td",fi:"fi-latn-fi",fia:"fia-arab-sd",fie:"fie-latn-ng",fif:"fif-latn-sa",fil:"fil-latn-ph",fip:"fip-latn-tz",fir:"fir-latn-ng",fit:"fit-latn-se",fiw:"fiw-latn-pg",fj:"fj-latn-fj",fkk:"fkk-latn-ng",fkv:"fkv-latn-no",fla:"fla-latn-us",flh:"flh-latn-id",fli:"fli-latn-ng",fll:"fll-latn-cm",fln:"fln-latn-au",flr:"flr-latn-zz",fly:"fly-latn-za",fmp:"fmp-latn-zz",fmu:"fmu-deva-in",fnb:"fnb-latn-vu",fng:"fng-latn-za",fni:"fni-latn-td",fo:"fo-latn-fo",fod:"fod-latn-zz",foi:"foi-latn-pg",fom:"fom-latn-cd",fon:"fon-latn-bj",for:"for-latn-zz",fos:"fos-latn-tw",fpe:"fpe-latn-zz",fqs:"fqs-latn-zz",fr:"fr-latn-fr",frc:"frc-latn-us",frd:"frd-latn-id",frk:"frk-latn-de",frm:"frm-latn-fr",fro:"fro-latn-fr",frp:"frp-latn-fr",frq:"frq-latn-pg",frr:"frr-latn-de",frs:"frs-latn-de",frt:"frt-latn-vu",fub:"fub-arab-cm",fud:"fud-latn-wf",fue:"fue-latn-zz",fuf:"fuf-latn-gn",fuh:"fuh-latn-zz",fui:"fui-latn-td",fum:"fum-latn-ng",fun:"fun-latn-br",fuq:"fuq-latn-ne",fur:"fur-latn-it",fut:"fut-latn-vu",fuu:"fuu-latn-cd",fuv:"fuv-latn-ng",fuy:"fuy-latn-zz",fvr:"fvr-latn-sd",fwa:"fwa-latn-nc",fwe:"fwe-latn-na",fy:"fy-latn-nl",ga:"ga-latn-ie",gaa:"gaa-latn-gh",gab:"gab-latn-td",gac:"gac-latn-in","gac-deva":"gac-deva-in",gad:"gad-latn-ph",gae:"gae-latn-ve",gaf:"gaf-latn-zz",gag:"gag-latn-md",gah:"gah-latn-zz",gai:"gai-latn-pg",gaj:"gaj-latn-zz",gak:"gak-latn-id",gal:"gal-latn-tl",gam:"gam-latn-zz",gan:"gan-hans-cn",gao:"gao-latn-pg",gap:"gap-latn-pg",gaq:"gaq-orya-in",gar:"gar-latn-pg",gas:"gas-gujr-in",gat:"gat-latn-pg",gau:"gau-telu-in",gaw:"gaw-latn-zz",gax:"gax-latn-et","gax-ethi":"gax-ethi-et",gay:"gay-latn-id",gba:"gba-latn-zz",gbb:"gbb-latn-au",gbd:"gbd-latn-au",gbe:"gbe-latn-pg",gbf:"gbf-latn-zz",gbg:"gbg-latn-cf",gbh:"gbh-latn-bj",gbi:"gbi-latn-id",gbj:"gbj-orya-in",gbk:"gbk-deva-in","gbk-takr":"gbk-takr-in",gbl:"gbl-gujr-in","gbl-deva":"gbl-deva-in",gbm:"gbm-deva-in",gbn:"gbn-latn-ss",gbp:"gbp-latn-cf",gbq:"gbq-latn-cf",gbr:"gbr-latn-ng",gbs:"gbs-latn-bj",gbu:"gbu-latn-au",gbv:"gbv-latn-cf",gbw:"gbw-latn-au",gbx:"gbx-latn-bj",gby:"gby-latn-zz",gbz:"gbz-arab-ir",gcc:"gcc-latn-pg",gcd:"gcd-latn-au",gcf:"gcf-latn-gp",gcl:"gcl-latn-gd",gcn:"gcn-latn-pg",gcr:"gcr-latn-gf",gct:"gct-latn-ve",gd:"gd-latn-gb",gdb:"gdb-orya-in","gdb-telu":"gdb-telu-in",gdc:"gdc-latn-au",gdd:"gdd-latn-pg",gde:"gde-latn-zz",gdf:"gdf-latn-ng",gdg:"gdg-latn-ph",gdh:"gdh-latn-au",gdi:"gdi-latn-cf",gdj:"gdj-latn-au",gdk:"gdk-latn-td",gdl:"gdl-latn-et","gdl-ethi":"gdl-ethi-et",gdm:"gdm-latn-td",gdn:"gdn-latn-zz",gdo:"gdo-cyrl-ru",gdq:"gdq-latn-ye",gdr:"gdr-latn-zz",gdt:"gdt-latn-au",gdu:"gdu-latn-ng",gdx:"gdx-deva-in",gea:"gea-latn-ng",geb:"geb-latn-zz",gec:"gec-latn-lr",ged:"ged-latn-ng",gef:"gef-latn-id",geg:"geg-latn-ng",geh:"geh-latn-ca",gei:"gei-latn-id",gej:"gej-latn-zz",gek:"gek-latn-ng",gel:"gel-latn-zz",geq:"geq-latn-cf",ges:"ges-latn-id",gev:"gev-latn-ga",gew:"gew-latn-ng",gex:"gex-latn-so",gey:"gey-latn-cd",gez:"gez-ethi-et",gfk:"gfk-latn-zz",gga:"gga-latn-sb",ggb:"ggb-latn-lr",ggd:"ggd-latn-au",gge:"gge-latn-au",ggg:"ggg-arab-pk",ggk:"ggk-latn-au",ggl:"ggl-latn-pg",ggn:"ggn-deva-np",ggt:"ggt-latn-pg",ggu:"ggu-latn-ci",ggw:"ggw-latn-pg",gha:"gha-arab-ly","gha-latn":"gha-latn-ly","gha-tfng":"gha-tfng-ly",ghc:"ghc-latn-gb",ghe:"ghe-deva-np",ghk:"ghk-latn-mm",ghn:"ghn-latn-sb",ghr:"ghr-arab-pk",ghs:"ghs-latn-zz",ght:"ght-tibt-np",gia:"gia-latn-au",gib:"gib-latn-ng",gic:"gic-latn-za",gid:"gid-latn-cm",gie:"gie-latn-ci",gig:"gig-arab-pk",gih:"gih-latn-au",gil:"gil-latn-ki",gim:"gim-latn-zz",gin:"gin-cyrl-ru",gip:"gip-latn-pg",giq:"giq-latn-vn",gir:"gir-latn-vn",gis:"gis-latn-cm",git:"git-latn-ca",gix:"gix-latn-cd",giy:"giy-latn-au",giz:"giz-latn-cm",gjk:"gjk-arab-pk",gjm:"gjm-latn-au",gjn:"gjn-latn-zz",gjr:"gjr-latn-au",gju:"gju-arab-pk",gka:"gka-latn-pg",gkd:"gkd-latn-pg",gke:"gke-latn-cm",gkn:"gkn-latn-zz",gko:"gko-latn-au",gkp:"gkp-latn-zz",gku:"gku-latn-za",gl:"gl-latn-es",glb:"glb-latn-ng",glc:"glc-latn-td",gld:"gld-cyrl-ru",glh:"glh-arab-af",glj:"glj-latn-td",glk:"glk-arab-ir",gll:"gll-latn-au",glo:"glo-latn-ng",glr:"glr-latn-lr",glu:"glu-latn-td",glw:"glw-latn-ng",gma:"gma-latn-au",gmb:"gmb-latn-sb",gmd:"gmd-latn-ng",gmg:"gmg-latn-pg",gmh:"gmh-latn-de",gmm:"gmm-latn-zz",gmn:"gmn-latn-cm",gmr:"gmr-latn-au",gmu:"gmu-latn-pg",gmv:"gmv-ethi-zz",gmx:"gmx-latn-tz",gmy:"gmy-linb-gr",gmz:"gmz-latn-ng",gn:"gn-latn-py",gna:"gna-latn-bf",gnb:"gnb-latn-in",gnc:"gnc-latn-es",gnd:"gnd-latn-zz",gne:"gne-latn-ng",gng:"gng-latn-zz",gnh:"gnh-latn-ng",gni:"gni-latn-au",gnj:"gnj-latn-ci",gnk:"gnk-latn-bw",gnl:"gnl-latn-au",gnm:"gnm-latn-pg",gnn:"gnn-latn-au",gnq:"gnq-latn-my",gnr:"gnr-latn-au",gnt:"gnt-latn-pg",gnu:"gnu-latn-pg",gnw:"gnw-latn-bo",gnz:"gnz-latn-cf",goa:"goa-latn-ci",gob:"gob-latn-co",goc:"goc-latn-pg",god:"god-latn-zz",goe:"goe-tibt-bt",gof:"gof-ethi-zz",gog:"gog-latn-tz",goh:"goh-latn-de",goi:"goi-latn-zz",gok:"gok-deva-in",gol:"gol-latn-lr",gom:"gom-deva-in",gon:"gon-telu-in",goo:"goo-latn-fj",gop:"gop-latn-id",goq:"goq-latn-id",gor:"gor-latn-id",gos:"gos-latn-nl",got:"got-goth-ua",gou:"gou-latn-cm",gov:"gov-latn-ci",gow:"gow-latn-tz",gox:"gox-latn-cd",goy:"goy-latn-td",gpa:"gpa-latn-ng",gpe:"gpe-latn-gh",gpn:"gpn-latn-pg",gqa:"gqa-latn-ng",gqn:"gqn-latn-br",gqr:"gqr-latn-td",gra:"gra-deva-in","gra-gujr":"gra-gujr-in",grb:"grb-latn-zz",grc:"grc-cprt-cy","grc-linb":"grc-linb-gr",grd:"grd-latn-ng",grg:"grg-latn-pg",grh:"grh-latn-ng",gri:"gri-latn-sb",grj:"grj-latn-lr",grm:"grm-latn-my",grq:"grq-latn-pg",grs:"grs-latn-id",grt:"grt-beng-in",gru:"gru-ethi-et","gru-latn":"gru-latn-et",grv:"grv-latn-lr",grw:"grw-latn-zz",grx:"grx-latn-pg",gry:"gry-latn-lr",grz:"grz-latn-pg",gsl:"gsl-latn-sn",gsn:"gsn-latn-pg",gso:"gso-latn-cf",gsp:"gsp-latn-pg",gsw:"gsw-latn-ch",gta:"gta-latn-br",gtu:"gtu-latn-au",gu:"gu-gujr-in",gua:"gua-latn-ng",gub:"gub-latn-br",guc:"guc-latn-co",gud:"gud-latn-zz",gue:"gue-latn-au",guf:"guf-latn-au",guh:"guh-latn-co",gui:"gui-latn-bo",guk:"guk-latn-et","guk-ethi":"guk-ethi-et",gul:"gul-latn-us",gum:"gum-latn-co",gun:"gun-latn-br",guo:"guo-latn-co",gup:"gup-latn-au",guq:"guq-latn-py",gur:"gur-latn-gh",gut:"gut-latn-cr",guu:"guu-latn-ve",guw:"guw-latn-zz",gux:"gux-latn-zz",guz:"guz-latn-ke",gv:"gv-latn-im",gva:"gva-latn-py",gvc:"gvc-latn-br",gve:"gve-latn-pg",gvf:"gvf-latn-zz",gvj:"gvj-latn-br",gvl:"gvl-latn-td",gvm:"gvm-latn-ng",gvn:"gvn-latn-au",gvo:"gvo-latn-br",gvp:"gvp-latn-br",gvr:"gvr-deva-np",gvs:"gvs-latn-zz",gvy:"gvy-latn-au",gwa:"gwa-latn-ci",gwb:"gwb-latn-ng",gwc:"gwc-arab-zz",gwd:"gwd-latn-et",gwe:"gwe-latn-tz",gwf:"gwf-arab-pk",gwg:"gwg-latn-ng",gwi:"gwi-latn-ca",gwj:"gwj-latn-bw",gwm:"gwm-latn-au",gwn:"gwn-latn-ng",gwr:"gwr-latn-ug",gwt:"gwt-arab-zz",gwu:"gwu-latn-au",gww:"gww-latn-au",gwx:"gwx-latn-gh",gxx:"gxx-latn-ci",gyb:"gyb-latn-pg",gyd:"gyd-latn-au",gye:"gye-latn-ng",gyf:"gyf-latn-au",gyg:"gyg-latn-cf",gyi:"gyi-latn-zz",gyl:"gyl-latn-et","gyl-ethi":"gyl-ethi-et",gym:"gym-latn-pa",gyn:"gyn-latn-gy",gyo:"gyo-deva-np",gyr:"gyr-latn-bo",gyy:"gyy-latn-au",gyz:"gyz-latn-ng",gza:"gza-latn-sd",gzi:"gzi-arab-ir",gzn:"gzn-latn-id",ha:"ha-latn-ng","ha-cm":"ha-arab-cm","ha-sd":"ha-arab-sd",haa:"haa-latn-us",hac:"hac-arab-ir",had:"had-latn-id",hae:"hae-latn-et",hag:"hag-latn-zz",hah:"hah-latn-pg",hai:"hai-latn-ca",haj:"haj-latn-in","haj-beng":"haj-beng-in",hak:"hak-hans-cn",hal:"hal-latn-vn",ham:"ham-latn-zz",han:"han-latn-tz",hao:"hao-latn-pg",hap:"hap-latn-id",haq:"haq-latn-tz",har:"har-ethi-et","har-arab":"har-arab-et","har-latn":"har-latn-et",has:"has-latn-ca",hav:"hav-latn-cd",haw:"haw-latn-us",hax:"hax-latn-ca",hay:"hay-latn-tz",haz:"haz-arab-af",hba:"hba-latn-cd",hbb:"hbb-latn-zz",hbn:"hbn-latn-sd",hbo:"hbo-hebr-il",hbu:"hbu-latn-tl",hch:"hch-latn-mx",hdy:"hdy-ethi-zz",he:"he-hebr-il",hed:"hed-latn-td",heg:"heg-latn-id",heh:"heh-latn-tz",hei:"hei-latn-ca",hem:"hem-latn-cd",hgm:"hgm-latn-na",hgw:"hgw-latn-pg",hhi:"hhi-latn-pg",hhr:"hhr-latn-sn",hhy:"hhy-latn-zz",hi:"hi-deva-in","hi-latn":"hi-latn-in",hia:"hia-latn-zz",hib:"hib-latn-pe",hid:"hid-latn-us",hif:"hif-latn-fj",hig:"hig-latn-zz",hih:"hih-latn-zz",hii:"hii-takr-in","hii-deva":"hii-deva-in",hij:"hij-latn-cm",hik:"hik-latn-id",hil:"hil-latn-ph",hio:"hio-latn-bw",hir:"hir-latn-br",hit:"hit-xsux-tr",hiw:"hiw-latn-vu",hix:"hix-latn-br",hji:"hji-latn-id",hka:"hka-latn-tz",hke:"hke-latn-cd",hkh:"hkh-arab-in","hkh-deva":"hkh-deva-in","hkh-latn":"hkh-latn-in",hkk:"hkk-latn-pg",hla:"hla-latn-zz",hlb:"hlb-deva-in",hld:"hld-latn-vn",hlt:"hlt-latn-mm",hlu:"hlu-hluw-tr",hma:"hma-latn-cn",hmb:"hmb-latn-ml",hmd:"hmd-plrd-cn",hmf:"hmf-latn-vn",hmj:"hmj-bopo-cn",hmm:"hmm-latn-cn",hmn:"hmn-latn-cn","hmn-bopo":"hmn-bopo-cn","hmn-hmng":"hmn-hmng-cn",hmp:"hmp-latn-cn",hmq:"hmq-bopo-cn",hmr:"hmr-latn-in",hms:"hms-latn-cn",hmt:"hmt-latn-zz",hmu:"hmu-latn-id",hmv:"hmv-latn-vn",hmw:"hmw-latn-cn",hmy:"hmy-latn-cn",hmz:"hmz-latn-cn","hmz-plrd":"hmz-plrd-cn",hna:"hna-latn-cm",hnd:"hnd-arab-pk",hne:"hne-deva-in",hng:"hng-latn-ao",hnh:"hnh-latn-bw",hni:"hni-latn-cn",hnj:"hnj-hmnp-us","hnj-au":"hnj-laoo-au","hnj-cn":"hnj-laoo-cn","hnj-fr":"hnj-laoo-fr","hnj-gf":"hnj-laoo-gf","hnj-la":"hnj-laoo-la","hnj-laoo":"hnj-laoo-la","hnj-mm":"hnj-laoo-mm","hnj-sr":"hnj-laoo-sr","hnj-th":"hnj-laoo-th","hnj-us":"hnj-hmnp-us","hnj-vn":"hnj-laoo-vn",hnn:"hnn-latn-ph",hno:"hno-arab-pk",hns:"hns-latn-sr",ho:"ho-latn-pg",hoa:"hoa-latn-sb",hob:"hob-latn-pg",hoc:"hoc-deva-in",hod:"hod-latn-ng",hoe:"hoe-latn-ng",hoh:"hoh-arab-om",hoi:"hoi-latn-us",hoj:"hoj-deva-in",hol:"hol-latn-ao",hom:"hom-latn-ss",hoo:"hoo-latn-cd",hop:"hop-latn-us",hor:"hor-latn-td",hot:"hot-latn-zz",hov:"hov-latn-id",how:"how-hani-cn",hoy:"hoy-deva-in",hpo:"hpo-mymr-mm",hr:"hr-latn-hr",hra:"hra-latn-in",hrc:"hrc-latn-pg",hre:"hre-latn-vn",hrk:"hrk-latn-id",hrm:"hrm-latn-cn","hrm-hmng":"hrm-hmng-cn",hro:"hro-latn-vn",hrp:"hrp-latn-au",hrt:"hrt-syrc-tr",hru:"hru-latn-in",hrw:"hrw-latn-pg",hrx:"hrx-latn-br",hrz:"hrz-arab-ir",hsb:"hsb-latn-de",hsn:"hsn-hans-cn",hss:"hss-arab-om",ht:"ht-latn-ht",hti:"hti-latn-id",hto:"hto-latn-co",hts:"hts-latn-tz",htu:"htu-latn-id",htx:"htx-xsux-tr",hu:"hu-latn-hu",hub:"hub-latn-pe",huc:"huc-latn-bw",hud:"hud-latn-id",hue:"hue-latn-mx",huf:"huf-latn-pg",hug:"hug-latn-pe",huh:"huh-latn-cl",hui:"hui-latn-zz",huk:"huk-latn-id",hul:"hul-latn-pg",hum:"hum-latn-cd",hup:"hup-latn-us",hur:"hur-latn-ca",hus:"hus-latn-mx",hut:"hut-deva-np","hut-tibt":"hut-tibt-np",huu:"huu-latn-pe",huv:"huv-latn-mx",huw:"huw-latn-id",hux:"hux-latn-pe",huy:"huy-hebr-il",huz:"huz-cyrl-ru",hvc:"hvc-latn-ht",hve:"hve-latn-mx",hvk:"hvk-latn-nc",hvn:"hvn-latn-id",hvv:"hvv-latn-mx",hwa:"hwa-latn-ci",hwc:"hwc-latn-us",hwo:"hwo-latn-ng",hy:"hy-armn-am",hya:"hya-latn-cm",hyw:"hyw-armn-am",hz:"hz-latn-na",ia:"ia-latn-001",iai:"iai-latn-nc",ian:"ian-latn-zz",iar:"iar-latn-zz",iba:"iba-latn-my",ibb:"ibb-latn-ng",ibd:"ibd-latn-au",ibe:"ibe-latn-ng",ibg:"ibg-latn-ph",ibh:"ibh-latn-vn",ibl:"ibl-latn-ph",ibm:"ibm-latn-ng",ibn:"ibn-latn-ng",ibr:"ibr-latn-ng",ibu:"ibu-latn-id",iby:"iby-latn-zz",ica:"ica-latn-zz",ich:"ich-latn-zz",icr:"icr-latn-co",id:"id-latn-id",ida:"ida-latn-ke",idb:"idb-latn-in",idc:"idc-latn-ng",idd:"idd-latn-zz",ide:"ide-latn-ng",idi:"idi-latn-zz",idr:"idr-latn-ss",ids:"ids-latn-ng",idt:"idt-latn-tl",idu:"idu-latn-zz",ie:"ie-latn-001",ifa:"ifa-latn-ph",ifb:"ifb-latn-ph",ife:"ife-latn-tg",iff:"iff-latn-vu",ifk:"ifk-latn-ph",ifm:"ifm-latn-cg",ifu:"ifu-latn-ph",ify:"ify-latn-ph",ig:"ig-latn-ng",igb:"igb-latn-zz",ige:"ige-latn-zz",igg:"igg-latn-pg",igl:"igl-latn-ng",igm:"igm-latn-pg",ign:"ign-latn-bo",igo:"igo-latn-pg",igs:"igs-latn-001","igs-grek":"igs-grek-001",igw:"igw-latn-ng",ihb:"ihb-latn-id",ihi:"ihi-latn-ng",ihp:"ihp-latn-id",ihw:"ihw-latn-au",ii:"ii-yiii-cn",iin:"iin-latn-au",ijc:"ijc-latn-ng",ije:"ije-latn-ng",ijj:"ijj-latn-zz",ijn:"ijn-latn-ng",ijs:"ijs-latn-ng",ik:"ik-latn-us",iki:"iki-latn-ng",ikk:"ikk-latn-zz",ikl:"ikl-latn-ng",iko:"iko-latn-ng",ikp:"ikp-latn-ng",ikr:"ikr-latn-au",ikt:"ikt-latn-ca","ikt-cans":"ikt-cans-ca",ikv:"ikv-latn-ng",ikw:"ikw-latn-zz",ikx:"ikx-latn-zz",ikz:"ikz-latn-tz",ila:"ila-latn-id",ilb:"ilb-latn-zm",ilg:"ilg-latn-au",ili:"ili-latn-cn","ili-arab":"ili-arab-cn","ili-cyrl":"ili-cyrl-kz",ilk:"ilk-latn-ph",ilm:"ilm-latn-my",ilo:"ilo-latn-ph",ilp:"ilp-latn-ph",ilu:"ilu-latn-id",ilv:"ilv-latn-ng",imi:"imi-latn-pg",iml:"iml-latn-us",imn:"imn-latn-pg",imo:"imo-latn-zz",imr:"imr-latn-id",ims:"ims-latn-it",imt:"imt-latn-ss",imy:"imy-lyci-tr",in:"in-latn-id",inb:"inb-latn-co",ing:"ing-latn-us",inh:"inh-cyrl-ru",inj:"inj-latn-co",inn:"inn-latn-ph",ino:"ino-latn-pg",inp:"inp-latn-pe",int:"int-mymr-mm",io:"io-latn-001",ior:"ior-ethi-et",iou:"iou-latn-zz",iow:"iow-latn-us",ipi:"ipi-latn-pg",ipo:"ipo-latn-pg",iqu:"iqu-latn-pe",iqw:"iqw-latn-ng",ire:"ire-latn-id",irh:"irh-latn-id",iri:"iri-latn-zz",irk:"irk-latn-tz",irn:"irn-latn-br",iru:"iru-taml-in","iru-mlym":"iru-mlym-in",irx:"irx-latn-id",iry:"iry-latn-ph",is:"is-latn-is",isa:"isa-latn-pg",isc:"isc-latn-pe",isd:"isd-latn-ph",ish:"ish-latn-ng",isi:"isi-latn-ng",isk:"isk-arab-af","isk-cyrl":"isk-cyrl-tj",ism:"ism-latn-id",isn:"isn-latn-tz",iso:"iso-latn-ng",ist:"ist-latn-hr",isu:"isu-latn-cm",it:"it-latn-it",itb:"itb-latn-ph",itd:"itd-latn-id",ite:"ite-latn-bo",iti:"iti-latn-ph",itk:"itk-hebr-it",itl:"itl-cyrl-ru",itm:"itm-latn-ng",ito:"ito-latn-bo",itr:"itr-latn-pg",its:"its-latn-ng",itt:"itt-latn-ph",itv:"itv-latn-ph",itw:"itw-latn-ng",itx:"itx-latn-id",ity:"ity-latn-ph",itz:"itz-latn-gt",iu:"iu-cans-ca",ium:"ium-latn-cn","ium-hani":"ium-hani-cn","ium-laoo":"ium-laoo-la","ium-thai":"ium-thai-th",ivb:"ivb-latn-ph",ivv:"ivv-latn-ph",iw:"iw-hebr-il",iwk:"iwk-latn-ph",iwm:"iwm-latn-zz",iwo:"iwo-latn-id",iws:"iws-latn-zz",ixc:"ixc-latn-mx",ixl:"ixl-latn-gt",iya:"iya-latn-ng",iyo:"iyo-latn-cm",iyx:"iyx-latn-cg",izh:"izh-latn-ru",izi:"izi-latn-zz",izr:"izr-latn-ng",izz:"izz-latn-ng",ja:"ja-jpan-jp",jaa:"jaa-latn-br",jab:"jab-latn-zz",jac:"jac-latn-gt",jad:"jad-arab-gn",jae:"jae-latn-pg",jaf:"jaf-latn-ng",jah:"jah-latn-my",jaj:"jaj-latn-sb",jak:"jak-latn-my",jal:"jal-latn-id",jam:"jam-latn-jm",jan:"jan-latn-au",jao:"jao-latn-au",jaq:"jaq-latn-id",jar:"jar-latn-zz",jas:"jas-latn-nc",jat:"jat-arab-af",jau:"jau-latn-id",jax:"jax-latn-id",jay:"jay-latn-au",jaz:"jaz-latn-nc",jbe:"jbe-hebr-il",jbi:"jbi-latn-au",jbj:"jbj-latn-id",jbk:"jbk-latn-pg",jbm:"jbm-latn-ng",jbn:"jbn-arab-ly",jbo:"jbo-latn-001",jbr:"jbr-latn-id",jbt:"jbt-latn-br",jbu:"jbu-latn-zz",jbw:"jbw-latn-au",jct:"jct-cyrl-ua","jct-latn":"jct-latn-ua",jda:"jda-tibt-in",jdg:"jdg-arab-pk",jdt:"jdt-cyrl-ru","jdt-hebr":"jdt-hebr-ru","jdt-latn":"jdt-latn-az",jeb:"jeb-latn-pe",jee:"jee-deva-np",jeh:"jeh-latn-vn","jeh-laoo":"jeh-laoo-la",jei:"jei-latn-id",jek:"jek-latn-ci",jel:"jel-latn-id",jen:"jen-latn-zz",jer:"jer-latn-ng",jet:"jet-latn-pg",jeu:"jeu-latn-td",jgb:"jgb-latn-cd",jge:"jge-geor-ge","jge-hebr":"jge-hebr-il",jgk:"jgk-latn-zz",jgo:"jgo-latn-cm",jhi:"jhi-latn-my",ji:"ji-hebr-ua",jia:"jia-latn-cm",jib:"jib-latn-zz",jic:"jic-latn-hn",jid:"jid-latn-ng",jie:"jie-latn-ng",jig:"jig-latn-au",jil:"jil-latn-pg",jim:"jim-latn-cm",jit:"jit-latn-tz",jiu:"jiu-latn-cn",jiv:"jiv-latn-ec",jiy:"jiy-latn-cn",jje:"jje-hang-kr",jjr:"jjr-latn-ng",jka:"jka-latn-id",jkm:"jkm-mymr-mm","jkm-brai":"jkm-brai-mm","jkm-latn":"jkm-latn-mm",jko:"jko-latn-pg",jku:"jku-latn-ng",jle:"jle-latn-sd",jma:"jma-latn-pg",jmb:"jmb-latn-ng",jmc:"jmc-latn-tz",jmd:"jmd-latn-id",jmi:"jmi-latn-ng",jml:"jml-deva-np",jmn:"jmn-latn-mm",jmr:"jmr-latn-gh",jms:"jms-latn-ng",jmw:"jmw-latn-pg",jmx:"jmx-latn-mx",jna:"jna-takr-in",jnd:"jnd-arab-pk",jng:"jng-latn-au",jni:"jni-latn-ng",jnj:"jnj-latn-et","jnj-ethi":"jnj-ethi-et",jnl:"jnl-deva-in",jns:"jns-deva-in","jns-latn":"jns-latn-in","jns-takr":"jns-takr-in",job:"job-latn-cd",jod:"jod-latn-ci",jog:"jog-arab-pk",jor:"jor-latn-bo",jow:"jow-latn-ml",jpa:"jpa-hebr-ps",jpr:"jpr-hebr-il",jqr:"jqr-latn-pe",jra:"jra-latn-zz",jrr:"jrr-latn-ng",jrt:"jrt-latn-ng",jru:"jru-latn-ve",jua:"jua-latn-br",jub:"jub-latn-ng",jud:"jud-latn-ci",juh:"juh-latn-ng",jui:"jui-latn-au",juk:"juk-latn-ng",jul:"jul-deva-np",jum:"jum-latn-sd",jun:"jun-orya-in",juo:"juo-latn-ng",jup:"jup-latn-br",jur:"jur-latn-br",jut:"jut-latn-dk",juu:"juu-latn-ng",juw:"juw-latn-ng",juy:"juy-orya-in",jv:"jv-latn-id",jvd:"jvd-latn-id",jvn:"jvn-latn-sr",jw:"jw-latn-id",jwi:"jwi-latn-gh",jya:"jya-tibt-cn",jye:"jye-hebr-il",jyy:"jyy-latn-td",ka:"ka-geor-ge",kaa:"kaa-cyrl-uz",kab:"kab-latn-dz",kac:"kac-latn-mm",kad:"kad-latn-zz",kag:"kag-latn-my",kah:"kah-latn-cf",kai:"kai-latn-zz",kaj:"kaj-latn-ng",kak:"kak-latn-ph",kam:"kam-latn-ke",kao:"kao-latn-ml",kap:"kap-cyrl-ru",kaq:"kaq-latn-pe",kav:"kav-latn-br",kaw:"kaw-kawi-id",kax:"kax-latn-id",kay:"kay-latn-br",kba:"kba-latn-au",kbb:"kbb-latn-br",kbc:"kbc-latn-br",kbd:"kbd-cyrl-ru",kbe:"kbe-latn-au",kbh:"kbh-latn-co",kbi:"kbi-latn-id",kbj:"kbj-latn-cd",kbk:"kbk-latn-pg",kbl:"kbl-latn-td",kbm:"kbm-latn-zz",kbn:"kbn-latn-cf",kbo:"kbo-latn-ss",kbp:"kbp-latn-zz",kbq:"kbq-latn-zz",kbr:"kbr-latn-et","kbr-ethi":"kbr-ethi-et",kbs:"kbs-latn-ga",kbt:"kbt-latn-pg",kbu:"kbu-arab-pk",kbv:"kbv-latn-id",kbw:"kbw-latn-pg",kbx:"kbx-latn-zz",kby:"kby-arab-ne",kbz:"kbz-latn-ng",kca:"kca-cyrl-ru",kcb:"kcb-latn-pg",kcc:"kcc-latn-ng",kcd:"kcd-latn-id",kce:"kce-latn-ng",kcf:"kcf-latn-ng",kcg:"kcg-latn-ng",kch:"kch-latn-ng",kci:"kci-latn-ng",kcj:"kcj-latn-gw",kck:"kck-latn-zw",kcl:"kcl-latn-zz",kcm:"kcm-latn-cf",kcn:"kcn-latn-ug",kco:"kco-latn-pg",kcp:"kcp-latn-sd",kcq:"kcq-latn-ng",kcs:"kcs-latn-ng",kct:"kct-latn-zz",kcu:"kcu-latn-tz",kcv:"kcv-latn-cd",kcw:"kcw-latn-cd",kcz:"kcz-latn-tz",kda:"kda-latn-au",kdc:"kdc-latn-tz",kdd:"kdd-latn-au",kde:"kde-latn-tz",kdf:"kdf-latn-pg",kdg:"kdg-latn-cd",kdh:"kdh-latn-tg",kdi:"kdi-latn-ug",kdj:"kdj-latn-ug",kdk:"kdk-latn-nc",kdl:"kdl-latn-zz",kdm:"kdm-latn-ng",kdn:"kdn-latn-zw",kdp:"kdp-latn-ng",kdq:"kdq-beng-in",kdr:"kdr-latn-lt","kdr-cyrl":"kdr-cyrl-ua",kdt:"kdt-thai-th",kdw:"kdw-latn-id",kdx:"kdx-latn-ng",kdy:"kdy-latn-id",kdz:"kdz-latn-cm",kea:"kea-latn-cv",keb:"keb-latn-ga",kec:"kec-latn-sd",ked:"ked-latn-tz",kee:"kee-latn-us",kef:"kef-latn-tg",keg:"keg-latn-sd",keh:"keh-latn-pg",kei:"kei-latn-id",kek:"kek-latn-gt",kel:"kel-latn-cd",kem:"kem-latn-tl",ken:"ken-latn-cm",keo:"keo-latn-ug",ker:"ker-latn-td",kes:"kes-latn-ng",ket:"ket-cyrl-ru",keu:"keu-latn-tg",kew:"kew-latn-pg",kex:"kex-deva-in","kex-gujr":"kex-gujr-in",key:"key-telu-in",kez:"kez-latn-zz",kfa:"kfa-knda-in",kfb:"kfb-deva-in",kfc:"kfc-telu-in",kfd:"kfd-knda-in",kfe:"kfe-taml-in",kff:"kff-latn-in","kff-deva":"kff-deva-in","kff-orya":"kff-orya-in","kff-telu":"kff-telu-in",kfh:"kfh-mlym-in",kfi:"kfi-taml-in","kfi-knda":"kfi-knda-in",kfk:"kfk-deva-in","kfk-takr":"kfk-takr-in",kfl:"kfl-latn-cm",kfm:"kfm-arab-ir",kfn:"kfn-latn-cm",kfo:"kfo-latn-ci",kfp:"kfp-deva-in",kfq:"kfq-deva-in",kfr:"kfr-deva-in",kfs:"kfs-deva-in",kfv:"kfv-latn-in",kfw:"kfw-latn-in",kfx:"kfx-deva-in","kfx-takr":"kfx-takr-in",kfy:"kfy-deva-in",kfz:"kfz-latn-bf",kg:"kg-latn-cd",kga:"kga-latn-ci",kgb:"kgb-latn-id",kge:"kge-latn-id",kgf:"kgf-latn-zz",kgj:"kgj-deva-np",kgk:"kgk-latn-br",kgl:"kgl-latn-au",kgm:"kgm-latn-br",kgo:"kgo-latn-sd",kgp:"kgp-latn-br",kgq:"kgq-latn-id",kgr:"kgr-latn-id",kgs:"kgs-latn-au",kgt:"kgt-latn-ng",kgu:"kgu-latn-pg",kgv:"kgv-latn-id",kgw:"kgw-latn-id",kgx:"kgx-latn-id",kgy:"kgy-deva-np",kha:"kha-latn-in",khb:"khb-talu-cn",khc:"khc-latn-id",khd:"khd-latn-id",khe:"khe-latn-id",khf:"khf-thai-la",khg:"khg-tibt-cn",khh:"khh-latn-id",khj:"khj-latn-ng",khl:"khl-latn-pg",khn:"khn-deva-in",khp:"khp-latn-id",khq:"khq-latn-ml",khr:"khr-latn-in","khr-deva":"khr-deva-in",khs:"khs-latn-zz",kht:"kht-mymr-in",khu:"khu-latn-ao",khv:"khv-cyrl-ru",khw:"khw-arab-pk",khx:"khx-latn-cd",khy:"khy-latn-cd",khz:"khz-latn-zz",ki:"ki-latn-ke",kia:"kia-latn-td",kib:"kib-latn-sd",kic:"kic-latn-us",kid:"kid-latn-cm",kie:"kie-latn-td",kif:"kif-deva-np",kig:"kig-latn-id",kih:"kih-latn-pg",kij:"kij-latn-zz",kil:"kil-latn-ng",kim:"kim-cyrl-ru",kio:"kio-latn-us",kip:"kip-deva-np",kiq:"kiq-latn-id",kis:"kis-latn-pg",kit:"kit-latn-pg",kiu:"kiu-latn-tr",kiv:"kiv-latn-tz",kiw:"kiw-latn-zz",kix:"kix-latn-in",kiy:"kiy-latn-id",kiz:"kiz-latn-tz",kj:"kj-latn-na",kja:"kja-latn-id",kjb:"kjb-latn-gt",kjc:"kjc-latn-id",kjd:"kjd-latn-zz",kje:"kje-latn-id",kjg:"kjg-laoo-la",kjh:"kjh-cyrl-ru",kji:"kji-latn-sb",kjj:"kjj-latn-az",kjk:"kjk-latn-id",kjl:"kjl-deva-np",kjm:"kjm-latn-vn",kjn:"kjn-latn-au",kjo:"kjo-deva-in",kjp:"kjp-mymr-mm","kjp-thai":"kjp-thai-th",kjq:"kjq-latn-us",kjr:"kjr-latn-id",kjs:"kjs-latn-zz",kjt:"kjt-thai-th",kju:"kju-latn-us",kjx:"kjx-latn-pg",kjy:"kjy-latn-zz",kk:"kk-cyrl-kz","kk-af":"kk-arab-af","kk-arab":"kk-arab-cn","kk-cn":"kk-arab-cn","kk-ir":"kk-arab-ir","kk-mn":"kk-arab-mn",kka:"kka-latn-ng",kkb:"kkb-latn-id",kkc:"kkc-latn-zz",kkd:"kkd-latn-ng",kke:"kke-latn-gn","kke-arab":"kke-arab-gn",kkf:"kkf-tibt-in",kkg:"kkg-latn-ph",kkh:"kkh-lana-mm",kki:"kki-latn-tz",kkj:"kkj-latn-cm",kkk:"kkk-latn-sb",kkl:"kkl-latn-id",kkm:"kkm-latn-ng",kko:"kko-latn-sd",kkp:"kkp-latn-au",kkq:"kkq-latn-cd",kkr:"kkr-latn-ng",kks:"kks-latn-ng",kkt:"kkt-deva-np",kku:"kku-latn-ng",kkv:"kkv-latn-id",kkw:"kkw-latn-cg",kkx:"kkx-latn-id",kky:"kky-latn-au",kkz:"kkz-latn-ca",kl:"kl-latn-gl",kla:"kla-latn-us",klb:"klb-latn-mx",klc:"klc-latn-cm",kld:"kld-latn-au",kle:"kle-deva-np",klf:"klf-latn-td",klg:"klg-latn-ph",klh:"klh-latn-pg",kli:"kli-latn-id",klj:"klj-arab-ir",klk:"klk-latn-ng",kll:"kll-latn-ph",klm:"klm-latn-pg",kln:"kln-latn-ke",klo:"klo-latn-ng",klp:"klp-latn-pg",klq:"klq-latn-zz",klr:"klr-deva-np",kls:"kls-latn-pk","kls-arab":"kls-arab-pk",klt:"klt-latn-zz",klu:"klu-latn-lr",klv:"klv-latn-vu",klw:"klw-latn-id",klx:"klx-latn-zz",kly:"kly-latn-id",klz:"klz-latn-id",km:"km-khmr-kh",kma:"kma-latn-gh",kmb:"kmb-latn-ao",kmc:"kmc-latn-cn","kmc-hani":"kmc-hani-cn",kmd:"kmd-latn-ph",kme:"kme-latn-cm",kmf:"kmf-latn-pg",kmg:"kmg-latn-pg",kmh:"kmh-latn-zz",kmi:"kmi-latn-ng",kmj:"kmj-deva-in",kmk:"kmk-latn-ph",kml:"kml-latn-ph",kmm:"kmm-latn-in",kmn:"kmn-latn-pg",kmo:"kmo-latn-zz",kmp:"kmp-latn-cm",kmq:"kmq-latn-et",kms:"kms-latn-zz",kmt:"kmt-latn-id",kmu:"kmu-latn-zz",kmv:"kmv-latn-br",kmw:"kmw-latn-zz",kmx:"kmx-latn-pg",kmy:"kmy-latn-ng",kmz:"kmz-arab-ir",kn:"kn-knda-in",kna:"kna-latn-ng",knb:"knb-latn-ph",knd:"knd-latn-id",kne:"kne-latn-ph",knf:"knf-latn-gw",kni:"kni-latn-ng",knj:"knj-latn-gt",knk:"knk-latn-sl","knk-arab":"knk-arab-sl",knl:"knl-latn-id",knm:"knm-latn-br",kno:"kno-latn-sl",knp:"knp-latn-zz",knq:"knq-latn-my",knr:"knr-latn-pg",kns:"kns-latn-my","kns-thai":"kns-thai-th",knt:"knt-latn-br",knu:"knu-latn-gn",knv:"knv-latn-pg",knw:"knw-latn-na",knx:"knx-latn-id",kny:"kny-latn-cd",knz:"knz-latn-bf",ko:"ko-kore-kr",koa:"koa-latn-pg",koc:"koc-latn-ng",kod:"kod-latn-id",koe:"koe-latn-ss",kof:"kof-latn-ng",kog:"kog-latn-co",koh:"koh-latn-cg",koi:"koi-cyrl-ru",kok:"kok-deva-in",kol:"kol-latn-zz",koo:"koo-latn-ug",kop:"kop-latn-pg",koq:"koq-latn-ga",kos:"kos-latn-fm",kot:"kot-latn-cm",kou:"kou-latn-td",kov:"kov-latn-ng",kow:"kow-latn-ng",koy:"koy-latn-us",koz:"koz-latn-zz",kpa:"kpa-latn-ng",kpc:"kpc-latn-co",kpd:"kpd-latn-id",kpe:"kpe-latn-lr",kpf:"kpf-latn-zz",kpg:"kpg-latn-fm",kph:"kph-latn-gh",kpi:"kpi-latn-id",kpj:"kpj-latn-br",kpk:"kpk-latn-ng",kpl:"kpl-latn-cd",kpm:"kpm-latn-vn",kpn:"kpn-latn-br",kpo:"kpo-latn-zz",kpq:"kpq-latn-id",kpr:"kpr-latn-zz",kps:"kps-latn-id",kpt:"kpt-cyrl-ru",kpu:"kpu-latn-id",kpw:"kpw-latn-pg",kpx:"kpx-latn-zz",kpy:"kpy-cyrl-ru",kpz:"kpz-latn-ug",kqa:"kqa-latn-pg",kqb:"kqb-latn-zz",kqc:"kqc-latn-pg",kqd:"kqd-syrc-iq",kqe:"kqe-latn-ph",kqf:"kqf-latn-zz",kqg:"kqg-latn-bf",kqh:"kqh-latn-tz",kqi:"kqi-latn-pg",kqj:"kqj-latn-pg",kqk:"kqk-latn-bj",kql:"kql-latn-pg",kqm:"kqm-latn-ci",kqn:"kqn-latn-zm",kqo:"kqo-latn-lr",kqp:"kqp-latn-td",kqq:"kqq-latn-br",kqr:"kqr-latn-my",kqs:"kqs-latn-zz",kqt:"kqt-latn-my",kqu:"kqu-latn-za",kqv:"kqv-latn-id",kqw:"kqw-latn-pg",kqx:"kqx-latn-cm",kqy:"kqy-ethi-zz",kqz:"kqz-latn-za",kr:"kr-latn-zz",kra:"kra-deva-np",krb:"krb-latn-us",krc:"krc-cyrl-ru",krd:"krd-latn-tl",kre:"kre-latn-br",krf:"krf-latn-vu",krh:"krh-latn-ng",kri:"kri-latn-sl",krj:"krj-latn-ph",krk:"krk-cyrl-ru",krl:"krl-latn-ru",krn:"krn-latn-lr",krp:"krp-latn-ng",krr:"krr-khmr-kh",krs:"krs-latn-zz",krt:"krt-latn-ne",kru:"kru-deva-in",krv:"krv-khmr-kh",krw:"krw-latn-lr",krx:"krx-latn-sn",kry:"kry-latn-az",krz:"krz-latn-id",ks:"ks-arab-in",ksa:"ksa-latn-ng",ksb:"ksb-latn-tz",ksc:"ksc-latn-ph",ksd:"ksd-latn-zz",kse:"kse-latn-pg",ksf:"ksf-latn-cm",ksg:"ksg-latn-sb",ksh:"ksh-latn-de",ksi:"ksi-latn-pg",ksj:"ksj-latn-zz",ksk:"ksk-latn-us",ksl:"ksl-latn-pg",ksm:"ksm-latn-ng",ksn:"ksn-latn-ph",kso:"kso-latn-ng",ksp:"ksp-latn-cf",ksq:"ksq-latn-ng",ksr:"ksr-latn-zz",kss:"kss-latn-lr",kst:"kst-latn-bf",ksu:"ksu-mymr-in",ksv:"ksv-latn-cd",ksw:"ksw-mymr-mm","ksw-latn":"ksw-latn-mm",ksx:"ksx-latn-id",ksz:"ksz-deva-in",kta:"kta-latn-vn",ktb:"ktb-ethi-zz",ktc:"ktc-latn-ng",ktd:"ktd-latn-au",ktf:"ktf-latn-cd",ktg:"ktg-latn-au",kth:"kth-latn-td",kti:"kti-latn-id",ktj:"ktj-latn-ci",ktk:"ktk-latn-pg",ktl:"ktl-arab-ir",ktm:"ktm-latn-zz",ktn:"ktn-latn-br",kto:"kto-latn-zz",ktp:"ktp-plrd-cn",ktq:"ktq-latn-ph",ktr:"ktr-latn-my",kts:"kts-latn-id",ktt:"ktt-latn-id",ktu:"ktu-latn-cd",ktv:"ktv-latn-vn",ktw:"ktw-latn-us",ktx:"ktx-latn-br",kty:"kty-latn-cd",ktz:"ktz-latn-na",ku:"ku-latn-tr","ku-arab":"ku-arab-iq","ku-lb":"ku-arab-lb","ku-yezi":"ku-yezi-ge",kub:"kub-latn-zz",kuc:"kuc-latn-id",kud:"kud-latn-zz",kue:"kue-latn-zz",kuf:"kuf-laoo-la",kug:"kug-latn-ng",kuh:"kuh-latn-ng",kui:"kui-latn-br",kuj:"kuj-latn-zz",kuk:"kuk-latn-id",kul:"kul-latn-ng",kum:"kum-cyrl-ru",kun:"kun-latn-zz",kuo:"kuo-latn-pg",kup:"kup-latn-zz",kuq:"kuq-latn-br",kus:"kus-latn-zz",kut:"kut-latn-ca",kuu:"kuu-latn-us",kuv:"kuv-latn-id",kuw:"kuw-latn-cf",kux:"kux-latn-au",kuy:"kuy-latn-au",kuz:"kuz-latn-cl",kv:"kv-cyrl-ru",kva:"kva-cyrl-ru",kvb:"kvb-latn-id",kvc:"kvc-latn-pg",kvd:"kvd-latn-id",kve:"kve-latn-my",kvf:"kvf-latn-td",kvg:"kvg-latn-zz",kvh:"kvh-latn-id",kvi:"kvi-latn-td",kvj:"kvj-latn-cm",kvl:"kvl-latn-mm",kvm:"kvm-latn-cm",kvn:"kvn-latn-co",kvo:"kvo-latn-id",kvp:"kvp-latn-id",kvq:"kvq-mymr-mm","kvq-latn":"kvq-latn-mm",kvr:"kvr-latn-id",kvt:"kvt-mymr-mm",kvv:"kvv-latn-id",kvw:"kvw-latn-id",kvx:"kvx-arab-pk",kvy:"kvy-kali-mm",kvz:"kvz-latn-id",kw:"kw-latn-gb",kwa:"kwa-latn-br",kwb:"kwb-latn-ng",kwc:"kwc-latn-cg",kwd:"kwd-latn-sb",kwe:"kwe-latn-id",kwf:"kwf-latn-sb",kwg:"kwg-latn-td",kwh:"kwh-latn-id",kwi:"kwi-latn-co",kwj:"kwj-latn-zz",kwk:"kwk-latn-ca",kwl:"kwl-latn-ng",kwm:"kwm-latn-na",kwn:"kwn-latn-na",kwo:"kwo-latn-zz",kwp:"kwp-latn-ci",kwq:"kwq-latn-zz",kwr:"kwr-latn-id",kws:"kws-latn-cd",kwt:"kwt-latn-id",kwu:"kwu-latn-cm",kwv:"kwv-latn-td",kww:"kww-latn-sr",kwy:"kwy-latn-cd",kwz:"kwz-latn-ao",kxa:"kxa-latn-zz",kxb:"kxb-latn-ci",kxc:"kxc-ethi-zz",kxd:"kxd-latn-bn","kxd-arab":"kxd-arab-bn",kxe:"kxe-latn-zz",kxf:"kxf-mymr-mm","kxf-latn":"kxf-latn-mm",kxi:"kxi-latn-my",kxj:"kxj-latn-td",kxk:"kxk-mymr-mm",kxl:"kxl-deva-in",kxm:"kxm-thai-th",kxn:"kxn-latn-my",kxo:"kxo-latn-br",kxp:"kxp-arab-pk",kxq:"kxq-latn-id",kxr:"kxr-latn-pg",kxt:"kxt-latn-pg",kxv:"kxv-orya-in","kxv-latn":"kxv-latn-in","kxv-telu":"kxv-telu-in",kxw:"kxw-latn-zz",kxx:"kxx-latn-cg",kxy:"kxy-latn-vn",kxz:"kxz-latn-zz",ky:"ky-cyrl-kg","ky-arab":"ky-arab-cn","ky-cn":"ky-arab-cn","ky-latn":"ky-latn-tr","ky-tr":"ky-latn-tr",kya:"kya-latn-tz",kyb:"kyb-latn-ph",kyc:"kyc-latn-pg",kyd:"kyd-latn-id",kye:"kye-latn-zz",kyf:"kyf-latn-ci",kyg:"kyg-latn-pg",kyh:"kyh-latn-us",kyi:"kyi-latn-my",kyj:"kyj-latn-ph",kyk:"kyk-latn-ph",kyl:"kyl-latn-us",kym:"kym-latn-cf",kyn:"kyn-latn-ph",kyo:"kyo-latn-id",kyq:"kyq-latn-td",kyr:"kyr-latn-br",kys:"kys-latn-my",kyt:"kyt-latn-id",kyu:"kyu-kali-mm","kyu-latn":"kyu-latn-mm","kyu-mymr":"kyu-mymr-mm",kyv:"kyv-deva-np",kyw:"kyw-deva-in","kyw-beng":"kyw-beng-in","kyw-orya":"kyw-orya-in",kyx:"kyx-latn-zz",kyy:"kyy-latn-pg",kyz:"kyz-latn-br",kza:"kza-latn-bf",kzb:"kzb-latn-id",kzc:"kzc-latn-ci",kzd:"kzd-latn-id",kze:"kze-latn-pg",kzf:"kzf-latn-id",kzh:"kzh-arab-zz",kzi:"kzi-latn-my",kzj:"kzj-latn-my",kzk:"kzk-latn-sb",kzl:"kzl-latn-id",kzm:"kzm-latn-id",kzn:"kzn-latn-mw",kzo:"kzo-latn-ga",kzp:"kzp-latn-id",kzr:"kzr-latn-zz",kzs:"kzs-latn-my",kzt:"kzt-latn-my",kzu:"kzu-latn-id",kzv:"kzv-latn-id",kzw:"kzw-latn-br",kzx:"kzx-latn-id",kzy:"kzy-latn-cd",kzz:"kzz-latn-id",la:"la-latn-va",laa:"laa-latn-ph",lab:"lab-lina-gr",lac:"lac-latn-mx",lad:"lad-hebr-il",lae:"lae-deva-in","lae-tibt":"lae-tibt-in",lag:"lag-latn-tz",lah:"lah-arab-pk",lai:"lai-latn-mw",laj:"laj-latn-ug",lal:"lal-latn-cd",lam:"lam-latn-zm",lan:"lan-latn-ng",lap:"lap-latn-td",laq:"laq-latn-vn",lar:"lar-latn-gh",las:"las-latn-zz",lau:"lau-latn-id",law:"law-latn-id",lax:"lax-latn-in","lax-beng":"lax-beng-in",laz:"laz-latn-pg",lb:"lb-latn-lu",lbb:"lbb-latn-pg",lbc:"lbc-lisu-cn",lbe:"lbe-cyrl-ru",lbf:"lbf-deva-in","lbf-tibt":"lbf-tibt-cn",lbi:"lbi-latn-cm",lbj:"lbj-tibt-in","lbj-arab":"lbj-arab-in",lbl:"lbl-latn-ph",lbm:"lbm-deva-in",lbn:"lbn-latn-la","lbn-laoo":"lbn-laoo-la",lbo:"lbo-laoo-la","lbo-latn":"lbo-latn-us",lbq:"lbq-latn-pg",lbr:"lbr-deva-np",lbt:"lbt-latn-vn",lbu:"lbu-latn-zz",lbv:"lbv-latn-pg",lbw:"lbw-latn-id",lbx:"lbx-latn-id",lby:"lby-latn-au",lbz:"lbz-latn-au",lcc:"lcc-latn-id",lcd:"lcd-latn-id",lce:"lce-latn-id",lcf:"lcf-latn-id",lch:"lch-latn-ao",lcl:"lcl-latn-id",lcm:"lcm-latn-zz",lcp:"lcp-thai-cn",lcq:"lcq-latn-id",lcs:"lcs-latn-id",lda:"lda-latn-ci",ldb:"ldb-latn-zz",ldd:"ldd-latn-ng",ldg:"ldg-latn-ng",ldh:"ldh-latn-ng",ldi:"ldi-latn-cg",ldj:"ldj-latn-ng",ldk:"ldk-latn-ng",ldl:"ldl-latn-ng",ldm:"ldm-latn-gn",ldn:"ldn-latn-001",ldo:"ldo-latn-ng",ldp:"ldp-latn-ng",ldq:"ldq-latn-ng",lea:"lea-latn-cd",leb:"leb-latn-zm",lec:"lec-latn-bo",led:"led-latn-zz",lee:"lee-latn-zz",lef:"lef-latn-gh",leh:"leh-latn-zm",lei:"lei-latn-pg",lej:"lej-latn-cd",lek:"lek-latn-pg",lel:"lel-latn-cd",lem:"lem-latn-zz",len:"len-latn-hn",leo:"leo-latn-cm",lep:"lep-lepc-in",leq:"leq-latn-zz",ler:"ler-latn-pg",les:"les-latn-cd",let:"let-latn-pg",leu:"leu-latn-zz",lev:"lev-latn-id",lew:"lew-latn-id",lex:"lex-latn-id",ley:"ley-latn-id",lez:"lez-cyrl-ru",lfa:"lfa-latn-cm",lfn:"lfn-latn-001","lfn-cyrl":"lfn-cyrl-001",lg:"lg-latn-ug",lga:"lga-latn-sb",lgb:"lgb-latn-sb",lgg:"lgg-latn-zz",lgh:"lgh-latn-vn",lgi:"lgi-latn-id",lgk:"lgk-latn-vu",lgl:"lgl-latn-sb",lgm:"lgm-latn-cd",lgn:"lgn-latn-et",lgo:"lgo-latn-ss",lgq:"lgq-latn-gh",lgr:"lgr-latn-sb",lgt:"lgt-latn-pg",lgu:"lgu-latn-sb",lgz:"lgz-latn-cd",lha:"lha-latn-vn",lhh:"lhh-latn-id",lhi:"lhi-latn-cn",lhm:"lhm-deva-np",lhn:"lhn-latn-my",lhs:"lhs-syrc-sy",lht:"lht-latn-vu",lhu:"lhu-latn-cn",li:"li-latn-nl",lia:"lia-latn-zz",lib:"lib-latn-pg",lic:"lic-latn-cn",lid:"lid-latn-zz",lie:"lie-latn-cd",lif:"lif-deva-np","lif-limb":"lif-limb-in",lig:"lig-latn-zz",lih:"lih-latn-zz",lij:"lij-latn-it",lik:"lik-latn-cd",lil:"lil-latn-ca",lio:"lio-latn-id",lip:"lip-latn-gh",liq:"liq-latn-et",lir:"lir-latn-lr",lis:"lis-lisu-cn",liu:"liu-latn-sd",liv:"liv-latn-lv",liw:"liw-latn-id",lix:"lix-latn-id",liy:"liy-latn-cf",liz:"liz-latn-cd",lja:"lja-latn-au",lje:"lje-latn-id",lji:"lji-latn-id",ljl:"ljl-latn-id",ljp:"ljp-latn-id",ljw:"ljw-latn-au",ljx:"ljx-latn-au",lka:"lka-latn-tl",lkb:"lkb-latn-ke",lkc:"lkc-latn-vn",lkd:"lkd-latn-br",lke:"lke-latn-ug",lkh:"lkh-tibt-bt",lki:"lki-arab-ir",lkj:"lkj-latn-my",lkl:"lkl-latn-pg",lkm:"lkm-latn-au",lkn:"lkn-latn-vu",lko:"lko-latn-ke",lkr:"lkr-latn-ss",lks:"lks-latn-ke",lkt:"lkt-latn-us",lku:"lku-latn-au",lky:"lky-latn-ss",lla:"lla-latn-ng",llb:"llb-latn-mz",llc:"llc-latn-gn",lld:"lld-latn-it",lle:"lle-latn-zz",llf:"llf-latn-pg",llg:"llg-latn-id",lli:"lli-latn-cg",llj:"llj-latn-au",llk:"llk-latn-my",lll:"lll-latn-pg",llm:"llm-latn-id",lln:"lln-latn-zz",llp:"llp-latn-vu",llq:"llq-latn-id",llu:"llu-latn-sb",llx:"llx-latn-fj",lma:"lma-latn-gn",lmb:"lmb-latn-vu",lmc:"lmc-latn-au",lmd:"lmd-latn-sd",lme:"lme-latn-td",lmf:"lmf-latn-id",lmg:"lmg-latn-pg",lmh:"lmh-deva-np",lmi:"lmi-latn-cd",lmj:"lmj-latn-id",lmk:"lmk-latn-in","lmk-mymr":"lmk-mymr-in",lml:"lml-latn-vu",lmn:"lmn-telu-in",lmo:"lmo-latn-it",lmp:"lmp-latn-zz",lmq:"lmq-latn-id",lmr:"lmr-latn-id",lmu:"lmu-latn-vu",lmv:"lmv-latn-fj",lmw:"lmw-latn-us",lmx:"lmx-latn-cm",lmy:"lmy-latn-id",ln:"ln-latn-cd",lna:"lna-latn-cf",lnb:"lnb-latn-na",lnd:"lnd-latn-id",lnh:"lnh-latn-my",lni:"lni-latn-pg",lnj:"lnj-latn-au",lnl:"lnl-latn-cf",lnm:"lnm-latn-pg",lnn:"lnn-latn-vu",lns:"lns-latn-zz",lnu:"lnu-latn-zz",lnw:"lnw-latn-au",lnz:"lnz-latn-cd",lo:"lo-laoo-la",loa:"loa-latn-id",lob:"lob-latn-bf",loc:"loc-latn-ph",loe:"loe-latn-id",log:"log-latn-cd",loh:"loh-latn-ss",loi:"loi-latn-ci",loj:"loj-latn-zz",lok:"lok-latn-zz",lol:"lol-latn-cd",lom:"lom-latn-lr",lon:"lon-latn-mw",loo:"loo-latn-cd",lop:"lop-latn-ng",loq:"loq-latn-cd",lor:"lor-latn-zz",los:"los-latn-zz",lot:"lot-latn-ss","lot-arab":"lot-arab-ss",lou:"lou-latn-us",low:"low-latn-my",lox:"lox-latn-id",loy:"loy-deva-np","loy-tibt":"loy-tibt-np",loz:"loz-latn-zm",lpa:"lpa-latn-vu",lpe:"lpe-latn-id",lpn:"lpn-latn-mm",lpo:"lpo-plrd-cn","lpo-lisu":"lpo-lisu-cn",lpx:"lpx-latn-ss",lqr:"lqr-latn-ss",lra:"lra-latn-my",lrc:"lrc-arab-ir",lrg:"lrg-latn-au",lri:"lri-latn-ke",lrk:"lrk-arab-pk",lrl:"lrl-arab-ir",lrm:"lrm-latn-ke",lrn:"lrn-latn-id",lro:"lro-latn-sd",lrt:"lrt-latn-id",lrv:"lrv-latn-vu",lrz:"lrz-latn-vu",lsa:"lsa-arab-ir",lsd:"lsd-hebr-il",lse:"lse-latn-cd",lsi:"lsi-latn-mm",lsm:"lsm-latn-ug",lsr:"lsr-latn-pg",lss:"lss-arab-pk",lt:"lt-latn-lt",ltg:"ltg-latn-lv",lth:"lth-latn-ug",lti:"lti-latn-id",ltn:"ltn-latn-br",lto:"lto-latn-ke",lts:"lts-latn-ke",ltu:"ltu-latn-id",lu:"lu-latn-cd",lua:"lua-latn-cd",luc:"luc-latn-ug",lud:"lud-latn-ru",lue:"lue-latn-zm",luf:"luf-latn-pg",lui:"lui-latn-us",luj:"luj-latn-cd",luk:"luk-tibt-bt",lul:"lul-latn-ss",lum:"lum-latn-ao",lun:"lun-latn-zm",luo:"luo-latn-ke",lup:"lup-latn-ga",luq:"luq-latn-cu",lur:"lur-latn-id",lus:"lus-latn-in","lus-beng":"lus-beng-bd","lus-brai":"lus-brai-in",lut:"lut-latn-us",luu:"luu-deva-np",luv:"luv-arab-om",luw:"luw-latn-cm",luy:"luy-latn-ke",luz:"luz-arab-ir",lv:"lv-latn-lv",lva:"lva-latn-tl",lvi:"lvi-latn-la",lvk:"lvk-latn-sb",lvu:"lvu-latn-id",lwa:"lwa-latn-cd",lwe:"lwe-latn-id",lwg:"lwg-latn-ke",lwh:"lwh-latn-vn",lwl:"lwl-thai-th",lwm:"lwm-thai-cn",lwo:"lwo-latn-ss","lwo-za":"lwo-latn-za",lwt:"lwt-latn-id",lww:"lww-latn-vu",lxm:"lxm-latn-pg",lya:"lya-tibt-bt",lyn:"lyn-latn-zm",lzh:"lzh-hans-cn",lzl:"lzl-latn-vu",lzn:"lzn-latn-mm",lzz:"lzz-latn-tr",maa:"maa-latn-mx",mab:"mab-latn-mx",mad:"mad-latn-id",mae:"mae-latn-ng",maf:"maf-latn-cm",mag:"mag-deva-in",mai:"mai-deva-in",maj:"maj-latn-mx",mak:"mak-latn-id",mam:"mam-latn-gt",man:"man-latn-gm","man-gn":"man-nkoo-gn","man-nkoo":"man-nkoo-gn",maq:"maq-latn-mx",mas:"mas-latn-ke",mat:"mat-latn-mx",mau:"mau-latn-mx",mav:"mav-latn-br",maw:"maw-latn-zz",max:"max-latn-id",maz:"maz-latn-mx",mba:"mba-latn-ph",mbb:"mbb-latn-ph",mbc:"mbc-latn-br",mbd:"mbd-latn-ph",mbf:"mbf-latn-sg",mbh:"mbh-latn-zz",mbi:"mbi-latn-ph",mbj:"mbj-latn-br",mbk:"mbk-latn-pg",mbl:"mbl-latn-br",mbm:"mbm-latn-cg",mbn:"mbn-latn-co",mbo:"mbo-latn-zz",mbp:"mbp-latn-co",mbq:"mbq-latn-zz",mbr:"mbr-latn-co",mbs:"mbs-latn-ph",mbt:"mbt-latn-ph",mbu:"mbu-latn-zz",mbv:"mbv-latn-gn",mbw:"mbw-latn-zz",mbx:"mbx-latn-pg",mby:"mby-arab-pk",mbz:"mbz-latn-mx",mca:"mca-latn-py",mcb:"mcb-latn-pe",mcc:"mcc-latn-pg",mcd:"mcd-latn-pe",mce:"mce-latn-mx",mcf:"mcf-latn-pe",mcg:"mcg-latn-ve",mch:"mch-latn-ve",mci:"mci-latn-zz",mcj:"mcj-latn-ng",mck:"mck-latn-ao",mcl:"mcl-latn-co",mcm:"mcm-latn-my",mcn:"mcn-latn-td",mco:"mco-latn-mx",mcp:"mcp-latn-zz",mcq:"mcq-latn-zz",mcr:"mcr-latn-zz",mcs:"mcs-latn-cm",mct:"mct-latn-cm",mcu:"mcu-latn-zz",mcv:"mcv-latn-pg",mcw:"mcw-latn-td",mcx:"mcx-latn-cf",mcy:"mcy-latn-pg",mcz:"mcz-latn-pg",mda:"mda-latn-zz",mdb:"mdb-latn-pg",mdc:"mdc-latn-pg",mdd:"mdd-latn-cm",mde:"mde-arab-zz",mdf:"mdf-cyrl-ru",mdg:"mdg-latn-td",mdh:"mdh-latn-ph",mdi:"mdi-latn-cd",mdj:"mdj-latn-zz",mdk:"mdk-latn-cd",mdm:"mdm-latn-cd",mdn:"mdn-latn-cf",mdp:"mdp-latn-cd",mdq:"mdq-latn-cd",mdr:"mdr-latn-id",mds:"mds-latn-pg",mdt:"mdt-latn-cg",mdu:"mdu-latn-cg",mdv:"mdv-latn-mx",mdw:"mdw-latn-cg",mdx:"mdx-ethi-zz",mdy:"mdy-ethi-et","mdy-latn":"mdy-latn-et",mdz:"mdz-latn-br",mea:"mea-latn-cm",meb:"meb-latn-pg",mec:"mec-latn-au",med:"med-latn-zz",mee:"mee-latn-zz",meh:"meh-latn-mx",mej:"mej-latn-id",mek:"mek-latn-zz",mel:"mel-latn-my",mem:"mem-latn-au",men:"men-latn-sl",meo:"meo-latn-my","meo-arab":"meo-arab-my",mep:"mep-latn-au",meq:"meq-latn-cm",mer:"mer-latn-ke",mes:"mes-latn-td",met:"met-latn-zz",meu:"meu-latn-zz",mev:"mev-latn-lr",mew:"mew-latn-ng",mey:"mey-latn-mr","mey-arab":"mey-arab-mr",mez:"mez-latn-us",mfa:"mfa-arab-th",mfb:"mfb-latn-id",mfc:"mfc-latn-cd",mfd:"mfd-latn-cm",mfe:"mfe-latn-mu",mff:"mff-latn-cm",mfg:"mfg-latn-gn","mfg-arab":"mfg-arab-gn",mfh:"mfh-latn-cm",mfi:"mfi-arab-cm","mfi-latn":"mfi-latn-cm",mfj:"mfj-latn-cm",mfk:"mfk-latn-cm",mfl:"mfl-latn-ng",mfm:"mfm-latn-ng",mfn:"mfn-latn-zz",mfo:"mfo-latn-zz",mfp:"mfp-latn-id",mfq:"mfq-latn-zz",mfr:"mfr-latn-au",mft:"mft-latn-pg",mfu:"mfu-latn-ao",mfv:"mfv-latn-gw",mfw:"mfw-latn-pg",mfx:"mfx-latn-et","mfx-ethi":"mfx-ethi-et",mfy:"mfy-latn-mx",mfz:"mfz-latn-ss",mg:"mg-latn-mg",mgb:"mgb-latn-td",mgc:"mgc-latn-ss",mgd:"mgd-latn-ss","mgd-arab":"mgd-arab-ss",mge:"mge-latn-td",mgf:"mgf-latn-id",mgg:"mgg-latn-cm",mgh:"mgh-latn-mz",mgi:"mgi-latn-ng",mgj:"mgj-latn-ng",mgk:"mgk-latn-id",mgl:"mgl-latn-zz",mgm:"mgm-latn-tl",mgn:"mgn-latn-cf",mgo:"mgo-latn-cm",mgp:"mgp-deva-np",mgq:"mgq-latn-tz",mgr:"mgr-latn-zm",mgs:"mgs-latn-tz",mgt:"mgt-latn-pg",mgu:"mgu-latn-pg",mgv:"mgv-latn-tz",mgw:"mgw-latn-tz",mgy:"mgy-latn-tz",mgz:"mgz-latn-tz",mh:"mh-latn-mh",mhb:"mhb-latn-ga",mhc:"mhc-latn-mx",mhd:"mhd-latn-tz",mhe:"mhe-latn-my",mhf:"mhf-latn-pg",mhg:"mhg-latn-au",mhi:"mhi-latn-zz",mhj:"mhj-arab-af",mhk:"mhk-latn-cm",mhl:"mhl-latn-zz",mhm:"mhm-latn-mz",mhn:"mhn-latn-it",mho:"mho-latn-zm",mhp:"mhp-latn-id",mhq:"mhq-latn-us",mhs:"mhs-latn-id",mht:"mht-latn-ve",mhu:"mhu-latn-in",mhw:"mhw-latn-bw",mhx:"mhx-latn-mm",mhy:"mhy-latn-id",mhz:"mhz-latn-id",mi:"mi-latn-nz",mia:"mia-latn-us",mib:"mib-latn-mx",mic:"mic-latn-ca",mid:"mid-mand-iq",mie:"mie-latn-mx",mif:"mif-latn-zz",mig:"mig-latn-mx",mih:"mih-latn-mx",mii:"mii-latn-mx",mij:"mij-latn-cm",mik:"mik-latn-us",mil:"mil-latn-mx",mim:"mim-latn-mx",min:"min-latn-id",mio:"mio-latn-mx",mip:"mip-latn-mx",miq:"miq-latn-ni",mir:"mir-latn-mx",mit:"mit-latn-mx",miu:"miu-latn-mx",miw:"miw-latn-zz",mix:"mix-latn-mx",miy:"miy-latn-mx",miz:"miz-latn-mx",mjb:"mjb-latn-tl",mjc:"mjc-latn-mx",mjd:"mjd-latn-us",mje:"mje-latn-td",mjg:"mjg-latn-cn",mjh:"mjh-latn-tz",mji:"mji-latn-cn",mjj:"mjj-latn-pg",mjk:"mjk-latn-pg",mjl:"mjl-deva-in","mjl-takr":"mjl-takr-in",mjm:"mjm-latn-pg",mjn:"mjn-latn-pg",mjq:"mjq-mlym-in",mjr:"mjr-mlym-in",mjs:"mjs-latn-ng",mjt:"mjt-deva-in","mjt-beng":"mjt-beng-bd",mju:"mju-telu-in",mjv:"mjv-mlym-in",mjw:"mjw-latn-in",mjx:"mjx-latn-bd","mjx-beng":"mjx-beng-bd",mjy:"mjy-latn-us",mjz:"mjz-deva-np",mk:"mk-cyrl-mk",mka:"mka-latn-ci",mkb:"mkb-deva-in",mkc:"mkc-latn-pg",mke:"mke-deva-in",mkf:"mkf-latn-ng",mki:"mki-arab-zz",mkj:"mkj-latn-fm",mkk:"mkk-latn-cm",mkl:"mkl-latn-zz",mkm:"mkm-thai-th",mkn:"mkn-latn-id",mko:"mko-latn-ng",mkp:"mkp-latn-zz",mkr:"mkr-latn-pg",mks:"mks-latn-mx",mkt:"mkt-latn-nc",mku:"mku-latn-gn",mkv:"mkv-latn-vu",mkw:"mkw-latn-zz",mkx:"mkx-latn-ph",mky:"mky-latn-id",mkz:"mkz-latn-tl",ml:"ml-mlym-in",mla:"mla-latn-vu",mlb:"mlb-latn-cm",mlc:"mlc-latn-vn",mle:"mle-latn-zz",mlf:"mlf-thai-la","mlf-latn":"mlf-latn-la",mlh:"mlh-latn-pg",mli:"mli-latn-id",mlj:"mlj-latn-td",mlk:"mlk-latn-ke",mll:"mll-latn-vu",mln:"mln-latn-sb",mlo:"mlo-latn-sn",mlp:"mlp-latn-zz",mlq:"mlq-latn-sn","mlq-arab":"mlq-arab-sn",mlr:"mlr-latn-cm",mls:"mls-latn-sd",mlu:"mlu-latn-sb",mlv:"mlv-latn-vu",mlw:"mlw-latn-cm",mlx:"mlx-latn-vu",mlz:"mlz-latn-ph",mma:"mma-latn-ng",mmb:"mmb-latn-id",mmc:"mmc-latn-mx",mmd:"mmd-latn-cn","mmd-hans":"mmd-hans-cn","mmd-hant":"mmd-hant-cn",mme:"mme-latn-vu",mmf:"mmf-latn-ng",mmg:"mmg-latn-vu",mmh:"mmh-latn-br",mmi:"mmi-latn-pg",mmm:"mmm-latn-vu",mmn:"mmn-latn-ph",mmo:"mmo-latn-zz",mmp:"mmp-latn-pg",mmq:"mmq-latn-pg",mmr:"mmr-latn-cn",mmt:"mmt-latn-pg",mmu:"mmu-latn-zz",mmv:"mmv-latn-br",mmw:"mmw-latn-vu",mmx:"mmx-latn-zz",mmy:"mmy-latn-td",mmz:"mmz-latn-cd",mn:"mn-cyrl-mn","mn-cn":"mn-mong-cn","mn-mong":"mn-mong-cn",mna:"mna-latn-zz",mnb:"mnb-latn-id",mnd:"mnd-latn-br",mne:"mne-latn-td",mnf:"mnf-latn-zz",mng:"mng-latn-vn",mnh:"mnh-latn-cd",mni:"mni-beng-in",mnj:"mnj-arab-af",mnl:"mnl-latn-vu",mnm:"mnm-latn-pg",mnn:"mnn-latn-vn",mnp:"mnp-latn-cn",mnq:"mnq-latn-my",mnr:"mnr-latn-us",mns:"mns-cyrl-ru",mnu:"mnu-latn-id",mnv:"mnv-latn-sb",mnw:"mnw-mymr-mm",mnx:"mnx-latn-id",mny:"mny-latn-mz",mnz:"mnz-latn-id",mo:"mo-latn-ro",moa:"moa-latn-zz",moc:"moc-latn-ar",mod:"mod-latn-us",moe:"moe-latn-ca",mog:"mog-latn-id",moh:"moh-latn-ca",moi:"moi-latn-ng",moj:"moj-latn-cg",mok:"mok-latn-id",mom:"mom-latn-ni",moo:"moo-latn-vn",mop:"mop-latn-bz",moq:"moq-latn-id",mor:"mor-latn-sd",mos:"mos-latn-bf",mot:"mot-latn-co",mou:"mou-latn-td",mov:"mov-latn-us",mow:"mow-latn-cg",mox:"mox-latn-zz",moy:"moy-latn-et","moy-ethi":"moy-ethi-et",moz:"moz-latn-td",mpa:"mpa-latn-tz",mpb:"mpb-latn-au",mpc:"mpc-latn-au",mpd:"mpd-latn-br",mpe:"mpe-latn-et","mpe-ethi":"mpe-ethi-et",mpg:"mpg-latn-td",mph:"mph-latn-au",mpi:"mpi-latn-cm",mpj:"mpj-latn-au",mpk:"mpk-latn-td",mpl:"mpl-latn-pg",mpm:"mpm-latn-mx",mpn:"mpn-latn-pg",mpo:"mpo-latn-pg",mpp:"mpp-latn-zz",mpq:"mpq-latn-br",mpr:"mpr-latn-sb",mps:"mps-latn-zz",mpt:"mpt-latn-zz",mpu:"mpu-latn-br",mpv:"mpv-latn-pg",mpw:"mpw-latn-br",mpx:"mpx-latn-zz",mpy:"mpy-latn-id",mpz:"mpz-thai-th",mqa:"mqa-latn-id",mqb:"mqb-latn-cm",mqc:"mqc-latn-id",mqe:"mqe-latn-pg",mqf:"mqf-latn-id",mqg:"mqg-latn-id",mqh:"mqh-latn-mx",mqi:"mqi-latn-id",mqj:"mqj-latn-id",mqk:"mqk-latn-ph",mql:"mql-latn-zz",mqm:"mqm-latn-pf",mqn:"mqn-latn-id",mqo:"mqo-latn-id",mqp:"mqp-latn-id",mqq:"mqq-latn-my",mqr:"mqr-latn-id",mqs:"mqs-latn-id",mqu:"mqu-latn-ss",mqv:"mqv-latn-pg",mqw:"mqw-latn-pg",mqx:"mqx-latn-id","mqx-bugi":"mqx-bugi-id",mqy:"mqy-latn-id",mqz:"mqz-latn-pg",mr:"mr-deva-in",mra:"mra-thai-th",mrb:"mrb-latn-vu",mrc:"mrc-latn-us",mrd:"mrd-deva-np",mrf:"mrf-latn-id",mrg:"mrg-latn-in","mrg-beng":"mrg-beng-in","mrg-deva":"mrg-deva-in",mrh:"mrh-latn-in",mrj:"mrj-cyrl-ru",mrk:"mrk-latn-nc",mrl:"mrl-latn-fm",mrm:"mrm-latn-vu",mrn:"mrn-latn-sb",mro:"mro-mroo-bd",mrp:"mrp-latn-vu",mrq:"mrq-latn-pf",mrr:"mrr-deva-in",mrs:"mrs-latn-vu",mrt:"mrt-latn-ng",mru:"mru-latn-cm",mrv:"mrv-latn-pf",mrw:"mrw-latn-ph","mrw-arab":"mrw-arab-ph",mrx:"mrx-latn-id",mry:"mry-latn-ph",mrz:"mrz-latn-id",ms:"ms-latn-my","ms-cc":"ms-arab-cc",msb:"msb-latn-ph",msc:"msc-latn-gn",mse:"mse-latn-td",msf:"msf-latn-id",msg:"msg-latn-id",msh:"msh-latn-mg",msi:"msi-latn-my",msj:"msj-latn-cd",msk:"msk-latn-ph",msl:"msl-latn-id",msm:"msm-latn-ph",msn:"msn-latn-vu",mso:"mso-latn-id",msp:"msp-latn-br",msq:"msq-latn-nc",mss:"mss-latn-id",msu:"msu-latn-pg",msv:"msv-latn-cm",msw:"msw-latn-gw",msx:"msx-latn-pg",msy:"msy-latn-pg",msz:"msz-latn-pg",mt:"mt-latn-mt",mta:"mta-latn-ph",mtb:"mtb-latn-ci",mtc:"mtc-latn-zz",mtd:"mtd-latn-id",mte:"mte-latn-sb",mtf:"mtf-latn-zz",mtg:"mtg-latn-id",mth:"mth-latn-id",mti:"mti-latn-zz",mtj:"mtj-latn-id",mtk:"mtk-latn-cm",mtl:"mtl-latn-ng",mtm:"mtm-cyrl-ru",mtn:"mtn-latn-ni",mto:"mto-latn-mx",mtp:"mtp-latn-bo",mtq:"mtq-latn-vn",mtr:"mtr-deva-in",mts:"mts-latn-pe",mtt:"mtt-latn-vu",mtu:"mtu-latn-mx",mtv:"mtv-latn-pg",mtw:"mtw-latn-ph",mtx:"mtx-latn-mx",mty:"mty-latn-pg",mua:"mua-latn-cm",mub:"mub-latn-td",muc:"muc-latn-cm",mud:"mud-cyrl-ru",mue:"mue-latn-ec",mug:"mug-latn-cm",muh:"muh-latn-ss",mui:"mui-latn-id",muj:"muj-latn-td",muk:"muk-tibt-np",mum:"mum-latn-pg",muo:"muo-latn-cm",muq:"muq-latn-cn",mur:"mur-latn-zz",mus:"mus-latn-us",mut:"mut-deva-in",muu:"muu-latn-ke",muv:"muv-taml-in",mux:"mux-latn-pg",muy:"muy-latn-cm",muz:"muz-ethi-et","muz-latn":"muz-latn-et",mva:"mva-latn-zz",mvd:"mvd-latn-id",mvf:"mvf-mong-cn","mvf-phag":"mvf-phag-cn",mvg:"mvg-latn-mx",mvh:"mvh-latn-td",mvk:"mvk-latn-pg",mvl:"mvl-latn-au",mvn:"mvn-latn-zz",mvo:"mvo-latn-sb",mvp:"mvp-latn-id",mvq:"mvq-latn-pg",mvr:"mvr-latn-id",mvs:"mvs-latn-id",mvt:"mvt-latn-vu",mvu:"mvu-latn-td",mvv:"mvv-latn-my",mvw:"mvw-latn-tz",mvx:"mvx-latn-id",mvy:"mvy-arab-pk",mvz:"mvz-ethi-et","mvz-arab":"mvz-arab-et",mwa:"mwa-latn-pg",mwb:"mwb-latn-pg",mwc:"mwc-latn-pg",mwe:"mwe-latn-tz",mwf:"mwf-latn-au",mwg:"mwg-latn-pg",mwh:"mwh-latn-pg",mwi:"mwi-latn-vu",mwk:"mwk-latn-ml",mwl:"mwl-latn-pt",mwm:"mwm-latn-td",mwn:"mwn-latn-zm",mwo:"mwo-latn-vu",mwp:"mwp-latn-au",mwq:"mwq-latn-mm",mwr:"mwr-deva-in",mws:"mws-latn-ke",mwt:"mwt-mymr-mm","mwt-thai":"mwt-thai-th",mwu:"mwu-latn-ss",mwv:"mwv-latn-id",mww:"mww-hmnp-us",mwz:"mwz-latn-cd",mxa:"mxa-latn-mx",mxb:"mxb-latn-mx",mxc:"mxc-latn-zw",mxd:"mxd-latn-id",mxe:"mxe-latn-vu",mxf:"mxf-latn-cm",mxg:"mxg-latn-ao",mxh:"mxh-latn-cd",mxi:"mxi-latn-es",mxj:"mxj-latn-in",mxk:"mxk-latn-pg",mxl:"mxl-latn-bj",mxm:"mxm-latn-zz",mxn:"mxn-latn-id",mxo:"mxo-latn-zm",mxp:"mxp-latn-mx",mxq:"mxq-latn-mx",mxr:"mxr-latn-my",mxs:"mxs-latn-mx",mxt:"mxt-latn-mx",mxu:"mxu-latn-cm",mxv:"mxv-latn-mx",mxw:"mxw-latn-pg",mxx:"mxx-latn-ci",mxy:"mxy-latn-mx",mxz:"mxz-latn-id",my:"my-mymr-mm",myb:"myb-latn-td",myc:"myc-latn-cd",mye:"mye-latn-ga",myf:"myf-latn-et",myg:"myg-latn-cm",myh:"myh-latn-us",myj:"myj-latn-ss",myk:"myk-latn-zz",myl:"myl-latn-id",mym:"mym-ethi-zz",myp:"myp-latn-br",myr:"myr-latn-pe",myu:"myu-latn-br",myv:"myv-cyrl-ru",myw:"myw-latn-zz",myx:"myx-latn-ug",myy:"myy-latn-co",myz:"myz-mand-ir",mza:"mza-latn-mx",mzd:"mzd-latn-cm",mze:"mze-latn-pg",mzh:"mzh-latn-ar",mzi:"mzi-latn-mx",mzj:"mzj-latn-lr",mzk:"mzk-latn-zz",mzl:"mzl-latn-mx",mzm:"mzm-latn-zz",mzn:"mzn-arab-ir",mzo:"mzo-latn-br",mzp:"mzp-latn-zz",mzq:"mzq-latn-id",mzr:"mzr-latn-br",mzt:"mzt-latn-my",mzu:"mzu-latn-pg",mzv:"mzv-latn-cf",mzw:"mzw-latn-zz",mzx:"mzx-latn-gy",mzz:"mzz-latn-zz",na:"na-latn-nr",naa:"naa-latn-id",nab:"nab-latn-br",nac:"nac-latn-zz",nae:"nae-latn-id",naf:"naf-latn-zz",nag:"nag-latn-in",naj:"naj-latn-gn",nak:"nak-latn-zz",nal:"nal-latn-pg",nam:"nam-latn-au",nan:"nan-hans-cn",nao:"nao-deva-np",nap:"nap-latn-it",naq:"naq-latn-na",nar:"nar-latn-ng",nas:"nas-latn-zz",nat:"nat-latn-ng",naw:"naw-latn-gh",nax:"nax-latn-pg",nay:"nay-latn-au",naz:"naz-latn-mx",nb:"nb-latn-no",nba:"nba-latn-ao",nbb:"nbb-latn-ng",nbc:"nbc-latn-in",nbd:"nbd-latn-cd",nbe:"nbe-latn-in",nbh:"nbh-latn-ng",nbi:"nbi-latn-in",nbj:"nbj-latn-au",nbk:"nbk-latn-pg",nbm:"nbm-latn-cf",nbn:"nbn-latn-id",nbo:"nbo-latn-ng",nbp:"nbp-latn-ng",nbq:"nbq-latn-id",nbr:"nbr-latn-ng",nbt:"nbt-latn-in","nbt-deva":"nbt-deva-in",nbu:"nbu-latn-in",nbv:"nbv-latn-cm",nbw:"nbw-latn-cd",nby:"nby-latn-pg",nca:"nca-latn-zz",ncb:"ncb-latn-in","ncb-deva":"ncb-deva-in",ncc:"ncc-latn-pg",ncd:"ncd-deva-np",nce:"nce-latn-zz",ncf:"ncf-latn-zz",ncg:"ncg-latn-ca",nch:"nch-latn-mx",nci:"nci-latn-mx",ncj:"ncj-latn-mx",nck:"nck-latn-au",ncl:"ncl-latn-mx",ncm:"ncm-latn-pg",ncn:"ncn-latn-pg",nco:"nco-latn-zz",ncq:"ncq-laoo-la","ncq-thai":"ncq-thai-la",ncr:"ncr-latn-cm",nct:"nct-latn-in","nct-beng":"nct-beng-in",ncu:"ncu-latn-zz",ncx:"ncx-latn-mx",ncz:"ncz-latn-us",nd:"nd-latn-zw",nda:"nda-latn-cg",ndb:"ndb-latn-cm",ndc:"ndc-latn-mz",ndd:"ndd-latn-ng",ndf:"ndf-cyrl-ru",ndg:"ndg-latn-tz",ndh:"ndh-latn-tz",ndi:"ndi-latn-ng",ndj:"ndj-latn-tz",ndk:"ndk-latn-cd",ndl:"ndl-latn-cd",ndm:"ndm-latn-td",ndn:"ndn-latn-cg",ndp:"ndp-latn-ug",ndq:"ndq-latn-ao",ndr:"ndr-latn-ng",nds:"nds-latn-de",ndt:"ndt-latn-cd",ndu:"ndu-latn-cm",ndv:"ndv-latn-sn",ndw:"ndw-latn-cd",ndx:"ndx-latn-id",ndy:"ndy-latn-cf","ndy-td":"ndy-latn-td",ndz:"ndz-latn-ss",ne:"ne-deva-np",nea:"nea-latn-id",neb:"neb-latn-zz",nec:"nec-latn-id",ned:"ned-latn-ng",nee:"nee-latn-nc",neg:"neg-cyrl-ru",neh:"neh-tibt-bt",nei:"nei-xsux-tr",nej:"nej-latn-pg",nek:"nek-latn-nc",nem:"nem-latn-nc",nen:"nen-latn-nc",neo:"neo-latn-vn",neq:"neq-latn-mx",ner:"ner-latn-id",net:"net-latn-pg",neu:"neu-latn-001",new:"new-deva-np",nex:"nex-latn-zz",ney:"ney-latn-ci",nez:"nez-latn-us",nfa:"nfa-latn-id",nfd:"nfd-latn-ng",nfl:"nfl-latn-sb",nfr:"nfr-latn-zz",nfu:"nfu-latn-cm",ng:"ng-latn-na",nga:"nga-latn-zz",ngb:"ngb-latn-zz",ngc:"ngc-latn-cd",ngd:"ngd-latn-cf",nge:"nge-latn-cm",ngg:"ngg-latn-cf",ngh:"ngh-latn-za",ngi:"ngi-latn-ng",ngj:"ngj-latn-cm",ngk:"ngk-latn-au",ngl:"ngl-latn-mz",ngm:"ngm-latn-fm",ngn:"ngn-latn-cm",ngp:"ngp-latn-tz",ngq:"ngq-latn-tz",ngr:"ngr-latn-sb",ngs:"ngs-latn-ng",ngt:"ngt-laoo-la",ngu:"ngu-latn-mx",ngv:"ngv-latn-cm",ngw:"ngw-latn-ng",ngx:"ngx-latn-ng",ngy:"ngy-latn-cm",ngz:"ngz-latn-cg",nha:"nha-latn-au",nhb:"nhb-latn-zz",nhc:"nhc-latn-mx",nhd:"nhd-latn-py",nhe:"nhe-latn-mx",nhf:"nhf-latn-au",nhg:"nhg-latn-mx",nhi:"nhi-latn-mx",nhk:"nhk-latn-mx",nhm:"nhm-latn-mx",nhn:"nhn-latn-mx",nho:"nho-latn-pg",nhp:"nhp-latn-mx",nhq:"nhq-latn-mx",nhr:"nhr-latn-bw",nht:"nht-latn-mx",nhu:"nhu-latn-cm",nhv:"nhv-latn-mx",nhw:"nhw-latn-mx",nhx:"nhx-latn-mx",nhy:"nhy-latn-mx",nhz:"nhz-latn-mx",nia:"nia-latn-id",nib:"nib-latn-pg",nid:"nid-latn-au",nie:"nie-latn-td",nif:"nif-latn-zz",nig:"nig-latn-au",nih:"nih-latn-tz",nii:"nii-latn-zz",nij:"nij-latn-id",nil:"nil-latn-id",nim:"nim-latn-tz",nin:"nin-latn-zz",nio:"nio-cyrl-ru",niq:"niq-latn-ke",nir:"nir-latn-id",nis:"nis-latn-pg",nit:"nit-telu-in",niu:"niu-latn-nu",niv:"niv-cyrl-ru","niv-latn":"niv-latn-ru",niw:"niw-latn-pg",nix:"nix-latn-cd",niy:"niy-latn-zz",niz:"niz-latn-zz",nja:"nja-latn-ng",njb:"njb-latn-in",njd:"njd-latn-tz",njh:"njh-latn-in",nji:"nji-latn-au",njj:"njj-latn-cm",njl:"njl-latn-ss",njm:"njm-latn-in",njn:"njn-latn-in",njo:"njo-latn-in",njr:"njr-latn-ng",njs:"njs-latn-id",njt:"njt-latn-sr",nju:"nju-latn-au",njx:"njx-latn-cg",njy:"njy-latn-cm",njz:"njz-latn-in","njz-beng":"njz-beng-in",nka:"nka-latn-zm",nkb:"nkb-latn-in",nkc:"nkc-latn-cm",nkd:"nkd-latn-in",nke:"nke-latn-sb",nkf:"nkf-latn-in",nkg:"nkg-latn-zz",nkh:"nkh-latn-in",nki:"nki-latn-in","nki-beng":"nki-beng-in",nkj:"nkj-latn-id",nkk:"nkk-latn-vu",nkm:"nkm-latn-pg",nkn:"nkn-latn-ao",nko:"nko-latn-zz",nkq:"nkq-latn-gh",nkr:"nkr-latn-fm",nks:"nks-latn-id",nkt:"nkt-latn-tz",nku:"nku-latn-ci",nkv:"nkv-latn-mw",nkw:"nkw-latn-cd",nkx:"nkx-latn-ng",nkz:"nkz-latn-ng",nl:"nl-latn-nl",nla:"nla-latn-cm",nlc:"nlc-latn-id",nle:"nle-latn-ke",nlg:"nlg-latn-sb",nli:"nli-arab-af",nlj:"nlj-latn-cd",nlk:"nlk-latn-id",nlm:"nlm-arab-pk",nlo:"nlo-latn-cd",nlq:"nlq-latn-mm",nlu:"nlu-latn-gh",nlv:"nlv-latn-mx",nlw:"nlw-latn-au",nlx:"nlx-deva-in",nly:"nly-latn-au",nlz:"nlz-latn-sb",nma:"nma-latn-in",nmb:"nmb-latn-vu",nmc:"nmc-latn-td",nmd:"nmd-latn-ga",nme:"nme-latn-in",nmf:"nmf-latn-in",nmg:"nmg-latn-cm",nmh:"nmh-latn-in",nmi:"nmi-latn-ng",nmj:"nmj-latn-cf",nmk:"nmk-latn-vu",nml:"nml-latn-cm",nmm:"nmm-deva-np","nmm-tibt":"nmm-tibt-np",nmn:"nmn-latn-bw",nmo:"nmo-latn-in","nmo-beng":"nmo-beng-in",nmp:"nmp-latn-au",nmq:"nmq-latn-zw",nmr:"nmr-latn-cm",nms:"nms-latn-vu",nmt:"nmt-latn-fm",nmu:"nmu-latn-us",nmv:"nmv-latn-au",nmw:"nmw-latn-pg",nmx:"nmx-latn-pg",nmz:"nmz-latn-zz",nn:"nn-latn-no",nna:"nna-latn-au",nnb:"nnb-latn-cd",nnc:"nnc-latn-td",nnd:"nnd-latn-vu",nne:"nne-latn-ao",nnf:"nnf-latn-zz",nng:"nng-latn-in","nng-beng":"nng-beng-in",nnh:"nnh-latn-cm",nni:"nni-latn-id",nnj:"nnj-latn-et",nnk:"nnk-latn-zz",nnl:"nnl-latn-in",nnm:"nnm-latn-zz",nnn:"nnn-latn-td",nnp:"nnp-wcho-in",nnq:"nnq-latn-tz",nnr:"nnr-latn-au",nnt:"nnt-latn-us",nnu:"nnu-latn-gh",nnv:"nnv-latn-au",nnw:"nnw-latn-bf",nny:"nny-latn-au",nnz:"nnz-latn-cm",no:"no-latn-no",noa:"noa-latn-co",noc:"noc-latn-pg",nod:"nod-lana-th",noe:"noe-deva-in",nof:"nof-latn-pg",nog:"nog-cyrl-ru",noh:"noh-latn-pg",noi:"noi-deva-in",noj:"noj-latn-co",nok:"nok-latn-us",nom:"nom-latn-pe",non:"non-runr-se",nop:"nop-latn-zz",noq:"noq-latn-cd",nos:"nos-yiii-cn",not:"not-latn-pe",nou:"nou-latn-zz",nov:"nov-latn-001",now:"now-latn-tz",noy:"noy-latn-td",npb:"npb-tibt-bt",npg:"npg-latn-mm",nph:"nph-latn-in",npl:"npl-latn-mx",npn:"npn-latn-pg",npo:"npo-latn-in",nps:"nps-latn-id",npu:"npu-latn-in",npx:"npx-latn-sb",npy:"npy-latn-id",nqg:"nqg-latn-bj",nqk:"nqk-latn-bj",nql:"nql-latn-ao",nqm:"nqm-latn-id",nqn:"nqn-latn-pg",nqo:"nqo-nkoo-gn",nqq:"nqq-latn-mm",nqt:"nqt-latn-ng",nqy:"nqy-latn-mm",nr:"nr-latn-za",nra:"nra-latn-ga",nrb:"nrb-latn-zz",nre:"nre-latn-in",nrf:"nrf-latn-je",nrg:"nrg-latn-vu",nri:"nri-latn-in",nrk:"nrk-latn-au",nrl:"nrl-latn-au",nrm:"nrm-latn-my",nrp:"nrp-latn-it",nru:"nru-latn-cn","nru-hans":"nru-hans-cn","nru-hant":"nru-hant-cn",nrx:"nrx-latn-au",nrz:"nrz-latn-pg",nsa:"nsa-latn-in",nsb:"nsb-latn-za",nsc:"nsc-latn-ng",nsd:"nsd-yiii-cn",nse:"nse-latn-zm",nsf:"nsf-yiii-cn",nsg:"nsg-latn-tz",nsh:"nsh-latn-cm",nsk:"nsk-cans-ca",nsm:"nsm-latn-in",nsn:"nsn-latn-zz",nso:"nso-latn-za",nsq:"nsq-latn-us",nss:"nss-latn-zz",nst:"nst-tnsa-in",nsu:"nsu-latn-mx",nsv:"nsv-yiii-cn",nsw:"nsw-latn-vu",nsx:"nsx-latn-ao",nsy:"nsy-latn-id",nsz:"nsz-latn-us",ntd:"ntd-latn-my",nte:"nte-latn-mz",ntg:"ntg-latn-au",nti:"nti-latn-bf",ntj:"ntj-latn-au",ntk:"ntk-latn-tz",ntm:"ntm-latn-zz",nto:"nto-latn-cd",ntp:"ntp-latn-mx",ntr:"ntr-latn-zz",ntu:"ntu-latn-sb",ntx:"ntx-latn-mm",nty:"nty-yiii-vn",ntz:"ntz-arab-ir",nua:"nua-latn-nc",nuc:"nuc-latn-br",nud:"nud-latn-pg",nue:"nue-latn-cd",nuf:"nuf-latn-cn",nug:"nug-latn-au",nuh:"nuh-latn-ng",nui:"nui-latn-zz",nuj:"nuj-latn-ug",nuk:"nuk-latn-ca",num:"num-latn-to",nun:"nun-latn-mm",nuo:"nuo-latn-vn",nup:"nup-latn-zz",nuq:"nuq-latn-pg",nur:"nur-latn-pg",nus:"nus-latn-ss",nut:"nut-latn-vn",nuu:"nuu-latn-cd",nuv:"nuv-latn-zz",nuw:"nuw-latn-fm",nux:"nux-latn-zz",nuy:"nuy-latn-au",nuz:"nuz-latn-mx",nv:"nv-latn-us",nvh:"nvh-latn-vu",nvm:"nvm-latn-pg",nvo:"nvo-latn-cm",nwb:"nwb-latn-zz",nwc:"nwc-newa-np","nwc-brah":"nwc-brah-np","nwc-deva":"nwc-deva-np","nwc-sidd":"nwc-sidd-np",nwe:"nwe-latn-cm",nwg:"nwg-latn-au",nwi:"nwi-latn-vu",nwm:"nwm-latn-ss",nwo:"nwo-latn-au",nwr:"nwr-latn-pg",nww:"nww-latn-tz",nwx:"nwx-deva-np",nxa:"nxa-latn-tl",nxd:"nxd-latn-cd",nxe:"nxe-latn-id",nxg:"nxg-latn-id",nxi:"nxi-latn-tz",nxl:"nxl-latn-id",nxn:"nxn-latn-au",nxo:"nxo-latn-ga",nxq:"nxq-latn-cn",nxr:"nxr-latn-zz",nxx:"nxx-latn-id",ny:"ny-latn-mw",nyb:"nyb-latn-gh",nyc:"nyc-latn-cd",nyd:"nyd-latn-ke",nye:"nye-latn-ao",nyf:"nyf-latn-ke",nyg:"nyg-latn-cd",nyh:"nyh-latn-au",nyi:"nyi-latn-sd",nyj:"nyj-latn-cd",nyk:"nyk-latn-ao",nyl:"nyl-thai-th",nym:"nym-latn-tz",nyn:"nyn-latn-ug",nyo:"nyo-latn-ug",nyp:"nyp-latn-ug",nyq:"nyq-arab-ir",nyr:"nyr-latn-mw",nys:"nys-latn-au",nyt:"nyt-latn-au",nyu:"nyu-latn-mz",nyv:"nyv-latn-au",nyx:"nyx-latn-au",nyy:"nyy-latn-tz",nza:"nza-latn-cm",nzb:"nzb-latn-ga",nzd:"nzd-latn-cd",nzi:"nzi-latn-gh",nzk:"nzk-latn-cf",nzm:"nzm-latn-in",nzu:"nzu-latn-cg",nzy:"nzy-latn-td",nzz:"nzz-latn-ml",oaa:"oaa-cyrl-ru",oac:"oac-cyrl-ru",oar:"oar-syrc-sy",oav:"oav-geor-ge",obi:"obi-latn-us",obk:"obk-latn-ph",obl:"obl-latn-cm",obm:"obm-phnx-jo",obo:"obo-latn-ph",obr:"obr-mymr-mm",obt:"obt-latn-fr",obu:"obu-latn-ng",oc:"oc-latn-fr",oca:"oca-latn-pe",oco:"oco-latn-gb",ocu:"ocu-latn-mx",oda:"oda-latn-ng",odk:"odk-arab-pk",odt:"odt-latn-nl",odu:"odu-latn-ng",ofu:"ofu-latn-ng",ogb:"ogb-latn-ng",ogc:"ogc-latn-zz",ogg:"ogg-latn-ng",ogo:"ogo-latn-ng",ogu:"ogu-latn-ng",oht:"oht-xsux-tr",oia:"oia-latn-id",oie:"oie-latn-ss",oin:"oin-latn-pg",oj:"oj-cans-ca",ojb:"ojb-latn-ca","ojb-cans":"ojb-cans-ca",ojc:"ojc-latn-ca",ojs:"ojs-cans-ca",ojv:"ojv-latn-sb",ojw:"ojw-latn-ca","ojw-cans":"ojw-cans-ca",oka:"oka-latn-ca",okb:"okb-latn-ng",okc:"okc-latn-cd",okd:"okd-latn-ng",oke:"oke-latn-ng",okg:"okg-latn-au",oki:"oki-latn-ke",okk:"okk-latn-pg",okm:"okm-hang-kr",oko:"oko-hani-kr",okr:"okr-latn-zz",oks:"oks-latn-ng",oku:"oku-latn-cm",okv:"okv-latn-zz",okx:"okx-latn-ng",okz:"okz-khmr-kh",ola:"ola-deva-np","ola-tibt":"ola-tibt-cn",old:"old-latn-tz",ole:"ole-tibt-bt",olk:"olk-latn-au",olm:"olm-latn-ng",olo:"olo-latn-ru",olr:"olr-latn-vu",olt:"olt-latn-lt",olu:"olu-latn-ao",om:"om-latn-et",oma:"oma-latn-us",omb:"omb-latn-vu",omc:"omc-latn-pe",omg:"omg-latn-pe",omi:"omi-latn-cd",omk:"omk-cyrl-ru",oml:"oml-latn-cd",omo:"omo-latn-pg",omp:"omp-mtei-in",omr:"omr-modi-in",omt:"omt-latn-ke",omu:"omu-latn-pe",omw:"omw-latn-pg",ona:"ona-latn-ar",one:"one-latn-ca",ong:"ong-latn-zz",oni:"oni-latn-id",onj:"onj-latn-pg",onk:"onk-latn-pg",onn:"onn-latn-zz",ono:"ono-latn-ca",onp:"onp-latn-in","onp-deva":"onp-deva-in",onr:"onr-latn-pg",ons:"ons-latn-zz",ont:"ont-latn-pg",onu:"onu-latn-vu",onx:"onx-latn-id",ood:"ood-latn-us",oon:"oon-deva-in",oor:"oor-latn-za",opa:"opa-latn-ng",opk:"opk-latn-id",opm:"opm-latn-zz",opo:"opo-latn-pg",opt:"opt-latn-mx",opy:"opy-latn-br",or:"or-orya-in",ora:"ora-latn-sb",orc:"orc-latn-ke",ore:"ore-latn-pe",org:"org-latn-ng",orn:"orn-latn-my",oro:"oro-latn-zz",orr:"orr-latn-ng",ors:"ors-latn-my",ort:"ort-telu-in",oru:"oru-arab-zz",orv:"orv-cyrl-ru",orw:"orw-latn-br",orx:"orx-latn-ng",orz:"orz-latn-id",os:"os-cyrl-ge",osa:"osa-osge-us",osc:"osc-ital-it","osc-latn":"osc-latn-it",osi:"osi-java-id",oso:"oso-latn-ng",osp:"osp-latn-es",ost:"ost-latn-cm",osu:"osu-latn-pg",osx:"osx-latn-de",ota:"ota-arab-zz",otb:"otb-tibt-cn",otd:"otd-latn-id",ote:"ote-latn-mx",oti:"oti-latn-br",otk:"otk-orkh-mn",otl:"otl-latn-mx",otm:"otm-latn-mx",otn:"otn-latn-mx",otq:"otq-latn-mx",otr:"otr-latn-sd",ots:"ots-latn-mx",ott:"ott-latn-mx",otu:"otu-latn-br",otw:"otw-latn-ca",otx:"otx-latn-mx",oty:"oty-gran-in",otz:"otz-latn-mx",oub:"oub-latn-lr",oue:"oue-latn-pg",oui:"oui-ougr-143",oum:"oum-latn-pg",ovd:"ovd-latn-se",owi:"owi-latn-pg",owl:"owl-latn-gb",oyd:"oyd-latn-et",oym:"oym-latn-br",oyy:"oyy-latn-pg",ozm:"ozm-latn-zz",pa:"pa-guru-in","pa-arab":"pa-arab-pk","pa-pk":"pa-arab-pk",pab:"pab-latn-br",pac:"pac-latn-vn",pad:"pad-latn-br",pae:"pae-latn-cd",paf:"paf-latn-br",pag:"pag-latn-ph",pah:"pah-latn-br",pai:"pai-latn-ng",pak:"pak-latn-br",pal:"pal-phli-ir","pal-phlp":"pal-phlp-cn",pam:"pam-latn-ph",pao:"pao-latn-us",pap:"pap-latn-cw",paq:"paq-cyrl-tj",par:"par-latn-us",pas:"pas-latn-id",pau:"pau-latn-pw",pav:"pav-latn-br",paw:"paw-latn-us",pax:"pax-latn-br",pay:"pay-latn-hn",paz:"paz-latn-br",pbb:"pbb-latn-co",pbc:"pbc-latn-gy",pbe:"pbe-latn-mx",pbf:"pbf-latn-mx",pbg:"pbg-latn-ve",pbh:"pbh-latn-ve",pbi:"pbi-latn-zz",pbl:"pbl-latn-ng",pbm:"pbm-latn-mx",pbn:"pbn-latn-ng",pbo:"pbo-latn-gw",pbp:"pbp-latn-gn",pbr:"pbr-latn-tz",pbs:"pbs-latn-mx",pbt:"pbt-arab-af",pbv:"pbv-latn-in",pby:"pby-latn-pg",pca:"pca-latn-mx",pcb:"pcb-khmr-kh",pcc:"pcc-latn-cn","pcc-hani":"pcc-hani-cn",pcd:"pcd-latn-fr",pce:"pce-mymr-mm","pce-thai":"pce-thai-th",pcf:"pcf-mlym-in",pcg:"pcg-mlym-in","pcg-knda":"pcg-knda-in","pcg-taml":"pcg-taml-in",pch:"pch-deva-in",pci:"pci-deva-in","pci-orya":"pci-orya-in",pcj:"pcj-telu-in",pck:"pck-latn-in",pcm:"pcm-latn-ng",pcn:"pcn-latn-ng",pcp:"pcp-latn-bo",pcw:"pcw-latn-ng",pda:"pda-latn-pg",pdc:"pdc-latn-us",pdn:"pdn-latn-id",pdo:"pdo-latn-id",pdt:"pdt-latn-ca",pdu:"pdu-latn-mm","pdu-mymr":"pdu-mymr-mm",pea:"pea-latn-id",peb:"peb-latn-us",ped:"ped-latn-zz",pee:"pee-latn-id",peg:"peg-orya-in",pei:"pei-latn-mx",pek:"pek-latn-pg",pel:"pel-latn-id",pem:"pem-latn-cd",peo:"peo-xpeo-ir",pep:"pep-latn-pg",peq:"peq-latn-us",pev:"pev-latn-ve",pex:"pex-latn-zz",pey:"pey-latn-id",pez:"pez-latn-my",pfa:"pfa-latn-fm",pfe:"pfe-latn-cm",pfl:"pfl-latn-de",pga:"pga-latn-ss",pgd:"pgd-khar-pk",pgg:"pgg-deva-in",pgi:"pgi-latn-pg",pgk:"pgk-latn-vu",pgl:"pgl-ogam-ie",pgn:"pgn-ital-it",pgs:"pgs-latn-ng",pgu:"pgu-latn-id",phd:"phd-deva-in",phg:"phg-latn-vn",phh:"phh-latn-vn",phk:"phk-mymr-in",phl:"phl-arab-zz",phm:"phm-latn-mz",phn:"phn-phnx-lb",pho:"pho-laoo-la",phr:"phr-arab-pk",pht:"pht-thai-th",phv:"phv-arab-af",phw:"phw-deva-np",pi:"pi-sinh-in","pi-brah":"pi-brah-in","pi-deva":"pi-deva-in","pi-khar":"pi-khar-in","pi-khmr":"pi-khmr-in","pi-mymr":"pi-mymr-in","pi-thai":"pi-thai-in",pia:"pia-latn-mx",pib:"pib-latn-pe",pic:"pic-latn-ga",pid:"pid-latn-ve",pif:"pif-latn-fm",pig:"pig-latn-pe",pih:"pih-latn-nf",pij:"pij-latn-co",pil:"pil-latn-zz",pim:"pim-latn-us",pin:"pin-latn-pg",pio:"pio-latn-co",pip:"pip-latn-zz",pir:"pir-latn-br",pis:"pis-latn-sb",pit:"pit-latn-au",piu:"piu-latn-au",piv:"piv-latn-sb",piw:"piw-latn-tz",pix:"pix-latn-pg",piy:"piy-latn-ng",piz:"piz-latn-nc",pjt:"pjt-latn-au",pka:"pka-brah-in",pkb:"pkb-latn-ke",pkg:"pkg-latn-pg",pkh:"pkh-latn-bd","pkh-deva":"pkh-deva-bd",pkn:"pkn-latn-au",pko:"pko-latn-ke",pkp:"pkp-latn-ck",pkr:"pkr-mlym-in",pku:"pku-latn-id",pl:"pl-latn-pl",pla:"pla-latn-zz",plb:"plb-latn-vu",plc:"plc-latn-ph",pld:"pld-latn-gb",ple:"ple-latn-id",plg:"plg-latn-ar",plh:"plh-latn-id",plj:"plj-latn-ng",plk:"plk-arab-pk",pll:"pll-mymr-mm",pln:"pln-latn-co",plo:"plo-latn-mx",plr:"plr-latn-ci",pls:"pls-latn-mx",plu:"plu-latn-br",plv:"plv-latn-ph",plw:"plw-latn-ph",plz:"plz-latn-my",pma:"pma-latn-vu",pmb:"pmb-latn-cd",pmd:"pmd-latn-au",pme:"pme-latn-nc",pmf:"pmf-latn-id",pmh:"pmh-brah-in",pmi:"pmi-latn-cn",pmj:"pmj-latn-cn",pml:"pml-latn-tn",pmm:"pmm-latn-cm",pmn:"pmn-latn-cm",pmo:"pmo-latn-id",pmq:"pmq-latn-mx",pmr:"pmr-latn-pg",pms:"pms-latn-it",pmt:"pmt-latn-pf",pmw:"pmw-latn-us",pmx:"pmx-latn-in",pmy:"pmy-latn-id",pmz:"pmz-latn-mx",pna:"pna-latn-my",pnc:"pnc-latn-id",pnd:"pnd-latn-ao",pne:"pne-latn-my",png:"png-latn-zz",pnh:"pnh-latn-ck",pni:"pni-latn-id",pnj:"pnj-latn-au",pnk:"pnk-latn-bo",pnl:"pnl-latn-bf",pnm:"pnm-latn-my",pnn:"pnn-latn-zz",pno:"pno-latn-pe",pnp:"pnp-latn-id",pnq:"pnq-latn-bf",pnr:"pnr-latn-pg",pns:"pns-latn-id",pnt:"pnt-grek-gr",pnv:"pnv-latn-au",pnw:"pnw-latn-au",pny:"pny-latn-cm",pnz:"pnz-latn-cf",poc:"poc-latn-gt",poe:"poe-latn-mx",pof:"pof-latn-cd",pog:"pog-latn-br",poh:"poh-latn-gt",poi:"poi-latn-mx",pok:"pok-latn-br",pom:"pom-latn-us",pon:"pon-latn-fm",poo:"poo-latn-us",pop:"pop-latn-nc",poq:"poq-latn-mx",pos:"pos-latn-mx",pot:"pot-latn-us",pov:"pov-latn-gw",pow:"pow-latn-mx",poy:"poy-latn-tz",ppa:"ppa-deva-in",ppe:"ppe-latn-pg",ppi:"ppi-latn-mx",ppk:"ppk-latn-id",ppl:"ppl-latn-sv",ppm:"ppm-latn-id",ppn:"ppn-latn-pg",ppo:"ppo-latn-zz",ppp:"ppp-latn-cd",ppq:"ppq-latn-pg",pps:"pps-latn-mx",ppt:"ppt-latn-pg",pqa:"pqa-latn-ng",pqm:"pqm-latn-ca",pra:"pra-khar-pk",prc:"prc-arab-af",prd:"prd-arab-ir",pre:"pre-latn-st",prf:"prf-latn-ph",prg:"prg-latn-001",prh:"prh-latn-ph",pri:"pri-latn-nc",prk:"prk-latn-mm",prm:"prm-latn-pg",pro:"pro-latn-fr",prp:"prp-gujr-in",prq:"prq-latn-pe",prr:"prr-latn-br",prt:"prt-thai-th",pru:"pru-latn-id",prw:"prw-latn-pg",prx:"prx-arab-in","prx-tibt":"prx-tibt-in",ps:"ps-arab-af",psa:"psa-latn-id",pse:"pse-latn-id",psh:"psh-arab-af",psi:"psi-arab-af",psm:"psm-latn-bo",psn:"psn-latn-id",psq:"psq-latn-pg",pss:"pss-latn-zz",pst:"pst-arab-pk",psw:"psw-latn-vu",pt:"pt-latn-br",pta:"pta-latn-py",pth:"pth-latn-br",pti:"pti-latn-au",ptn:"ptn-latn-id",pto:"pto-latn-br",ptp:"ptp-latn-zz",ptr:"ptr-latn-vu",ptt:"ptt-latn-id",ptu:"ptu-latn-id",ptv:"ptv-latn-vu",pua:"pua-latn-mx",pub:"pub-latn-in",puc:"puc-latn-id",pud:"pud-latn-id",pue:"pue-latn-ar",puf:"puf-latn-id",pug:"pug-latn-bf",pui:"pui-latn-co",puj:"puj-latn-id",pum:"pum-deva-np",puo:"puo-latn-vn",pup:"pup-latn-pg",puq:"puq-latn-pe",pur:"pur-latn-br",put:"put-latn-id",puu:"puu-latn-ga",puw:"puw-latn-fm",pux:"pux-latn-pg",puy:"puy-latn-us",pwa:"pwa-latn-zz",pwb:"pwb-latn-ng",pwg:"pwg-latn-pg",pwm:"pwm-latn-ph",pwn:"pwn-latn-tw",pwo:"pwo-mymr-mm",pwr:"pwr-deva-in",pww:"pww-thai-th",pxm:"pxm-latn-mx",pye:"pye-latn-ci",pym:"pym-latn-ng",pyn:"pyn-latn-br",pyu:"pyu-latn-tw","pyu-hani":"pyu-hani-tw",pyx:"pyx-mymr-mm",pyy:"pyy-latn-mm",pzh:"pzh-latn-tw",pzn:"pzn-latn-mm",qu:"qu-latn-pe",qua:"qua-latn-us",qub:"qub-latn-pe",quc:"quc-latn-gt",qud:"qud-latn-ec",quf:"quf-latn-pe",qug:"qug-latn-ec",qui:"qui-latn-us",quk:"quk-latn-pe",qul:"qul-latn-bo",qum:"qum-latn-gt",qun:"qun-latn-us",qup:"qup-latn-pe",quq:"quq-latn-es",qur:"qur-latn-pe",qus:"qus-latn-ar",quv:"quv-latn-gt",quw:"quw-latn-ec",qux:"qux-latn-pe",quy:"quy-latn-pe",qva:"qva-latn-pe",qvc:"qvc-latn-pe",qve:"qve-latn-pe",qvh:"qvh-latn-pe",qvi:"qvi-latn-ec",qvj:"qvj-latn-ec",qvl:"qvl-latn-pe",qvm:"qvm-latn-pe",qvn:"qvn-latn-pe",qvo:"qvo-latn-pe",qvp:"qvp-latn-pe",qvs:"qvs-latn-pe",qvw:"qvw-latn-pe",qvz:"qvz-latn-ec",qwa:"qwa-latn-pe",qwc:"qwc-latn-pe",qwh:"qwh-latn-pe",qwm:"qwm-latn-ru","qwm-cyrl":"qwm-cyrl-ru","qwm-runr":"qwm-runr-ru",qws:"qws-latn-pe",qwt:"qwt-latn-us",qxa:"qxa-latn-pe",qxc:"qxc-latn-pe",qxh:"qxh-latn-pe",qxl:"qxl-latn-ec",qxn:"qxn-latn-pe",qxo:"qxo-latn-pe",qxp:"qxp-latn-pe",qxq:"qxq-arab-ir",qxr:"qxr-latn-ec",qxt:"qxt-latn-pe",qxu:"qxu-latn-pe",qxw:"qxw-latn-pe",qya:"qya-latn-001",qyp:"qyp-latn-us",raa:"raa-deva-np",rab:"rab-deva-np",rac:"rac-latn-id",rad:"rad-latn-vn",raf:"raf-deva-np",rag:"rag-latn-ke",rah:"rah-beng-in","rah-latn":"rah-latn-in",rai:"rai-latn-zz",raj:"raj-deva-in",rak:"rak-latn-pg",ram:"ram-latn-br",ran:"ran-latn-id",rao:"rao-latn-zz",rap:"rap-latn-cl",rar:"rar-latn-ck",rav:"rav-deva-np",raw:"raw-latn-mm",rax:"rax-latn-ng",ray:"ray-latn-pf",raz:"raz-latn-id",rbb:"rbb-mymr-mm",rbk:"rbk-latn-ph",rbl:"rbl-latn-ph",rbp:"rbp-latn-au",rcf:"rcf-latn-re",rdb:"rdb-arab-ir",rea:"rea-latn-pg",reb:"reb-latn-id",ree:"ree-latn-my",reg:"reg-latn-tz",rei:"rei-orya-in","rei-telu":"rei-telu-in",rej:"rej-latn-id",rel:"rel-latn-zz",rem:"rem-latn-pe",ren:"ren-latn-vn",res:"res-latn-zz",ret:"ret-latn-id",rey:"rey-latn-bo",rga:"rga-latn-vu",rgn:"rgn-latn-it",rgr:"rgr-latn-pe",rgs:"rgs-latn-vn",rgu:"rgu-latn-id",rhg:"rhg-rohg-mm",rhp:"rhp-latn-pg",ria:"ria-latn-in",rif:"rif-latn-ma",ril:"ril-latn-mm",rim:"rim-latn-tz",rin:"rin-latn-ng",rir:"rir-latn-id",rit:"rit-latn-au",riu:"riu-latn-id",rjg:"rjg-latn-id",rji:"rji-deva-np",rjs:"rjs-deva-np",rka:"rka-khmr-kh",rkb:"rkb-latn-br",rkh:"rkh-latn-ck",rki:"rki-mymr-mm",rkm:"rkm-latn-bf",rkt:"rkt-beng-bd",rkw:"rkw-latn-au",rm:"rm-latn-ch",rma:"rma-latn-ni",rmb:"rmb-latn-au",rmc:"rmc-latn-sk",rmd:"rmd-latn-dk",rme:"rme-latn-gb",rmf:"rmf-latn-fi",rmg:"rmg-latn-no",rmh:"rmh-latn-id",rmi:"rmi-armn-am",rmk:"rmk-latn-pg",rml:"rml-latn-pl","rml-cyrl":"rml-cyrl-by",rmm:"rmm-latn-id",rmn:"rmn-latn-rs","rmn-cyrl":"rmn-cyrl-bg","rmn-grek":"rmn-grek-gr",rmo:"rmo-latn-ch",rmp:"rmp-latn-pg",rmq:"rmq-latn-es",rmt:"rmt-arab-ir",rmu:"rmu-latn-se",rmw:"rmw-latn-gb",rmx:"rmx-latn-vn",rmz:"rmz-mymr-in",rn:"rn-latn-bi",rna:"rna-latn-zz",rnd:"rnd-latn-cd",rng:"rng-latn-mz",rnl:"rnl-latn-in",rnn:"rnn-latn-id",rnr:"rnr-latn-au",rnw:"rnw-latn-tz",ro:"ro-latn-ro",rob:"rob-latn-id",roc:"roc-latn-vn",rod:"rod-latn-ng",roe:"roe-latn-pg",rof:"rof-latn-tz",rog:"rog-latn-vn",rol:"rol-latn-ph",rom:"rom-latn-ro","rom-cyrl":"rom-cyrl-ro",roo:"roo-latn-zz",rop:"rop-latn-au",ror:"ror-latn-id",rou:"rou-latn-td",row:"row-latn-id",rpn:"rpn-latn-vu",rpt:"rpt-latn-pg",rri:"rri-latn-sb",rro:"rro-latn-zz",rrt:"rrt-latn-au",rsk:"rsk-cyrl-rs",rtc:"rtc-latn-mm",rth:"rth-latn-id",rtm:"rtm-latn-fj",rtw:"rtw-deva-in",ru:"ru-cyrl-ru",rub:"rub-latn-ug",ruc:"ruc-latn-ug",rue:"rue-cyrl-ua",ruf:"ruf-latn-tz",rug:"rug-latn-sb",rui:"rui-latn-tz",ruk:"ruk-latn-ng",ruo:"ruo-latn-hr",rup:"rup-latn-ro","rup-grek":"rup-grek-gr",ruq:"ruq-latn-gr",rut:"rut-cyrl-ru","rut-latn":"rut-latn-az",ruu:"ruu-latn-my",ruy:"ruy-latn-ng",ruz:"ruz-latn-ng",rw:"rw-latn-rw",rwa:"rwa-latn-pg",rwk:"rwk-latn-tz",rwl:"rwl-latn-tz",rwm:"rwm-latn-ug",rwo:"rwo-latn-zz",rwr:"rwr-deva-in",rxd:"rxd-latn-au",rxw:"rxw-latn-au",ryu:"ryu-kana-jp",sa:"sa-deva-in",saa:"saa-latn-td",sab:"sab-latn-pa",sac:"sac-latn-us",sad:"sad-latn-tz",sae:"sae-latn-br",saf:"saf-latn-gh",sah:"sah-cyrl-ru",saj:"saj-latn-id",sak:"sak-latn-ga",sam:"sam-samr-ps","sam-hebr":"sam-hebr-ps","sam-syrc":"sam-syrc-ps",sao:"sao-latn-id",saq:"saq-latn-ke",sar:"sar-latn-bo",sas:"sas-latn-id",sat:"sat-olck-in",sau:"sau-latn-id",sav:"sav-latn-sn",saw:"saw-latn-id",sax:"sax-latn-vu",say:"say-latn-ng",saz:"saz-saur-in",sba:"sba-latn-zz",sbb:"sbb-latn-sb",sbc:"sbc-latn-pg",sbd:"sbd-latn-bf",sbe:"sbe-latn-zz",sbg:"sbg-latn-id",sbh:"sbh-latn-pg",sbi:"sbi-latn-pg",sbj:"sbj-latn-td",sbk:"sbk-latn-tz",sbl:"sbl-latn-ph",sbm:"sbm-latn-tz",sbn:"sbn-arab-pk",sbo:"sbo-latn-my",sbp:"sbp-latn-tz",sbq:"sbq-latn-pg",sbr:"sbr-latn-id",sbs:"sbs-latn-na",sbt:"sbt-latn-id",sbu:"sbu-tibt-in","sbu-deva":"sbu-deva-in",sbv:"sbv-latn-it",sbw:"sbw-latn-ga",sbx:"sbx-latn-id",sby:"sby-latn-zm",sbz:"sbz-latn-cf",sc:"sc-latn-it",scb:"scb-latn-vn",sce:"sce-latn-cn","sce-arab":"sce-arab-cn",scf:"scf-latn-pa",scg:"scg-latn-id",sch:"sch-latn-in",sci:"sci-latn-lk",sck:"sck-deva-in",scl:"scl-arab-zz",scn:"scn-latn-it",sco:"sco-latn-gb",scp:"scp-deva-np",scs:"scs-latn-ca","scs-cans":"scs-cans-ca",sct:"sct-laoo-la",scu:"scu-takr-in",scv:"scv-latn-ng",scw:"scw-latn-ng",scx:"scx-grek-it",sd:"sd-arab-pk","sd-deva":"sd-deva-in","sd-in":"sd-deva-in","sd-khoj":"sd-khoj-in","sd-sind":"sd-sind-in",sda:"sda-latn-id",sdb:"sdb-arab-iq",sdc:"sdc-latn-it",sde:"sde-latn-ng",sdf:"sdf-arab-iq",sdg:"sdg-arab-af",sdh:"sdh-arab-ir",sdj:"sdj-latn-cg",sdk:"sdk-latn-pg",sdn:"sdn-latn-it",sdo:"sdo-latn-my",sdq:"sdq-latn-id",sds:"sds-arab-tn",sdu:"sdu-latn-id",sdx:"sdx-latn-my",se:"se-latn-no",sea:"sea-latn-my",seb:"seb-latn-ci",sec:"sec-latn-ca",sed:"sed-latn-vn",see:"see-latn-us",sef:"sef-latn-ci",seg:"seg-latn-tz",seh:"seh-latn-mz",sei:"sei-latn-mx",sej:"sej-latn-pg",sek:"sek-latn-ca","sek-cans":"sek-cans-ca",sel:"sel-cyrl-ru",sen:"sen-latn-bf",seo:"seo-latn-pg",sep:"sep-latn-bf",seq:"seq-latn-bf",ser:"ser-latn-us",ses:"ses-latn-ml",set:"set-latn-id",seu:"seu-latn-id",sev:"sev-latn-ci",sew:"sew-latn-pg",sey:"sey-latn-ec",sez:"sez-latn-mm",sfe:"sfe-latn-ph",sfm:"sfm-plrd-cn",sfw:"sfw-latn-gh",sg:"sg-latn-cf",sga:"sga-ogam-ie",sgb:"sgb-latn-ph",sgc:"sgc-latn-ke",sgd:"sgd-latn-ph",sge:"sge-latn-id",sgh:"sgh-cyrl-tj","sgh-arab":"sgh-arab-af","sgh-latn":"sgh-latn-tj",sgi:"sgi-latn-cm",sgj:"sgj-deva-in",sgm:"sgm-latn-ke",sgp:"sgp-latn-in",sgr:"sgr-arab-ir",sgs:"sgs-latn-lt",sgt:"sgt-tibt-bt",sgu:"sgu-latn-id",sgw:"sgw-ethi-zz",sgy:"sgy-arab-af",sgz:"sgz-latn-zz",sha:"sha-latn-ng",shb:"shb-latn-br",shc:"shc-latn-cd",shd:"shd-arab-pk",she:"she-latn-et",shg:"shg-latn-bw",shh:"shh-latn-us",shi:"shi-tfng-ma",shj:"shj-latn-sd",shk:"shk-latn-zz",shm:"shm-arab-ir",shn:"shn-mymr-mm",sho:"sho-latn-ng",shp:"shp-latn-pe",shq:"shq-latn-zm",shr:"shr-latn-cd",shs:"shs-latn-ca",sht:"sht-latn-us",shu:"shu-arab-zz",shv:"shv-arab-om",shw:"shw-latn-sd",shy:"shy-latn-dz","shy-arab":"shy-arab-dz","shy-tfng":"shy-tfng-dz",shz:"shz-latn-ml",si:"si-sinh-lk",sia:"sia-cyrl-ru",sib:"sib-latn-my",sid:"sid-latn-et",sie:"sie-latn-zm",sif:"sif-latn-bf",sig:"sig-latn-zz",sih:"sih-latn-nc",sii:"sii-latn-in",sij:"sij-latn-pg",sik:"sik-latn-br",sil:"sil-latn-zz",sim:"sim-latn-zz",sip:"sip-tibt-in",siq:"siq-latn-pg",sir:"sir-latn-ng",sis:"sis-latn-us",siu:"siu-latn-pg",siv:"siv-latn-pg",siw:"siw-latn-pg",six:"six-latn-pg",siy:"siy-arab-ir",siz:"siz-arab-eg",sja:"sja-latn-co",sjb:"sjb-latn-id",sjd:"sjd-cyrl-ru",sje:"sje-latn-se",sjg:"sjg-latn-td",sjl:"sjl-latn-in",sjm:"sjm-latn-ph",sjp:"sjp-deva-in","sjp-beng":"sjp-beng-in",sjr:"sjr-latn-zz",sjt:"sjt-cyrl-ru",sju:"sju-latn-se",sjw:"sjw-latn-us",sk:"sk-latn-sk",ska:"ska-latn-us",skb:"skb-thai-th",skc:"skc-latn-zz",skd:"skd-latn-us",ske:"ske-latn-vu",skf:"skf-latn-br",skg:"skg-latn-mg",skh:"skh-latn-id",ski:"ski-latn-id",skj:"skj-deva-np",skm:"skm-latn-pg",skn:"skn-latn-ph",sko:"sko-latn-id",skp:"skp-latn-my",skq:"skq-latn-bf",skr:"skr-arab-pk",sks:"sks-latn-zz",skt:"skt-latn-cd",sku:"sku-latn-vu",skv:"skv-latn-id",skw:"skw-latn-gy",skx:"skx-latn-id",sky:"sky-latn-sb",skz:"skz-latn-id",sl:"sl-latn-si",slc:"slc-latn-co",sld:"sld-latn-zz",slg:"slg-latn-id",slh:"slh-latn-us",sli:"sli-latn-pl",slj:"slj-latn-br",sll:"sll-latn-zz",slm:"slm-latn-ph",sln:"sln-latn-us",slp:"slp-latn-id",slq:"slq-arab-ir",slr:"slr-latn-cn",slu:"slu-latn-id",slw:"slw-latn-pg",slx:"slx-latn-cd",sly:"sly-latn-id",slz:"slz-latn-id",sm:"sm-latn-ws",sma:"sma-latn-se",smb:"smb-latn-pg",smc:"smc-latn-pg",smd:"smd-latn-ao",smf:"smf-latn-pg",smg:"smg-latn-pg",smh:"smh-yiii-cn",smj:"smj-latn-se",smk:"smk-latn-ph",sml:"sml-latn-ph",smn:"smn-latn-fi",smp:"smp-samr-il",smq:"smq-latn-zz",smr:"smr-latn-id",sms:"sms-latn-fi",smt:"smt-latn-in",smu:"smu-khmr-kh",smw:"smw-latn-id",smx:"smx-latn-cd",smy:"smy-arab-ir",smz:"smz-latn-pg",sn:"sn-latn-zw",snb:"snb-latn-my",snc:"snc-latn-zz",sne:"sne-latn-my",snf:"snf-latn-sn",sng:"sng-latn-cd","sng-brai":"sng-brai-cd",sni:"sni-latn-pe",snj:"snj-latn-cf",snk:"snk-latn-ml",snl:"snl-latn-ph",snm:"snm-latn-ug",snn:"snn-latn-co",sno:"sno-latn-us",snp:"snp-latn-zz",snq:"snq-latn-ga",snr:"snr-latn-pg",sns:"sns-latn-vu",snu:"snu-latn-id",snv:"snv-latn-my",snw:"snw-latn-gh",snx:"snx-latn-zz",sny:"sny-latn-zz",snz:"snz-latn-pg",so:"so-latn-so",soa:"soa-tavt-th","soa-thai":"soa-thai-th",sob:"sob-latn-id",soc:"soc-latn-cd",sod:"sod-latn-cd",soe:"soe-latn-cd",sog:"sog-sogd-uz",soi:"soi-deva-np",sok:"sok-latn-zz",sol:"sol-latn-pg",soo:"soo-latn-cd",sop:"sop-latn-cd",soq:"soq-latn-zz",sor:"sor-latn-td",sos:"sos-latn-bf",sou:"sou-thai-th",sov:"sov-latn-pw",sow:"sow-latn-pg",sox:"sox-latn-cm",soy:"soy-latn-zz",soz:"soz-latn-tz",spb:"spb-latn-id",spc:"spc-latn-ve",spd:"spd-latn-zz",spe:"spe-latn-pg",spg:"spg-latn-my",spi:"spi-latn-id",spk:"spk-latn-pg",spl:"spl-latn-zz",spm:"spm-latn-pg",spn:"spn-latn-py",spo:"spo-latn-us",spp:"spp-latn-ml",spq:"spq-latn-pe",spr:"spr-latn-id",sps:"sps-latn-zz",spt:"spt-tibt-in",spv:"spv-orya-in",sq:"sq-latn-al",sqa:"sqa-latn-ng",sqh:"sqh-latn-ng",sqm:"sqm-latn-cf",sqo:"sqo-arab-ir",sqq:"sqq-laoo-la",sqt:"sqt-arab-ye","sqt-latn":"sqt-latn-ye",squ:"squ-latn-ca",sr:"sr-cyrl-rs","sr-me":"sr-latn-me","sr-ro":"sr-latn-ro","sr-ru":"sr-latn-ru","sr-tr":"sr-latn-tr",sra:"sra-latn-pg",srb:"srb-sora-in",sre:"sre-latn-id",srf:"srf-latn-pg",srg:"srg-latn-ph",srh:"srh-arab-cn",sri:"sri-latn-co",srk:"srk-latn-my",srl:"srl-latn-id",srm:"srm-latn-sr",srn:"srn-latn-sr",sro:"sro-latn-it",srq:"srq-latn-bo",srr:"srr-latn-sn",srs:"srs-latn-ca",srt:"srt-latn-id",sru:"sru-latn-br",srv:"srv-latn-ph",srw:"srw-latn-id",srx:"srx-deva-in",sry:"sry-latn-pg",srz:"srz-arab-ir",ss:"ss-latn-za",ssb:"ssb-latn-ph",ssc:"ssc-latn-tz",ssd:"ssd-latn-zz",sse:"sse-latn-ph","sse-arab":"sse-arab-ph",ssf:"ssf-latn-tw",ssg:"ssg-latn-zz",ssh:"ssh-arab-ae",ssj:"ssj-latn-pg",ssl:"ssl-latn-gh",ssm:"ssm-latn-my",ssn:"ssn-latn-ke",sso:"sso-latn-pg",ssq:"ssq-latn-id",sss:"sss-laoo-la","sss-thai":"sss-thai-th",sst:"sst-latn-pg",ssu:"ssu-latn-pg",ssv:"ssv-latn-vu",ssx:"ssx-latn-pg",ssy:"ssy-latn-er",ssz:"ssz-latn-pg",st:"st-latn-za",sta:"sta-latn-zm",stb:"stb-latn-ph",ste:"ste-latn-id",stf:"stf-latn-pg",stg:"stg-latn-vn",sth:"sth-latn-ie",sti:"sti-latn-vn","sti-kh":"sti-latn-kh",stj:"stj-latn-bf",stk:"stk-latn-zz",stl:"stl-latn-nl",stm:"stm-latn-pg",stn:"stn-latn-sb",sto:"sto-latn-ca",stp:"stp-latn-mx",stq:"stq-latn-de",str:"str-latn-ca",sts:"sts-arab-af",stt:"stt-latn-vn",stv:"stv-ethi-et","stv-arab":"stv-arab-et",stw:"stw-latn-fm",sty:"sty-cyrl-ru",su:"su-latn-id",sua:"sua-latn-zz",sub:"sub-latn-cd",suc:"suc-latn-ph",sue:"sue-latn-zz",sug:"sug-latn-pg",sui:"sui-latn-pg",suj:"suj-latn-tz",suk:"suk-latn-tz",suo:"suo-latn-pg",suq:"suq-latn-et","suq-ethi":"suq-ethi-et",sur:"sur-latn-zz",sus:"sus-latn-gn",sut:"sut-latn-ni",suv:"suv-latn-in","suv-beng":"suv-beng-in","suv-deva":"suv-deva-in",suw:"suw-latn-tz",suy:"suy-latn-br",suz:"suz-deva-np",sv:"sv-latn-se",sva:"sva-geor-ge","sva-cyrl":"sva-cyrl-ge","sva-latn":"sva-latn-ge",svb:"svb-latn-pg",svc:"svc-latn-vc",sve:"sve-latn-id",svm:"svm-latn-it",svs:"svs-latn-sb",sw:"sw-latn-tz",swb:"swb-arab-yt",swc:"swc-latn-cd",swf:"swf-latn-cd",swg:"swg-latn-de",swi:"swi-hani-cn",swj:"swj-latn-ga",swk:"swk-latn-mw",swm:"swm-latn-pg",swo:"swo-latn-br",swp:"swp-latn-zz",swq:"swq-latn-cm",swr:"swr-latn-id",sws:"sws-latn-id",swt:"swt-latn-id",swu:"swu-latn-id",swv:"swv-deva-in",sww:"sww-latn-vu",swx:"swx-latn-br",swy:"swy-latn-td",sxb:"sxb-latn-ke",sxe:"sxe-latn-ga",sxn:"sxn-latn-id",sxr:"sxr-latn-tw",sxs:"sxs-latn-ng",sxu:"sxu-latn-de","sxu-runr":"sxu-runr-de",sxw:"sxw-latn-zz",sya:"sya-latn-id",syb:"syb-latn-ph",syc:"syc-syrc-tr",syi:"syi-latn-ga",syk:"syk-latn-ng",syl:"syl-beng-bd",sym:"sym-latn-bf",syn:"syn-syrc-ir",syo:"syo-latn-kh",syr:"syr-syrc-iq",sys:"sys-latn-td",syw:"syw-deva-np",syx:"syx-latn-ga",sza:"sza-latn-my",szb:"szb-latn-id",szc:"szc-latn-my",szd:"szd-latn-my",szg:"szg-latn-cd",szl:"szl-latn-pl",szn:"szn-latn-id",szp:"szp-latn-id",szv:"szv-latn-cm",szw:"szw-latn-id",szy:"szy-latn-tw",ta:"ta-taml-in",taa:"taa-latn-us",tab:"tab-cyrl-ru",tac:"tac-latn-mx",tad:"tad-latn-id",tae:"tae-latn-br",taf:"taf-latn-br",tag:"tag-latn-sd",taj:"taj-deva-np",tak:"tak-latn-ng",tal:"tal-latn-zz",tan:"tan-latn-zz",tao:"tao-latn-tw",tap:"tap-latn-cd",taq:"taq-latn-zz",tar:"tar-latn-mx",tas:"tas-latn-vn",tau:"tau-latn-us",tav:"tav-latn-co",taw:"taw-latn-pg",tax:"tax-latn-td",tay:"tay-latn-tw","tay-hans":"tay-hans-tw","tay-hant":"tay-hant-tw",taz:"taz-latn-sd",tba:"tba-latn-br",tbc:"tbc-latn-zz",tbd:"tbd-latn-zz",tbe:"tbe-latn-sb",tbf:"tbf-latn-zz",tbg:"tbg-latn-zz",tbh:"tbh-latn-au",tbi:"tbi-latn-sd",tbj:"tbj-latn-pg",tbk:"tbk-tagb-ph","tbk-hano":"tbk-hano-ph","tbk-latn":"tbk-latn-ph",tbl:"tbl-latn-ph",tbm:"tbm-latn-cd",tbn:"tbn-latn-co",tbo:"tbo-latn-zz",tbp:"tbp-latn-id",tbs:"tbs-latn-pg",tbt:"tbt-latn-cd",tbu:"tbu-latn-mx",tbv:"tbv-latn-pg",tbw:"tbw-latn-ph",tbx:"tbx-latn-pg",tby:"tby-latn-id",tbz:"tbz-latn-zz",tca:"tca-latn-br",tcb:"tcb-latn-us",tcc:"tcc-latn-tz",tcd:"tcd-latn-gh",tce:"tce-latn-ca",tcf:"tcf-latn-mx",tcg:"tcg-latn-id",tch:"tch-latn-tc",tci:"tci-latn-zz",tck:"tck-latn-ga",tcm:"tcm-latn-id",tcn:"tcn-tibt-np",tco:"tco-mymr-mm",tcp:"tcp-latn-mm",tcq:"tcq-latn-id",tcs:"tcs-latn-au",tcu:"tcu-latn-mx",tcw:"tcw-latn-mx",tcx:"tcx-taml-in",tcy:"tcy-knda-in",tcz:"tcz-latn-in",tda:"tda-tfng-ne","tda-arab":"tda-arab-ne","tda-latn":"tda-latn-ne",tdb:"tdb-deva-in","tdb-beng":"tdb-beng-in","tdb-kthi":"tdb-kthi-in",tdc:"tdc-latn-co",tdd:"tdd-tale-cn",tde:"tde-latn-ml",tdg:"tdg-deva-np",tdh:"tdh-deva-np",tdi:"tdi-latn-id",tdj:"tdj-latn-id",tdk:"tdk-latn-ng",tdl:"tdl-latn-ng",tdm:"tdm-latn-gy",tdn:"tdn-latn-id",tdo:"tdo-latn-ng",tdq:"tdq-latn-ng",tdr:"tdr-latn-vn",tds:"tds-latn-id",tdt:"tdt-latn-tl",tdu:"tdu-latn-my",tdv:"tdv-latn-ng",tdx:"tdx-latn-mg",tdy:"tdy-latn-ph",te:"te-telu-in",tea:"tea-latn-my",teb:"teb-latn-ec",tec:"tec-latn-ke",ted:"ted-latn-zz",tee:"tee-latn-mx",teg:"teg-latn-ga",teh:"teh-latn-ar",tei:"tei-latn-pg",tek:"tek-latn-cd",tem:"tem-latn-sl",ten:"ten-latn-co",teo:"teo-latn-ug",tep:"tep-latn-mx",teq:"teq-latn-sd",ter:"ter-latn-br",tes:"tes-java-id",tet:"tet-latn-tl",teu:"teu-latn-ug",tev:"tev-latn-id",tew:"tew-latn-us",tex:"tex-latn-ss",tey:"tey-latn-sd",tfi:"tfi-latn-zz",tfn:"tfn-latn-us",tfo:"tfo-latn-id",tfr:"tfr-latn-pa",tft:"tft-latn-id",tg:"tg-cyrl-tj","tg-arab":"tg-arab-pk","tg-pk":"tg-arab-pk",tga:"tga-latn-ke",tgb:"tgb-latn-my",tgc:"tgc-latn-zz",tgd:"tgd-latn-ng",tge:"tge-deva-np",tgf:"tgf-tibt-bt",tgh:"tgh-latn-tt",tgi:"tgi-latn-pg",tgj:"tgj-latn-in",tgn:"tgn-latn-ph",tgo:"tgo-latn-zz",tgp:"tgp-latn-vu",tgq:"tgq-latn-my",tgs:"tgs-latn-vu",tgt:"tgt-latn-ph","tgt-hano":"tgt-hano-ph","tgt-tagb":"tgt-tagb-ph",tgu:"tgu-latn-zz",tgv:"tgv-latn-br",tgw:"tgw-latn-ci",tgx:"tgx-latn-ca",tgy:"tgy-latn-ss",tgz:"tgz-latn-au",th:"th-thai-th",thd:"thd-latn-au",the:"the-deva-np",thf:"thf-deva-np",thh:"thh-latn-mx",thi:"thi-tale-la",thk:"thk-latn-ke",thl:"thl-deva-np",thm:"thm-thai-th",thp:"thp-latn-ca","thp-dupl":"thp-dupl-ca",thq:"thq-deva-np",thr:"thr-deva-np",ths:"ths-deva-np",tht:"tht-latn-ca",thu:"thu-latn-ss",thv:"thv-latn-dz","thv-arab":"thv-arab-dz","thv-tfng":"thv-tfng-dz",thy:"thy-latn-ng",thz:"thz-latn-ne","thz-tfng":"thz-tfng-ne",ti:"ti-ethi-et",tic:"tic-latn-sd",tif:"tif-latn-zz",tig:"tig-ethi-er",tih:"tih-latn-my",tii:"tii-latn-cd",tij:"tij-deva-np",tik:"tik-latn-zz",til:"til-latn-us",tim:"tim-latn-zz",tin:"tin-cyrl-ru",tio:"tio-latn-zz",tip:"tip-latn-id",tiq:"tiq-latn-bf",tis:"tis-latn-ph",tit:"tit-latn-co",tiu:"tiu-latn-ph",tiv:"tiv-latn-ng",tiw:"tiw-latn-au",tix:"tix-latn-us",tiy:"tiy-latn-ph",tja:"tja-latn-lr",tjg:"tjg-latn-id",tji:"tji-latn-cn",tjj:"tjj-latn-au",tjl:"tjl-mymr-mm",tjn:"tjn-latn-ci",tjo:"tjo-arab-dz",tjp:"tjp-latn-au",tjs:"tjs-latn-cn",tju:"tju-latn-au",tjw:"tjw-latn-au",tk:"tk-latn-tm",tka:"tka-latn-br",tkb:"tkb-deva-in",tkd:"tkd-latn-tl",tke:"tke-latn-mz",tkf:"tkf-latn-br",tkg:"tkg-latn-mg",tkl:"tkl-latn-tk",tkp:"tkp-latn-sb",tkq:"tkq-latn-ng",tkr:"tkr-latn-az",tks:"tks-arab-ir",tkt:"tkt-deva-np",tku:"tku-latn-mx",tkv:"tkv-latn-pg",tkw:"tkw-latn-sb",tkx:"tkx-latn-id",tkz:"tkz-latn-vn",tl:"tl-latn-ph",tla:"tla-latn-mx",tlb:"tlb-latn-id",tlc:"tlc-latn-mx",tld:"tld-latn-id",tlf:"tlf-latn-zz",tlg:"tlg-latn-id",tli:"tli-latn-us","tli-cyrl":"tli-cyrl-us",tlj:"tlj-latn-ug",tlk:"tlk-latn-id",tll:"tll-latn-cd",tlm:"tlm-latn-vu",tln:"tln-latn-id",tlp:"tlp-latn-mx",tlq:"tlq-latn-mm",tlr:"tlr-latn-sb",tls:"tls-latn-vu",tlt:"tlt-latn-id",tlu:"tlu-latn-id",tlv:"tlv-latn-id",tlx:"tlx-latn-zz",tly:"tly-latn-az",tma:"tma-latn-td",tmb:"tmb-latn-vu",tmc:"tmc-latn-td",tmd:"tmd-latn-pg",tme:"tme-latn-br",tmf:"tmf-latn-py",tmg:"tmg-latn-id",tmh:"tmh-latn-ne",tmi:"tmi-latn-vu",tmj:"tmj-latn-id",tmk:"tmk-deva-np",tml:"tml-latn-id",tmm:"tmm-latn-vn",tmn:"tmn-latn-id",tmo:"tmo-latn-my",tmq:"tmq-latn-pg",tmr:"tmr-syrc-il",tmt:"tmt-latn-vu",tmu:"tmu-latn-id",tmv:"tmv-latn-cd",tmw:"tmw-latn-my",tmy:"tmy-latn-zz",tmz:"tmz-latn-ve",tn:"tn-latn-za",tna:"tna-latn-bo",tnb:"tnb-latn-co",tnc:"tnc-latn-co",tnd:"tnd-latn-co",tng:"tng-latn-td",tnh:"tnh-latn-zz",tni:"tni-latn-id",tnk:"tnk-latn-vu",tnl:"tnl-latn-vu",tnm:"tnm-latn-id",tnn:"tnn-latn-vu",tno:"tno-latn-bo",tnp:"tnp-latn-vu",tnq:"tnq-latn-pr",tnr:"tnr-latn-sn",tns:"tns-latn-pg",tnt:"tnt-latn-id",tnv:"tnv-cakm-bd",tnw:"tnw-latn-id",tnx:"tnx-latn-sb",tny:"tny-latn-tz",to:"to-latn-to",tob:"tob-latn-ar",toc:"toc-latn-mx",tod:"tod-latn-gn",tof:"tof-latn-zz",tog:"tog-latn-mw",toh:"toh-latn-mz",toi:"toi-latn-zm",toj:"toj-latn-mx",tok:"tok-latn-001",tol:"tol-latn-us",tom:"tom-latn-id",too:"too-latn-mx",top:"top-latn-mx",toq:"toq-latn-zz",tor:"tor-latn-cd",tos:"tos-latn-mx",tou:"tou-latn-vn",tov:"tov-arab-ir",tow:"tow-latn-us",tox:"tox-latn-pw",toy:"toy-latn-id",toz:"toz-latn-cm",tpa:"tpa-latn-pg",tpc:"tpc-latn-mx",tpe:"tpe-latn-bd","tpe-beng":"tpe-beng-bd",tpf:"tpf-latn-id",tpg:"tpg-latn-id",tpi:"tpi-latn-pg",tpj:"tpj-latn-py",tpk:"tpk-latn-br",tpl:"tpl-latn-mx",tpm:"tpm-latn-zz",tpn:"tpn-latn-br",tpp:"tpp-latn-mx",tpr:"tpr-latn-br",tpt:"tpt-latn-mx",tpu:"tpu-khmr-kh",tpv:"tpv-latn-mp",tpx:"tpx-latn-mx",tpy:"tpy-latn-br",tpz:"tpz-latn-zz",tqb:"tqb-latn-br",tql:"tql-latn-vu",tqm:"tqm-latn-pg",tqn:"tqn-latn-us",tqo:"tqo-latn-zz",tqp:"tqp-latn-pg",tqt:"tqt-latn-mx",tqu:"tqu-latn-sb",tqw:"tqw-latn-us",tr:"tr-latn-tr",tra:"tra-arab-af",trb:"trb-latn-pg",trc:"trc-latn-mx",tre:"tre-latn-id",trf:"trf-latn-tt",trg:"trg-hebr-il",trh:"trh-latn-pg",tri:"tri-latn-sr",trj:"trj-latn-td",trl:"trl-latn-gb",trm:"trm-arab-af",trn:"trn-latn-bo",tro:"tro-latn-in",trp:"trp-latn-in","trp-beng":"trp-beng-in",trq:"trq-latn-mx",trr:"trr-latn-pe",trs:"trs-latn-mx",trt:"trt-latn-id",tru:"tru-latn-tr",trv:"trv-latn-tw",trw:"trw-arab-pk",trx:"trx-latn-my",try:"try-latn-in",trz:"trz-latn-br",ts:"ts-latn-za",tsa:"tsa-latn-cg",tsb:"tsb-latn-et",tsc:"tsc-latn-mz",tsd:"tsd-grek-gr",tsf:"tsf-deva-np",tsg:"tsg-latn-ph",tsh:"tsh-latn-cm",tsi:"tsi-latn-ca",tsj:"tsj-tibt-bt",tsl:"tsl-latn-vn",tsp:"tsp-latn-bf",tsr:"tsr-latn-vu",tst:"tst-latn-ml",tsu:"tsu-latn-tw",tsv:"tsv-latn-ga",tsw:"tsw-latn-zz",tsx:"tsx-latn-pg",tsz:"tsz-latn-mx",tt:"tt-cyrl-ru",ttb:"ttb-latn-ng",ttc:"ttc-latn-gt",ttd:"ttd-latn-zz",tte:"tte-latn-zz",ttf:"ttf-latn-cm",tth:"tth-laoo-la",tti:"tti-latn-id",ttj:"ttj-latn-ug",ttk:"ttk-latn-co",ttl:"ttl-latn-zm",ttm:"ttm-latn-ca",ttn:"ttn-latn-id",tto:"tto-laoo-la",ttp:"ttp-latn-id",ttr:"ttr-latn-zz",tts:"tts-thai-th",ttt:"ttt-latn-az",ttu:"ttu-latn-pg",ttv:"ttv-latn-pg",ttw:"ttw-latn-my",tty:"tty-latn-id",tua:"tua-latn-pg",tub:"tub-latn-us",tuc:"tuc-latn-pg",tud:"tud-latn-br",tue:"tue-latn-co",tuf:"tuf-latn-co",tug:"tug-latn-td",tuh:"tuh-latn-zz",tui:"tui-latn-cm",tuj:"tuj-latn-id",tul:"tul-latn-zz",tum:"tum-latn-mw",tun:"tun-latn-us",tuo:"tuo-latn-br",tuq:"tuq-latn-zz",tus:"tus-latn-ca",tuu:"tuu-latn-us",tuv:"tuv-latn-ke",tux:"tux-latn-br",tuy:"tuy-latn-ke",tuz:"tuz-latn-bf",tva:"tva-latn-sb",tvd:"tvd-latn-zz",tve:"tve-latn-id",tvk:"tvk-latn-vu",tvl:"tvl-latn-tv",tvm:"tvm-latn-id",tvn:"tvn-mymr-mm",tvo:"tvo-latn-id",tvs:"tvs-latn-ke",tvt:"tvt-latn-in",tvu:"tvu-latn-zz",tvw:"tvw-latn-id",tvx:"tvx-latn-tw",twa:"twa-latn-us",twb:"twb-latn-ph",twd:"twd-latn-nl",twe:"twe-latn-id",twf:"twf-latn-us",twg:"twg-latn-id",twh:"twh-latn-zz",twl:"twl-latn-mz",twm:"twm-deva-in",twn:"twn-latn-cm",two:"two-latn-bw",twp:"twp-latn-pg",twq:"twq-latn-ne",twr:"twr-latn-mx",twt:"twt-latn-br",twu:"twu-latn-id",tww:"tww-latn-pg",twx:"twx-latn-mz",twy:"twy-latn-id",txa:"txa-latn-my",txe:"txe-latn-id",txg:"txg-tang-cn",txi:"txi-latn-br",txj:"txj-latn-ng",txm:"txm-latn-id",txn:"txn-latn-id",txo:"txo-toto-in",txq:"txq-latn-id",txs:"txs-latn-id",txt:"txt-latn-id",txu:"txu-latn-br",txx:"txx-latn-my",txy:"txy-latn-mg",ty:"ty-latn-pf",tya:"tya-latn-zz",tye:"tye-latn-ng",tyh:"tyh-latn-vn",tyi:"tyi-latn-cg",tyj:"tyj-latn-vn",tyl:"tyl-latn-vn",tyn:"tyn-latn-id",typ:"typ-latn-au",tyr:"tyr-tavt-vn",tys:"tys-latn-vn",tyt:"tyt-latn-vn","tyt-tavt":"tyt-tavt-vn",tyu:"tyu-latn-bw",tyv:"tyv-cyrl-ru",tyx:"tyx-latn-cg",tyy:"tyy-latn-ng",tyz:"tyz-latn-vn",tzh:"tzh-latn-mx",tzj:"tzj-latn-gt",tzl:"tzl-latn-001",tzm:"tzm-latn-ma",tzn:"tzn-latn-id",tzo:"tzo-latn-mx",tzx:"tzx-latn-pg",uam:"uam-latn-br",uar:"uar-latn-pg",uba:"uba-latn-ng",ubi:"ubi-latn-td",ubl:"ubl-latn-ph",ubr:"ubr-latn-pg",ubu:"ubu-latn-zz",uda:"uda-latn-ng",ude:"ude-cyrl-ru",udg:"udg-mlym-in",udi:"udi-aghb-ru",udj:"udj-latn-id",udl:"udl-latn-cm",udm:"udm-cyrl-ru",udu:"udu-latn-sd",ues:"ues-latn-id",ufi:"ufi-latn-pg",ug:"ug-arab-cn","ug-cyrl":"ug-cyrl-kz","ug-kz":"ug-cyrl-kz","ug-mn":"ug-cyrl-mn",uga:"uga-ugar-sy",ugb:"ugb-latn-au",uge:"uge-latn-sb",ugh:"ugh-cyrl-ru",ugo:"ugo-thai-th",uha:"uha-latn-ng",uhn:"uhn-latn-id",uis:"uis-latn-pg",uiv:"uiv-latn-cm",uji:"uji-latn-ng",uk:"uk-cyrl-ua",uka:"uka-latn-id",ukg:"ukg-latn-pg",ukh:"ukh-latn-cf",uki:"uki-orya-in",ukk:"ukk-latn-mm",ukp:"ukp-latn-ng",ukq:"ukq-latn-ng",uku:"uku-latn-ng",ukv:"ukv-latn-ss",ukw:"ukw-latn-ng",uky:"uky-latn-au",ula:"ula-latn-ng",ulb:"ulb-latn-ng",ulc:"ulc-cyrl-ru",ule:"ule-latn-ar",ulf:"ulf-latn-id",uli:"uli-latn-fm",ulk:"ulk-latn-au",ulm:"ulm-latn-id",uln:"uln-latn-pg",ulu:"ulu-latn-id",ulw:"ulw-latn-ni",uma:"uma-latn-us",umb:"umb-latn-ao",umd:"umd-latn-au",umg:"umg-latn-au",umi:"umi-latn-my",umm:"umm-latn-ng",umn:"umn-latn-mm",umo:"umo-latn-br",ump:"ump-latn-au",umr:"umr-latn-au",ums:"ums-latn-id",una:"una-latn-pg",und:"en-latn-us","und-002":"en-latn-ng","und-003":"en-latn-us","und-005":"pt-latn-br","und-009":"en-latn-au","und-011":"en-latn-ng","und-013":"es-latn-mx","und-014":"sw-latn-tz","und-015":"ar-arab-eg","und-017":"sw-latn-cd","und-018":"en-latn-za","und-019":"en-latn-us","und-021":"en-latn-us","und-029":"es-latn-cu","und-030":"zh-hans-cn","und-034":"hi-deva-in","und-035":"id-latn-id","und-039":"it-latn-it","und-053":"en-latn-au","und-054":"en-latn-pg","und-057":"en-latn-gu","und-061":"sm-latn-ws","und-142":"zh-hans-cn","und-143":"uz-latn-uz","und-145":"ar-arab-sa","und-150":"ru-cyrl-ru","und-151":"ru-cyrl-ru","und-154":"en-latn-gb","und-155":"de-latn-de","und-202":"en-latn-ng","und-419":"es-latn-419","und-ad":"ca-latn-ad","und-adlm":"ff-adlm-gn","und-ae":"ar-arab-ae","und-af":"fa-arab-af","und-aghb":"udi-aghb-ru","und-ahom":"aho-ahom-in","und-al":"sq-latn-al","und-am":"hy-armn-am","und-ao":"pt-latn-ao","und-aq":"und-latn-aq","und-ar":"es-latn-ar","und-arab":"ar-arab-eg","und-arab-cc":"ms-arab-cc","und-arab-cn":"ug-arab-cn","und-arab-gb":"ur-arab-gb","und-arab-id":"ms-arab-id","und-arab-in":"ur-arab-in","und-arab-kh":"cja-arab-kh","und-arab-mm":"rhg-arab-mm","und-arab-mn":"kk-arab-mn","und-arab-mu":"ur-arab-mu","und-arab-ng":"ha-arab-ng","und-arab-pk":"ur-arab-pk","und-arab-tg":"apd-arab-tg","und-arab-th":"mfa-arab-th","und-arab-tj":"fa-arab-tj","und-arab-tr":"apc-arab-tr","und-arab-yt":"swb-arab-yt","und-armi":"arc-armi-ir","und-armn":"hy-armn-am","und-as":"sm-latn-as","und-at":"de-latn-at","und-avst":"ae-avst-ir","und-aw":"nl-latn-aw","und-ax":"sv-latn-ax","und-az":"az-latn-az","und-ba":"bs-latn-ba","und-bali":"ban-bali-id","und-bamu":"bax-bamu-cm","und-bass":"bsq-bass-lr","und-batk":"bbc-batk-id","und-bd":"bn-beng-bd","und-be":"nl-latn-be","und-beng":"bn-beng-bd","und-bf":"fr-latn-bf","und-bg":"bg-cyrl-bg","und-bh":"ar-arab-bh","und-bhks":"sa-bhks-in","und-bi":"rn-latn-bi","und-bj":"fr-latn-bj","und-bl":"fr-latn-bl","und-bn":"ms-latn-bn","und-bo":"es-latn-bo","und-bopo":"zh-bopo-tw","und-bq":"pap-latn-bq","und-br":"pt-latn-br","und-brah":"pka-brah-in","und-brai":"fr-brai-fr","und-bt":"dz-tibt-bt","und-bugi":"bug-bugi-id","und-buhd":"bku-buhd-ph","und-bv":"und-latn-bv","und-by":"be-cyrl-by","und-cakm":"ccp-cakm-bd","und-cans":"iu-cans-ca","und-cari":"xcr-cari-tr","und-cd":"sw-latn-cd","und-cf":"fr-latn-cf","und-cg":"fr-latn-cg","und-ch":"de-latn-ch","und-cham":"cjm-cham-vn","und-cher":"chr-cher-us","und-chrs":"xco-chrs-uz","und-ci":"fr-latn-ci","und-cl":"es-latn-cl","und-cm":"fr-latn-cm","und-cn":"zh-hans-cn","und-co":"es-latn-co","und-copt":"cop-copt-eg","und-cp":"und-latn-cp","und-cpmn":"und-cpmn-cy","und-cpmn-cy":"und-cpmn-cy","und-cprt":"grc-cprt-cy","und-cr":"es-latn-cr","und-cu":"es-latn-cu","und-cv":"pt-latn-cv","und-cw":"pap-latn-cw","und-cy":"el-grek-cy","und-cyrl":"ru-cyrl-ru","und-cyrl-al":"mk-cyrl-al","und-cyrl-ba":"sr-cyrl-ba","und-cyrl-ge":"ab-cyrl-ge","und-cyrl-gr":"mk-cyrl-gr","und-cyrl-md":"uk-cyrl-md","und-cyrl-ro":"bg-cyrl-ro","und-cyrl-sk":"uk-cyrl-sk","und-cyrl-tr":"kbd-cyrl-tr","und-cyrl-xk":"sr-cyrl-xk","und-cz":"cs-latn-cz","und-de":"de-latn-de","und-deva":"hi-deva-in","und-deva-bt":"ne-deva-bt","und-deva-fj":"hif-deva-fj","und-deva-mu":"bho-deva-mu","und-deva-pk":"btv-deva-pk","und-diak":"dv-diak-mv","und-dj":"aa-latn-dj","und-dk":"da-latn-dk","und-do":"es-latn-do","und-dogr":"doi-dogr-in","und-dupl":"fr-dupl-fr","und-dz":"ar-arab-dz","und-ea":"es-latn-ea","und-ec":"es-latn-ec","und-ee":"et-latn-ee","und-eg":"ar-arab-eg","und-egyp":"egy-egyp-eg","und-eh":"ar-arab-eh","und-elba":"sq-elba-al","und-elym":"arc-elym-ir","und-er":"ti-ethi-er","und-es":"es-latn-es","und-et":"am-ethi-et","und-ethi":"am-ethi-et","und-eu":"en-latn-ie","und-ez":"de-latn-ez","und-fi":"fi-latn-fi","und-fo":"fo-latn-fo","und-fr":"fr-latn-fr","und-ga":"fr-latn-ga","und-ge":"ka-geor-ge","und-geor":"ka-geor-ge","und-gf":"fr-latn-gf","und-gh":"ak-latn-gh","und-gl":"kl-latn-gl","und-glag":"cu-glag-bg","und-gn":"fr-latn-gn","und-gong":"wsg-gong-in","und-gonm":"esg-gonm-in","und-goth":"got-goth-ua","und-gp":"fr-latn-gp","und-gq":"es-latn-gq","und-gr":"el-grek-gr","und-gran":"sa-gran-in","und-grek":"el-grek-gr","und-grek-tr":"bgx-grek-tr","und-gs":"und-latn-gs","und-gt":"es-latn-gt","und-gujr":"gu-gujr-in","und-guru":"pa-guru-in","und-gw":"pt-latn-gw","und-hanb":"zh-hanb-tw","und-hang":"ko-hang-kr","und-hani":"zh-hani-cn","und-hano":"hnn-hano-ph","und-hans":"zh-hans-cn","und-hant":"zh-hant-tw","und-hant-ca":"yue-hant-ca","und-hebr":"he-hebr-il","und-hebr-se":"yi-hebr-se","und-hebr-ua":"yi-hebr-ua","und-hebr-us":"yi-hebr-us","und-hira":"ja-hira-jp","und-hk":"zh-hant-hk","und-hluw":"hlu-hluw-tr","und-hm":"und-latn-hm","und-hmng":"hnj-hmng-la","und-hmnp":"hnj-hmnp-us","und-hn":"es-latn-hn","und-hr":"hr-latn-hr","und-ht":"ht-latn-ht","und-hu":"hu-latn-hu","und-hung":"hu-hung-hu","und-ic":"es-latn-ic","und-id":"id-latn-id","und-il":"he-hebr-il","und-in":"hi-deva-in","und-iq":"ar-arab-iq","und-ir":"fa-arab-ir","und-is":"is-latn-is","und-it":"it-latn-it","und-ital":"ett-ital-it","und-jamo":"ko-jamo-kr","und-java":"jv-java-id","und-jo":"ar-arab-jo","und-jp":"ja-jpan-jp","und-jpan":"ja-jpan-jp","und-kali":"eky-kali-mm","und-kana":"ja-kana-jp","und-kawi":"kaw-kawi-id","und-ke":"sw-latn-ke","und-kg":"ky-cyrl-kg","und-kh":"km-khmr-kh","und-khar":"pra-khar-pk","und-khmr":"km-khmr-kh","und-khoj":"sd-khoj-in","und-kits":"zkt-kits-cn","und-km":"ar-arab-km","und-knda":"kn-knda-in","und-kore":"ko-kore-kr","und-kp":"ko-kore-kp","und-kr":"ko-kore-kr","und-kthi":"bho-kthi-in","und-kw":"ar-arab-kw","und-kz":"ru-cyrl-kz","und-la":"lo-laoo-la","und-lana":"nod-lana-th","und-laoo":"lo-laoo-la","und-laoo-au":"hnj-laoo-au","und-laoo-cn":"hnj-laoo-cn","und-laoo-fr":"hnj-laoo-fr","und-laoo-gf":"hnj-laoo-gf","und-laoo-mm":"hnj-laoo-mm","und-laoo-sr":"hnj-laoo-sr","und-laoo-th":"hnj-laoo-th","und-laoo-us":"hnj-laoo-us","und-laoo-vn":"hnj-laoo-vn","und-latn-af":"tk-latn-af","und-latn-am":"ku-latn-am","und-latn-cn":"za-latn-cn","und-latn-cy":"tr-latn-cy","und-latn-dz":"fr-latn-dz","und-latn-et":"en-latn-et","und-latn-ge":"ku-latn-ge","und-latn-ir":"tk-latn-ir","und-latn-km":"fr-latn-km","und-latn-ma":"fr-latn-ma","und-latn-mk":"sq-latn-mk","und-latn-mm":"kac-latn-mm","und-latn-mo":"pt-latn-mo","und-latn-mr":"fr-latn-mr","und-latn-ru":"krl-latn-ru","und-latn-sy":"fr-latn-sy","und-latn-tn":"fr-latn-tn","und-latn-tw":"trv-latn-tw","und-latn-ua":"pl-latn-ua","und-lb":"ar-arab-lb","und-lepc":"lep-lepc-in","und-li":"de-latn-li","und-limb":"lif-limb-in","und-lina":"lab-lina-gr","und-linb":"grc-linb-gr","und-lisu":"lis-lisu-cn","und-lk":"si-sinh-lk","und-ls":"st-latn-ls","und-lt":"lt-latn-lt","und-lu":"fr-latn-lu","und-lv":"lv-latn-lv","und-ly":"ar-arab-ly","und-lyci":"xlc-lyci-tr","und-lydi":"xld-lydi-tr","und-ma":"ar-arab-ma","und-mahj":"hi-mahj-in","und-maka":"mak-maka-id","und-mand":"myz-mand-ir","und-mani":"xmn-mani-cn","und-marc":"bo-marc-cn","und-mc":"fr-latn-mc","und-md":"ro-latn-md","und-me":"sr-latn-me","und-medf":"dmf-medf-ng","und-mend":"men-mend-sl","und-merc":"xmr-merc-sd","und-mero":"xmr-mero-sd","und-mf":"fr-latn-mf","und-mg":"mg-latn-mg","und-mk":"mk-cyrl-mk","und-ml":"bm-latn-ml","und-mlym":"ml-mlym-in","und-mm":"my-mymr-mm","und-mn":"mn-cyrl-mn","und-mo":"zh-hant-mo","und-modi":"mr-modi-in","und-mong":"mn-mong-cn","und-mq":"fr-latn-mq","und-mr":"ar-arab-mr","und-mroo":"mro-mroo-bd","und-mt":"mt-latn-mt","und-mtei":"mni-mtei-in","und-mu":"mfe-latn-mu","und-mult":"skr-mult-pk","und-mv":"dv-thaa-mv","und-mx":"es-latn-mx","und-my":"ms-latn-my","und-mymr":"my-mymr-mm","und-mymr-in":"kht-mymr-in","und-mymr-th":"mnw-mymr-th","und-mz":"pt-latn-mz","und-na":"af-latn-na","und-nagm":"unr-nagm-in","und-nand":"sa-nand-in","und-narb":"xna-narb-sa","und-nbat":"arc-nbat-jo","und-nc":"fr-latn-nc","und-ne":"ha-latn-ne","und-newa":"new-newa-np","und-ni":"es-latn-ni","und-nkoo":"man-nkoo-gn","und-nl":"nl-latn-nl","und-no":"nb-latn-no","und-np":"ne-deva-np","und-nshu":"zhx-nshu-cn","und-ogam":"sga-ogam-ie","und-olck":"sat-olck-in","und-om":"ar-arab-om","und-orkh":"otk-orkh-mn","und-orya":"or-orya-in","und-osge":"osa-osge-us","und-osma":"so-osma-so","und-ougr":"oui-ougr-143","und-pa":"es-latn-pa","und-palm":"arc-palm-sy","und-pauc":"ctd-pauc-mm","und-pe":"es-latn-pe","und-perm":"kv-perm-ru","und-pf":"fr-latn-pf","und-pg":"tpi-latn-pg","und-ph":"fil-latn-ph","und-phag":"lzh-phag-cn","und-phli":"pal-phli-ir","und-phlp":"pal-phlp-cn","und-phnx":"phn-phnx-lb","und-pk":"ur-arab-pk","und-pl":"pl-latn-pl","und-plrd":"hmd-plrd-cn","und-pm":"fr-latn-pm","und-pr":"es-latn-pr","und-prti":"xpr-prti-ir","und-ps":"ar-arab-ps","und-pt":"pt-latn-pt","und-pw":"pau-latn-pw","und-py":"gn-latn-py","und-qa":"ar-arab-qa","und-qo":"en-latn-dg","und-re":"fr-latn-re","und-rjng":"rej-rjng-id","und-ro":"ro-latn-ro","und-rohg":"rhg-rohg-mm","und-rs":"sr-cyrl-rs","und-ru":"ru-cyrl-ru","und-runr":"non-runr-se","und-rw":"rw-latn-rw","und-sa":"ar-arab-sa","und-samr":"smp-samr-il","und-sarb":"xsa-sarb-ye","und-saur":"saz-saur-in","und-sc":"fr-latn-sc","und-sd":"ar-arab-sd","und-se":"sv-latn-se","und-sgnw":"ase-sgnw-us","und-shaw":"en-shaw-gb","und-shrd":"sa-shrd-in","und-si":"sl-latn-si","und-sidd":"sa-sidd-in","und-sind":"sd-sind-in","und-sinh":"si-sinh-lk","und-sj":"nb-latn-sj","und-sk":"sk-latn-sk","und-sm":"it-latn-sm","und-sn":"fr-latn-sn","und-so":"so-latn-so","und-sogd":"sog-sogd-uz","und-sogo":"sog-sogo-uz","und-sora":"srb-sora-in","und-soyo":"cmg-soyo-mn","und-sr":"nl-latn-sr","und-st":"pt-latn-st","und-sund":"su-sund-id","und-sv":"es-latn-sv","und-sy":"ar-arab-sy","und-sylo":"syl-sylo-bd","und-syrc":"syr-syrc-iq","und-tagb":"tbw-tagb-ph","und-takr":"doi-takr-in","und-tale":"tdd-tale-cn","und-talu":"khb-talu-cn","und-taml":"ta-taml-in","und-tang":"txg-tang-cn","und-tavt":"blt-tavt-vn","und-td":"fr-latn-td","und-telu":"te-telu-in","und-tf":"fr-latn-tf","und-tfng":"zgh-tfng-ma","und-tg":"fr-latn-tg","und-tglg":"fil-tglg-ph","und-th":"th-thai-th","und-thaa":"dv-thaa-mv","und-thai":"th-thai-th","und-thai-cn":"lcp-thai-cn","und-thai-kh":"kdt-thai-kh","und-thai-la":"kdt-thai-la","und-tibt":"bo-tibt-cn","und-tirh":"mai-tirh-in","und-tj":"tg-cyrl-tj","und-tk":"tkl-latn-tk","und-tl":"pt-latn-tl","und-tm":"tk-latn-tm","und-tn":"ar-arab-tn","und-tnsa":"nst-tnsa-in","und-to":"to-latn-to","und-toto":"txo-toto-in","und-tr":"tr-latn-tr","und-tv":"tvl-latn-tv","und-tw":"zh-hant-tw","und-tz":"sw-latn-tz","und-ua":"uk-cyrl-ua","und-ug":"sw-latn-ug","und-ugar":"uga-ugar-sy","und-uy":"es-latn-uy","und-uz":"uz-latn-uz","und-va":"it-latn-va","und-vaii":"vai-vaii-lr","und-ve":"es-latn-ve","und-vith":"sq-vith-al","und-vn":"vi-latn-vn","und-vu":"bi-latn-vu","und-wara":"hoc-wara-in","und-wcho":"nnp-wcho-in","und-wf":"fr-latn-wf","und-ws":"sm-latn-ws","und-xk":"sq-latn-xk","und-xpeo":"peo-xpeo-ir","und-xsux":"akk-xsux-iq","und-ye":"ar-arab-ye","und-yezi":"ku-yezi-ge","und-yiii":"ii-yiii-cn","und-yt":"fr-latn-yt","und-zanb":"cmg-zanb-mn","und-zw":"sn-latn-zw",une:"une-latn-ng",ung:"ung-latn-au",uni:"uni-latn-pg",unk:"unk-latn-br",unm:"unm-latn-us",unn:"unn-latn-au",unr:"unr-beng-in","unr-deva":"unr-deva-np","unr-np":"unr-deva-np",unu:"unu-latn-pg",unx:"unx-beng-in",unz:"unz-latn-id",uok:"uok-latn-zz",uon:"uon-latn-tw",upi:"upi-latn-pg",upv:"upv-latn-vu",ur:"ur-arab-pk",ura:"ura-latn-pe",urb:"urb-latn-br",urc:"urc-latn-au",ure:"ure-latn-bo",urf:"urf-latn-au",urg:"urg-latn-pg",urh:"urh-latn-ng",uri:"uri-latn-zz",urk:"urk-thai-th",urm:"urm-latn-pg",urn:"urn-latn-id",uro:"uro-latn-pg",urp:"urp-latn-br",urr:"urr-latn-vu",urt:"urt-latn-zz",uru:"uru-latn-br",urv:"urv-latn-pg",urw:"urw-latn-zz",urx:"urx-latn-pg",ury:"ury-latn-id",urz:"urz-latn-br",usa:"usa-latn-zz",ush:"ush-arab-pk",usi:"usi-latn-bd","usi-beng":"usi-beng-bd",usk:"usk-latn-cm",usp:"usp-latn-gt",uss:"uss-latn-ng",usu:"usu-latn-pg",uta:"uta-latn-ng",ute:"ute-latn-us",uth:"uth-latn-zz",utp:"utp-latn-sb",utr:"utr-latn-zz",utu:"utu-latn-pg",uum:"uum-grek-ge","uum-cyrl":"uum-cyrl-ge",uur:"uur-latn-vu",uve:"uve-latn-nc",uvh:"uvh-latn-zz",uvl:"uvl-latn-zz",uwa:"uwa-latn-au",uya:"uya-latn-ng",uz:"uz-latn-uz","uz-af":"uz-arab-af","uz-arab":"uz-arab-af","uz-cn":"uz-cyrl-cn",uzs:"uzs-arab-af",vaa:"vaa-taml-in",vae:"vae-latn-cf",vaf:"vaf-arab-ir",vag:"vag-latn-zz",vah:"vah-deva-in",vai:"vai-vaii-lr",vaj:"vaj-latn-na",val:"val-latn-pg",vam:"vam-latn-pg",van:"van-latn-zz",vao:"vao-latn-vu",vap:"vap-latn-in",var:"var-latn-mx",vas:"vas-deva-in","vas-gujr":"vas-gujr-in",vau:"vau-latn-cd",vav:"vav-deva-in","vav-gujr":"vav-gujr-in",vay:"vay-deva-np",vbb:"vbb-latn-id",vbk:"vbk-latn-ph",ve:"ve-latn-za",vec:"vec-latn-it",vem:"vem-latn-ng",veo:"veo-latn-us",vep:"vep-latn-ru",ver:"ver-latn-ng",vgr:"vgr-arab-pk",vi:"vi-latn-vn",vic:"vic-latn-sx",vid:"vid-latn-tz",vif:"vif-latn-cg",vig:"vig-latn-bf",vil:"vil-latn-ar",vin:"vin-latn-tz",vit:"vit-latn-ng",viv:"viv-latn-zz",vka:"vka-latn-au",vkj:"vkj-latn-td",vkk:"vkk-latn-id",vkl:"vkl-latn-id",vkm:"vkm-latn-br",vkn:"vkn-latn-ng",vko:"vko-latn-id",vkp:"vkp-latn-in","vkp-deva":"vkp-deva-in",vkt:"vkt-latn-id",vku:"vku-latn-au",vkz:"vkz-latn-ng",vlp:"vlp-latn-vu",vls:"vls-latn-be",vma:"vma-latn-au",vmb:"vmb-latn-au",vmc:"vmc-latn-mx",vmd:"vmd-knda-in",vme:"vme-latn-id",vmf:"vmf-latn-de",vmg:"vmg-latn-pg",vmh:"vmh-arab-ir",vmi:"vmi-latn-au",vmj:"vmj-latn-mx",vmk:"vmk-latn-mz",vml:"vml-latn-au",vmm:"vmm-latn-mx",vmp:"vmp-latn-mx",vmq:"vmq-latn-mx",vmr:"vmr-latn-mz",vms:"vms-latn-id",vmu:"vmu-latn-au",vmw:"vmw-latn-mz",vmx:"vmx-latn-mx",vmy:"vmy-latn-mx",vmz:"vmz-latn-mx",vnk:"vnk-latn-sb",vnm:"vnm-latn-vu",vnp:"vnp-latn-vu",vo:"vo-latn-001",vor:"vor-latn-ng",vot:"vot-latn-ru",vra:"vra-latn-vu",vro:"vro-latn-ee",vrs:"vrs-latn-sb",vrt:"vrt-latn-vu",vto:"vto-latn-id",vum:"vum-latn-ga",vun:"vun-latn-tz",vut:"vut-latn-zz",vwa:"vwa-latn-cn","vwa-mymr":"vwa-mymr-cn",wa:"wa-latn-be",waa:"waa-latn-us",wab:"wab-latn-pg",wac:"wac-latn-us",wad:"wad-latn-id",wae:"wae-latn-ch",waf:"waf-latn-br",wag:"wag-latn-pg",wah:"wah-latn-id",wai:"wai-latn-id",waj:"waj-latn-zz",wal:"wal-ethi-et",wam:"wam-latn-us",wan:"wan-latn-zz",wap:"wap-latn-gy",waq:"waq-latn-au",war:"war-latn-ph",was:"was-latn-us",wat:"wat-latn-pg",wau:"wau-latn-br",wav:"wav-latn-ng",waw:"waw-latn-br",wax:"wax-latn-pg",way:"way-latn-sr",waz:"waz-latn-pg",wba:"wba-latn-ve",wbb:"wbb-latn-id",wbe:"wbe-latn-id",wbf:"wbf-latn-bf",wbh:"wbh-latn-tz",wbi:"wbi-latn-tz",wbj:"wbj-latn-tz",wbk:"wbk-arab-af",wbl:"wbl-latn-pk","wbl-arab":"wbl-arab-af","wbl-cyrl":"wbl-cyrl-tj",wbm:"wbm-latn-cn",wbp:"wbp-latn-au",wbq:"wbq-telu-in",wbr:"wbr-deva-in",wbt:"wbt-latn-au",wbv:"wbv-latn-au",wbw:"wbw-latn-id",wca:"wca-latn-br",wci:"wci-latn-zz",wdd:"wdd-latn-ga",wdg:"wdg-latn-pg",wdj:"wdj-latn-au",wdk:"wdk-latn-au",wdt:"wdt-latn-ca",wdu:"wdu-latn-au",wdy:"wdy-latn-au",wec:"wec-latn-ci",wed:"wed-latn-pg",weg:"weg-latn-au",weh:"weh-latn-cm",wei:"wei-latn-pg",wem:"wem-latn-bj",weo:"weo-latn-id",wep:"wep-latn-de",wer:"wer-latn-zz",wes:"wes-latn-cm",wet:"wet-latn-id",weu:"weu-latn-mm",wew:"wew-latn-id",wfg:"wfg-latn-id",wga:"wga-latn-au",wgb:"wgb-latn-pg",wgg:"wgg-latn-au",wgi:"wgi-latn-zz",wgo:"wgo-latn-id",wgu:"wgu-latn-au",wgy:"wgy-latn-au",wha:"wha-latn-id",whg:"whg-latn-zz",whk:"whk-latn-id",whu:"whu-latn-id",wib:"wib-latn-zz",wic:"wic-latn-us",wie:"wie-latn-au",wif:"wif-latn-au",wig:"wig-latn-au",wih:"wih-latn-au",wii:"wii-latn-pg",wij:"wij-latn-au",wik:"wik-latn-au",wil:"wil-latn-au",wim:"wim-latn-au",win:"win-latn-us",wir:"wir-latn-br",wiu:"wiu-latn-zz",wiv:"wiv-latn-zz",wiy:"wiy-latn-us",wja:"wja-latn-zz",wji:"wji-latn-zz",wka:"wka-latn-tz",wkd:"wkd-latn-id",wkr:"wkr-latn-au",wkw:"wkw-latn-au",wky:"wky-latn-au",wla:"wla-latn-pg",wlg:"wlg-latn-au",wlh:"wlh-latn-tl",wli:"wli-latn-id",wlm:"wlm-latn-gb",wlo:"wlo-arab-id",wlr:"wlr-latn-vu",wls:"wls-latn-wf",wlu:"wlu-latn-au",wlv:"wlv-latn-ar",wlw:"wlw-latn-id",wlx:"wlx-latn-gh",wma:"wma-latn-ng",wmb:"wmb-latn-au",wmc:"wmc-latn-pg",wmd:"wmd-latn-br",wme:"wme-deva-np",wmh:"wmh-latn-tl",wmi:"wmi-latn-au",wmm:"wmm-latn-id",wmn:"wmn-latn-nc",wmo:"wmo-latn-zz",wms:"wms-latn-id",wmt:"wmt-latn-au",wmw:"wmw-latn-mz","wmw-arab":"wmw-arab-mz",wmx:"wmx-latn-pg",wnb:"wnb-latn-pg",wnc:"wnc-latn-zz",wnd:"wnd-latn-au",wne:"wne-arab-pk",wng:"wng-latn-id",wni:"wni-arab-km",wnk:"wnk-latn-id",wnm:"wnm-latn-au",wnn:"wnn-latn-au",wno:"wno-latn-id",wnp:"wnp-latn-pg",wnu:"wnu-latn-zz",wnw:"wnw-latn-us",wny:"wny-latn-au",wo:"wo-latn-sn",woa:"woa-latn-au",wob:"wob-latn-zz",woc:"woc-latn-pg",wod:"wod-latn-id",woe:"woe-latn-fm",wof:"wof-latn-gm","wof-arab":"wof-arab-gm",wog:"wog-latn-pg",woi:"woi-latn-id",wok:"wok-latn-cm",wom:"wom-latn-ng",won:"won-latn-cd",woo:"woo-latn-id",wor:"wor-latn-id",wos:"wos-latn-zz",wow:"wow-latn-id",wpc:"wpc-latn-ve",wrb:"wrb-latn-au",wrg:"wrg-latn-au",wrh:"wrh-latn-au",wri:"wri-latn-au",wrk:"wrk-latn-au",wrl:"wrl-latn-au",wrm:"wrm-latn-au",wro:"wro-latn-au",wrp:"wrp-latn-id",wrr:"wrr-latn-au",wrs:"wrs-latn-zz",wru:"wru-latn-id",wrv:"wrv-latn-pg",wrw:"wrw-latn-au",wrx:"wrx-latn-id",wrz:"wrz-latn-au",wsa:"wsa-latn-id",wsg:"wsg-gong-in",wsi:"wsi-latn-vu",wsk:"wsk-latn-zz",wsr:"wsr-latn-pg",wss:"wss-latn-gh",wsu:"wsu-latn-br",wsv:"wsv-arab-af",wtf:"wtf-latn-pg",wth:"wth-latn-au",wti:"wti-latn-et",wtk:"wtk-latn-pg",wtm:"wtm-deva-in",wtw:"wtw-latn-id","wtw-bugi":"wtw-bugi-id",wua:"wua-latn-au",wub:"wub-latn-au",wud:"wud-latn-tg",wul:"wul-latn-id",wum:"wum-latn-ga",wun:"wun-latn-tz",wur:"wur-latn-au",wut:"wut-latn-pg",wuu:"wuu-hans-cn",wuv:"wuv-latn-zz",wux:"wux-latn-au",wuy:"wuy-latn-id",wwa:"wwa-latn-zz",wwb:"wwb-latn-au",wwo:"wwo-latn-vu",wwr:"wwr-latn-au",www:"www-latn-cm",wxw:"wxw-latn-au",wyb:"wyb-latn-au",wyi:"wyi-latn-au",wym:"wym-latn-pl",wyn:"wyn-latn-us",wyr:"wyr-latn-br",wyy:"wyy-latn-fj",xaa:"xaa-latn-es",xab:"xab-latn-ng",xai:"xai-latn-br",xaj:"xaj-latn-br",xak:"xak-latn-ve",xal:"xal-cyrl-ru",xam:"xam-latn-za",xan:"xan-ethi-et",xao:"xao-latn-vn",xar:"xar-latn-pg",xas:"xas-cyrl-ru",xat:"xat-latn-br",xau:"xau-latn-id",xav:"xav-latn-br",xaw:"xaw-latn-us",xay:"xay-latn-id",xbb:"xbb-latn-au",xbd:"xbd-latn-au",xbe:"xbe-latn-au",xbg:"xbg-latn-au",xbi:"xbi-latn-zz",xbj:"xbj-latn-au",xbm:"xbm-latn-fr",xbn:"xbn-latn-my",xbp:"xbp-latn-au",xbr:"xbr-latn-id",xbw:"xbw-latn-br",xby:"xby-latn-au",xch:"xch-latn-us",xco:"xco-chrs-uz",xcr:"xcr-cari-tr",xda:"xda-latn-au",xdk:"xdk-latn-au",xdo:"xdo-latn-ao",xdq:"xdq-cyrl-ru",xdy:"xdy-latn-id",xed:"xed-latn-cm",xeg:"xeg-latn-za",xem:"xem-latn-id",xer:"xer-latn-br",xes:"xes-latn-zz",xet:"xet-latn-br",xeu:"xeu-latn-pg",xgb:"xgb-latn-ci",xgd:"xgd-latn-au",xgg:"xgg-latn-au",xgi:"xgi-latn-au",xgm:"xgm-latn-au",xgu:"xgu-latn-au",xgw:"xgw-latn-au",xh:"xh-latn-za",xhe:"xhe-arab-pk",xhm:"xhm-khmr-kh",xhv:"xhv-latn-vn",xii:"xii-latn-za",xin:"xin-latn-gt",xir:"xir-latn-br",xis:"xis-orya-in",xiy:"xiy-latn-br",xjb:"xjb-latn-au",xjt:"xjt-latn-au",xka:"xka-arab-pk",xkb:"xkb-latn-bj",xkc:"xkc-arab-ir",xkd:"xkd-latn-id",xke:"xke-latn-id",xkg:"xkg-latn-ml",xkj:"xkj-arab-ir",xkl:"xkl-latn-id",xkn:"xkn-latn-id",xkp:"xkp-arab-ir",xkq:"xkq-latn-id",xkr:"xkr-latn-br",xks:"xks-latn-id",xkt:"xkt-latn-gh",xku:"xku-latn-cg",xkv:"xkv-latn-bw",xkw:"xkw-latn-id",xkx:"xkx-latn-pg",xky:"xky-latn-my",xkz:"xkz-latn-bt",xla:"xla-latn-zz",xlc:"xlc-lyci-tr",xld:"xld-lydi-tr",xly:"xly-elym-ir",xma:"xma-latn-so",xmb:"xmb-latn-cm",xmc:"xmc-latn-mz",xmd:"xmd-latn-cm",xmf:"xmf-geor-ge",xmg:"xmg-latn-cm",xmh:"xmh-latn-au",xmj:"xmj-latn-cm",xmm:"xmm-latn-id",xmn:"xmn-mani-cn",xmo:"xmo-latn-br",xmp:"xmp-latn-au",xmq:"xmq-latn-au",xmr:"xmr-merc-sd",xmt:"xmt-latn-id",xmu:"xmu-latn-au",xmv:"xmv-latn-mg",xmw:"xmw-latn-mg",xmx:"xmx-latn-id",xmy:"xmy-latn-au",xmz:"xmz-latn-id",xna:"xna-narb-sa",xnb:"xnb-latn-tw",xni:"xni-latn-au",xnj:"xnj-latn-tz",xnk:"xnk-latn-au",xnm:"xnm-latn-au",xnn:"xnn-latn-ph",xnq:"xnq-latn-mz",xnr:"xnr-deva-in",xnt:"xnt-latn-us",xnu:"xnu-latn-au",xny:"xny-latn-au",xnz:"xnz-latn-eg","xnz-arab":"xnz-arab-eg",xoc:"xoc-latn-ng",xod:"xod-latn-id",xog:"xog-latn-ug",xoi:"xoi-latn-pg",xok:"xok-latn-br",xom:"xom-latn-sd","xom-ethi":"xom-ethi-et",xon:"xon-latn-zz",xoo:"xoo-latn-br",xop:"xop-latn-pg",xor:"xor-latn-br",xow:"xow-latn-pg",xpa:"xpa-latn-au",xpb:"xpb-latn-au",xpd:"xpd-latn-au",xpf:"xpf-latn-au",xpg:"xpg-grek-tr",xph:"xph-latn-au",xpi:"xpi-ogam-gb",xpj:"xpj-latn-au",xpk:"xpk-latn-br",xpl:"xpl-latn-au",xpm:"xpm-cyrl-ru",xpn:"xpn-latn-br",xpo:"xpo-latn-mx",xpq:"xpq-latn-us",xpr:"xpr-prti-ir",xpt:"xpt-latn-au",xpv:"xpv-latn-au",xpw:"xpw-latn-au",xpx:"xpx-latn-au",xpz:"xpz-latn-au",xra:"xra-latn-br",xrb:"xrb-latn-zz",xrd:"xrd-latn-au",xre:"xre-latn-br",xrg:"xrg-latn-au",xri:"xri-latn-br",xrm:"xrm-cyrl-ru",xrn:"xrn-cyrl-ru",xrr:"xrr-latn-it",xru:"xru-latn-au",xrw:"xrw-latn-pg",xsa:"xsa-sarb-ye",xsb:"xsb-latn-ph",xse:"xse-latn-id",xsh:"xsh-latn-ng",xsi:"xsi-latn-zz",xsm:"xsm-latn-zz",xsn:"xsn-latn-ng",xsp:"xsp-latn-pg",xsq:"xsq-latn-mz",xsr:"xsr-deva-np",xss:"xss-cyrl-ru",xsu:"xsu-latn-ve",xsy:"xsy-latn-tw",xta:"xta-latn-mx",xtb:"xtb-latn-mx",xtc:"xtc-latn-sd",xtd:"xtd-latn-mx",xte:"xte-latn-id",xth:"xth-latn-au",xti:"xti-latn-mx",xtj:"xtj-latn-mx",xtl:"xtl-latn-mx",xtm:"xtm-latn-mx",xtn:"xtn-latn-mx",xtp:"xtp-latn-mx",xts:"xts-latn-mx",xtt:"xtt-latn-mx",xtu:"xtu-latn-mx",xtv:"xtv-latn-au",xtw:"xtw-latn-br",xty:"xty-latn-mx",xub:"xub-taml-in","xub-knda":"xub-knda-in","xub-mlym":"xub-mlym-in",xud:"xud-latn-au",xuj:"xuj-taml-in",xul:"xul-latn-au",xum:"xum-latn-it","xum-ital":"xum-ital-it",xun:"xun-latn-au",xuo:"xuo-latn-td",xut:"xut-latn-au",xuu:"xuu-latn-na",xve:"xve-ital-it",xvi:"xvi-arab-af",xvn:"xvn-latn-es",xvo:"xvo-latn-it",xvs:"xvs-latn-it",xwa:"xwa-latn-br",xwd:"xwd-latn-au",xwe:"xwe-latn-zz",xwj:"xwj-latn-au",xwk:"xwk-latn-au",xwl:"xwl-latn-bj",xwo:"xwo-cyrl-ru",xwr:"xwr-latn-id",xwt:"xwt-latn-au",xww:"xww-latn-au",xxb:"xxb-latn-gh",xxk:"xxk-latn-id",xxm:"xxm-latn-au",xxr:"xxr-latn-br",xxt:"xxt-latn-id",xya:"xya-latn-au",xyb:"xyb-latn-au",xyj:"xyj-latn-au",xyk:"xyk-latn-au",xyl:"xyl-latn-br",xyt:"xyt-latn-au",xyy:"xyy-latn-au",xzh:"xzh-marc-cn",xzp:"xzp-latn-mx",yaa:"yaa-latn-pe",yab:"yab-latn-br",yac:"yac-latn-id",yad:"yad-latn-pe",yae:"yae-latn-ve",yaf:"yaf-latn-cd",yag:"yag-latn-cl",yai:"yai-cyrl-tj",yaj:"yaj-latn-cf",yak:"yak-latn-us",yal:"yal-latn-gn","yal-arab":"yal-arab-gn",yam:"yam-latn-zz",yan:"yan-latn-ni",yao:"yao-latn-mz",yap:"yap-latn-fm",yaq:"yaq-latn-mx",yar:"yar-latn-ve",yas:"yas-latn-zz",yat:"yat-latn-zz",yau:"yau-latn-ve",yav:"yav-latn-cm",yaw:"yaw-latn-br",yax:"yax-latn-ao",yay:"yay-latn-zz",yaz:"yaz-latn-zz",yba:"yba-latn-zz",ybb:"ybb-latn-cm",ybe:"ybe-latn-cn","ybe-ougr":"ybe-ougr-cn",ybh:"ybh-deva-np",ybi:"ybi-deva-np",ybj:"ybj-latn-ng",ybl:"ybl-latn-ng",ybm:"ybm-latn-pg",ybn:"ybn-latn-br",ybo:"ybo-latn-pg",ybx:"ybx-latn-pg",yby:"yby-latn-zz",ycl:"ycl-latn-cn",ycn:"ycn-latn-co",yda:"yda-latn-au",yde:"yde-latn-pg",ydg:"ydg-arab-pk",ydk:"ydk-latn-pg",yea:"yea-mlym-in","yea-knda":"yea-knda-in",yec:"yec-latn-de",yee:"yee-latn-pg",yei:"yei-latn-cm",yej:"yej-grek-il",yel:"yel-latn-cd",yer:"yer-latn-zz",yes:"yes-latn-ng",yet:"yet-latn-id",yeu:"yeu-telu-in",yev:"yev-latn-pg",yey:"yey-latn-bw",yga:"yga-latn-au",ygi:"ygi-latn-au",ygl:"ygl-latn-pg",ygm:"ygm-latn-pg",ygp:"ygp-plrd-cn",ygr:"ygr-latn-zz",ygu:"ygu-latn-au",ygw:"ygw-latn-zz",yhd:"yhd-hebr-il",yi:"yi-hebr-001",yia:"yia-latn-au",yig:"yig-yiii-cn",yih:"yih-hebr-de",yii:"yii-latn-au",yij:"yij-latn-au",yil:"yil-latn-au",yim:"yim-latn-in",yir:"yir-latn-id",yis:"yis-latn-pg",yiv:"yiv-yiii-cn",yka:"yka-latn-ph","yka-arab":"yka-arab-ph",ykg:"ykg-cyrl-ru",yki:"yki-latn-id",ykk:"ykk-latn-pg",ykm:"ykm-latn-pg",yko:"yko-latn-zz",ykr:"ykr-latn-pg",yky:"yky-latn-cf",yla:"yla-latn-pg",ylb:"ylb-latn-pg",yle:"yle-latn-zz",ylg:"ylg-latn-zz",yli:"yli-latn-id",yll:"yll-latn-zz",ylr:"ylr-latn-au",ylu:"ylu-latn-pg",yly:"yly-latn-nc",ymb:"ymb-latn-pg",yme:"yme-latn-pe",ymg:"ymg-latn-cd",ymk:"ymk-latn-mz","ymk-arab":"ymk-arab-mz",yml:"yml-latn-zz",ymm:"ymm-latn-so",ymn:"ymn-latn-id",ymo:"ymo-latn-pg",ymp:"ymp-latn-pg",yna:"yna-plrd-cn",ynd:"ynd-latn-au",yng:"yng-latn-cd",ynk:"ynk-cyrl-ru",ynl:"ynl-latn-pg",ynq:"ynq-latn-ng",yns:"yns-latn-cd",ynu:"ynu-latn-co",yo:"yo-latn-ng",yob:"yob-latn-pg",yog:"yog-latn-ph",yoi:"yoi-jpan-jp",yok:"yok-latn-us",yol:"yol-latn-gb",yom:"yom-latn-cd",yon:"yon-latn-zz",yot:"yot-latn-ng",yoy:"yoy-thai-th",yra:"yra-latn-pg",yrb:"yrb-latn-zz",yre:"yre-latn-zz",yrk:"yrk-cyrl-ru",yrl:"yrl-latn-br",yrm:"yrm-latn-au",yro:"yro-latn-br",yrs:"yrs-latn-id",yrw:"yrw-latn-pg",yry:"yry-latn-au",ysd:"ysd-yiii-cn",ysn:"ysn-yiii-cn",ysp:"ysp-yiii-cn",ysr:"ysr-cyrl-ru",yss:"yss-latn-zz",ysy:"ysy-plrd-cn",ytw:"ytw-latn-pg",yty:"yty-latn-au",yua:"yua-latn-mx",yub:"yub-latn-au",yuc:"yuc-latn-us",yud:"yud-hebr-il",yue:"yue-hant-hk","yue-cn":"yue-hans-cn","yue-hans":"yue-hans-cn",yuf:"yuf-latn-us",yug:"yug-cyrl-ru",yui:"yui-latn-co",yuj:"yuj-latn-zz",yul:"yul-latn-cf",yum:"yum-latn-us",yun:"yun-latn-ng",yup:"yup-latn-co",yuq:"yuq-latn-bo",yur:"yur-latn-us",yut:"yut-latn-zz",yuw:"yuw-latn-zz",yux:"yux-cyrl-ru",yuz:"yuz-latn-bo",yva:"yva-latn-id",yvt:"yvt-latn-ve",ywa:"ywa-latn-pg",ywg:"ywg-latn-au",ywn:"ywn-latn-br",ywq:"ywq-plrd-cn","ywq-yiii":"ywq-yiii-cn",ywr:"ywr-latn-au",ywu:"ywu-plrd-cn","ywu-yiii":"ywu-yiii-cn",yww:"yww-latn-au",yxa:"yxa-latn-au",yxg:"yxg-latn-au",yxl:"yxl-latn-au",yxm:"yxm-latn-au",yxu:"yxu-latn-au",yxy:"yxy-latn-au",yyr:"yyr-latn-au",yyu:"yyu-latn-pg",za:"za-latn-cn",zaa:"zaa-latn-mx",zab:"zab-latn-mx",zac:"zac-latn-mx",zad:"zad-latn-mx",zae:"zae-latn-mx",zaf:"zaf-latn-mx",zag:"zag-latn-sd",zah:"zah-latn-ng",zaj:"zaj-latn-tz",zak:"zak-latn-tz",zam:"zam-latn-mx",zao:"zao-latn-mx",zap:"zap-latn-mx",zaq:"zaq-latn-mx",zar:"zar-latn-mx",zas:"zas-latn-mx",zat:"zat-latn-mx",zau:"zau-tibt-in","zau-arab":"zau-arab-in",zav:"zav-latn-mx",zaw:"zaw-latn-mx",zax:"zax-latn-mx",zay:"zay-latn-et","zay-ethi":"zay-ethi-et",zaz:"zaz-latn-ng",zba:"zba-arab-001",zbc:"zbc-latn-my",zbe:"zbe-latn-my",zbt:"zbt-latn-id",zbu:"zbu-latn-ng",zbw:"zbw-latn-my",zca:"zca-latn-mx",zch:"zch-hani-cn",zdj:"zdj-arab-km",zea:"zea-latn-nl",zeg:"zeg-latn-pg",zeh:"zeh-hani-cn",zen:"zen-tfng-mr","zen-arab":"zen-arab-mr",zga:"zga-latn-tz",zgb:"zgb-hani-cn",zgh:"zgh-tfng-ma",zgm:"zgm-hani-cn",zgn:"zgn-hani-cn",zgr:"zgr-latn-pg",zh:"zh-hans-cn","zh-au":"zh-hant-au","zh-bn":"zh-hant-bn","zh-bopo":"zh-bopo-tw","zh-gb":"zh-hant-gb","zh-gf":"zh-hant-gf","zh-hanb":"zh-hanb-tw","zh-hant":"zh-hant-tw","zh-hk":"zh-hant-hk","zh-id":"zh-hant-id","zh-mo":"zh-hant-mo","zh-pa":"zh-hant-pa","zh-pf":"zh-hant-pf","zh-ph":"zh-hant-ph","zh-sr":"zh-hant-sr","zh-th":"zh-hant-th","zh-tw":"zh-hant-tw","zh-us":"zh-hant-us","zh-vn":"zh-hant-vn",zhd:"zhd-hani-cn","zhd-latn":"zhd-latn-vn",zhi:"zhi-latn-ng",zhn:"zhn-latn-cn","zhn-hani":"zhn-hani-cn",zhw:"zhw-latn-cm",zhx:"zhx-nshu-cn",zia:"zia-latn-zz",zik:"zik-latn-pg",zil:"zil-latn-gn",zim:"zim-latn-td",zin:"zin-latn-tz",ziw:"ziw-latn-tz",ziz:"ziz-latn-ng",zka:"zka-latn-id",zkb:"zkb-cyrl-ru",zkd:"zkd-latn-mm",zko:"zko-cyrl-ru",zkp:"zkp-latn-br",zkt:"zkt-kits-cn",zku:"zku-latn-au",zkz:"zkz-cyrl-ru",zla:"zla-latn-cd",zlj:"zlj-hani-cn","zlj-latn":"zlj-latn-cn",zlm:"zlm-latn-tg",zln:"zln-hani-cn",zlq:"zlq-hani-cn",zma:"zma-latn-au",zmb:"zmb-latn-cd",zmc:"zmc-latn-au",zmd:"zmd-latn-au",zme:"zme-latn-au",zmf:"zmf-latn-cd",zmg:"zmg-latn-au",zmh:"zmh-latn-pg",zmi:"zmi-latn-my",zmj:"zmj-latn-au",zmk:"zmk-latn-au",zml:"zml-latn-au",zmm:"zmm-latn-au",zmn:"zmn-latn-ga",zmo:"zmo-latn-sd",zmp:"zmp-latn-cd",zmq:"zmq-latn-cd",zmr:"zmr-latn-au",zms:"zms-latn-cd",zmt:"zmt-latn-au",zmu:"zmu-latn-au",zmv:"zmv-latn-au",zmw:"zmw-latn-cd",zmx:"zmx-latn-cg",zmy:"zmy-latn-au",zmz:"zmz-latn-cd",zna:"zna-latn-td",zne:"zne-latn-zz",zng:"zng-latn-vn",znk:"znk-latn-au",zns:"zns-latn-ng",zoc:"zoc-latn-mx",zoh:"zoh-latn-mx",zom:"zom-latn-in",zoo:"zoo-latn-mx",zoq:"zoq-latn-mx",zor:"zor-latn-mx",zos:"zos-latn-mx",zpa:"zpa-latn-mx",zpb:"zpb-latn-mx",zpc:"zpc-latn-mx",zpd:"zpd-latn-mx",zpe:"zpe-latn-mx",zpf:"zpf-latn-mx",zpg:"zpg-latn-mx",zph:"zph-latn-mx",zpi:"zpi-latn-mx",zpj:"zpj-latn-mx",zpk:"zpk-latn-mx",zpl:"zpl-latn-mx",zpm:"zpm-latn-mx",zpn:"zpn-latn-mx",zpo:"zpo-latn-mx",zpp:"zpp-latn-mx",zpq:"zpq-latn-mx",zpr:"zpr-latn-mx",zps:"zps-latn-mx",zpt:"zpt-latn-mx",zpu:"zpu-latn-mx",zpv:"zpv-latn-mx",zpw:"zpw-latn-mx",zpx:"zpx-latn-mx",zpy:"zpy-latn-mx",zpz:"zpz-latn-mx",zqe:"zqe-hani-cn","zqe-latn":"zqe-latn-cn",zrn:"zrn-latn-td",zro:"zro-latn-ec",zrp:"zrp-hebr-fr",zrs:"zrs-latn-id",zsa:"zsa-latn-pg",zsr:"zsr-latn-mx",zsu:"zsu-latn-pg",zte:"zte-latn-mx",ztg:"ztg-latn-mx",ztl:"ztl-latn-mx",ztm:"ztm-latn-mx",ztn:"ztn-latn-mx",ztp:"ztp-latn-mx",ztq:"ztq-latn-mx",zts:"zts-latn-mx",ztt:"ztt-latn-mx",ztu:"ztu-latn-mx",ztx:"ztx-latn-mx",zty:"zty-latn-mx",zu:"zu-latn-za",zua:"zua-latn-ng",zuh:"zuh-latn-pg",zum:"zum-arab-om",zun:"zun-latn-us",zuy:"zuy-latn-cm",zyg:"zyg-hani-cn",zyj:"zyj-latn-cn","zyj-hani":"zyj-hani-cn",zyn:"zyn-hani-cn",zyp:"zyp-latn-mm",zza:"zza-latn-tr",zzj:"zzj-hani-cn"},lf={}.hasOwnProperty;function Br(T){const{language:_,script:S,region:R}=T;let k;var L,$;return S&&R&&(k=Cc[Go({language:_,script:S,region:R})])?(T.script=void 0,T.region=void 0):S&&(k=Cc[Go({language:_,script:S})])?T.script=void 0:R&&(k=Cc[Go({language:_,region:R})])?T.region=void 0:_&&(k=Cc[_]),k&&(T.language=void 0,L=T,$=fo(k),L.language||(L.language=$.language),L.script||(L.script=$.script),L.region||(L.region=$.region),$.variants&&L.variants.push(...$.variants)),Go(T)}function Yo(T,_){const S={},R=fo(String(T||"").toLowerCase(),S),k=Go(R);if(!k)return k;let L=-1;for(;++L<Ko.length;){let $=Ko[L].from;$.slice(0,4)==="und-"&&R.language&&($=R.language+$.slice(3)),Lh(k,$).length>0&&Dc(R,$,Ko[L].to)}for(L=-1;++L<Cu.length;)uf(R,Cu[L].from.field,Cu[L].from.value)&&Lc(R,Cu[L].to.field,Cu[L].to.value);if((function($){Br($);const{language:B,script:U,region:K}=$;if(!B)return $;const Y=Go({language:B,script:U,region:K});Y===Br(fo(B))?($.script=void 0,$.region=void 0):K&&Y===Br(fo(B+"-"+K))?$.script=void 0:U&&Y===Br(fo(B+"-"+U))&&($.region=void 0)})(R),R.variants.sort(),R.extensions.sort(ws),S.warning){let $;for($ in Mh)if(lf.call(Mh,$)){const B=Mh[$],U=R[$];if(U&&lf.call(B,U)){const K=B[U];S.warning("Deprecated "+$+" `"+U+"`, expected one of `"+K.join("`, `")+"`",-1,7)}}}return R.script&&(R.script=R.script.charAt(0).toUpperCase()+R.script.slice(1)),R.region&&(R.region=R.region.toUpperCase()),Go(R)}function Dc(T,_,S){const R=fo(_),k=fo(S),L=[],$=R.language;let B;for(B in R)if(lf.call(R,B)){const U=R[B];U&&uf(T,B,U)&&L.push(B)}for(B in k)if(lf.call(k,B)){const U=k[B];$&&U&&(L.includes(B)||!T[B])&&Lc(T,B,B==="language"&&U==="und"?$:U)}}function uf(T,_,S){let R,k=!1;if(S){const L=T[_];if(R=L,Array.isArray(L)){R=[];let $=-1;for(;++$<L.length;){const B=L[$];S.includes(B)?k=!0:R.push(B)}}else L===S&&(R=null,k=!0);T[_]=R}return k}function Lc(T,_,S){const R=T[_];if(Array.isArray(R)){const k=Array.isArray(S)?S:[S];let L=-1;for(;++L<k.length;){const $=k[L];R.includes($)||R.push($)}}else T[_]=S}function ws(T,_){return T.singleton>_.singleton?1:T.singleton<_.singleton?-1:0}function Rs(T,_){return _+10<=T.length&&T[_]===73&&T[_+1]===68&&T[_+2]===51&&T[_+3]<255&&T[_+4]<255&&T[_+6]<128&&T[_+7]<128&&T[_+8]<128&&T[_+9]<128}function Wo(T,_){let S=0;return S=(127&T[_])<<21,S|=(127&T[_+1])<<14,S|=(127&T[_+2])<<7,S|=127&T[_+3],S}function ho(T,_){return _+10<=T.length&&T[_]===51&&T[_+1]===68&&T[_+2]===73&&T[_+3]<255&&T[_+4]<255&&T[_+6]<128&&T[_+7]<128&&T[_+8]<128&&T[_+9]<128}function Is(T,_=0,S=1/0){return(function(R,k,L,$){const B=(U=R)instanceof ArrayBuffer?U:U.buffer;var U;let K=1;"BYTES_PER_ELEMENT"in $&&(K=$.BYTES_PER_ELEMENT);const Y=(Z=R)&&Z.buffer instanceof ArrayBuffer&&Z.byteLength!==void 0&&Z.byteOffset!==void 0?R.byteOffset:0,D=(Y+R.byteLength)/K,q=(Y+k)/K,j=Math.floor(Math.max(0,Math.min(q,D)));var Z;return new $(B,j,Math.floor(Math.min(j+Math.max(L,0),D))-j)})(T,_,S,Uint8Array)}function sr(T,_=!1){const S=_?T.indexOf(0):T.length,R=(function(k,L={}){let $;$=k instanceof ArrayBuffer?new DataView(k):new DataView(k.buffer,k.byteOffset,k.byteLength);let B=0,{encoding:U}=L;if(!U){const j=$.getUint8(0),Z=$.getUint8(1);j==239&&Z==187&&$.getUint8(2)==191?(U=Xr,B=3):j==254&&Z==255?(U=os,B=2):j==255&&Z==254?(U=bs,B=2):U=Xr}if(typeof TextDecoder<"u")return new TextDecoder(U).decode($);const{byteLength:K}=$,Y=U!==os;let D,q="";for(;B<K;){switch(U){case Xr:if(D=$.getUint8(B),D<128)B++;else if(D>=194&&D<=223)if(B+1<K){const j=$.getUint8(B+1);j>=128&&j<=191?(D=(31&D)<<6|63&j,B+=2):B++}else B++;else if(D>=224&&D<=239)if(B+2<=K-1){const j=$.getUint8(B+1),Z=$.getUint8(B+2);j>=128&&j<=191&&Z>=128&&Z<=191?(D=(15&D)<<12|(63&j)<<6|63&Z,B+=3):B++}else B++;else if(D>=240&&D<=244)if(B+3<=K-1){const j=$.getUint8(B+1),Z=$.getUint8(B+2),ie=$.getUint8(B+3);j>=128&&j<=191&&Z>=128&&Z<=191&&ie>=128&&ie<=191?(D=(7&D)<<18|(63&j)<<12|(63&Z)<<6|63&ie,B+=4):B++}else B++;else B++;break;case os:case Zi:case bs:D=$.getUint16(B,Y),B+=2}q+=String.fromCodePoint(D)}return q})(new DataView(T.buffer,T.byteOffset,S),{encoding:Xr});return _?R:R.replace(/\0/g,"")}function YE(T){return T.type==="PRIV"?(function(_){if(_.size<2)return;const S=sr(_.data,!0),R=new Uint8Array(_.data.subarray(S.length+1));return{key:_.type,info:S,data:R.buffer}})(T):T.type[0]==="W"?(function(_){if(_.type==="WXXX"){if(_.size<2)return;let R=1;const k=sr(_.data.subarray(R),!0);R+=k.length+1;const L=sr(_.data.subarray(R));return{key:_.type,info:k,data:L}}const S=sr(_.data);return{key:_.type,info:"",data:S}})(T):T.type==="APIC"?(function(_){const S={key:_.type,description:"",data:"",mimeType:null,pictureType:null};if(_.size<2)return;if(_.data[0]!==3)return void console.log("Ignore frame with unrecognized character encoding");const R=_.data.subarray(1).indexOf(0);if(R===-1)return;const k=sr(Is(_.data,1,R)),L=_.data[2+R],$=_.data.subarray(3+R).indexOf(0);if($===-1)return;const B=sr(Is(_.data,3+R,$));let U;var K;return U=k==="-->"?sr(Is(_.data,4+R+$)):(K=_.data.subarray(4+R+$))instanceof ArrayBuffer?K:K.byteOffset==0&&K.byteLength==K.buffer.byteLength?K.buffer:new Uint8Array(K).buffer,S.mimeType=k,S.pictureType=L,S.description=B,S.data=U,S})(T):(function(_){if(_.size<2)return;if(_.type==="TXXX"){let R=1;const{data:k}=_,L=sr(k.subarray(R),!0);R+=L.length+1;const $=sr(k.subarray(R));return{key:_.type,info:L,data:$}}const S=sr(_.data.subarray(1));return{key:_.type,info:"",data:S}})(T)}function Ep(T){const _=String.fromCharCode(T[0],T[1],T[2],T[3]),S=Wo(T,4);return{type:_,size:S,data:T.subarray(10,10+S)}}const Mc=10,WE=10;function or(){let T,_,S,R,k,L,$;const B=this.context;function U(Q,V){const W=V?V.index:0,Ie=_.getAdaptationsForType(k[W].mpd.manifest,W,Q);if(!Ie||Ie.length===0)return null;if(Ie.length>1&&V){for(let Ce=0,we=Ie.length;Ce<we;Ce++)if(le=Ie[Ce],_.getRolesForAdaptation(le).filter((function(Le){return Le.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&Le.value===xe.default.MAIN}))[0])return Ie[Ce]}var le;return Ie[0]}function K(Q,V,W,Ie,le,Ce){let we,Le,Ge,Pe,te,oe,ge=[];if(!Ie||Ie.length===0)return[];const ue=_.getAdaptationsForPeriod(V);for(Pe=0,oe=Ie.length;Pe<oe;Pe++)if(we=Ie[Pe],Ge=_.getIndexForAdaptation(we,Q,W.index),Le=ae(ue[Ge]),Ce){let de=Le.accessibility.length;for(te=0;te<de;te++){if(!Le)continue;let Ee=Le.accessibility[te];if(Ee.schemeIdUri===L.ACCESSIBILITY_CEA608_SCHEME)if(Ee.value&&Ee.value!==""){let X=Ee.value.split(";");if(X[0].substring(0,2)==="CC")for(te=0;te<X.length;te++)Le||(Le=ae.call(this,ue[Ge])),fe(Le,X[te].substring(0,3),X[te].substring(4)),ge.push(Le),Le=null;else for(te=0;te<X.length;te++)Le||(Le=ae.call(this,ue[Ge])),fe(Le,"CC"+(te+1),X[te]),ge.push(Le),Le=null}else fe(Le,L.CC1,"eng"),ge.push(Le),Le=null}}else le===L.IMAGE?(Le.type=L.IMAGE,ge.push(Le),Le=null):Le&&ge.push(Le);if(R.get().streaming.includePreselectionsInMediainfoArray){const de=_.getPreselectionsForPeriod(V);for(Pe=0,oe=de.length;Pe<oe;Pe++){const Ee=de[Pe];Ee.hasOwnProperty("type")&&Ee.type===le&&(Le=J(de[Pe]),Le&&ge.push(Le))}}return ge}function Y(Q){const V=D(Q);return _.getRegularPeriods(V)}function D(Q){const V=j(Q);return _.getMpd(V)}function q(){k=[]}function j(Q){return Q||(k.length>0?k[0].mpd.manifest:null)}function Z(Q){try{const V=ie(Q.streamInfo,k),W=_.getAdaptationsForPeriod(V);return Q&&Q.streamInfo&&Q.streamInfo.id!==void 0&&W?W[Q.index]:null}catch{return null}}function ie(Q,V){const W=V.length;for(let Ie=0;Ie<W;Ie++){let le=V[Ie];if(Q&&Q.id===le.id)return le}return null}function ae(Q){if(!Q)return null;let V=new es;const W=Q.period.mpd.manifest.Period[Q.period.index].AdaptationSet[Q.index];V.id=Q.id,V.index=Q.index,V.codec=_.getCodec(W);const Ie=R.get().streaming.enhancement.codecs;return V.type=Ie.some((le=>V.codec?.includes(le)))?p.default.ENHANCEMENT:Q.type,V.streamInfo=me(Q.period),V.representationCount=_.getRepresentationCount(W),V.labels=_.getLabelsForAdaptation(W),V.lang=_.getLanguageForAdaptation(W),V.segmentAlignment=_.getSegmentAlignment(W),V.subSegmentAlignment=_.getSubSegmentAlignment(W),V.viewpoint=_.getViewpointForAdaptation(W),V.accessibility=_.getAccessibilityForAdaptation(W),V.accessibility.filter((function(le){if(le.schemeIdUri&&le.schemeIdUri.search("cea-608")>=0&&$!==void 0)return!0}))[0]&&(V.embeddedCaptions=!0),V.audioChannelConfiguration=_.getAudioChannelConfigurationForAdaptation(W),V.audioChannelConfiguration.length===0&&W.Representation&&W.Representation.length>0&&(V.audioChannelConfiguration=_.getAudioChannelConfigurationForRepresentation(W.Representation[0])),V.roles=_.getRolesForAdaptation(W),V.mimeType=_.getMimeType(W),V.contentProtection=_.getContentProtectionByAdaptation(W),V.bitrateList=_.getBitrateListForAdaptation(W),V.selectionPriority=_.getSelectionPriority(W),V.contentProtection&&V.contentProtection.length>0&&(V.contentProtection=(function(le,Ce){if(!le||!le.length||!Ce)return le;const we=_.getContentProtectionByManifest(Ce);if(!we||!we.length)return le;const Le=we.reduce(((Ge,Pe)=>(Pe.refId&&Ge.set(Pe.refId,Pe),Ge)),new Map);return le.map((Ge=>{if(Ge.ref){const Pe=Le.get(Ge.ref);Pe&&Ge.mergeAttributesFromReference(Pe)}return Ge}))})(V.contentProtection,Q.period.mpd.manifest),V.contentProtection=(function(le){const Ce=le.map((we=>we.cencDefaultKid)).filter((we=>we!==null));if(Ce.length){const we=Ce[0];le.forEach((Le=>{Le.keyId=we}))}return le})(V.contentProtection),V.normalizedKeyIds=(function(le){const Ce=new Set;return le.forEach((we=>{we.cencDefaultKid&&typeof we.cencDefaultKid=="string"&&Ce.add(we.cencDefaultKid.replace(/-/g,"").toLowerCase())})),Ce})(V.contentProtection)),V.isText=_.getIsText(W),V.essentialProperties=_.getCombinedEssentialPropertiesForAdaptationSet(W),V.supplementalProperties=_.getCombinedSupplementalPropertiesForAdaptationSet(W),V.isFragmented=_.getIsFragmented(W),V.isEmbedded=!1,V.adaptationSetSwitchingCompatibleIds=(function(le){if(!le||!le.supplementalProperties)return[];let Ce=[];const we=le.supplementalProperties.filter((Le=>Le.schemeIdUri===xe.default.ADAPTATION_SET_SWITCHING_SCHEME_ID_URI));return we&&we.length>0&&(Ce=we[0].value.toString().split(",").map((Le=>Le))),Ce})(V),V.segmentSequenceProperties=_.getSegmentSequencePropertiesForAdaptationSet(W),V}function J(Q){if(!Q)return null;let V=new es;const W=Q.period.mpd.manifest.Period[Q.period.index].Preselection[Q.index],Ie=Q.period.mpd.manifest.Period[Q.period.index].AdaptationSet,le=_.getAdaptationsForPeriod(Q.period);return V=ae(_.getMainAdaptationSetForPreselection(W,le)),V&&(V.isPreselection=!0,V.tag=Q.tag,V.id=Q.id,V.codec=_.getCodecForPreselection(W,Ie),V.selectionPriority=_.getSelectionPriority(W),V.labels=_.getLabelsForAdaptation(W),V.lang=_.getLanguageForAdaptation(W),V.viewpoint=_.getViewpointForAdaptation(W),V.accessibility=_.getAccessibilityForAdaptation(W),V.audioChannelConfiguration=_.getAudioChannelConfigurationForAdaptation(W),V.roles=_.getRolesForAdaptation(W),V.essentialProperties=_.getCombinedEssentialPropertiesForAdaptationSet(W),V.supplementalProperties=_.getCombinedSupplementalPropertiesForAdaptationSet(W)),V}function fe(Q,V,W){Q.id=V,Q.index=100+parseInt(V.substring(2,3)),Q.type=L.TEXT,Q.codec="cea-608-in-SEI",Q.isEmbedded=!0,Q.isFragmented=!1,Q.lang=Yo(W),Q.roles=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function me(Q){let V=new rf;return V.id=Q.id,V.index=Q.index,V.start=Q.start,V.duration=Q.duration,V.manifestInfo=(function(W){let Ie=new As;return Ie.dvrWindowSize=W.timeShiftBufferDepth,Ie.loadedTime=W.manifest.loadedTime,Ie.availableFrom=W.availabilityStartTime,Ie.minBufferTime=W.manifest.minBufferTime,Ie.maxFragmentDuration=W.maxSegmentDuration,Ie.duration=_.getDuration(W.manifest),Ie.isDynamic=_.getIsDynamic(W.manifest),Ie.serviceDescriptions=_.getServiceDescriptions(W.manifest),Ie.protocol=W.manifest.protocol,Ie})(Q.mpd),V.isLast=Q.mpd.manifest.Period.length===1||Math.abs(V.start+V.duration-V.manifestInfo.duration)<1,V.isEncrypted=Q.isEncrypted,V}function pe(){if(!L)throw new Error("setConfig function has to be called previously")}function Re(Q){return k.length>0?k[0].mpd.manifest.Period[Q]:null}function ne(Q,V,W){let Ie,le,Ce,we,Le,Ge;if(Q){for(le=Q.AdaptationSet,Le=0;Le<le.length;Le+=1)for(Ie=le[Le],we=Ie.Representation,Ge=0;Ge<we.length;Ge+=1)if(Ce=we[Ge],V===Ce.id)return W?Ge:Ce}return null}return T={applyPatchToManifest:function(Q,V){S.getPatchOperations(V).forEach((W=>{let Ie=W.getMpdTarget(Q);if(Ie===null)return;let{name:le,target:Ce,leaf:we}=Ie;if(W.xpath.findsAttribute()||le==="__text"){switch(W.action){case"add":case"replace":Ce[le]=W.value;break;case"remove":delete Ce[le]}return}let Le=(Ce[le]||[]).indexOf(we),Ge=W.position==="prepend"||W.position==="before";if(W.action==="remove"||W.action==="replace")if(Array.isArray(Ce[le])){if(Le!=-1){let Pe=Ce[le];Pe.splice(Le,1),Pe.length>0?Ce[le]=Pe:delete Ce[le]}}else delete Ce[le];W.action!=="add"&&W.action!=="replace"||Object.keys(W.value).forEach((Pe=>{let te=W.value[Pe],oe=Ce[Pe]||[];if(oe.length===0&&Ce[Pe]&&oe.push(Ce[Pe]),oe.length===0)oe=te;else{let ge=oe.length;ge=Pe==le&&Le!=-1?Le+(Ge?0:1)+(W.action==="replace"?-1:0):Ge?0:oe.length,oe.splice.apply(oe,[ge,0].concat(te))}Ce[Pe]=oe}))}))},areMediaInfosEqual:function(Q,V){if(!Q||!V)return!1;const W=Q.id===V.id,Ie=Q.codec===V.codec,le=JSON.stringify(Q.viewpoint)===JSON.stringify(V.viewpoint),Ce=Q.lang===V.lang,we=JSON.stringify(Q.roles)===JSON.stringify(V.roles),Le=JSON.stringify(Q.accessibility)===JSON.stringify(V.accessibility),Ge=JSON.stringify(Q.audioChannelConfiguration)===JSON.stringify(V.audioChannelConfiguration);return W&&Ie&&le&&Ce&&we&&Le&&Ge},getAllMediaInfoForType:function(Q,V,W){let Ie=k,le=W,Ce=[];if(le)pe(),Ie=Y(le);else{if(!(k.length>0))return Ce;le=k[0].mpd.manifest}const we=ie(Q,Ie);let Le=_.getAdaptationsForType(le,Q?Q.index:null,V);return Ce=K(le,we,Q,Le,V),V===L.TEXT&&(Le=_.getAdaptationsForType(le,Q?Q.index:null,L.VIDEO),Ce=Ce.concat(K(le,we,Q,Le,V,!0))),Ce},getAvailabilityStartTime:function(Q){const V=D(Q);return _.getAvailabilityStartTime(V)},getBandwidthForRepresentation:function(Q,V){let W;return W=ne(Re(V),Q),W?W.bandwidth:null},getBaseURLsFromElement:function(Q){return _.getBaseURLsFromElement(Q)},getCodec:function(Q,V,W){return _.getCodec(Q,V,W)},getCodecForPreselection:function(Q,V){return _.getCodecForPreselection(Q,V)},getContentSteering:function(Q){return _.getContentSteering(Q)},getDuration:function(Q){const V=j(Q);return _.getDuration(V)},getEssentialProperties:function(Q){try{return _.getEssentialProperties(Q)}catch{return[]}},getEvent:function(Q,V,W,Ie){try{if(!Q||!V||isNaN(W)||!Ie)return null;const le=Q.scheme_id_uri,Ce=Q.value;if(!V[le+"/"+Ce])return null;const we=new $a,Le=Q.timescale||1,Ge=Ie.adaptation.period.start,Pe=V[le+"/"+Ce],te=isNaN(Ie.presentationTimeOffset)?isNaN(Pe.presentationTimeOffset)?0:Pe.presentationTimeOffset:Ie.presentationTimeOffset;let oe,ge=Q.presentation_time_delta/Le;oe=Q.version===0?Ge+W-te+ge:Ge-te+ge;const ue=Q.event_duration/Le,de=Q.id,Ee=Q.message_data;return we.eventStream=Pe,we.eventStream.value=Ce,we.eventStream.timescale=Le,we.duration=ue,we.id=de,we.calculatedPresentationTime=oe,we.messageData=Ee,we.presentationTimeDelta=ge,we.parsedMessageData=le===p.default.ID3_SCHEME_ID_URI?(function(X){let _e=0;const ke=[];for(;Rs(X,_e);){const Oe=Wo(X,_e+6);X[_e+5]>>6&1&&(_e+=Mc),_e+=Mc;const je=_e+Oe;for(;_e+WE<je;){const Be=Ep(X.subarray(_e)),Ze=YE(Be);Ze&&ke.push(Ze),_e+=Be.size+Mc}ho(X,_e)&&(_e+=Mc)}return ke})(Ee):null,we}catch{return null}},getEventsFor:function(Q,V,W){let Ie=[];if(k.length>0){const le=k[0].mpd.manifest;if(Q instanceof rf){const Ce=ie(Q,k);Ie=_.getEventsForPeriod(Ce)}else if(Q instanceof es){const Ce=ie(W,k);Ie=_.getEventStreamForAdaptationSet(le,Z(Q),Ce)}else if(Q instanceof Rn){const Ce=ie(W,k);Ie=_.getEventStreamForRepresentation(le,V,Ce)}}return Ie},getFramerate:function(Q){return _.getFramerate(Q)},getIndexForRepresentation:function(Q,V){return(function(W,Ie){const le=ne(W,Ie,!0);return le!==null?le:-1})(Re(V),Q)},getIsDVB:function(Q){return _.hasProfile(Q,"urn:dvb:dash:profile:dvb-dash:2014")},getIsDynamic:function(Q){const V=j(Q);return _.getIsDynamic(V)},getIsPatch:function(Q){return S.getIsPatch(Q)},getIsTextTrack:function(Q){return _.getIsText(Q)},getIsTypeOf:function(Q,V){return _.getIsTypeOf(Q,V)},getLocation:function(Q){return _.getLocation(Q)},getMainAdaptationForType:U,getMainAdaptationSetForPreselection:function(Q,V){return _.getMainAdaptationSetForPreselection(Q,V)},getCommonRepresentationForPreselection:function(Q,V){return _.getCommonRepresentationForPreselection(Q,V)},getManifestUpdatePeriod:function(Q,V=0){return _.getManifestUpdatePeriod(Q,V)},getMediaInfoForType:function(Q,V){if(k.length===0||!Q)return null;let W=ie(Q,k);if(!W)return null;const Ie=_.getAdaptationsForPeriod(W);let le=U(V,Q);return le?ae(Ie[_.getIndexForAdaptation(le,k[0].mpd.manifest,Q.index)]):null},getMpd:D,getPatchLocation:function(Q){const V=_.getPatchLocation(Q),W=_.getPublishTime(Q);return V&&V.length!==0&&W?V.filter((Ie=>isNaN(Ie.ttl)||W.getTime()+Ie.ttl>new Date().getTime())):[]},getPeriodById:function(Q){if(!Q||k.length===0)return null;const V=k.filter((W=>W.id===Q));return V&&V.length>0?V[0]:null},getPreselectionIsTypeOf:function(Q,V,W){return _.getPreselectionIsTypeOf(Q,V,W)},getProducerReferenceTimes:function(Q,V){let W,Ie;const le=ie(Q,k);return W=V?V.id:null,k.length>0&&le&&(Ie=W?_.getAdaptationForId(W,k[0].mpd.manifest,le.index):_.getAdaptationForIndex(V?V.index:null,k[0].mpd.manifest,le.index)),Ie?_.getProducerReferenceTimesForAdaptation(Ie):[]},getPublishTime:function(Q){return _.getPublishTime(Q)},getRealAdaptation:function(Q,V){let W,Ie;const le=ie(Q,k);return W=V?V.id:null,k.length>0&&le&&(Ie=W?_.getAdaptationForId(W,k[0].mpd.manifest,le.index):_.getAdaptationForIndex(V?V.index:null,k[0].mpd.manifest,le.index)),Ie},getRealPeriodByIndex:function(Q){return _.getRealPeriodForIndex(Q,k[0].mpd.manifest)},getRegularPeriods:Y,getRepresentationSortFunction:function(){return _.getRepresentationSortFunction()},getStreamsInfo:function(Q,V){const W=[];let Ie=k;if(Q&&(pe(),Ie=Y(Q)),Ie.length>0){(!V||V>Ie.length)&&(V=Ie.length);for(let le=0;le<V;le++)W.push(me(Ie[le]))}return W},getSuggestedPresentationDelay:function(){const Q=k.length>0?k[0].mpd:null;return _.getSuggestedPresentationDelay(Q)},getSupplementalCodecs:function(Q){const V=Q[xe.default.SUPPLEMENTAL_CODECS];return V?V.split(" ").map((W=>Q.mimeType+';codecs="'+W+'"')):[]},getUTCTimingSources:function(){const Q=j();return _.getUTCTimingSources(Q)},getVoRepresentations:function(Q){let V;const W=Z(Q);return V=_.getRepresentationsForAdaptation(W,Q),V},isPatchValid:function(Q,V){let W=_.getId(Q),Ie=S.getMpdId(V),le=_.getPublishTime(Q),Ce=S.getPublishTime(V),we=S.getOriginalPublishTime(V);return!!(W&&Ie&&W==Ie&&le&&we&&le.getTime()==we.getTime()&&Ce&&le.getTime()<Ce.getTime())},reset:q,setConfig:function(Q){Q&&(Q.constants&&(L=Q.constants),Q.cea608parser&&($=Q.cea608parser),Q.errHandler&&_.setConfig({errHandler:Q.errHandler}),Q.BASE64&&_.setConfig({BASE64:Q.BASE64}))},updatePeriods:function(Q){if(!Q)return null;pe(),k=Y(Q)}},_=xi(B).getInstance(),S=Dh(B).getInstance(),R=(0,c.default)(B).getInstance(),q(),T}or.__dashjs_factory_name="DashAdapter";var _a=i.default.getSingletonFactory(or);class Fi{static round10(_,S){return(function(R,k,L){return L===void 0||+L==0?Math[R](k):(L=+L,(k=+k)===null||isNaN(k)||typeof L!="number"||L%1!=0?NaN:(k=k.toString().split("e"),+((k=(k=Math[R](+(k[0]+"e"+(k[1]?+k[1]-L:-L)))).toString().split("e"))[0]+"e"+(k[1]?+k[1]+L:L))))})("round",_,S)}}var kl=class{constructor(){this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]}},ks=class{constructor(){this.t=null,this.mt=null,this.to=null,this.lto=null}},bp=class{constructor(){this.t=null,this.level=null}},xl=class{constructor(){this.target=null,this.state=o.BUFFER_EMPTY}},QE=class{constructor(){this.time=null,this.range=null,this.manifestInfo=null}},XE=class{constructor(){this.time=null,this.droppedFrames=null}};class Nc{constructor(){this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}}class Du{constructor(){this.id=null,this.index=null,this.start=null,this.duration=null}}class _p{constructor(){this.id=null,this.index=null,this.mediaType=null,this.presentationTimeOffset=null,this.startNumber=null}}var cf=class{constructor(){this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.bandwidth=null,this.range=null,this.state=null}},Tp=class{constructor(){this.loadingRequests=[],this.executedRequests=[]}};function Cl(T){const _=(T=T||{}).settings;let S,R,k=this.context,L=(0,g.default)(k).getInstance();function $(){L.trigger(m.default.METRICS_CHANGED)}function B(j){L.trigger(m.default.METRIC_CHANGED,{mediaType:j}),$()}function U(j,Z,ie){L.trigger(m.default.METRIC_UPDATED,{mediaType:j,metric:Z,value:ie}),B(j)}function K(j,Z,ie){L.trigger(m.default.METRIC_ADDED,{mediaType:j,metric:Z,value:ie}),B(j)}function Y(j,Z){let ie=null;return j&&(R.hasOwnProperty(j)?ie=R[j]:Z||(ie=new kl,R[j]=ie)),ie}function D(j,Z,ie){let ae=Y(j);ae!==null&&(ae[Z].push(ie),ae[Z].length>_.get().streaming.metrics.maxListDepth&&ae[Z].shift())}function q(j,Z,ie){D(j,Z,ie),K(j,Z,ie)}return S={addBufferLevel:function(j,Z,ie){let ae=new bp;ae.t=Z,ae.level=ie,q(j,o.BUFFER_LEVEL,ae)},addBufferState:function(j,Z,ie){let ae=new xl;ae.target=ie,ae.state=Z,q(j,o.BUFFER_STATE,ae)},addDVBErrors:function(j){q(p.default.STREAM,o.DVB_ERRORS,j)},addDVRInfo:function(j,Z,ie,ae){let J=new QE;J.time=Z,J.range=ae,J.manifestInfo=ie,q(j,o.DVR_INFO,J)},addDroppedFrames:function(j,Z){let ie=new XE,ae=Y(j).DroppedFrames;Z&&(ie.time=Z.creationTime,ie.droppedFrames=Z.droppedVideoFrames,ae.length>0&&ae[ae.length-1]==ie||q(j,o.DROPPED_FRAMES,ie))},addHttpRequest:function j(Z,ie,ae,J){let fe=new se.HTTPRequest;ie.url&&ie.url!==Z.url&&(j({mediaType:Z.mediaType,type:Z.type,url:Z.url,serviceLocation:null,range:Z.range,startDate:Z.startDate,firstByteDate:null,endDate:null,duration:Z.duration,fileLoaderType:Z.fileLoaderType,resourceTimingValues:Z.resourceTimingValues},{url:null,status:null,headers:null},null,J),fe.actualurl=ie.url),fe.tcpid=null,fe.type=Z.type,fe.url=Z.url,fe.range=Z.range||null,fe.trequest=Z.startDate,fe.tresponse=Z.firstByteDate,fe.responsecode=ie.status,fe.cmsd=J,fe._tfinish=Z.endDate,fe._stream=Z.mediaType,fe._mediaduration=Z.duration,fe._responseHeaders="";for(const me in ie.headers)fe._responseHeaders+=me+": "+ie.headers[me]+`\r
`;fe._serviceLocation=Z.serviceLocation||null,fe._fileLoaderType=Z.fileLoaderType,fe._resourceTimingValues=Z.resourceTimingValues,fe._streamId=Z&&Z.representation&&Z.representation.mediaInfo&&Z.representation.mediaInfo.streamInfo?Z.representation.mediaInfo.streamInfo.id:null,ae?ae.forEach((me=>{(function(pe,Re,ne,Q){let V=new se.HTTPRequestTrace;V.s=Re,V.d=ne,V.b=Q,pe.trace.push(V),pe.interval||(pe.interval=0),pe.interval+=ne})(fe,me.s,me.d,me.b,me.t)})):(delete fe.interval,delete fe.trace),q(Z.mediaType,o.HTTP_REQUEST,fe)},addManifestUpdate:function(j,Z,ie,ae){let J=new Nc;J.mediaType=j,J.type=Z,J.requestTime=ie,J.fetchTime=ae,D(p.default.STREAM,o.MANIFEST_UPDATE,J),K(j,o.MANIFEST_UPDATE,J)},addManifestUpdateRepresentationInfo:function(j,Z,ie){if(j&&j.representationInfo){const ae=new _p;ae.id=Z?Z.id:null,ae.index=Z?Z.index:null,ae.mediaType=ie,ae.startNumber=Z?Z.startNumber:null,ae.presentationTimeOffset=Z?Z.presentationTimeOffset:null,j.representationInfo.push(ae),U(j.mediaType,o.MANIFEST_UPDATE_TRACK_INFO,j)}},addManifestUpdateStreamInfo:function(j,Z,ie,ae,J){if(j){let fe=new Du;fe.id=Z,fe.index=ie,fe.start=ae,fe.duration=J,j.streamInfo.push(fe),U(j.mediaType,o.MANIFEST_UPDATE_STREAM_INFO,j)}},addPlayList:function(j){j.trace&&Array.isArray(j.trace)?j.trace.forEach((Z=>{Z.hasOwnProperty("subreplevel")&&!Z.subreplevel&&delete Z.subreplevel})):delete j.trace,q(p.default.STREAM,o.PLAY_LIST,j)},addRepresentationSwitch:function(j,Z,ie,ae,J){let fe=new ks;fe.t=Z,fe.mt=ie,fe.to=ae,J?fe.lto=J:delete fe.lto,q(j,o.TRACK_SWITCH,fe)},addRequestsQueue:function(j,Z,ie){let ae=new Tp;ae.loadingRequests=Z,ae.executedRequests=ie,Y(j).RequestsQueue=ae,K(j,o.REQUESTS_QUEUE,ae)},addSchedulingInfo:function(j,Z,ie,ae,J,fe,me,pe,Re){let ne=new cf;ne.mediaType=j,ne.t=Z,ne.type=ie,ne.startTime=ae,ne.availabilityStartTime=J,ne.duration=fe,ne.bandwidth=me,ne.range=pe,ne.state=Re,q(j,o.SCHEDULING_INFO,ne)},clearAllCurrentMetrics:function(){R={},$()},clearCurrentMetricsForType:function(j){delete R[j],B(j)},getMetricsFor:Y,updateManifestUpdateInfo:function(j,Z){if(j){for(let ie in Z)j[ie]=Z[ie];U(j.mediaType,o.MANIFEST_UPDATE,j)}}},R={},S}Cl.__dashjs_factory_name="MetricsModel";var Qo=i.default.getSingletonFactory(Cl);class zr{constructor(){this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}}zr.INITIAL_PLAYOUT_START_REASON="initial_playout",zr.SEEK_START_REASON="seek",zr.RESUME_FROM_PAUSE_START_REASON="resume",zr.METRICS_COLLECTION_START_REASON="metrics_collection_start";class Ia{constructor(){this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}}function Nh(T){T=T||{};const _=this.context;let S,R,k,L,$=T.metricsModel;function B(Y){const D=$.getMetricsFor(Y,!0);if(!D)return null;const q=D.HttpList;let j,Z=null;if(!q||q.length<=0)return null;for(j=q.length-1;j>=0;){if(q[j].responsecode){Z=q[j];break}j--}return Z}function U(Y){const D=$.getMetricsFor(Y,!0);return D&&D.HttpList?D.HttpList:[]}function K(Y,D){if(!Y)return null;const q=Y[D];return q&&q.length!==0?q[q.length-1]:null}return S={getCurrentRepresentationSwitch:function(Y){return K($.getMetricsFor(Y,!0),o.TRACK_SWITCH)},getCurrentBufferState:function(Y){return K($.getMetricsFor(Y,!0),o.BUFFER_STATE)},getCurrentBufferLevel:function(Y){const D=K($.getMetricsFor(Y,!0),o.BUFFER_LEVEL);return D?Fi.round10(D.level/1e3,-3):0},getCurrentHttpRequest:B,getHttpRequests:U,getCurrentDroppedFrames:function(){return K($.getMetricsFor(p.default.VIDEO,!0),o.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(Y){return K($.getMetricsFor(Y,!0),o.SCHEDULING_INFO)},getCurrentDVRInfo:function(Y){return K(Y?$.getMetricsFor(Y,!0):$.getMetricsFor(p.default.VIDEO,!0)||$.getMetricsFor(p.default.AUDIO,!0),o.DVR_INFO)},getCurrentManifestUpdate:function(){return K($.getMetricsFor(p.default.STREAM),o.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(Y,D){if(!D)return null;let q={},j=B(Y);j&&(q=vt.default.parseHttpHeaders(j._responseHeaders));const Z=q[D.toLowerCase()];return Z===void 0?null:Z},getLatestMPDRequestHeaderValueByID:function(Y){if(!Y)return null;let D,q,j,Z={};for(D=U(p.default.STREAM),j=D.length-1;j>=0;j--)if(q=D[j],q.type===se.HTTPRequest.MPD_TYPE){Z=vt.default.parseHttpHeaders(q._responseHeaders);break}const ie=Z[Y.toLowerCase()];return ie===void 0?null:ie},addRepresentationSwitch:function(Y,D,q,j,Z){$.addRepresentationSwitch(Y,D,q,j,Z)},addDVRInfo:function(Y,D,q,j){$.addDVRInfo(Y,D,q,j)},updateManifestUpdateInfo:function(Y){const D=this.getCurrentManifestUpdate();$.updateManifestUpdateInfo(D,Y)},addManifestUpdateStreamInfo:function(Y){if(Y){const D=this.getCurrentManifestUpdate();$.addManifestUpdateStreamInfo(D,Y.id,Y.index,Y.start,Y.duration)}},addManifestUpdateRepresentationInfo:function(Y,D){if(Y){const q=this.getCurrentManifestUpdate();$.addManifestUpdateRepresentationInfo(q,Y,D)}},addManifestUpdate:function(Y){$.addManifestUpdate(p.default.STREAM,Y.type,Y.startDate,Y.endDate)},addHttpRequest:function(Y,D,q,j,Z,ie){const ae={status:q,headers:j,url:D};$.addHttpRequest(Y,ae,Z,ie)},addSchedulingInfo:function(Y,D){$.addSchedulingInfo(Y.mediaType,new Date,Y.type,Y.startTime,Y.availabilityStartTime,Y.duration,Y.bandwidth,Y.range,D)},addRequestsQueue:function(Y,D,q){$.addRequestsQueue(Y,D,q)},addBufferLevel:function(Y,D,q){$.addBufferLevel(Y,D,q)},addBufferState:function(Y,D,q){$.addBufferState(Y,D,q)},addDroppedFrames:function(Y){$.addDroppedFrames(p.default.VIDEO,Y)},addPlayList:function(){L&&($.addPlayList(L),L=null)},addDVBErrors:function(Y){$.addDVBErrors(Y)},createPlaylistMetrics:function(Y,D){L=new zr,L.start=new Date,L.mstart=Y,L.starttype=D},createPlaylistTraceMetrics:function(Y,D,q){R===!0&&(R=!1,k=new Ia,k.representationid=Y,k.start=new Date,k.mstart=D,k.playbackspeed=q!==null?q.toString():null)},updatePlayListTraceMetrics:function(Y){if(k)for(let D in k)k[D]=Y[D]},pushPlayListTraceMetrics:function(Y,D){if(R===!1&&L&&k&&k.start){const q=k.start;k.duration=Y.getTime()-q.getTime(),k.stopreason=D,L.trace.push(k),R=!0}},clearAllCurrentMetrics:function(){$.clearAllCurrentMetrics()}},$=$||Qo(_).getInstance({settings:T.settings}),R=!0,k=null,L=null,S}Ia.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Ia.REBUFFERING_REASON="rebuffering",Ia.USER_REQUEST_STOP_REASON="user_request",Ia.END_OF_PERIOD_STOP_REASON="end_of_period",Ia.END_OF_CONTENT_STOP_REASON="end_of_content",Ia.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Ia.FAILURE_STOP_REASON="failure",Nh.__dashjs_factory_name="DashMetrics";var Sp=i.default.getSingletonFactory(Nh);function Lu(){let T;const _=this.context,S=(0,g.default)(_).getInstance();return T={error:function(R){S.trigger(m.default.ERROR,{error:R})}},T}Lu.__dashjs_factory_name="ErrorHandler";var Oh=i.default.getSingletonFactory(Lu),Mu=t(5560);function lr(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L,$,B,U,K,Y,D,q,j;function Z(){j.debug("Stopping the gap controller"),$&&(clearInterval($),$=null),(function(){_.off(m.default.WALLCLOCK_TIME_UPDATED,me,this),_.off(m.default.INITIAL_STREAM_SWITCH,fe,this),_.off(m.default.PLAYBACK_SEEKING,ie,this),_.off(m.default.BUFFER_REPLACEMENT_STARTED,ae,S),_.off(m.default.TRACK_CHANGE_RENDERED,J,S)})(),$=null,B=NaN,L=0,D=null,q={}}function ie(){D&&(clearTimeout(D),D=null)}function ae(ne){try{if(ne.streamId!==K.getActiveStreamInfo().id||ne.mediaType!==p.default.VIDEO&&ne.mediaType!==p.default.AUDIO)return;ne.streamId===K.getActiveStreamInfo().id&&(q[ne.mediaType]=!0)}catch(Q){j.error(Q)}}function J(ne){ne&&ne.mediaType&&(q[ne.mediaType]=!1)}function fe(){$||(function(){try{$||(j.debug("Starting the gap controller"),$=setInterval((()=>{pe()&&Re(U.getTime())}),100))}catch{}})()}function me(){if(pe(k.get().streaming.gaps.enableSeekFix)&&(L++,L>=10)){const ne=U.getTime();R===ne?Re(ne,!0):(R=ne,B=NaN),L=0}}function pe(ne=!1){if(!K.getActiveStream())return!1;const Q=Object.keys(q).some((W=>q[W])),V=!!ne&&(function(){const W=K.getActiveStream(),Ie=parseFloat((W.getStartTime()+W.getDuration()).toFixed(5));return U.getTime()+k.get().streaming.gaps.threshold>=Ie})();return!Q&&k.get().streaming.gaps.jumpGaps&&K.getActiveStreamProcessors().length>0&&(!U.isSeeking()||V)&&!U.isPaused()&&!K.getIsStreamSwitchInProgress()&&!K.getHasMediaOrInitialisationError()}function Re(ne,Q=!1){const V=k.get().streaming.gaps.enableStallFix,W=k.get().streaming.gaps.stallSeek,Ie=k.get().streaming.gaps.smallGapLimit,le=k.get().streaming.gaps.jumpLargeGaps,Ce=k.get().streaming.gaps.seekOffset,we=Y.getBufferRange();let Le,Ge=NaN,Pe=!1;if(Le=(function(oe,ge){try{if(!oe||oe.length<=1&&ge>0)return NaN;let ue=NaN,de=0;for(;isNaN(ue)&&de<oe.length;){const Ee=de>0?oe.end(de-1):0;ge<oe.start(de)&&Ee-ge<k.get().streaming.gaps.threshold&&(ue=de),de+=1}return ue}catch{return null}})(we,ne),!isNaN(Le)){const oe=we.start(Le),ge=oe-ne;ge>0&&(ge<=Ie||le)&&(Ge=oe)}const te=U.getTimeToStreamEnd();if(isNaN(Ge)&&Q&&isFinite(te)&&!isNaN(te)&&te<Ie&&(Ge=parseFloat(U.getStreamEndTime().toFixed(5)),Pe=!0),V&&isNaN(Ge)&&Q&&isNaN(Le)&&(function(oe,ge){for(let ue=0,de=oe.length;ue<de;ue++)if(ge>=oe.start(ue)&&ge<=oe.end(ue))return!0;return!1})(we,ne)&&(W===0?(j.warn("Toggle play pause to break stall"),Y.pause(),Y.play()):(j.warn(`Jumping ${W}s to break stall`),Ge=ne+W)),Ge>0&&B!==Ge&&Ge>ne&&!D){const oe=Ge-ne;if(Pe){const ge=K.getStreamForTime(Ge),ue=ge&&!!ge.getPreloaded();j.warn(`Jumping to end of stream because of gap from ${ne} to ${Ge}. Gap duration: ${oe}`),U.seek(Ge+Ce,!0,ue)}else{const ge=U.getIsDynamic(),ue=Le>0?we.end(Le-1):ne,de=ge?1e3*Math.max(0,oe-.1):0;D=window.setTimeout((()=>{U.seek(Ge+Ce,!0,!0);const Ee=K.getActiveStream();Ee&&j.warn(`Jumping gap occuring in period ${Ee.getStreamId()} starting at ${ue} and ending at ${Ge}. Jumping by: ${Ge+Ce-ue}`),D=null}),de)}B=Ge}}return S={reset:Z,setConfig:function(ne){ne&&(ne.settings&&(k=ne.settings),ne.playbackController&&(U=ne.playbackController),ne.streamController&&(K=ne.streamController),ne.videoModel&&(Y=ne.videoModel))},initialize:function(){(function(){_.on(m.default.WALLCLOCK_TIME_UPDATED,me,this),_.on(m.default.INITIAL_STREAM_SWITCH,fe,this),_.on(m.default.PLAYBACK_SEEKING,ie,this),_.on(m.default.BUFFER_REPLACEMENT_STARTED,ae,S),_.on(m.default.TRACK_CHANGE_RENDERED,J,S)})()}},j=(0,l.default)(T).getInstance().getLogger(S),Z(),S}lr.__dashjs_factory_name="GapController";var Ph=i.default.getSingletonFactory(lr),Ap=class extends ve{constructor(T,_){super(),this.url=T||null,this.type=_||null,this.mediaType=p.default.STREAM,this.responseType=""}};function ZE(T){T=T||{};const _=this.context,S=(0,g.default)(_).getInstance();let R,k=Rl(_).create({errHandler:T.errHandler,dashMetrics:T.dashMetrics,mediaPlayerModel:T.mediaPlayerModel,errors:bn});return R={load:function(L,$,B){const U=function(K,Y){$.resolved=!0,$.resolvedContent=K||null,S.trigger(m.default.XLINK_ELEMENT_LOADED,{element:$,resolveObject:B,error:K||Y?null:new En.default(bn.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,bn.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+L)})};if(L==="urn:mpeg:dash:resolve-to-zero:2013")U(null,!0);else{const K=new Ap(L,se.HTTPRequest.XLINK_EXPANSION_TYPE);k.load({request:K,success:function(Y){U(Y)},error:function(){U(null)}})}},reset:function(){k&&(k.abort(),k=null)}},R}ZE.__dashjs_factory_name="XlinkLoader";var SA=i.default.getClassFactory(ZE);const Oc="onLoad";function ja(T){T=T||{};let _=this.context,S=(0,g.default)(_).getInstance();const R=Oi(_).getInstance();let k,L,$,B;function U(j,Z,ie){let ae,J,fe={};fe.elements=j,fe.type=Z,fe.resolveType=ie,fe.elements.length===0&&Y(fe);for(let me=0;me<fe.elements.length;me++)ae=fe.elements[me],J=R.isHTTPURL(ae.url)?ae.url:ae.originalContent.BaseURL+ae.url,B.load(J,ae,fe)}function K(j){let Z,ie,ae="";if(Z=j.element,ie=j.resolveObject,Z.resolvedContent){let J=0;Z.resolvedContent.indexOf("<?xml")===0&&(J=Z.resolvedContent.indexOf("?>")+2),ae=Z.resolvedContent.substr(0,J)+"<response>"+Z.resolvedContent.substr(J)+"</response>",Z.resolvedContent=L.parseXml(ae).response}(function(J){let fe,me;for(fe=0;fe<J.elements.length;fe++)if(me=J.elements[fe],me.resolved===!1)return!1;return!0})(ie)&&Y(ie)}function Y(j){let Z,ie,ae=[];if((function(J){let fe,me,pe,Re,ne,Q,V=[];for(Re=J.elements.length-1;Re>=0;Re--){if(fe=J.elements[Re],me=fe.type,fe.resolvedContent){if(fe.resolvedContent)for(ne=0;ne<fe.resolvedContent[me].length;ne++)pe=fe.resolvedContent[me][ne],V.push(pe)}else delete fe.originalContent["xlink:actuate"],delete fe.originalContent["xlink:href"],V.push(fe.originalContent);for(fe.parentElement[me].splice(fe.index,1),Q=0;Q<V.length;Q++)fe.parentElement[me].splice(fe.index+Q,0,V[Q]);V=[]}J.elements.length>0&&L.getIron().run($)})(j),j.resolveType==="onActuate"&&S.trigger(m.default.XLINK_READY,{manifest:$}),j.resolveType===Oc)switch(j.type){case xe.default.PERIOD:for(Z=0;Z<$[xe.default.PERIOD].length;Z++)ie=$[xe.default.PERIOD][Z],ie.hasOwnProperty(xe.default.ADAPTATION_SET)&&(ae=ae.concat(D(ie[xe.default.ADAPTATION_SET],ie,xe.default.ADAPTATION_SET,Oc))),ie.hasOwnProperty(xe.default.EVENT_STREAM)&&(ae=ae.concat(D(ie[xe.default.EVENT_STREAM],ie,xe.default.EVENT_STREAM,Oc)));U(ae,xe.default.ADAPTATION_SET,Oc);break;case xe.default.ADAPTATION_SET:S.trigger(m.default.XLINK_READY,{manifest:$})}}function D(j,Z,ie,ae){let J,fe,me,pe=[];for(fe=j.length-1;fe>=0;fe--)J=j[fe],J.hasOwnProperty("xlink:href")&&J["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&j.splice(fe,1);for(fe=0;fe<j.length;fe++)J=j[fe],J.hasOwnProperty("xlink:href")&&J.hasOwnProperty("xlink:actuate")&&J["xlink:actuate"]===ae&&(me=q(J["xlink:href"],Z,ie,fe,ae,J),pe.push(me));return pe}function q(j,Z,ie,ae,J,fe){return{url:j,parentElement:Z,type:ie,index:ae,resolveType:J,originalContent:fe,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function(j){let Z;$=j,$.Period?(Z=D($.Period,$,xe.default.PERIOD,Oc),U(Z,xe.default.PERIOD,Oc)):S.trigger(m.default.XLINK_READY,{manifest:$})},setParser:function(j){j&&(L=j)},reset:function(){S.off(m.default.XLINK_ELEMENT_LOADED,K,k),B&&(B.reset(),B=null)}},S.on(m.default.XLINK_ELEMENT_LOADED,K,k),B=SA(_).create({errHandler:T.errHandler,dashMetrics:T.dashMetrics,mediaPlayerModel:T.mediaPlayerModel,settings:T.settings}),k}ja.__dashjs_factory_name="XlinkController";var wp=i.default.getClassFactory(ja);function Pc(T){function _(k,L){for(let $ in k)L.hasOwnProperty($)||(L[$]=k[$])}function S(k,L,$){for(let B=0,U=k.length;B<U;++B){const K=k[B];if(L[K.name])if($[K.name]){if(K.merge){const Y=L[K.name],D=$[K.name];typeof Y=="object"&&typeof D=="object"?_(Y,D):$[K.name]=Y+D}}else $[K.name]=L[K.name]}}function R(k,L){for(let $=0,B=k.children.length;$<B;++$){const U=k.children[$],K=L[U.name];if(K)for(let Y=0,D=K.length;Y<D;++Y){const q=K[Y];S(k.properties,L,q),R(U,q)}}}return{run:function(k){if(k===null||typeof k!="object")return k;if(k.Period&&"period"in T){const L=T.period,$=k.Period;for(let B=0,U=$.length;B<U;++B){const K=$[B];if(R(L,K),"adaptationset"in T){const Y=K.AdaptationSet;if(Y){const D=T.adaptationset;for(let q=0,j=Y.length;q<j;++q)R(D,Y[q])}}}}return k}}}Pc.__dashjs_factory_name="ObjectIron";var df=i.default.getClassFactory(Pc),Uc=class{constructor(T,_){this._test=T,this._converter=_}get test(){return this._test}get converter(){return this._converter}};const Nu=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;var Fc=class extends Uc{constructor(){super(((T,_,S)=>{const R=[xe.default.MIN_BUFFER_TIME,xe.default.MEDIA_PRESENTATION_DURATION,xe.default.MINIMUM_UPDATE_PERIOD,xe.default.TIMESHIFT_BUFFER_DEPTH,xe.default.MAX_SEGMENT_DURATION,xe.default.MAX_SUBSEGMENT_DURATION,xe.default.SUGGESTED_PRESENTATION_DELAY,xe.default.START,p.default.START_TIME,xe.default.DURATION],k=R.length;for(let L=0;L<k;L++)if(_===R[L])return Nu.test(S);return!1}),(T=>{const _=Nu.exec(T);let S=31536e3*parseFloat(_[3]||0)+2592e3*parseFloat(_[5]||0)+86400*parseFloat(_[7]||0)+3600*parseFloat(_[9]||0)+60*parseFloat(_[11]||0)+parseFloat(_[13]||0);return _[1]!==void 0&&(S=-S),S}))}};const JE=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;var eb=class extends Uc{constructor(){super(((T,_,S)=>JE.test(S)),(T=>{const _=JE.exec(T);let S;if(S=Date.UTC(parseInt(_[1],10),parseInt(_[2],10)-1,parseInt(_[3],10),parseInt(_[4],10),parseInt(_[5],10),_[6]&&parseInt(_[6],10)||0,_[7]&&1e3*parseFloat(_[7])||0),_[9]&&_[10]){const R=60*parseInt(_[9],10)+parseInt(_[10],10);S+=(_[8]==="+"?-1:1)*R*60*1e3}return new Date(S)}))}};const AA=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,tb=[xe.default.ID];var Ou=class extends Uc{constructor(){super(((T,_,S)=>AA.test(S)&&tb.indexOf(_)===-1),(T=>parseFloat(T)))}},Rp=class extends Uc{constructor(){super(((T,_)=>{const S={[xe.default.ADAPTATION_SET]:[xe.default.LANG],[xe.default.REPRESENTATION]:[xe.default.LANG],[xe.default.CONTENT_COMPONENT]:[xe.default.LANG],[xe.default.LABEL]:[xe.default.LANG],[xe.default.GROUP_LABEL]:[xe.default.LANG]};if(S.hasOwnProperty(T)){let R=S[T];return R!==void 0&&R.indexOf(_)>=0}return!1}),(T=>Yo(T)||String(T)))}},Uh=class{constructor(T){var _;this._name=T,this._merge=(_=T)&&_.length&&_.charAt(0)===_.charAt(0).toUpperCase()}get name(){return this._name}get merge(){return this._merge}},Pu=class{constructor(T,_,S){this._name=T||"",this._properties=[],this._children=S||[],Array.isArray(_)&&_.forEach((R=>{this._properties.push(new Uh(R))}))}get name(){return this._name}get children(){return this._children}get properties(){return this._properties}},Bc=class extends Pu{constructor(){const T=[xe.default.AUDIO_CHANNEL_CONFIGURATION,xe.default.AUDIO_SAMPLING_RATE,xe.default.CODECS,xe.default.CODING_DEPENDENCY,xe.default.CONTENT_PROTECTION,xe.default.FRAMERATE,xe.default.FRAME_PACKING,xe.default.HEIGHT,xe.default.INBAND_EVENT_STREAM,xe.default.MAXIMUM_SAP_PERIOD,xe.default.MAX_PLAYOUT_RATE,xe.default.MIME_TYPE,xe.default.PROFILES,xe.default.SAR,xe.default.SCAN_TYPE,xe.default.SEGMENT_PROFILES,xe.default.SEGMENT_SEQUENCE_PROPERTIES,xe.default.START_WITH_SAP,xe.default.WIDTH];super(xe.default.ADAPTATION_SET,T,[new Pu(xe.default.REPRESENTATION,T,[new Pu(xe.default.SUB_REPRESENTATION,T)])])}},Ip=class extends Pu{constructor(){const T=[xe.default.SEGMENT_BASE,xe.default.SEGMENT_TEMPLATE,xe.default.SEGMENT_LIST];super(xe.default.PERIOD,T,[new Pu(xe.default.ADAPTATION_SET,T,[new Pu(xe.default.REPRESENTATION,T)])])}};const Fh=[xe.default.ACCESSIBILITY,xe.default.ADAPTATION_SET,xe.default.ADD,xe.default.AUDIO_CHANNEL_CONFIGURATION,xe.default.BASE_URL,xe.default.CONTENT_COMPONENT,xe.default.CONTENT_PROTECTION,xe.default.CONTENT_STEERING,xe.default.ESSENTIAL_PROPERTY,xe.default.EVENT,xe.default.EVENT_STREAM,xe.default.INBAND_EVENT_STREAM,xe.default.LABEL,xe.default.LOCATION,xe.default.METRICS,xe.default.PATCH_LOCATION,xe.default.PERIOD,xe.default.PRESELECTION,xe.default.PRODUCER_REFERENCE_TIME,xe.default.REMOVE,xe.default.REPLACE,xe.default.REPORTING,xe.default.REPRESENTATION,xe.default.ROLE,xe.default.S,xe.default.SEGMENT_SEQUENCE_PROPERTIES,xe.default.SEGMENT_URL,xe.default.SERVICE_DESCRIPTION,xe.default.SUPPLEMENTAL_PROPERTY,xe.default.UTC_TIMING];function ff(T){T=T||{};const _=this.context,S=T.debug;let R,k,L,$;function B(U){try{const K=(function(Y){const D=(function(j,Z={}){let ie=Z.pos||0;const ae=j.length,J=!!Z.keepComments,fe=!!Z.keepWhitespace,me="<",pe=60,Re=">",ne=62,Q=45,V=47,W=63,Ie=33,le=39,Ce=34,we=91,Le=93,Ge=`\r
	>/= `;function Pe(Ee,X="#text"){return{nodeName:X,nodeValue:Ee,attributes:{},childNodes:[]}}function te(Ee=""){const X=[];for(;j[ie];)if(j.charCodeAt(ie)==pe){if(j.charCodeAt(ie+1)===V){const ke=ie+2;if(ie=j.indexOf(Re,ie),!j.startsWith(Ee,ke)){const Oe=j.substring(0,ie).split(`
`);throw new Error(`Unexpected close tag
Line: `+(Oe.length-1)+`
Column: `+(Oe[Oe.length-1].length+1)+`
Char: `+j[ie])}return ie+1&&(ie+=1),X}if(j.charCodeAt(ie+1)===W){ie=j.indexOf(Re,ie),ie++;continue}if(j.charCodeAt(ie+1)===Ie){if(j.charCodeAt(ie+2)==Q){const ke=ie;for(;ie!==-1&&(j.charCodeAt(ie)!==ne||j.charCodeAt(ie-1)!=Q||j.charCodeAt(ie-2)!=Q||ie==-1);)ie=j.indexOf(Re,ie+1);ie===-1&&(ie=ae),J&&X.push(Pe(j.substring(ke,ie+1),"#comment"))}else{if(j.charCodeAt(ie+2)===we&&j.charCodeAt(ie+8)===we&&j.startsWith("CDATA",ie+3)){const ke=j.indexOf("]]>",ie);ke==-1?(X.push(Pe(j.substr(ie+9),"#cdata")),ie=ae):(X.push(Pe(j.substring(ie+9,ke),"#cdata")),ie=ke+3);continue}{const ke=ie+1;ie+=2;let Oe=!1;for(;(j.charCodeAt(ie)!==ne||Oe===!0)&&j[ie];)j.charCodeAt(ie)===we?Oe=!0:Oe===!0&&j.charCodeAt(ie)===Le&&(Oe=!1),ie++;X.push(Pe(j.substring(ke,ie),"#doctype"))}}ie++;continue}const _e=ue();X.push(_e)}else{const _e=oe();if(fe)_e.length>0&&X.push(Pe(_e));else{const ke=_e.trim();ke.length>0&&X.push(Pe(ke))}ie++}return X}function oe(){const Ee=ie;return ie=j.indexOf(me,ie)-1,ie===-2&&(ie=ae),zo(j.slice(Ee,ie+1))}function ge(){const Ee=ie;for(;Ge.indexOf(j[ie])===-1&&j[ie];)ie++;return j.slice(Ee,ie)}function ue(){ie++;const Ee=ge();let X=Ee,_e=null;const ke=Ee.indexOf(":");ke!==-1&&(_e=Ee.slice(0,ke),X=Ee.slice(ke+1));const Oe=(function(){const Ze={};for(;j.charCodeAt(ie)!==ne&&j[ie];){const mt=j.charCodeAt(ie);if(mt>64&&mt<91||mt>96&&mt<123){const St=ge();let Ht="",vn=j.charCodeAt(ie);for(;vn!==le&&vn!==Ce;)ie++,vn=j.charCodeAt(ie);if(vn===le||vn===Ce){if(Ht=de(),ie===-1)throw new Error("Missing closing quote")}else ie--;Ze[St]=zo(Ht)}ie++}return Ze})();let je=[];const Be=j.charCodeAt(ie-1);return ie++,Be!==V&&(je=te(Ee)),{nodeName:Ee,nodeValue:null,attributes:Oe,childNodes:je,prefix:_e,localName:X}}function de(){const Ee=j[ie],X=ie+1;return ie=j.indexOf(Ee,X),j.slice(X,ie)}return{nodeName:"#document",nodeValue:null,childNodes:te(""),attributes:{}}})(Y),q=D.childNodes.find((j=>j.nodeName==="MPD"||j.nodeName==="Patch"))||D.childNodes[0];return(function j(Z){Z.nodeName.indexOf(":")!==-1&&(Z.__prefix=Z.prefix,Z.nodeName=Z.localName);const{childNodes:ie,attributes:ae,nodeName:J}=Z;Z.tagName=J;for(let me in ae){let pe=ae[me];if(J==="S")pe=parseInt(pe);else for(let Re=0,ne=L.length;Re<ne;Re++){const Q=L[Re];if(Q.test(J,me,pe)){pe=Q.converter(pe);break}}Z[me]=pe}const fe=ie?.length;for(let me=0;me<fe;me++){const pe=ie[me];if(pe.nodeName==="#text"){Z.__text=pe.nodeValue;continue}j(pe);const{nodeName:Re}=pe;Array.isArray(Z[Re])?Z[Re].push(pe):Fh.indexOf(Re)!==-1?(Z[Re]||(Z[Re]=[]),Z[Re].push(pe)):Z[Re]=pe}Z.__children=ie})(q),q})(U);return{[K.tagName]:K}}catch{return null}}return R={getIron:function(){return $},parseXml:B,parse:function(U){let K;const Y=window.performance.now();if(K=B(U),!K)throw new Error("failed to parse the manifest");K.Patch?(K=K.Patch,K.add&&K.add.forEach((q=>$.run(q))),K.replace&&K.replace.forEach((q=>$.run(q)))):(K=K.MPD,$.run(K));const D=window.performance.now();return k.info("Parsing complete: "+(D-Y).toPrecision(3)+"ms"),K.protocol="DASH",K}},k=S.getLogger(R),L=[new Fc,new eb,new Ou,new Rp],$=df(_).create({adaptationset:new Bc,period:new Ip}),R}ff.__dashjs_factory_name="DashParser";var nb=i.default.getClassFactory(ff);function kp(T){T=T||{};const _=this.context,S=T.debug,R=T.settings,k=(0,g.default)(_).getInstance(),L=Oi(_).getInstance();let $,B,U,K,Y,D=T.mssHandler,q=T.errHandler;function j(Z){k.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:Z.manifest})}return $={load:function(Z,ie=null,ae=null){const J=new Date,fe=new Ap(Z,se.HTTPRequest.MPD_TYPE);ie&&(fe.serviceLocation=ie),ae&&(fe.queryParams=ae),fe.startDate||(fe.startDate=J),k.trigger(m.default.MANIFEST_LOADING_STARTED,{request:fe}),U.load({request:fe,success:function(me,pe,Re){if(!K)return;let ne,Q,V;if(Re&&Re!==Z?(Q=L.parseBaseUrl(Re),ne=Re):(L.isRelative(Z)&&(Z=L.resolve(Z,window.location.href)),Q=L.parseBaseUrl(Z)),pe!="No Content")if(Y===null&&(Y=(function(W){let Ie=null;return W.indexOf("SmoothStreamingMedia")>-1?(D&&(Ie=D.createMssParser(),D.createMssFragmentProcessor(),D.registerEvents()),Ie):W.indexOf("MPD")>-1||W.indexOf("Patch")>-1?nb(_).create({debug:S}):Ie})(me)),Y!==null){K.setParser(Y);try{V=Y.parse(me)}catch{return void k.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new En.default(bn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,bn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${Z}`)})}if(V){if(V.url=ne||Z,V.originalUrl||(V.originalUrl=V.url),R&&R.get().streaming.enableManifestDurationMismatchFix&&V.mediaPresentationDuration&&V.Period.length>1){const W=V.Period.reduce(((Ie,le)=>Ie+le.duration),0);!isNaN(W)&&V.mediaPresentationDuration>W&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),V.mediaPresentationDuration=W)}V.baseUri=Q,V.loadedTime=new Date,K.resolveManifestOnLoad(V),k.trigger(m.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:me})}else k.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new En.default(bn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,bn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${Z}`)})}else k.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new En.default(bn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,bn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${Z}`)});else k.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(me,pe,Re){k.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new En.default(bn.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,bn.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+`${Z}, ${Re}`)})}})},reset:function(){k.off(m.default.XLINK_READY,j,$),D&&D.reset(),K&&(K.reset(),K=null),U&&(U.abort(),U=null)}},B=S.getLogger($),k.on(m.default.XLINK_READY,j,$),U=Rl(_).create({errHandler:T.errHandler,dashMetrics:T.dashMetrics,mediaPlayerModel:T.mediaPlayerModel,urlUtils:L,constants:p.default,dashConstants:xe.default,errors:bn,requestTimeout:T.settings.get().streaming.manifestRequestTimeout}),K=wp(_).create({errHandler:q,dashMetrics:T.dashMetrics,mediaPlayerModel:T.mediaPlayerModel,settings:T.settings}),Y=null,$}kp.__dashjs_factory_name="ManifestLoader";var Uu=i.default.getClassFactory(kp);function Dl(){let T,_,S=this.context,R=(0,g.default)(S).getInstance();return T={getValue:function(){return _},setValue:function(k){_=k,k&&R.trigger(m.default.MANIFEST_LOADED,{data:k})}},T}Dl.__dashjs_factory_name="ManifestModel";var ib=i.default.getSingletonFactory(Dl);function xp(){const T=this.context,_=(0,c.default)(T).getInstance();let S,R,k;return S={select:function(L){if(!L||L.length===0)return null;let $=null;return _.get().streaming.applyContentSteering&&($=(function(B){const U=k.getCurrentSteeringResponseData();return U&&U.pathwayPriority&&U.pathwayPriority.length>0?(function(K=[],Y=[]){let D=0,q=null;for(;D<K.length;){const j=K[D],Z=Y.findIndex((ie=>ie.serviceLocation&&ie.serviceLocation===j));if(Z!==-1&&!R.contains(Y[Z].serviceLocation)){q=Y[Z];break}D+=1}return q})(U.pathwayPriority,B):null})(L)),$||($=(function(B){return B[0]})(L)),$},setConfig:function(L){L.blacklistController&&(R=L.blacklistController),L.contentSteeringController&&(k=L.contentSteeringController)},reset:function(){R.reset()}},R=xn(T).create({updateEventName:m.default.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),k=cp(T).getInstance(),S}xp.__dashjs_factory_name="LocationSelector";var zc=i.default.getClassFactory(xp);function $c(){const T=this.context,_=(0,g.default)(T).getInstance(),S=Oi(T).getInstance();let R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae,J;function fe(){ie=NaN,Y=!1,U=!0,K=!1,me()}function me(){ae!==null&&(clearTimeout(ae),ae=null)}function pe(we){me(),K||(isNaN(we)&&!isNaN(ie)&&(we=1e3*ie),isNaN(we)||(q.debug("Refresh manifest in "+we+" milliseconds."),ae=setTimeout(Q,we)))}function Re(we=!1){Y=!0;const Le=Z.getValue();let Ge=Le.url;Ge&&(Ge=vt.default.removeQueryParameterFromUrl(Ge,p.default.CMCD_QUERY_KEY));let Pe=null;const te=R.getPatchLocation(Le),oe=D.select(te);let ge=null;if(oe&&!we)Ge=oe.url,Pe=oe.serviceLocation,ge=oe.queryParams;else{const ue=(function(Ee){const X=R.getLocation(Ee),_e=k.getSynthesizedLocationElements(X);return X.concat(_e)})(Le),de=D.select(ue);de&&(Ge=de.url,Pe=de.serviceLocation,ge=de.queryParams)}S.isRelative(Ge)&&(Ge=S.resolve(Ge,Le.url)),j.load(Ge,Pe,ge)}function ne(we){if(we){if(R.getIsPatch(we)){let Pe=we;we=Z.getValue();let te=R.isPatchValid(we,Pe),oe=te;if(te){let ge=R.getPublishTime(we);R.applyPatchToManifest(we,Pe);let ue=R.getPublishTime(we);oe=ge.getTime()!==ue.getTime()}if(!oe)return q.debug("Patch provided is invalid, performing full manifest refresh"),void Re(!0);we.loadedTime=new Date}}else(we=Z.getValue()).loadedTime=new Date;if(Z.getValue()&&Z.getValue().type===xe.default.DYNAMIC&&we.type===xe.default.STATIC)return _.trigger(m.default.DYNAMIC_TO_STATIC),Y=!1,void(K=!0);Z.setValue(we);const Le=new Date,Ge=(Le.getTime()-we.loadedTime.getTime())/1e3;ie=R.getManifestUpdatePeriod(we,Ge),1e3*ie>2147483647&&(ie=2147483647e-3),_.trigger(m.default.MANIFEST_UPDATED,{manifest:we}),q.info("Manifest has been refreshed at "+Le+"["+Le.getTime()/1e3+"] "),U||pe()}function Q(){U||(Y?pe(J.get().streaming.manifestUpdateRetryInterval):Re())}function V(we){if(we.error)we.error.code===bn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&$.error(we.error);else{const Le=we.manifest;(function(Ge){(function(Pe){const te=L.getExternalSubtitles();if(!te||te.length===0)return;const oe=Pe&&Pe.Period?Pe.Period.length:0;te.forEach((ge=>{if(ge.periodId===null&&oe>1)q.warn(`External subtitle with id ${ge.id} has no periodId and the MPD contains more than one period. Unable to add the external subtitle as it is not clear which period shall be used.`);else if(oe===1)W(Pe.Period[0],ge);else{const ue=Pe.Period.find((de=>de.id===ge.periodId));ue?W(ue,ge):q.warn(`External subtitle with id ${ge.id} has periodId ${ge.periodId} but the MPD does not contain a period with that id. Unable to add the external subtitle.`)}}))})(Ge)})(Le),ne(Le)}}function W(we,Le){if(!we||!we.AdaptationSet)return we;we.AdaptationSet.push(Le.serializeToMpdParserFormat())}function Ie(){U=!1,pe()}function le(){U=!J.get().streaming.scheduling.scheduleWhilePaused,U&&me()}function Ce(){Y=!1}return B={getIsUpdating:function(){return Y},initialize:function(){fe(),_.on(m.default.STREAMS_COMPOSED,Ce,this),_.on(y.default.PLAYBACK_STARTED,Ie,this),_.on(y.default.PLAYBACK_PAUSED,le,this),_.on(m.default.INTERNAL_MANIFEST_LOADED,V,this)},refreshManifest:Re,reset:function(){_.off(y.default.PLAYBACK_STARTED,Ie,this),_.off(y.default.PLAYBACK_PAUSED,le,this),_.off(m.default.STREAMS_COMPOSED,Ce,this),_.off(m.default.INTERNAL_MANIFEST_LOADED,V,this),fe()},setConfig:function(we){we&&(we.manifestModel&&(Z=we.manifestModel),we.adapter&&(R=we.adapter),we.manifestLoader&&(j=we.manifestLoader),we.errHandler&&($=we.errHandler),we.locationSelector&&(D=we.locationSelector),we.settings&&(J=we.settings),we.contentSteeringController&&(k=we.contentSteeringController),we.customParametersModel&&(L=we.customParametersModel))},setManifest:function(we){ne(we)}},q=(0,l.default)(T).getInstance().getLogger(B),D=zc(T).create(),L=(0,Rh.default)(T).getInstance(),B}$c.__dashjs_factory_name="ManifestUpdater";var hf=i.default.getClassFactory($c);function Fu(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L,$,B,U,K,Y,D,q;function j(X){if(!(X&&X.currentRepresentation&&X.currentRepresentation.mediaInfo&&X.currentRepresentation.mediaInfo.type))return;const _e=X.currentRepresentation.mediaInfo.type;U[_e]=X.currentRepresentation}function Z(X,_e){return X&&k[_e]&&k[_e][X]?k[_e][X].list:[]}function ie(X,_e){return X&&k[_e]&&k[_e][X]?k[_e][X].current:null}function ae(X,_e={}){if(!X||!X.streamInfo)return;const ke=X.type,Oe=X.streamInfo.id,je=ie(ke,Oe);if(k[Oe]&&k[Oe][ke]&&(k[Oe][ke].current=X,k[Oe][ke].current&&(ke!==p.default.TEXT&&!me(X,je)||ke===p.default.TEXT&&X.isFragmented)&&_.trigger(m.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:je,newMediaInfo:X,switchMode:L.get().streaming.trackSwitchMode[ke],options:_e},{streamId:Oe}),!_e.hasOwnProperty("noSettingsSave")||!_e.noSettingsSave)){let Be=(function(Ze){const mt={lang:Ze.lang,viewpoint:Ze.viewpoint,roles:Ze.roles,accessibility:Ze.accessibility,audioChannelConfiguration:Ze.audioChannelConfiguration,codec:Ze.codec};return mt.lang||mt.viewpoint||mt.role&&mt.role.length>0||mt.accessibility&&mt.accessibility.length>0||mt.audioChannelConfiguration&&mt.audioChannelConfiguration.length>0?mt:null})(X);if(!Be||!k[Oe][ke].storeLastSettings)return;Be.roles&&(Be.role=Be.roles[0],delete Be.roles),Be.accessibility&&(Be.accessibility=Be.accessibility[0]),Be.audioChannelConfiguration&&(Be.audioChannelConfiguration=Be.audioChannelConfiguration[0]),B[ke]=Be,q.setSavedMediaSettings(ke,Be)}}function J(X,_e){X&&_e&&($[X]=_e)}function fe(X){return X?$[X]:null}function me(X,_e){if(!X&&!_e)return!0;if(!X||!_e||X.isPreselection!==_e.isPreselection)return!1;const ke=X.id===_e.id,Oe=JSON.stringify(X.viewpoint)===JSON.stringify(_e.viewpoint),je=X.lang===_e.lang,Be=X.codec===_e.codec,Ze=JSON.stringify(X.roles)===JSON.stringify(_e.roles),mt=JSON.stringify(X.accessibility)===JSON.stringify(_e.accessibility),St=JSON.stringify(X.audioChannelConfiguration)===JSON.stringify(_e.audioChannelConfiguration);return ke&&Be&&Oe&&je&&Ze&&mt&&St}function pe(){k={},B={},U={},$={audio:null,video:null,text:null},_.off(y.default.REPRESENTATION_SWITCH,j,S)}function Re(X,_e,ke){let Oe=[];return X.forEach((function(je){_e(ke,je)&&Oe.push(je)})),Oe.length!==0||_e===Ie&&L.get().streaming.assumeDefaultRoleAsMain&&Ee(ke.role,{schemeIdUri:p.default.DASH_ROLE_SCHEME_ID,value:xe.default.MAIN})&&(R.info("no track with Role set to main - assuming main as default and searching again"),Oe=Re(X,le,null),Oe.length!==0)?Oe:(R.info("Filter-Function ("+_e.name+") resulted in no tracks; setting ignored"),X)}function ne(X,_e){try{return!X.lang||X.lang instanceof RegExp?_e.lang.match(X.lang):_e.lang!==""&&Lh(_e.lang,Yo(X.lang)).length>0}catch{return!1}}function Q(X,_e){return X.index===void 0||X.index===null||_e.index===X.index}function V(X,_e){return X.id===void 0||X.id===null||_e.id===X.id}function W(X,_e){return!X.viewpoint||!!_e.viewpoint.filter((function(ke){return Ee(ke,X.viewpoint)}))[0]}function Ie(X,_e,ke=!1){return!!_e.roles&&(!X.role||!!_e.roles.filter((function(Oe){return Ee(Oe,X.role)}))[0]||_e.type===p.default.AUDIO&&ke)}function le(X,_e){return!_e.roles||_e.roles.length===0}function Ce(X,_e){let ke;return ke=X.accessibility?!!_e.accessibility.filter((function(Oe){return Ee(Oe,X.accessibility)}))[0]:!_e.accessibility.length,ke}function we(X,_e){return!X.audioChannelConfiguration||!!_e.audioChannelConfiguration.filter((function(ke){return Ee(ke,X.audioChannelConfiguration)}))[0]}function Le(X,_e){return!X.codec||X.codec===_e.codec}function Ge(X){let _e=0,ke=[];return X.forEach((Oe=>{isNaN(Oe.selectionPriority)||(Oe.selectionPriority>_e?(_e=Oe.selectionPriority,ke=[Oe]):Oe.selectionPriority===_e&&ke.push(Oe))})),ke}function Pe(X){let _e,ke=0,Oe=[];return X.forEach((function(je){_e=Math.max.apply(Math,je.bitrateList.map((function(Be){return Be.bandwidth}))),_e>ke?(ke=_e,Oe=[je]):_e===ke&&Oe.push(je)})),Oe}function te(X){return X[0]&&X[0].type===p.default.VIDEO?(function(_e){let ke,Oe=1/0,je=[];return _e.forEach((function(Be){ke=Be.bitrateList.reduce((function(mt,St){const Ht=Math.max(1,St.width*St.height);return mt+St.bandwidth/Ht}),0)/Be.bitrateList.length,ke<Oe?(Oe=ke,je=[Be]):ke===Oe&&je.push(Be)})),je})(X):X[0]&&X[0].type===p.default.AUDIO?(function(_e){let ke=1/0,Oe=[];return _e.forEach((function(je){let Be=je.audioChannelConfiguration.reduce((function(mt,St){return mt+(ku(St)||0)}),0)/je.audioChannelConfiguration.length;je.hasOwnProperty("supplementalProperties")&&je.supplementalProperties.some((mt=>mt.schemeIdUri==="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&mt.value==="JOC"))&&(Be=16),Be||(Be=1);let Ze=je.bitrateList.reduce((function(mt,St){return mt+St.bandwidth/Be}),0)/je.bitrateList.length;Ze<ke?(ke=Ze,Oe=[je]):Ze===ke&&Oe.push(je)})),Oe})(X):X}function oe(X){let _e,ke=0,Oe=[];return X.forEach((function(je){_e=je.representationCount,_e>ke?(ke=_e,Oe=[je]):_e===ke&&Oe.push(je)})),Oe}function ge(X,_e){if(X===p.default.TEXT)return(function(je){if(!je||je.length===0)return null;const Be=je.filter((Ze=>!(Ze&&Ze.roles&&Ze.roles.length>0)||Ze.roles.every((mt=>mt.schemeIdUri!==p.default.DASH_ROLE_SCHEME_ID||mt.value!==xe.default.FORCED_SUBTITLE))));return Be.length>0?Be[0]:je[0]})(_e);let ke;const Oe=K.getCustomInitialTrackSelectionFunction();if(ke=(function(je){try{let Be;return Be=(function(Ze){try{const mt=Ze.filter((St=>{const Ht=St.type;return St.bitrateList.some((vn=>{const zt=Y.getAbrBitrateParameter("maxBitrate",Ht),mn=Y.getAbrBitrateParameter("minBitrate",Ht);return!(zt>-1&&vn.bandwidth>1e3*zt||mn>-1&&vn.bandwidth<1e3*mn)}))}));return mt.length>0?mt:Ze}catch(mt){return R.error(mt),Ze}})(je),Be=(function(Ze){try{if(!L.get().streaming.abr.limitBitrateByPortal)return Ze;const{elementWidth:mt}=D.getVideoElementSize(),St=Ze.filter((Ht=>Ht.type!==p.default.VIDEO||Ht.bitrateList.some((vn=>vn.width<=mt))));return St.length>0?St:Ze}catch(mt){return R.error(mt),Ze}})(Be),Be}catch(Be){return R.error(Be),je}})(_e),Oe&&typeof Oe=="function")ke=Oe(ke);else if(U[X])ke=(function(je,Be){if(!je||je.length===0||!Be||!U[Be])return je;const Ze=U[Be].bandwidth;if(!Ze||isNaN(Ze))return je;let mt={min:NaN,track:null};return je.forEach((St=>{St.bitrateList.forEach((Ht=>{const vn=Math.abs(Ht.bandwidth-Ze);(isNaN(mt.min)||vn<mt.min)&&(mt.min=vn,mt.track=St)}))})),mt.track?[mt.track]:je})(ke,X);else if(L.get().streaming.ignoreSelectionPriority||(R.info("Trying to find track with highest selectionPriority"),ke=(function(je){return Ge(je)})(ke)),ke.length>1&&L.get().streaming.prioritizeRoleMain&&(R.info("Trying to find a main track"),ke=Re(ke,Ie,{role:{schemeIdUri:p.default.DASH_ROLE_SCHEME_ID,value:xe.default.MAIN}})),ke.length>1){R.info("Selecting track based on selectionModeForInitialTrack");let je=L.get().streaming.selectionModeForInitialTrack;switch(je){case p.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ke=(function(Be){let Ze=Pe(Be);return Ze.length>1&&(Ze=oe(Ze)),Ze})(ke);break;case p.default.TRACK_SELECTION_MODE_FIRST_TRACK:ke=ue(ke);break;case p.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ke=de(ke);break;case p.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ke=(function(Be){let Ze=oe(Be);return Ze.length>1&&(Ze=Pe(Be)),Ze})(ke);break;case p.default.TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:ke=(function(Be){let Ze=Be.filter((mt=>!(!mt.segmentSequenceProperties||mt.segmentSequenceProperties.length===0)&&mt.segmentSequenceProperties.some((St=>St.cadence===1&&(St.sapType===0||St.sapType===1)))));return de(Ze.length>0?Ze:Be)})(ke);break;default:R.warn(`Track selection mode ${je} is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK`),ke=ue(ke)}}return ke.length>0?ke[0]:_e[0]}function ue(X){return X[0]}function de(X){let _e=te(X);return _e.length>1&&(_e=Pe(_e)),_e}function Ee(X,_e){return!(!X||!_e)&&JSON.stringify({schemeIdUri:X.schemeIdUri,value:X.value})===JSON.stringify({schemeIdUri:_e.schemeIdUri,value:_e.value})}return S={addTrack:function(X){if(!X)return;R.info("addTrack with track.codec='"+X.codec+"', track.type='"+X.type+"'");const _e=X.type;if((ke=_e)!==p.default.AUDIO&&ke!==p.default.VIDEO&&ke!==p.default.TEXT&&ke!==p.default.IMAGE)return;var ke;let Oe=X.streamInfo.id;k[Oe]||(k[Oe]=(function(){const Be=L.get().streaming.saveLastMediaSettingsForCurrentStreamingSession;return{audio:{list:[],storeLastSettings:Be,current:null},video:{list:[],storeLastSettings:Be,current:null},text:{list:[],storeLastSettings:Be,current:null},image:{list:[],storeLastSettings:Be,current:null}}})());const je=k[Oe][_e].list;for(let Be=0,Ze=je.length;Be<Ze;++Be)if(me(je[Be],X))return;je.push(X)},areTracksEqual:me,clearDataForStream:function(X){k[X]&&delete k[X]},getCurrentTrackFor:ie,getInitialSettings:fe,getTracksFor:Z,getTracksWithHighestSelectionPriority:Ge,getTracksWithHighestBitrate:Pe,getTracksWithHighestEfficiency:te,getTracksWithWidestRange:oe,initialize:function(){_.on(y.default.REPRESENTATION_SWITCH,j,S)},isCurrentTrack:function(X){if(!X)return!1;const _e=X.type,ke=X.streamInfo.id;return k[ke]&&k[ke][_e]&&me(k[ke][_e].current,X)},matchSettings:function(X,_e,ke=!1){try{let Oe=!1;if(X.lang){if(X.lang instanceof RegExp)Oe=_e.lang.match(X.lang);else if(_e.lang!==""){const Ht=Yo(X.lang);Ht&&(Oe=Lh(_e.lang,Ht).length>0)}}else Oe=!0;const je=X.index===void 0||X.index===null||_e.index===X.index,Be=!X.viewpoint||!!_e.viewpoint.filter((function(Ht){return Ee(Ht,X.viewpoint)}))[0],Ze=!X.role||!!_e.roles.filter((function(Ht){return Ee(Ht,X.role)}))[0];let mt=!X.accessibility||!!_e.accessibility.filter((function(Ht){return Ee(Ht,X.accessibility)}))[0],St=!X.audioChannelConfiguration||!!_e.audioChannelConfiguration.filter((function(Ht){return Ee(Ht,X.audioChannelConfiguration)}))[0];return Oe&&je&&Be&&(Ze||_e.type===p.default.AUDIO&&ke)&&mt&&St}catch{return!1}},matchSettingsAccessibility:Ce,matchSettingsAudioChannelConfig:we,matchSettingsIndex:Q,matchSettingsLang:ne,matchSettingsRole:Ie,matchSettingsViewPoint:W,reset:pe,saveTextSettingsDisabled:function(){q.setSavedMediaSettings(p.default.TEXT,null)},selectInitialTrack:ge,setConfig:function(X){X&&(X.domStorage&&(q=X.domStorage),X.settings&&(L=X.settings),X.customParametersModel&&(K=X.customParametersModel),X.mediaPlayerModel&&(Y=X.mediaPlayerModel),X.videoModel&&(D=X.videoModel))},setInitialMediaSettingsForType:function(X,_e){let ke=B[X]||fe(X);const Oe=Z(X,_e.id);let je=[];ke&&Object.keys(ke).length!==0||(ke=q.getSavedMediaSettings(X),ke&&delete ke.codec,J(X,ke)),Oe&&Oe.length!==0&&(je=L.get().streaming.includePreselectionsForInitialTrackSelection?Array.from(Oe):Oe.filter((Be=>!Be.isPreselection)),ke&&(R.info("Filtering "+je.length+" "+X+" tracks based on settings"),je=Re(je,V,ke),je=Re(je,ne,ke),je=Re(je,Q,ke),je=Re(je,W,ke),X===p.default.AUDIO&&B[X]||(je=Re(je,Ie,ke)),je=Re(je,Ce,ke),je=Re(je,we,ke),je=Re(je,Le,ke),R.info("Filtering "+X+" tracks ended, found "+je.length+" matching track(s).")),je.length>1?ae(ge(X,je)):ae(je[0]))},setInitialSettings:J,setTrack:ae},R=(0,l.default)(T).getInstance().getLogger(S),pe(),S}Fu.__dashjs_factory_name="MediaController";const mf=i.default.getSingletonFactory(Fu);i.default.updateSingletonFactory(Fu.__dashjs_factory_name,mf);var ab=mf;function Ll(){let T,_,S,R;const k=this.context,L=(0,c.default)(k).getInstance();function $(D,q){return isNaN(D)?0:D>0?(q&&_.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):D<-.5?(q&&_.warn("Supplied minimum playback rate is out of range and will be limited to -0.5: -50% playback speed."),-.5):D}function B(D,q){return isNaN(D)?0:D<0?(q&&_.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):D>1?(q&&_.warn("Supplied maximum playback rate is out of range and will be limited to 1: 200% playback speed."),1):D}function U(){const D=K(),q=S.getLiveDelay();return!isNaN(q)&&q>0?Math.min(D,q):D}function K(){return L.get().streaming.buffer.bufferTimeDefault>0?L.get().streaming.buffer.bufferTimeDefault:Y()?20:12}function Y(){return L.get().streaming.buffer.fastSwitchEnabled!==null?L.get().streaming.buffer.fastSwitchEnabled:!S.getLowLatencyModeEnabled()}return T={getAbrBitrateParameter:function(D,q){try{const j=L.get().streaming.abr[D][q];if(!isNaN(j)&&j!==-1)return j;const Z=R.getServiceDescriptionSettings();return Z&&Z[D]&&!isNaN(Z[D][q])?Z[D][q]:-1}catch{return-1}},getBufferTimeDefault:U,getBufferTimeDefaultUnadjusted:K,getCatchupMaxDrift:function(){if(!isNaN(L.get().streaming.liveCatchup.maxDrift)&&L.get().streaming.liveCatchup.maxDrift>=0)return L.get().streaming.liveCatchup.maxDrift;const D=R.getServiceDescriptionSettings();return D&&D.liveCatchup&&!isNaN(D.liveCatchup.maxDrift)&&D.liveCatchup.maxDrift>=0?D.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return L.get().streaming.liveCatchup.enabled!==null?L.get().streaming.liveCatchup.enabled:S.getInitialCatchupModeActivated()},getCatchupPlaybackRates:function(D){const q=L.get().streaming.liveCatchup.playbackRate;if(!isNaN(q.min)||!isNaN(q.max))return{min:$(q.min,D),max:B(q.max,D)};const j=R.getServiceDescriptionSettings();if(j&&j.liveCatchup&&(!isNaN(j.liveCatchup.playbackRate.min)||!isNaN(j.liveCatchup.playbackRate.max))){const Z=j.liveCatchup.playbackRate;return{min:$(Z.min,D),max:B(Z.max,D)}}return{min:-.5,max:.5}},getFastSwitchEnabled:Y,getInitialBufferLevel:function(){const D=L.get().streaming.buffer.initialBufferLevel;return isNaN(D)||D<0?0:Math.min(U(),D)},getRetryAttemptsForType:function(D){const q=isNaN(L.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:L.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return S.getLowLatencyModeEnabled()?L.get().streaming.retryAttempts[D]*q:L.get().streaming.retryAttempts[D]},getRetryIntervalsForType:function(D){const q=isNaN(L.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:L.get().streaming.retryIntervals.lowLatencyReductionFactor;return S.getLowLatencyModeEnabled()?L.get().streaming.retryIntervals[D]/q:L.get().streaming.retryIntervals[D]},getScheduleTimeout:function(){return S.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout},reset:function(){},setConfig:function(D){D.playbackController&&(S=D.playbackController),D.serviceDescriptionController&&(R=D.serviceDescriptionController)}},_=(0,l.default)(k).getInstance().getLogger(T),T}Ll.__dashjs_factory_name="MediaPlayerModel";var rb=i.default.getSingletonFactory(Ll);function Xo(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V,W;function Ie(){Le(),ae=!1,D=0,ie=0,R=0,Z=!1,j=!1,L=!1,fe=NaN,Y=NaN,V&&(_.off(m.default.DATA_UPDATE_COMPLETED,Be,$),_.off(m.default.MANIFEST_UPDATED,ut,$),_.off(m.default.STREAMS_COMPOSED,Et,$),_.off(y.default.PLAYBACK_ENDED,yn,$),_.off(y.default.STREAM_INITIALIZING,sn,$),_.off(y.default.REPRESENTATION_SWITCH,et,$),_.off(y.default.BUFFER_LEVEL_STATE_CHANGED,St,$),je(),V.removeEventListener("canplay",Ze),V.removeEventListener("canplaythrough",mt),V.removeEventListener("ended",Mt),V.removeEventListener("error",$n),V.removeEventListener("loadeddata",Ot),V.removeEventListener("loadedmetadata",at),V.removeEventListener("pause",mn),V.removeEventListener("play",Ht),V.removeEventListener("playing",zt),V.removeEventListener("progress",Bn),V.removeEventListener("ratechange",Hn),V.removeEventListener("seeked",ri),V.removeEventListener("seeking",Nn),V.removeEventListener("stalled",jt),V.removeEventListener("timeupdate",jn),V.removeEventListener("volumechange",Vt),V.removeEventListener("waiting",vn)),W=null,V=null,ne=null,U=null}function le(nt=null){return parseFloat((Ce(nt)-oe()).toFixed(5))}function Ce(nt){const wt=nt||ne;return wt.start+wt.duration}function we(nt=!1){ne&&V&&V.getElement()?(nt&&U&&te(oe()),V.play()):ae=!0}function Le(){ne&&V&&V.pause()}function Ge(nt,wt=!1,Nt=!1,Ne=!1){ne&&V&&V.getElement()&&nt!==(isNaN(fe)?V.getTime():fe)&&(B=Nt===!0,B||(fe=nt),q.info("Requesting seek to time: "+nt+(B?" (internal)":"")),U&&Ne&&te(nt),V.setCurrentTime(nt,wt))}function Pe(){if(!ne||!V||!U)return;const nt=Re&&Re.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO,wt=k.getCurrentDVRInfo(nt);return wt&&wt.range?wt.range.end:0}function te(nt){const wt=new Date(Q.getClientReferenceTime()),Nt=S.getRegularPeriods()[0];D=Q.calcPresentationTimeFromWallTime(wt,Nt)-nt}function oe(){return ne&&V?V.getTime():null}function ge(){return ne&&V?V.isPaused():null}function ue(){return ne&&V?V.isSeeking():null}function de(){return ne&&V?V.isStalled():null}function Ee(){return ne&&V?V.getPlaybackRate():null}function X(){return ne&&V?V.getEnded():null}function _e(){return U}function ke(nt=null){if(ge()||!U||V.getReadyState()===0||ue()||Z)return;nt||(nt=Re.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO);const wt=oe(),Nt=(function(Ne,ft){const Qt=k.getCurrentDVRInfo(ft),tn=Qt?Qt.range:null;let Xn;return tn?(Xn=Ne>tn.end?Math.max(tn.end-D,tn.start):Ne>0&&Ne+.25<tn.start&&Math.abs(Ne-tn.start)<31536e4?j?Math.max(tn.end-D,tn.start):tn.start:Ne,Xn):NaN})(wt,nt);!isNaN(Nt)&&Nt!==wt&&!ue()&&(de()||J||V.getReadyState()===1)&&(q.debug(`UpdateCurrentTime: Seek to actual time: ${Nt} from currentTime: ${wt}`),Ge(Nt,!1,!1))}function Oe(){W===null&&(W=setInterval((()=>{(function(){if(_.trigger(m.default.WALLCLOCK_TIME_UPDATED,{isDynamic:U,time:new Date}),_e()){const nt=Date.now();(isNaN(Y)||nt>Y+pe.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(Re.addDVRMetric(),ge()?(function(){const wt=Date.now();(!K||wt>K+500)&&(K=wt,jn())})():ke(),Y=nt)}})()}),pe.get().streaming.wallclockTimeUpdateInterval))}function je(){clearInterval(W),W=null}function Be(nt){const wt=nt.currentRepresentation,Nt=wt?wt.mediaInfo.streamInfo:null;Nt!==null&&ne.id===Nt.id&&(ne=Nt)}function Ze(){_.trigger(m.default.CAN_PLAY)}function mt(){_.trigger(m.default.CAN_PLAY_THROUGH)}function St(nt){nt.streamId===Re.getActiveStreamInfo().id&&(J=nt.state===o.BUFFER_EMPTY,pe.get().streaming.buffer.setStallState&&V.setStallState(nt.mediaType,nt.state===o.BUFFER_EMPTY))}function Ht(){q.info("Native video element event: play"),ke(),Oe(),_.trigger(m.default.PLAYBACK_STARTED,{startTime:oe()})}function vn(){q.info("Native video element event: waiting"),_.trigger(m.default.PLAYBACK_WAITING,{playingTime:oe()})}function zt(){q.info("Native video element event: playing"),B=!1,_.trigger(m.default.PLAYBACK_PLAYING,{playingTime:oe()})}function mn(){q.info("Native video element event: pause"),_.trigger(m.default.PLAYBACK_PAUSED,{ended:X()})}function Nn(){if(B)return;let nt=oe();isNaN(fe)||fe===nt||(nt=fe),fe=NaN,q.info("Seeking to: "+nt),Oe(),_.trigger(m.default.PLAYBACK_SEEKING,{seekTime:nt,streamId:ne.id})}function ri(){q.info("Native video element event: seeked"),B=!1,_.trigger(m.default.PLAYBACK_SEEKED,{streamId:ne.id})}function jn(){ne&&_.trigger(m.default.PLAYBACK_TIME_UPDATED,{timeToEnd:le(),time:oe(),streamId:ne.id})}function Bn(){_.trigger(m.default.PLAYBACK_PROGRESS,{streamId:ne.id})}function Hn(){const nt=Ee();q.info("Native video element event: ratechange: ",nt),_.trigger(m.default.PLAYBACK_RATE_CHANGED,{playbackRate:nt})}function at(){q.info("Native video element event: loadedmetadata"),_.trigger(m.default.PLAYBACK_METADATA_LOADED),Oe()}function Ot(){q.info("Native video element event: loadeddata"),_.trigger(m.default.PLAYBACK_LOADED_DATA)}function Mt(){q.info("Native video element event: ended"),Le(),je();const nt=Re?Re.getActiveStreamInfo():null;nt&&_.trigger(m.default.PLAYBACK_ENDED,{isLast:nt.isLast})}function Vt(){_.trigger(m.default.PLAYBACK_VOLUME_CHANGED)}function yn(nt){if(W&&nt.isLast){q.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");const wt=nt.seekTime?nt.seekTime:Ce();V.setCurrentTime(wt),Le(),je()}}function $n(nt){const wt=nt.target||nt.srcElement;_.trigger(m.default.PLAYBACK_ERROR,{error:wt.error})}function yt(){U=!1}function jt(nt){_.trigger(m.default.PLAYBACK_STALLED,{e:nt})}function sn(nt){var wt;(wt=nt.mediaInfo)&&wt.supplementalProperties&&wt.supplementalProperties.find((Nt=>Nt.schemeIdUri===p.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME))&&(q.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),j=!0)}function et(nt){const wt=Re.getActiveStreamInfo();nt&&wt&&nt.currentRepresentation&&nt.streamId&&nt.streamId===wt.id&&nt.mediaType&&(nt.mediaType===p.default.VIDEO||nt.mediaType===p.default.AUDIO)&&(j=nt.currentRepresentation.availabilityTimeComplete===!1,j&&!L&&(L=!0))}function ut(){Z=!0}function Et(){Z=!1}return $={computeAndSetLiveDelay:function(nt,wt){let Nt,Ne,ft;const Qt=!isNaN(nt)&&isFinite(nt)?nt:NaN;let tn=S.getSuggestedPresentationDelay();const Xn=me.getServiceDescriptionSettings();return Nt=isNaN(pe.get().streaming.delay.liveDelay)?pe.get().streaming.delay.liveDelayFragmentCount===null||isNaN(pe.get().streaming.delay.liveDelayFragmentCount)||isNaN(Qt)?Xn&&!isNaN(Xn.liveDelay)&&Xn.liveDelay>0?Xn.liveDelay:pe.get().streaming.delay.useSuggestedPresentationDelay===!0&&tn!==null&&!isNaN(tn)&&tn>0?tn:isNaN(Qt)?wt&&!isNaN(wt.minBufferTime)?4*wt.minBufferTime:4*ne.manifestInfo.minBufferTime:4*Qt:Qt*pe.get().streaming.delay.liveDelayFragmentCount:pe.get().streaming.delay.liveDelay,ft=S.getAvailabilityStartTime(),ft!==null&&(R=ft),Ne=wt&&wt.dvrWindowSize>0?Math.min(Nt,wt.dvrWindowSize):Nt,D=Ne,ie=Ne,Ne},getAvailabilityStartTime:function(){return R},getBufferLevel:function(nt=null){let wt=null;return Re.getActiveStreamProcessors().forEach((Nt=>{if(!nt||nt.length===0||nt.indexOf(Nt.getType())===-1){const Ne=Nt.getBufferLevel();wt=wt===null?Ne:Math.min(wt,Ne)}})),wt},getCurrentLiveLatency:function(){if(!U||isNaN(R))return NaN;let nt=oe();if(isNaN(nt)||nt===0)return 0;const wt=new Date().getTime()+1e3*Q.getClientTimeOffset();return Math.max(((wt-R-1e3*nt)/1e3).toFixed(3),0)},getEnded:X,getInitialCatchupModeActivated:function(){return L},getIsDynamic:_e,getIsManifestUpdateInProgress:function(){return Z},getLiveDelay:function(){return D},getLowLatencyModeEnabled:function(){return j},getOriginalLiveDelay:function(){return ie},getPlaybackRate:Ee,getPlaybackStalled:function(){return J},getPlayedRanges:function(){return ne&&V?V.getPlayedRanges():null},getStreamController:function(){return Re},getStreamEndTime:Ce,getTime:oe,getTimeToStreamEnd:le,initialize:function(nt,wt){ne=nt,wt!==!0&&(V.addEventListener("canplay",Ze),V.addEventListener("canplaythrough",mt),V.addEventListener("ended",Mt),V.addEventListener("error",$n),V.addEventListener("loadeddata",Ot),V.addEventListener("loadedmetadata",at),V.addEventListener("pause",mn),V.addEventListener("play",Ht),V.addEventListener("playing",zt),V.addEventListener("progress",Bn),V.addEventListener("ratechange",Hn),V.addEventListener("seeked",ri),V.addEventListener("seeking",Nn),V.addEventListener("stalled",jt),V.addEventListener("timeupdate",jn),V.addEventListener("volumechange",Vt),V.addEventListener("waiting",vn),U=ne.manifestInfo.isDynamic,J=!1,B=!1,_.on(m.default.DATA_UPDATE_COMPLETED,Be,$),_.on(m.default.MANIFEST_UPDATED,ut,$),_.on(m.default.STREAMS_COMPOSED,Et,$),_.on(y.default.PLAYBACK_ENDED,yn,$,{priority:g.default.EVENT_PRIORITY_HIGH}),_.on(y.default.STREAM_INITIALIZING,sn,$),_.on(y.default.REPRESENTATION_SWITCH,et,$),_.on(y.default.BUFFER_LEVEL_STATE_CHANGED,St,$),_.on(y.default.DYNAMIC_TO_STATIC,yt,$),ae&&(ae=!1,we()))},isPaused:ge,isProgressing:function(nt=500){return new Promise((wt=>{let Nt=-1,Ne=null;const ft=tn=>{clearTimeout(Ne),Ne=null,_.off(y.default.PLAYBACK_TIME_UPDATED,Qt,$),wt(tn)},Qt=tn=>{Nt<0?Nt=tn.time:tn.time>Nt+.1&&ft(!0)};Ne=setTimeout((()=>{ft(!1)}),nt),_.on(y.default.PLAYBACK_TIME_UPDATED,Qt,$)}))},isSeeking:ue,isStalled:de,pause:Le,play:we,reset:Ie,seek:Ge,seekToCurrentLive:function(nt=!1,wt=!1,Nt=!1){const Ne=Pe();Ne!==0&&Ge(Ne-D,nt,wt,Nt)},seekToOriginalLive:function(nt=!1,wt=!1,Nt=!1){const Ne=Pe();Ne!==0&&(D=ie,Ge(Ne-D,nt,wt,Nt))},setConfig:function(nt){nt&&(nt.streamController&&(Re=nt.streamController),nt.serviceDescriptionController&&(me=nt.serviceDescriptionController),nt.dashMetrics&&(k=nt.dashMetrics),nt.adapter&&(S=nt.adapter),nt.videoModel&&(V=nt.videoModel),nt.timelineConverter&&(Q=nt.timelineConverter),nt.settings&&(pe=nt.settings))},updateCurrentTime:ke},q=(0,l.default)(T).getInstance().getLogger($),Ie(),$}Xo.__dashjs_factory_name="PlaybackController";var Cp=i.default.getSingletonFactory(Xo),Bh=class{constructor(){this.availabilityEndTime=NaN,this.availabilityStartTime=NaN,this.duration=NaN,this.index=null,this.indexRange=null,this.isPartialSegment=!1,this.media=null,this.mediaRange=null,this.mediaUrl=null,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.replacementNumber=NaN,this.replacementTime=null,this.representation=null,this.wallStartTime=NaN}assignAttributes(T){for(let _ in T)T.hasOwnProperty(_)&&this.hasOwnProperty(_)&&(this[_]=T[_])}},mo=class extends Bh{constructor(){super()}};function Zo(){const T=this.context;let _,S,R,k,L,$,B,U,K,Y,D,q;function j(J,fe,me,pe){let Re=null;const ne=J?q.resolve(J.path):null,Q=pe||{init:!0,url:ne?ne.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:fe,representation:J};S.debug("Start searching for initialization.");const V=ae(Q);B.load({request:V,success:function(W){if(Q.bytesLoaded=Q.range.end,Re=k.findInitRange(W),!Re)return Q.range.end=Q.bytesLoaded+Q.bytesToLoad,j(J,fe,me,Q);J.range=Re,me(J)},error:function(){me(J)}}),S.debug("Perform init search: "+Q.url)}function Z(J,fe,me,pe,Re,ne){if(me&&(me.start===void 0||me.end===void 0)){const we=me?me.toString().split("-"):null;me=we?{start:parseFloat(we[0]),end:parseFloat(we[1])}:null}Re=Re||ie;let Q=null,V=null;const W=!!me,Ie=J?q.resolve(J.path):null,le={init:!1,url:Ie?Ie.url:void 0,range:W?me:{start:0,end:1500},searching:!W,bytesLoaded:ne?ne.bytesLoaded:0,bytesToLoad:1500,mediaType:fe,representation:J},Ce=ae(le);B.load({request:Ce,success:function(we){const Le=le.bytesToLoad,Ge=we.byteLength;if(le.bytesLoaded=le.range.end-le.range.start,Q=k.parse(we),V=Q.getBox("sidx"),V&&V.isComplete){const Pe=V.references;let te,oe;if(Pe!=null&&Pe.length>0&&(te=Pe[0].reference_type===1),te){let ge,ue,de,Ee,X;S.debug("Initiate multiple SIDX load."),le.range.end=le.range.start+V.size;let _e=[],ke=0,Oe=(V.offset||le.range.start)+V.size;const je=function(Be){Be?(_e=_e.concat(Be),ke++,ke>=ue&&(_e.sort((function(Ze,mt){return Ze.startTime-mt.startTime<0?-1:0})),Re(_e,J,pe))):Re(null,J,pe)};for(ge=0,ue=Pe.length;ge<ue;ge++)de=Oe,Ee=Oe+Pe[ge].referenced_size-1,Oe+=Pe[ge].referenced_size,X={start:de,end:Ee},Z(J,fe,X,pe,je,le)}else S.debug("Parsing segments from SIDX. representation "+fe+" - id: "+J.id+" for range : "+le.range.start+" - "+le.range.end),oe=(function(ge,ue){const de=ge.references,Ee=de.length,X=ge.timescale;let _e=ge.earliest_presentation_time,ke=ue.range.start+ge.offset+ge.first_offset+ge.size;const Oe=[];let je,Be,Ze,mt;for(let St=0;St<Ee;St++)Ze=de[St].subsegment_duration,mt=de[St].referenced_size,je=new mo,je.duration=Ze,je.startTime=_e,je.timescale=X,Be=ke+mt-1,je.mediaRange=ke+"-"+Be,Oe.push(je),_e+=Ze,ke+=mt;return Oe})(V,le),Re(oe,J,pe)}else{if(V)le.range.start=V.offset||le.range.start,le.range.end=le.range.start+(V.size||Le);else{if(Ge<le.bytesLoaded)return void Re(null,J,pe);{const Pe=Q.getLastBox();Pe&&Pe.size?(le.range.start=Pe.offset+Pe.size,le.range.end=le.range.start+Le):le.range.end+=Le}}Z(J,fe,le.range,pe,null,le)}},error:function(){Re(null,J,pe)}}),S.debug(`Perform SIDX load for type ${fe} : ${le.url} with range ${le.range.start} - ${le.range.end}`)}function ie(J,fe,me){me({segments:J,representation:fe,error:J?void 0:new En.default(U.SEGMENT_BASE_LOADER_ERROR_CODE,U.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ae(J){if(!J.url)return;const fe=new ve;return fe.setInfo(J),fe}return _={setConfig:function(J){J.baseURLController&&(q=J.baseURLController),J.dashMetrics&&(L=J.dashMetrics),J.mediaPlayerModel&&($=J.mediaPlayerModel),J.errHandler&&(R=J.errHandler),J.boxParser&&(k=J.boxParser),J.debug&&(S=J.debug.getLogger(_)),J.errors&&(U=J.errors),J.urlUtils&&(D=J.urlUtils),J.constants&&(K=J.constants),J.dashConstants&&(Y=J.dashConstants)},initialize:function(){B=Rl(T).create({errHandler:R,dashMetrics:L,mediaPlayerModel:$,boxParser:k,errors:U,urlUtils:D,constants:K,dashConstants:Y})},loadInitialization:function(J,fe){return new Promise((me=>{j(J,fe,me)}))},loadSegments:function(J,fe,me){return new Promise((pe=>{Z(J,fe,me,pe)}))},reset:function(){B&&(B.abort(),B=null)}},_}Zo.__dashjs_factory_name="SegmentBaseLoader";var gf=i.default.getSingletonFactory(Zo);function zh(T){let _;T=T||{};let S=new DataView(T.data),R=0;function k($,B){let U,K,Y=!0,D=0;if(B===void 0&&(B=!1),$.tag>16777215?(S.getUint32(R)!==$.tag&&(Y=!1),D=4):$.tag>65535?(U=S.getUint16(R),K=S.getUint8(R+2),256*U+K!==$.tag&&(Y=!1),D=3):$.tag>255?(S.getUint16(R)!==$.tag&&(Y=!1),D=2):(S.getUint8(R)!==$.tag&&(Y=!1),D=1),!Y&&$.required&&!B)throw new Error("required tag not found");return Y&&(R+=D),Y}function L($){let B=1,U=128,K=-1,Y=0,D=S.getUint8(R),q=0;for(q=0;q<8;q+=1){if((D&U)===U){Y=$===void 0?D&~U:D,K=q;break}U>>=1}for(q=0;q<K;q+=1,B+=1)Y=Y<<8|255&S.getUint8(R+B);return R+=B,Y}return _={getPos:function(){return R},setPos:function($){R=$},consumeTag:k,consumeTagAndSize:function($,B){let U=k($,B);return U&&L(),U},parseTag:function($){let B;return k($),B=L(),_[$.parse](B)},skipOverElement:function($,B){let U,K=k($,B);return K&&(U=L(),R+=U),K},getMatroskaCodedNum:L,getMatroskaFloat:function($){let B;switch($){case 4:B=S.getFloat32(R),R+=4;break;case 8:B=S.getFloat64(R),R+=8}return B},getMatroskaUint:function($){if($>4)return(function(U){const K=Math.floor(Number.MAX_SAFE_INTEGER/256);let Y=0;for(let D=0;D<U;D+=1){if(Y>K)throw new Error("Value exceeds safe integer limit");Y*=256;const q=S.getUint8(R+D);if(Y>Number.MAX_SAFE_INTEGER-q)throw new Error("Value exceeds safe integer limit");Y+=q}return R+=U,Y})($);let B=0;for(let U=0;U<$;U+=1)B<<=8,B|=255&S.getUint8(R+U);return R+=$,B>>>0},moreData:function(){return R<S.byteLength}},_}zh.__dashjs_factory_name="EBMLParser";var $h=i.default.getClassFactory(zh);function qc(){const T=this.context;let _,S,R,k,L,$,B,U,K;function Y(D){const q=new ve;return q.setInfo(D),q}return _={setConfig:function(D){if(!(D.baseURLController&&D.dashMetrics&&D.mediaPlayerModel&&D.errHandler))throw new Error(p.default.MISSING_CONFIG_ERROR);K=D.baseURLController,L=D.dashMetrics,$=D.mediaPlayerModel,k=D.errHandler,U=D.errors,S=D.debug.getLogger(_)},initialize:function(){B=Rl(T).create({errHandler:k,dashMetrics:L,mediaPlayerModel:$,errors:U})},loadInitialization:function(D,q){return new Promise((j=>{let Z=null,ie=D?K.resolve(D.path):null,ae=D?D.range.split("-"):null,J={range:{start:ae?parseFloat(ae[0]):null,end:ae?parseFloat(ae[1]):null},request:Z,url:ie?ie.url:void 0,init:!0,mediaType:q};S.info("Start loading initialization."),Z=Y(J),B.load({request:Z,success:function(){j(D)},error:function(){j(D)}}),S.debug("Perform init load: "+J.url)}))},loadSegments:function(D,q,j){return new Promise((Z=>{let ie=null,ae=D?K.resolve(D.path):null,J=ae?ae.url:void 0;ie=Y({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:ie,url:J,init:!1,mediaType:q,representation:D}),S.debug("Parsing ebml header"),B.load({request:ie,success:function(fe){(function(me,pe,Re,ne){if(!me||me.byteLength===0)return void ne(null);let Q,V,W,Ie,le=$h(T).create({data:me}),Ce=Re?Re.split("-"):null,we=null,Le={url:pe,range:{start:Ce?parseFloat(Ce[0]):null,end:Ce?parseFloat(Ce[1]):null},request:we};for(S.debug("Parse EBML header: "+Le.url),le.skipOverElement(R.EBML),le.consumeTag(R.Segment),W=le.getMatroskaCodedNum(),W+=le.getPos(),Ie=le.getPos();le.moreData()&&!le.consumeTagAndSize(R.Segment.Info,!0);)if(!(le.skipOverElement(R.Segment.SeekHead,!0)||le.skipOverElement(R.Segment.Tracks,!0)||le.skipOverElement(R.Segment.Cues,!0)||le.skipOverElement(R.Void,!0)))throw new Error("no valid top level element found");for(;Q===void 0;){let Ge=le.getMatroskaCodedNum(!0),Pe=le.getMatroskaCodedNum();Ge===R.Segment.Info.Duration.tag?Q=le[R.Segment.Info.Duration.parse](Pe):le.setPos(le.getPos()+Pe)}we=Y(Le),B.load({request:we,success:function(Ge){V=(function(Pe,te,oe,ge){let ue,de,Ee,X,_e,ke,Oe,je;for(de=(function(Be){let Ze,mt,St=[],Ht=$h(T).create({data:Be});for(Ht.consumeTagAndSize(R.Segment.Cues);Ht.moreData()&&Ht.consumeTagAndSize(R.Segment.Cues.CuePoint,!0);){for(Ze={},Ze.CueTime=Ht.parseTag(R.Segment.Cues.CuePoint.CueTime),Ze.CueTracks=[];Ht.moreData()&&Ht.consumeTag(R.Segment.Cues.CuePoint.CueTrackPositions,!0);){const vn=Ht.getMatroskaCodedNum(),zt=Ht.getPos();if(mt={},mt.Track=Ht.parseTag(R.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),mt.Track===0)throw new Error("Cue track cannot be 0");mt.ClusterPosition=Ht.parseTag(R.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Ze.CueTracks.push(mt),Ht.setPos(zt+vn)}if(Ze.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");St.push(Ze)}if(St.length===0)throw new Error("mandatory cuepoint not found");return St})(Pe),Ee=[],_e=0,ke=de.length;_e<ke;_e+=1)X=new mo,ue=0,ue=_e<de.length-1?de[_e+1].CueTime-de[_e].CueTime:ge-de[_e].CueTime,X.duration=ue,X.startTime=de[_e].CueTime,X.timescale=1e3,Oe=de[_e].CueTracks[0].ClusterPosition+te,je=_e<de.length-1?de[_e+1].CueTracks[0].ClusterPosition+te-1:oe-1,X.mediaRange=Oe+"-"+je,Ee.push(X);return S.debug("Parsed cues: "+Ee.length+" cues."),Ee})(Ge,Ie,W,Q),ne(V)},error:function(){S.error("Download Error: Cues "+Le.url),ne(null)}}),S.debug("Perform cues load: "+Le.url+" bytes="+Le.range.start+"-"+Le.range.end)})(fe,J,j,(function(me){Z({segments:me,representation:D,error:me?void 0:new En.default(U.SEGMENT_BASE_LOADER_ERROR_CODE,U.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}))},error:function(){Z({representation:D,error:new En.default(U.SEGMENT_BASE_LOADER_ERROR_CODE,U.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})}))},reset:function(){B&&(B.abort(),B=null)}},R={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},_}qc.__dashjs_factory_name="WebmSegmentBaseLoader";var pf=i.default.getSingletonFactory(qc);function Dp(T){T=T||{};const _=this.context,S=T.eventBus,R=T.events,k=T.dashMetrics,L=T.mediaPlayerModel,$=T.errHandler,B=T.baseURLController,U=T.debug,K=T.boxParser,Y=T.errors;let D,q,j;function Z(ie){return(ie?ie.split("/")[1]:"").toLowerCase()==="webm"}return D={initialize:function(){q.initialize(),j.initialize()},getSegmentBaseInitSegment:function(ie){return Z(ie.representation.mimeType)?j.loadInitialization(ie.representation,ie.mediaType):q.loadInitialization(ie.representation,ie.mediaType)},getSegmentList:function(ie){return Z(ie.mimeType)?j.loadSegments(ie.representation,ie.mediaType,ie.representation?ie.representation.indexRange:null):q.loadSegments(ie.representation,ie.mediaType,ie.representation?ie.representation.indexRange:null)},reset:function(){q.reset(),j.reset()}},q=gf(_).getInstance(),j=pf(_).getInstance(),q.setConfig({baseURLController:B,dashMetrics:k,mediaPlayerModel:L,errHandler:$,eventBus:S,events:R,errors:Y,debug:U,boxParser:K}),j.setConfig({baseURLController:B,dashMetrics:k,mediaPlayerModel:L,errHandler:$,eventBus:S,events:R,errors:Y,debug:U}),D}Dp.__dashjs_factory_name="SegmentBaseController";var sb=i.default.getSingletonFactory(Dp);const jc=[p.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],vf="video",Lp="audio";function qh(){const T=this.context;let _,S,R,k,L;function $(){S={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null,clientDataReporting:null},R=[]}function B(U,K,Y){try{S[U][K]=Y/1e3}catch(D){k.error(D)}}return _={getServiceDescriptionSettings:function(){return S},getProducerReferenceTimeOffsets:function(){return R},calculateProducerReferenceTimeOffsets:function(U){try{let K=[];if(U&&U.length>0){const Y=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT],D=L.getAvailabilityStartTime()/1e3;U.forEach((q=>{const j=Y.reduce(((Z,ie)=>Z.concat(L.getAllMediaInfoForType(q,ie))),[]).reduce(((Z,ie)=>(L.getProducerReferenceTimes(q,ie).forEach((ae=>{const J=L.getVoRepresentations(ie);if(J&&J.length>0&&J[0].adaptation&&J[0].segmentInfoType===xe.default.SEGMENT_TEMPLATE){const fe=J[0],me=new Date(ae[xe.default.WALL_CLOCK_TIME]).getTime()/1e3-(ae[xe.default.PRESENTATION_TIME]/fe[xe.default.TIMESCALE]-fe[xe.default.PRESENTATION_TIME_OFFSET]+q.start),pe=D-me;Z.push({id:ae[xe.default.ID],to:pe})}})),Z)),[]);K=K.concat(j)}))}R=K}catch(K){k.error(K),R=[]}},applyServiceDescription:function(U){if(!U||!U.serviceDescriptions)return;const K=U.serviceDescriptions.filter((q=>jc.includes(q.schemeIdUri))),Y=U.serviceDescriptions.filter((q=>q.schemeIdUri==null));let D=K.length>0?K[K.length-1]:Y[Y.length-1];D&&(D.latency&&D.latency.target>0&&(function(q){let j;if(q.schemeIdUri,p.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME,j=(function(Z){return{liveDelay:Z.latency.target/1e3,maxDrift:!isNaN(Z.latency.max)&&Z.latency.max>Z.latency.target?(Z.latency.max-Z.latency.target+500)/1e3:NaN,referenceId:Z.latency.referenceId||NaN}})(q),R.length>0){let{to:Z,id:ie}=(function(ae){let J,fe=0,me=R.filter((pe=>pe.id===ae.referenceId));return me.length===0?(fe=R.length>0?R[0].to:0,J=R[0].id||NaN):(fe=me[0].to||0,J=me[0].id||NaN),{to:fe,id:J}})(j);S.liveDelay=j.liveDelay-Z,S.liveCatchup.maxDrift=j.maxDrift,k.debug(`
                Found latency properties coming from service description. Applied time offset of ${Z} from ProducerReferenceTime element with id ${ie}.
                Live Delay: ${j.liveDelay-Z}, Live catchup max drift: ${j.maxDrift}
            `)}else S.liveDelay=j.liveDelay,S.liveCatchup.maxDrift=j.maxDrift,k.debug(`Found latency properties coming from service description: Live Delay: ${j.liveDelay}, Live catchup max drift: ${j.maxDrift}`)})(D),D.playbackRate&&(function(q){const j=q.playbackRate.min?Math.round(1e3*(q.playbackRate.min-1))/1e3:NaN,Z=q.playbackRate.max?Math.round(1e3*(q.playbackRate.max-1))/1e3:NaN;S.liveCatchup.playbackRate.min=j,S.liveCatchup.playbackRate.max=Z,k.debug(`Found latency properties coming from service description: Live catchup min playback rate: ${j}`),k.debug(`Found latency properties coming from service description: Live catchup max playback rate: ${Z}`)})(D),D.operatingQuality,D.operatingBandwidth&&(function(q){if(!q||!q.operatingBandwidth||!q.operatingBandwidth.mediaType||q.operatingBandwidth.mediaType==="all")return;const j={};j.minBandwidth=q.operatingBandwidth.min,j.maxBandwidth=q.operatingBandwidth.max,j.targetBandwidth=q.operatingBandwidth.target;const Z=[];q.operatingBandwidth.mediaType===vf||q.operatingBandwidth.mediaType===Lp?Z.push(q.operatingBandwidth.mediaType):q.operatingBandwidth.mediaType==="any"&&(Z.push(Lp),Z.push(vf)),Z.forEach((ie=>{isNaN(j.minBandwidth)||B("minBitrate",ie,j.minBandwidth),isNaN(j.maxBandwidth)||B("maxBitrate",ie,j.maxBandwidth),isNaN(j.targetBandwidth)||B("initialBitrate",ie,j.targetBandwidth)}))})(D),D.contentSteering&&(function(q){S.contentSteering=q.contentSteering})(D),D.clientDataReporting&&(function(q){S.clientDataReporting=q.clientDataReporting})(D))},reset:function(){$()},setConfig:function(U){U&&U.adapter&&(L=U.adapter)}},k=(0,l.default)(T).getInstance().getLogger(_),$(),_}qh.__dashjs_factory_name="ServiceDescriptionController";var Mp=i.default.getSingletonFactory(qh);class ds{constructor(_){this._ranges=[];for(const S of _){const R=this._ranges,k={start:S.start,end:S.end},L=R.length?R[R.length-1]:null;!L||k.start>L.end?R.push(k):L.end=k.end}}get length(){return this._ranges.length}start(_){return this._ranges[_].start}end(_){return this._ranges[_].end}}var fs=class{constructor(T,_){this.eventBus=_,this.mimeType=T,this.updating=!1,this.chunks=[],this.appendWindowStart=0,this.appendWindowEnd=1/0,this.timestampOffset=0,this.mode="segments"}appendBuffer(T,_,S){if(this.updating)throw new Error("SourceBuffer is currently updating");this.updating=!0,this.eventBus.trigger("externalSourceBufferUpdateStart",{mimeType:this.mimeType,request:"appendBuffer",data:T,start:_,end:S}),Number.isNaN(_)||(this.chunks.push({data:T,start:_,end:S}),this.chunks.sort(((R,k)=>R.start-k.start))),setTimeout((()=>{this.updating=!1,this.eventBus.trigger("externalSourceBufferUpdating",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType})}),10)}abort(){this.updating&&(this.updating=!1,this.eventBus.trigger("externalSourceBufferAbort",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType}))}remove(T,_){if(this.updating)throw new Error("SourceBuffer is currently updating");this.updating=!0,this.eventBus.trigger("externalSourceBufferUpdateStart",{mimeType:this.mimeType,request:"remove",start:T,end:_}),this.chunks=this.chunks.filter((S=>S.end<=T||S.start>=_)),setTimeout((()=>{this.updating=!1,this.eventBus.trigger("externalSourceBufferUpdating",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType})}),10)}get buffered(){return new ds(this.chunks)}},Ml=class{constructor(T){this.eventBus=T,this.reset()}get duration(){return this._duration}set duration(T){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");this._duration=T}get readyState(){return this._readyState}addSourceBuffer(T){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");const _=new fs(T,this.eventBus);return this.sourceBuffers.set(_,T),_}removeSourceBuffer(T){if(!this.sourceBuffers.has(T))throw new Error("ExternalSourceBuffer not found");this.sourceBuffers.delete(T)}open(){this._readyState="open",this.eventBus.trigger("externalMediaSourceOpen",{})}endOfStream(){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");this._readyState="ended",this.eventBus.trigger("externalMediaSourceEnded",{})}close(){this._readyState="closed",this.eventBus.trigger("externalMediaSourceClosed",{})}reset(){this.sourceBuffers=new Map,this._duration=NaN,this._readyState="closed"}},Np=class{constructor(){this.streamId=null,this.segmentType=null,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representation=null,this.endFragment=null}},ob=class extends ve{constructor(T){super(T),this.checkForExistenceOnly=!0}};function Jo(T){T=T||{};const _=this.context,S=T.eventBus,R=T.events,k=T.urlUtils,L=T.errors,$=T.streamId;let B,U;return B={abort:function(){U&&U.abort()},checkForExistence:function(K){const Y=function(D){S.trigger(R.CHECK_FOR_EXISTENCE_COMPLETED,{request:K,exists:D})};if(K){let D=new ob(K.url);U.load({request:D,success:function(){Y(!0)},error:function(){Y(!1)}})}else Y(!1)},load:function(K){const Y=function(D,q){S.trigger(R.LOADING_COMPLETED,{request:K,response:D||null,error:q||null,sender:B})};K?U.load({request:K,progress:function(D){S.trigger(R.LOADING_PROGRESS,{request:K,stream:D.stream,streamId:$}),D.data&&S.trigger(R.LOADING_DATA_PROGRESS,{request:K,response:D.data||null,error:null,sender:B})},success:function(D){Y(D)},error:function(D,q,j){Y(void 0,new En.default(L.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,j,q))},abort:function(D){D&&S.trigger(R.LOADING_ABANDONED,{mediaType:D.mediaType,request:D,sender:B})}}):Y(void 0,new En.default(L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},reset:function(){U&&(U.abort(),U.reset(),U=null)},resetInitialSettings:function(){U&&U.resetInitialSettings()}},U=Rl(_).create({errHandler:T.errHandler,errors:L,dashMetrics:T.dashMetrics,mediaPlayerModel:T.mediaPlayerModel,urlUtils:k,constants:p.default,boxParser:T.boxParser,dashConstants:T.dashConstants,requestTimeout:T.settings.get().streaming.fragmentRequestTimeout}),B}Jo.__dashjs_factory_name="FragmentLoader";var hs=i.default.getClassFactory(Jo);function Ba(T){T=T||{};const _=this.context,S=(0,g.default)(_).getInstance(),R=T.errHandler,k=T.mediaPlayerModel,L=T.dashMetrics,$=(0,l.default)(_).getInstance(),B=T.streamInfo;let U,K,Y;function D(){return B.id}function q(){for(let Z in Y)Y[Z].reset();Y={}}function j(Z){if(!Z.sender)return;const ie=Z.request,ae=Z.response,J=ie.isInitializationRequest(),fe=ie.representation.mediaInfo.streamInfo;if(Z.error&&(ie.mediaType===p.default.AUDIO||ie.mediaType===p.default.VIDEO||ie.mediaType===p.default.TEXT&&ie.representation.mediaInfo.isFragmented)&&S.trigger(m.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:Z.request.serviceLocation}),!ae||!fe)return void K.warn("No "+ie.mediaType+" bytes to push or stream is inactive.");const me=(function(pe,Re,ne,Q){const V=new Np;return V.streamId=ne,V.segmentType=Re.type,V.start=Re.startTime,V.duration=Re.duration,V.end=V.start+V.duration,V.bytes=pe,V.index=Re.index,V.representation=Re.representation,V.endFragment=Q,V})(ae,ie,B.id,Z.type!==m.default.FRAGMENT_LOADING_PROGRESS);S.trigger(J?m.default.INIT_FRAGMENT_LOADED:m.default.MEDIA_FRAGMENT_LOADED,{chunk:me,request:ie},{streamId:fe.id,mediaType:ie.mediaType})}return U={getStreamId:D,getModel:function(Z){let ie=Y[Z];return ie||(ie=Xe(_).create({streamInfo:B,type:Z,dashMetrics:L,fragmentLoader:hs(_).create({dashMetrics:L,mediaPlayerModel:k,errHandler:R,settings:T.settings,boxParser:T.boxParser,eventBus:S,events:m.default,errors:bn,dashConstants:T.dashConstants,urlUtils:T.urlUtils,streamId:D()}),debug:$,eventBus:S,events:m.default}),Y[Z]=ie),ie},reset:function(){S.off(y.default.FRAGMENT_LOADING_COMPLETED,j,this),S.off(y.default.FRAGMENT_LOADING_PROGRESS,j,this),q()}},K=$.getLogger(U),q(),S.on(y.default.FRAGMENT_LOADING_COMPLETED,j,U),S.on(y.default.FRAGMENT_LOADING_PROGRESS,j,U),U}Ba.__dashjs_factory_name="FragmentController";var jh=i.default.getClassFactory(Ba),yr=class{constructor(T){this.newMediaInfo=T.newMediaInfo,this.previouslySelectedRepresentation=T.previouslySelectedRepresentation,this.newRepresentation=T.newRepresentation}};function bi(T){const _=this.context,S=(0,c.default)(_).getInstance(),R=T.textController,k=T.eventBus;let L,$,B,U,K,Y,D=[],q=[],j=!1,Z=T.mediaSource,ie=null;function ae(le){return le.mimeType+';codecs="'+le.codecs+'"'}function J(le){return U=R.getTextSourceBuffer(le),Promise.resolve()}function fe(){if(typeof U.addEventListener=="function")try{U.addEventListener("updateend",V,!1),U.addEventListener("error",W,!1),U.addEventListener("abort",W,!1)}catch{Y=setInterval(V,50)}else Y=setInterval(V,50)}function me(){try{typeof U.removeEventListener=="function"&&(U.removeEventListener("updateend",V,!1),U.removeEventListener("error",W,!1),U.removeEventListener("abort",W,!1)),clearInterval(Y)}catch(le){B.error(le)}}function pe(le){return new Promise((Ce=>{U&&S.get().streaming.buffer.useAppendWindow?Ie((()=>{try{if(!U)return void Ce();let we=Z.duration,Le=0;le&&!isNaN(le.start)&&!isNaN(le.duration)&&isFinite(le.duration)&&(we=le.start+le.duration),le&&!isNaN(le.start)&&(Le=le.start),U.appendWindowEnd===we&&U.appendWindowStart===Le||(U.appendWindowStart=0,U.appendWindowEnd=we+.01,U.appendWindowStart=Math.max(Le-.1,0),B.debug(`Updated append window for ${K.type}. Set start to ${U.appendWindowStart} and end to ${U.appendWindowEnd}`)),Ce()}catch{B.warn("Failed to set append window"),Ce()}})):Ce()}))}function Re(le){return new Promise((Ce=>{U?Ie((()=>{try{U.timestampOffset===le||isNaN(le)||(U.timestampOffset=le,B.debug(`Set MSE timestamp offset to ${le}`)),Ce()}catch{Ce()}})):Ce()}))}function ne(){if(!j&&q.length>0){j=!0;const le=q[0];q.splice(0,1);const Ce=function(){j=!1,q.length>0&&ne.call(this),le&&le.data&&le.data.segmentType&&le.data.segmentType!==se.HTTPRequest.INIT_SEGMENT_TYPE&&delete le.data.bytes,le.promise.resolve({chunk:le.data})};try{if(ie=le.request,le.data.bytes.byteLength===0)Ce.call(this);else{try{B.debug(`Appending ${le.data.segmentType} from period ${le.data.streamId} to buffer. Request URL: ${le.request.url}, Representation: ID: ${le.data.representation.id}, bitrate: ${le.data.representation.bitrateInKbit}`)}catch{}U instanceof fs?U.appendBuffer(le.data.bytes,le.data.start,le.data.end):U.appendBuffer?U.appendBuffer(le.data.bytes):U.append(le.data.bytes,le.data),Ie(Ce.bind(this))}}catch(we){B.fatal('SourceBuffer append failed "'+we+'"'),q.length>0?ne():j=!1,delete le.data.bytes,le.promise.reject({chunk:le.data,error:new En.default(we.code,we.message)})}}}function Q(){D.length>0&&!U.updating&&(D.shift()(),Q())}function V(){U.updating||Q()}function W(le){const Ce=le.target||{};(function(we,Le){let Ge=Le||{};k.trigger(we,Ge,{streamId:K.streamInfo.id,mediaType:$})})(m.default.SOURCE_BUFFER_ERROR,{error:Ce,lastRequestAppended:ie})}function Ie(le){try{D.push(le),U&&!U.updating&&Q()}catch(Ce){B.error(Ce)}}return L={abort:function(){return new Promise((le=>{try{q=[],Z.readyState==="open"?Ie((()=>{try{U&&U.abort(),le()}catch{le()}})):(U&&U.setTextTrack&&Z.readyState==="ended"&&U.abort(),le())}catch{le()}}))},abortBeforeAppend:function(){return new Promise((le=>{Ie((()=>{const Ce=U.appendWindowStart,we=U.appendWindowEnd;U&&(U.abort(),U.appendWindowStart=Ce,U.appendWindowEnd=we),le()}))}))},append:function(le,Ce=null){return new Promise(((we,Le)=>{le?(q.push({data:le,promise:{resolve:we,reject:Le},request:Ce}),Ie(ne.bind(this))):Le({chunk:le,error:new En.default(bn.APPEND_ERROR_CODE,bn.APPEND_ERROR_MESSAGE)})}))},changeType:function(le){const Ce=ae(le);return new Promise((we=>{Ie((()=>{U.changeType&&(B.debug(`Changing SourceBuffer codec to ${Ce}`),U.changeType(Ce)),we()}))}))},getAllBufferRanges:function(){try{return U?.buffered}catch(le){return B.error("getAllBufferRanges exception: "+le.message),null}},getBuffer:function(){return U},getType:function(){return $},initializeForFirstUse:function(le,Ce){K=le;const we=le.streamInfo;$=K.type;const Le=Ce?ae(Ce):le.codec;try{if(Le.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return J(we);U=Z.addSourceBuffer(Le),fe();const Ge=[];return Ge.push(pe(K.streamInfo)),Ce&&Ce.mseTimeOffset!==void 0&&Ge.push(Re(Ce.mseTimeOffset)),Promise.all(Ge)}catch(Ge){return K.type==p.default.TEXT&&!K.isFragmented||Le.indexOf('codecs="stpp')!==-1||Le.indexOf('codecs="vtt')!==-1||Le.indexOf("text/vtt")!==-1?J(we):Promise.reject(Ge)}},initializeForStreamSwitch:function(le,Ce,we){K=le,$=K.type,(function(Le){U=Le.getBuffer()})(we),fe()},remove:function(le){return new Promise(((Ce,we)=>{const Le=le.start,Ge=le.end;Le>=0&&Ge>Le?Ie((function(){try{U.remove(Le,Ge),Ie((function(){Ce({from:Le,to:Ge,unintended:!1}),le.resolve&&le.resolve()}))}catch(Pe){we({from:Le,to:Ge,unintended:!1,error:new En.default(bn.REMOVE_ERROR_CODE,bn.REMOVE_ERROR_MESSAGE)}),le.reject&&le.reject(Pe)}})):Ce()}))},removeEventListeners:me,reset:function(){if(U){try{D=[],me(),j=!1,q=[],U.getClassName&&U.getClassName()==="TextSourceBuffer"||(B.debug("Removing sourcebuffer from media source"),Z.removeSourceBuffer(U))}catch{}U=null}ie=null},updateAppendWindow:pe,updateTimestampOffset:Re},B=(0,l.default)(_).getInstance().getLogger(L),L}bi.__dashjs_factory_name="SourceBufferSink";var sa=i.default.getClassFactory(bi);function Ha(T){const _=this.context;let S,R,k,L=[],$=T;function B(U,K){return L=L.filter((Y=>!((isNaN(K)||Y.start<K)&&(isNaN(U)||Y.end>U)))),Promise.resolve()}return S={getAllBufferRanges:function(){let U=[];for(let Y=0;Y<L.length;Y++){let D=L[Y];U.length===0||D.start>U[U.length-1].end?U.push({start:D.start,end:D.end}):U[U.length-1].end=D.end}const K={start:function(Y){return U[Y].start},end:function(Y){return U[Y].end}};return Object.defineProperty(K,"length",{get:function(){return U.length}}),K},append:function(U){return U.segmentType!=="InitializationSegment"?(L.push(U),L.sort((function(K,Y){return K.start-Y.start})),k=null):k=U,R.debug("PreBufferSink appended chunk s: "+U.start+"; e: "+U.end),$&&$({chunk:U}),Promise.resolve()},remove:B,abort:function(){return Promise.resolve()},discharge:function(U,K){const Y=(function(D,q){return L.filter((j=>(isNaN(q)||j.start<q)&&(isNaN(D)||j.end>D)))})(U,K);return k&&(Y.push(k),k=null),B(U,K),Y},reset:function(){L=[],k=null,$=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(U){U()},getBuffer:function(){return this}},R=(0,l.default)(_).getInstance().getLogger(S),S}Ha.__dashjs_factory_name="PreBufferSink";var Hh=i.default.getClassFactory(Ha);function Bu(){let T={};return{save:function(_){const S=_.streamId,R=_.representation.id;T[S]=T[S]||{},T[S][R]=_},extract:function(_,S){return T&&T[_]&&T[_][S]?T[_][S]:null},reset:function(){T={}}}}Bu.__dashjs_factory_name="InitCache";var el=i.default.getSingletonFactory(Bu);const Hc=.01,Gc="BufferController";function zu(T){const _=(T=T||{}).capabilities,S=this.context,R=(0,g.default)(S).getInstance(),k=T.fragmentModel,L=T.playbackController,$=T.representationController,B=T.settings,U=T.streamInfo,K=T.textController,Y=T.type;let D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V,W,Ie,le,Ce,we,Le,Ge;function Pe(et,ut=null){return new Promise(((Et,nt)=>{ae=et,me&&ut&&typeof me.discharge=="function"?(pe=me,te(ut).then((()=>{Et()})).catch((wt=>{nt(wt)}))):Et()}))}function te(et,ut=new Map,Et){return new Promise(((nt,wt)=>{Ce&&et?ae?(Re=!1,(function(Nt,Ne,ft){return new Promise((Qt=>{me=sa(S).create({mediaSource:ae,textController:K,eventBus:R}),(function(tn,Xn,Tt){const Xt=$.getCurrentRepresentation();let Mn=null;return Y!==p.default.VIDEO&&Y!==p.default.AUDIO||(Mn=Xn.get(Y)),Mn?(function(Dn,Jn,Cn,Ii){me.initializeForStreamSwitch(Dn,Jn,Cn);const Ki=[];return Ki.push(me.abortBeforeAppend()),Ki.push(at()),Ki.push(_e(Jn,Ii)),Jn&&Jn.mseTimeOffset!==void 0&&Ki.push(Hn(Jn)),Promise.allSettled(Ki)})(tn,Xt,Mn,Tt):(function(Dn,Jn){return me.initializeForFirstUse(Dn,Jn)})(tn,Xt)})(Nt,Ne,ft).then((()=>Hn($.getCurrentRepresentation()))).then((()=>{Qt(me)})).catch((tn=>{q.warn("Caught error on create SourceBuffer: "+tn),Qt(me)}))}))})(et,ut,Et).then((Nt=>{nt(Nt)})).catch((Nt=>{wt(Nt)}))):(Re=!0,(function(){return new Promise(((Nt,Ne)=>{me=Hh(S).create(Ee.bind(this)),Hn($.getCurrentRepresentation()).then((()=>{Nt(me)})).catch((()=>{Ne()}))}))})().then((Nt=>{nt(Nt)})).catch((Nt=>{wt(Nt)}))):nt(null)}))}function oe(et){B.get().streaming.cacheInitSegments&&(q.info("Init fragment finished loading saving to",Y+"'s init cache"),Ce.save(et.chunk)),q.debug(`Appending init fragment for type ${Y}, representationId ${et.chunk.representation.id} and bandwidth ${et.chunk.representation.bandwidth}`),ue(et.chunk)}function ge(et){ue(et.chunk,et.request)}function ue(et,ut=null){me&&(me.append(et,ut).then((Et=>{Ee(Et)})).catch((Et=>{Ee(Et)})),et.representation.mediaInfo.type===p.default.VIDEO&&jt(m.default.VIDEO_CHUNK_RECEIVED,{chunk:et}))}function de(et){if(et&&et.length>0)for(let ut=0,Et=et.length;ut<Et;ut++)q.debug("Buffered range: "+et.start(ut)+" - "+et.end(ut)+", currentTime = ",L.getTime())}function Ee(et){if(et.error)return et.error.code===22&&(function(){if(le=!0,ie=.8*yn(),q.warn("Quota exceeded, Critical Buffer: "+ie),ie>0){const nt=Math.max(.2*ie,1),wt=ie-nt,Nt=Math.min(B.get().streaming.buffer.bufferTimeAtTopQuality,.9*wt),Ne=Math.min(B.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*wt),ft={streaming:{buffer:{bufferToKeep:parseFloat(nt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Nt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Ne.toFixed(5))}}};B.update(ft)}})(),void(et.error.code!==22&&yt()||(q.warn("Clearing playback buffer to overcome quota exceed situation"),jt(m.default.QUOTA_EXCEEDED,{criticalBufferLevel:ie,quotaExceededTime:et.chunk.start}),ri(Nn())));if(!me||(St(),le=!1,V=et.chunk,!V||!V.endFragment))return;V&&!isNaN(V.index)&&(J=Math.max(V.index,J),Ht());const ut=me.getAllBufferRanges();V.segmentType===se.HTTPRequest.MEDIA_SEGMENT_TYPE&&(de(ut),je(),(function(){if(isNaN(Ge)||Re)return;if(Y!==p.default.AUDIO&&Y!==p.default.VIDEO)return void(Ge=NaN);const nt=L.getTime(),wt=mt(nt,0),Nt=mt(Ge,0);if(wt&&Nt&&wt.start===Nt.start)return void(Ge=NaN);const Ne=$.getCurrentRepresentation().segmentDuration,ft=mt(Ge,Ne);ft&&(B.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(nt-Ge)>Ne?Ge<=ft.end&&L.seek(Math.max(Ge,ft.start),!1,!0):nt<ft.start&&L.seek(ft.start,!1,!0))})());let Et=!1;ne&&(ne.indexOf(V)>0&&(Et=!0),ne=null),V&&!Et&&jt(m.default.BYTES_APPENDED_END_FRAGMENT,{startTime:V.start,index:V.index,bufferedRanges:ut,segmentType:V.segmentType,mediaType:Y,representationId:V.representation.id})}function X(et,ut){const Et=[];return Et.push(Hn(et)),Et.push(me?me.abort():Promise.resolve()),Et.push(_e(et,ut)),Promise.allSettled(Et)}function _e(et,ut){if(!et||!ut)return q.warn("BufferController._changeCodec() is missing the information about the Representations. Doing nothing"),Promise.resolve();if(et&&ut&&et.mimeType===ut.mimeType&&et.codecFamily===ut.codecFamily)return q.debug(`Switching to new codec ${et.codecs} without changeType as previous codec ${ut.codecs} is compatible.`),Promise.resolve();if(!B.get().streaming.buffer.useChangeType||!_.supportsChangeType())return q.debug("changeType() not available"),Promise.resolve();q.debug(`Using changeType() to switch from codec ${ut.codecs} to ${et.codecs}`);const Et=et.dependentRepresentation?et.dependentRepresentation:et;return me.changeType(Et)}function ke(){return new Promise(((et,ut)=>{let Et=Oe();if(!Et||Et.length===0)return je(),void et();ri(Et).then((()=>{et()})).catch((nt=>{ut(nt)}))}))}function Oe(et){const ut=[],Et=me.getAllBufferRanges();if(!Et||Et.length===0)return ut;if(!et&&et!==0||isNaN(et))ut.push({start:Et.start(0),end:Et.end(Et.length-1)+.5});else{const nt=(function(Nt,Ne){const ft=B.get().streaming.buffer.bufferToKeep,Qt=Ne.start(0);if(Nt-Qt>ft){let tn=Math.max(0,Nt-ft);const Xn=k.getRequests({state:Xe.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:Hc})[0];if(Xn&&(tn=Math.min(Xn.startTime,tn)),tn>0)return{start:Qt,end:tn}}return null})(et,Et),wt=(function(Nt,Ne){const ft=Ne.end(Ne.length-1)+.5,Qt=$n(Nt),tn=U.manifestInfo.duration>=B.get().streaming.buffer.longFormContentDurationThreshold?B.get().streaming.buffer.bufferTimeAtTopQualityLongForm:B.get().streaming.buffer.bufferTimeAtTopQuality;let Xn=isNaN(Qt)?Nt:Math.min(Qt,Nt+tn);if(Xn>=Ne.end(Ne.length-1))return null;const Tt=k.getRequests({state:Xe.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:Hc})[0];if(Tt&&(Xn=Math.max(Tt.startTime+Tt.duration,Xn)),B.get().streaming.buffer.avoidCurrentTimeRangePruning){for(let Xt=0;Xt<Ne.length;Xt++)if(Ne.start(Xt)<=Nt&&Nt<=Ne.end(Xt)&&Ne.start(Xt)<=Xn&&Xn<=Ne.end(Xt)){let Mn=Xn;Xn=Xt+1<Ne.length?Ne.start(Xt+1):Ne.end(Xt)+1,q.debug("Buffered range ["+Ne.start(Xt)+", "+Ne.end(Xt)+"] overlaps with targetTime "+Nt+" and range to be pruned ["+Mn+", "+ft+"], using ["+Xn+", "+ft+"] instead"+(Xn<ft?"":" (no actual pruning)"));break}}return Xn<Ne.end(Ne.length-1)?{start:Xn,end:ft}:null})(et,Et);nt&&ut.push(nt),wt&&ut.push(wt)}return ut}function je(){(!Le||Y===p.default.TEXT&&K.isTextEnabled())&&St()}function Be(){vn()}function Ze(){vn(),Ge=NaN}function mt(et,ut){if(!me)return null;const Et=me.getAllBufferRanges();let nt,wt,Nt=0,Ne=0,ft=null,Qt=null,tn=0;const Xn=isNaN(ut)?.15:ut;if(Et!=null){for(wt=0,nt=Et.length;wt<nt;wt++)if(Nt=Et.start(wt),Ne=Et.end(wt),ft===null)tn=Math.abs(Nt-et),(et>=Nt&&et<Ne||tn<=Xn)&&(ft=Nt,Qt=Ne);else{if(tn=Nt-Qt,!(tn<=Xn))break;Qt=Ne}if(ft!==null)return{start:ft,end:Qt}}return null}function St(){if(L){let et=L.getTime()||0;Re&&(et=isNaN(Ge)?0:Ge);const ut=B.get().streaming.gaps.jumpGaps&&!isNaN(B.get().streaming.gaps.smallGapLimit)?B.get().streaming.gaps.smallGapLimit:NaN;Z=Math.max((function(Et,nt){let wt,Nt;return B.get().streaming.gaps.jumpGaps&&(nt=B.get().streaming.gaps.smallGapLimit),wt=mt(Et,nt),Nt=wt===null?0:wt.end-Et,Nt})(et,ut),0),jt(m.default.BUFFER_LEVEL_UPDATED,{mediaType:Y,bufferLevel:Z}),vn()}}function Ht(){const et=J>=fe-1,ut=L.getTimeToStreamEnd(U)-Z<1e-5;!et&&!ut||j||(Vt(!0),q.debug(`checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ${U.id} and type ${Y}`))}function vn(){if(Y!==p.default.AUDIO&&Y!==p.default.VIDEO)return;const et=L.getLowLatencyModeEnabled()?B.get().streaming.buffer.lowLatencyStallThreshold:B.get().streaming.buffer.stallThreshold;Z<=et&&!j?zt(o.BUFFER_EMPTY):(j||Z>et)&&zt(o.BUFFER_LOADED)}function zt(et){Q===et||et===o.BUFFER_EMPTY&&L.getTime()===0||Y===p.default.TEXT&&!K.isTextEnabled()||(Q=et,jt(m.default.BUFFER_LEVEL_STATE_CHANGED,{state:et}),jt(et===o.BUFFER_LOADED?m.default.BUFFER_LOADED:m.default.BUFFER_EMPTY),q.debug(et===o.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function mn(){me&&Y!==p.default.TEXT&&(j||ri(Nn()))}function Nn(){const et=[],ut=me.getAllBufferRanges();if(!ut||ut.length===0)return et;const Et=L.getTime();let nt=Math.max(0,Et-B.get().streaming.buffer.bufferToKeep);const wt=k.getRequests({state:Xe.FRAGMENT_MODEL_EXECUTED,time:Et,threshold:Hc})[0];if(wt)nt=Math.min(wt.startTime,nt);else if(Et===0&&L.getIsDynamic())return[];if(ut.start(0)<=nt){const Nt={start:0,end:nt};for(let Ne=0;Ne<ut.length&&ut.end(Ne)<=nt;Ne++)Nt.end=ut.end(Ne);Nt.start<Nt.end&&et.push(Nt)}return et}function ri(et){return new Promise(((ut,Et)=>{if(!et||!me||et.length===0)return St(),void ut();const nt=[];et.forEach((wt=>{nt.push((function(Nt){return new Promise(((Ne,ft)=>{Nt.resolve=Ne,Nt.reject=ft,we.push(Nt)}))})(wt))})),Ie||jn(),Promise.all(nt).then((()=>{ut()})).catch((wt=>{Et(wt)}))}))}function jn(){try{if(we.length===0||!me)return q.debug("Nothing to prune, halt pruning"),we=[],void(Ie=!1);const et=me.getBuffer();if(!et||!et.buffered||et.buffered.length===0)return q.debug("SourceBuffer is empty (or does not exist), halt pruning"),we=[],void(Ie=!1);const ut=we.shift();q.debug(`${Y}: Removing buffer from: ${ut.start} to ${ut.end}`),Ie=!0,L.getTime()<ut.end&&Vt(!1),me.remove(ut).then((Et=>{Bn(Et)})).catch((Et=>{Bn(Et)}))}catch{Ie=!1}}function Bn(et){q.debug("onRemoved buffer from:",et.from,"to",et.to),me&&(de(me.getAllBufferRanges()),we.length===0&&(Ie=!1,St()),et.unintended&&(q.warn("Detected unintended removal from:",et.from,"to",et.to,"setting streamprocessor time to",et.from),jt(m.default.SEEK_TARGET,{time:et.from})),Ie?jn():(Le?Le=!1:St(),jt(m.default.BUFFER_CLEARED,{from:et.from,to:et.to,unintended:et.unintended,hasEnoughSpaceToAppend:yt(),quotaExceeded:le})))}function Hn(et){return new Promise((ut=>{et&&et.mseTimeOffset!==void 0&&me&&me.updateTimestampOffset?me.updateTimestampOffset(et.mseTimeOffset).then((()=>{ut()})).catch((()=>{ut()})):ut()}))}function at(){return me&&!j?me.updateAppendWindow(U):Promise.resolve()}function Ot(){W++,W*(B.get().streaming.wallclockTimeUpdateInterval/1e3)>=B.get().streaming.buffer.bufferPruningInterval&&(W=0,mn())}function Mt(){vn()}function Vt(et){j=et,j?jt(m.default.BUFFERING_COMPLETED):fe=Number.POSITIVE_INFINITY}function yn(){try{const et=me.getAllBufferRanges();let ut,Et,nt=0;if(!et)return nt;for(Et=0,ut=et.length;Et<ut;Et++)nt+=et.end(Et)-et.start(Et);return nt}catch{return 0}}function $n(et){try{let ut=et;const Et=me.getAllBufferRanges();if(!Et||Et.length===0)return NaN;let nt=0;for(;ut===et&&nt<Et.length;){const wt=Et.start(nt),Nt=Et.end(nt);ut>=wt&&ut<=Nt&&(ut=Nt),nt+=1}return ut===et?NaN:ut}catch{return NaN}}function yt(){const et=yn();return isNaN(et)||et<ie}function jt(et,ut){let Et=ut||{};R.trigger(et,Et,{streamId:U.id,mediaType:Y})}function sn(et,ut){if(ie=Number.POSITIVE_INFINITY,Q=void 0,fe=Number.POSITIVE_INFINITY,J=0,V=null,j=!1,Ie=!1,le=!1,Z=0,W=0,we=[],Ge=NaN,Re=!1,me){let Et=me;me=null,et||(ut?Et.removeEventListeners():Et.abort().then((()=>{Et.reset(ut),Et=null})))}Le=!1}return D={appendInitSegmentFromCache:function(et){const ut=Ce.extract(U.id,et);return!!ut&&(q.debug(`Appending init fragment for type ${Y}, representationId ${ut.representation.id} and bandwidth ${ut.representation.bandwidth}`),ue(ut),!0)},clearBuffers:ri,createBufferSink:te,dischargePreBuffer:function(){if(me&&pe&&typeof pe.discharge=="function"){const et=pe.getAllBufferRanges();if(et.length>0){let nt="Beginning "+Y+"PreBuffer discharge, adding buffer for:";for(let wt=0;wt<et.length;wt++)nt+=" start: "+et.start(wt)+", end: "+et.end(wt)+";";q.debug(nt)}else q.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");ne=[];let ut=pe.discharge(),Et=null;for(let nt=0;nt<ut.length;nt++){const wt=ut[nt];if(wt.segmentType!==se.HTTPRequest.INIT_SEGMENT_TYPE){const Nt=Ce.extract(wt.streamId,wt.representation.id);Nt&&Et!==Nt&&(ne.push(Nt),me.append(Nt),Et=Nt)}ne.push(wt),me.append(wt)}pe.reset(),pe=null}},getAllRangesWithSafetyFactor:Oe,getBuffer:function(){return me},getBufferControllerType:function(){return Gc},getBufferLevel:function(){return Z},getContinuousBufferTimeForTargetTime:$n,getIsBufferingCompleted:function(){return j},getIsPruningInProgress:function(){return Ie},getMediaSource:function(){return ae},getRangeAt:mt,getStreamId:function(){return U.id},getType:function(){return Y},hasBufferAtTime:function(et){try{const ut=me.getAllBufferRanges();if(!ut||ut.length===0)return!1;let Et=0;for(;Et<ut.length;){const nt=ut.start(Et),wt=ut.end(Et);if(et>=nt&&et<=wt)return!0;Et+=1}return!1}catch(ut){return q.error(ut),!1}},initialize:function(et){Pe(et),R.on(m.default.INIT_FRAGMENT_LOADED,oe,D),R.on(m.default.MEDIA_FRAGMENT_LOADED,ge,D),R.on(m.default.WALLCLOCK_TIME_UPDATED,Ot,D),R.on(y.default.PLAYBACK_PLAYING,Ze,D),R.on(y.default.PLAYBACK_PROGRESS,je,D),R.on(y.default.PLAYBACK_TIME_UPDATED,je,D),R.on(y.default.PLAYBACK_RATE_CHANGED,Mt,D),R.on(y.default.PLAYBACK_STALLED,Be,D)},prepareForAbandonQualitySwitch:function(et,ut){return X(et,ut)},prepareForDefaultQualitySwitch:function(et,ut){return X(et,ut)},prepareForFastQualitySwitch:function(et,ut){return X(et,ut)},prepareForForceReplacementQualitySwitch:function(et,ut){return new Promise((Et=>{const nt=[];nt.push(me.abort()),nt.push(at()),nt.push(ke()),nt.push(Hn(et)),nt.push(_e(et,ut)),Promise.allSettled(nt).then((()=>{Vt(!1),Et()}))}))},prepareForNonReplacementTrackSwitch:function(et,ut){return new Promise((Et=>{const nt=[];nt.push(at()),nt.push(_e(et,ut)),Promise.allSettled(nt).then((()=>{Et()}))}))},prepareForPlaybackSeek:function(){return j&&Vt(!1),me.abort()},prepareForReplacementTrackSwitch:function(et,ut){return new Promise((Et=>{const nt=[];nt.push(me.abort()),nt.push(at()),nt.push(_e(et,ut)),nt.push(ke()),nt.push(Hn(et)),Promise.allSettled(nt).then((()=>{Vt(!1),Et()}))}))},pruneAllSafely:ke,pruneBuffer:mn,reset:function(et,ut){R.off(m.default.INIT_FRAGMENT_LOADED,oe,this),R.off(m.default.MEDIA_FRAGMENT_LOADED,ge,this),R.off(m.default.WALLCLOCK_TIME_UPDATED,Ot,this),R.off(y.default.PLAYBACK_PLAYING,Ze,this),R.off(y.default.PLAYBACK_PROGRESS,je,this),R.off(y.default.PLAYBACK_TIME_UPDATED,je,this),R.off(y.default.PLAYBACK_RATE_CHANGED,Mt,this),R.off(y.default.PLAYBACK_STALLED,Be,this),sn(et,ut)},segmentRequestingCompleted:function(et){isNaN(et)||(fe=et,Ht())},setIsBufferingCompleted:Vt,setMediaSource:Pe,setSeekTarget:function(et){Ge=et},updateAppendWindow:at,updateBufferTimestampOffset:Hn},q=(0,l.default)(S).getInstance().getLogger(D),Ce=el(S).getInstance(),sn(),D}zu.__dashjs_factory_name=Gc;var wA=i.default.getClassFactory(zu);const Pa="NotFragmentedTextBufferController";function Gh(T){T=T||{};const _=this.context,S=(0,g.default)(_).getInstance(),R=T.textController,k=T.errHandler,L=T.streamInfo,$=T.type;let B,U,K,Y,D,q;function j(ae){Y=ae}function Z(ae){U!==ae&&(U=ae,U&&(function(J){let fe={};S.trigger(J,fe,{streamId:L.id,mediaType:$})})(m.default.BUFFERING_COMPLETED))}function ie(ae){ae.chunk.bytes&&!U&&(q.save(ae.chunk),D.append(ae.chunk),Z(!0))}return B={initialize:function(ae){j(ae)},getStreamId:function(){return L.id},getType:function(){return $},getBufferControllerType:function(){return Pa},createBufferSink:function(ae){return new Promise(((J,fe)=>{try{D=sa(_).create({mediaSource:Y,textController:R,eventBus:S}),D.initializeForFirstUse(ae),K||(D.getBuffer()&&typeof D.getBuffer().initialize=="function"&&D.getBuffer().initialize(),K=!0),J(D)}catch(me){k.error(new En.default(bn.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,bn.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+$)),fe(me)}}))},dischargePreBuffer:function(){},getBuffer:function(){return D},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:j,getMediaSource:function(){return Y},appendInitSegmentFromCache:function(ae){return q.extract(L.id,ae)!==null},getIsBufferingCompleted:function(){return U},setIsBufferingCompleted:Z,getIsPruningInProgress:function(){return!1},reset:function(ae){S.off(m.default.INIT_FRAGMENT_LOADED,ie,B),!ae&&D&&(D.abort(),D.reset(),D=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return U=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},K=!1,Y=null,U=!1,q=el(_).getInstance(),S.on(m.default.INIT_FRAGMENT_LOADED,ie,B),B}Gh.__dashjs_factory_name=Pa;var Op=i.default.getClassFactory(Gh);function Pp(T){T=T||{};const _=this.context,S=(0,g.default)(_).getInstance(),R=T.dashMetrics,k=T.mediaPlayerModel,L=T.fragmentModel,$=T.abrController,B=T.playbackController,U=T.textController,K=T.type,Y=T.bufferController,D=T.representationController,q=T.settings;let j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V;function W(){me=(0,l.default)(_).getInstance().getLogger(ae),de(),ne=T.streamInfo}function Ie(){pe=!0}function le(){pe=!1}function Ce(Ee){if(Y.getIsBufferingCompleted())return;we();const X=isNaN(Ee)?0:Ee;Re=setTimeout(Le,X)}function we(){Re&&(clearTimeout(Re),Re=null)}function Le(){const Ee=k.getScheduleTimeout();try{if((function(){try{return K===p.default.TEXT&&!U.isTextEnabled()||B.isPaused()&&(!B.getStreamController().getInitialPlayback()||!B.getStreamController().getAutoPlay())&&!q.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}})())return void we();(function(){try{return!!pe&&D.getCurrentRepresentation()&&(fe==null||Q||(function(){const X=D.getCurrentRepresentation();if(!K||!X)return!0;let _e=X&&X.segmentDuration&&!isNaN(X.segmentDuration)?X.segmentDuration:0;const ke=R.getCurrentBufferLevel(K),Oe=Ge();return(Oe<=_e||B.getLowLatencyModeEnabled()||K===p.default.AUDIO&&Z)&&(_e=0),ke+_e<Oe})())}catch{return!1}})()?(function(){if($.handlePendingManualQualitySwitch(ne.id,K))return;let X=!1;j&&(X=$.checkPlaybackQuality(K,ne.id)),X||(function(){const _e=D.getCurrentRepresentation();ie||_e.id!==fe||Q?(function(ke){Q?(me.debug("Switch track for "+K+", representation id = "+ke.id),Q=!1):me.debug("Quality has changed, get init request for representationid = "+ke.id),S.trigger(m.default.INIT_FRAGMENT_NEEDED,{representationId:ke.id,sender:ae},{streamId:ne.id,mediaType:K}),j=!1,ie=!1})(_e):(me.debug(`Media segment needed for ${K} and stream id ${ne.id}`),S.trigger(m.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:ne.id,mediaType:K}),j=!0)})()})():Ce(Ee)}catch{Ce(Ee)}}function Ge(){let Ee=NaN;const X=D.getCurrentRepresentation();return K&&X&&(Ee=K===p.default.TEXT?(function(){try{if(U.isTextEnabled()){const _e=D.getCurrentRepresentation();if(isNaN(_e.fragmentDuration)){const ke=R.getCurrentSchedulingInfo(o.SCHEDULING_INFO);return ke?ke.duration:0}return _e.fragmentDuration}return 0}catch{return 0}})():K===p.default.AUDIO&&Z?(function(){try{const _e=R.getCurrentBufferLevel(p.default.VIDEO),ke=D.getCurrentRepresentation();return isNaN(ke.fragmentDuration)?_e+1:Math.max(_e+1,ke.fragmentDuration)}catch{return 0}})():(function(){try{const _e=q.get().streaming.enhancement.enabled?D.getCurrentCompositeRepresentation():D.getCurrentRepresentation(),ke=_e.mediaInfo.streamInfo;return $.isPlayingAtTopQuality(_e)?ke.manifestInfo.duration>=q.get().streaming.buffer.longFormContentDurationThreshold?q.get().streaming.buffer.bufferTimeAtTopQualityLongForm:q.get().streaming.buffer.bufferTimeAtTopQuality:k.getBufferTimeDefaultUnadjusted()}catch{return k.getBufferTimeDefaultUnadjusted()}})()),Ee}function Pe(){te(!0)}function te(Ee){if(B&&L){const X=L.getRequests({state:Xe.FRAGMENT_MODEL_EXECUTED,time:B.getTime(),threshold:0})[0];X&&B.getTime()>=X.startTime&&((!J.representation||X.representation.mediaInfo.type===J.representation.mediaInfo.type&&X.representation.mediaInfo.index!==J.representation.mediaInfo.index)&&Ee&&(function(_e){me.debug(`Track change rendered for streamId ${ne.id} and type ${K}`),S.trigger(m.default.TRACK_CHANGE_RENDERED,{mediaType:K,oldMediaInfo:J&&J.representation&&J.representation.mediaInfo?J.representation.mediaInfo:null,newMediaInfo:_e.representation.mediaInfo,streamId:ne.id})})(X),J.representation&&X.representation.id===J.representation.id||!Ee||(function(_e){me.debug(`Quality change rendered for streamId ${ne.id} and type ${K}`),S.trigger(m.default.QUALITY_CHANGE_RENDERED,{mediaType:K,oldRepresentation:J.representation?J.representation:null,newRepresentation:_e.representation,streamId:ne.id})})(X),J.representation=X.representation)}}function oe(){L.abortRequests(),we()}function ge(){q.get().streaming.scheduling.scheduleWhilePaused||Ce()}function ue(Ee){R.updatePlayListTraceMetrics({playbackspeed:Ee.playbackRate.toString()})}function de(){j=!0,V=0,fe=null,J={representation:null},Q=!1,ie=!1,pe=!0}return ae={clearScheduleTimer:we,getBufferTarget:Ge,getPlaybackController:function(){return B},getStreamId:function(){return ne.id},getSwitchTrack:function(){return Q},getTimeToLoadDelay:function(){return V},getType:function(){return K},initialize:function(Ee){Z=Ee,S.on(m.default.URL_RESOLUTION_FAILED,oe,ae),S.on(y.default.PLAYBACK_STARTED,ge,ae),S.on(y.default.PLAYBACK_RATE_CHANGED,ue,ae),S.on(y.default.PLAYBACK_TIME_UPDATED,Pe,ae),S.on(y.default.MANAGED_MEDIA_SOURCE_START_STREAMING,Ie,ae),S.on(y.default.MANAGED_MEDIA_SOURCE_END_STREAMING,le,ae)},reset:function(){S.off(m.default.URL_RESOLUTION_FAILED,oe,ae),S.off(y.default.PLAYBACK_STARTED,ge,ae),S.off(y.default.PLAYBACK_RATE_CHANGED,ue,ae),S.off(y.default.PLAYBACK_TIME_UPDATED,Pe,ae),S.off(y.default.MANAGED_MEDIA_SOURCE_START_STREAMING,Ie,ae),S.off(y.default.MANAGED_MEDIA_SOURCE_END_STREAMING,le,ae),we(),te(!1),de(),ne=null},setShouldCheckPlaybackQuality:function(Ee){j=Ee},setInitSegmentRequired:function(Ee){ie=Ee},setLastInitializedRepresentationId:function(Ee){fe=Ee},setup:W,setSwitchTrack:function(Ee){Q=Ee},setTimeToLoadDelay:function(Ee){V=Ee},startScheduleTimer:Ce},W(),ae}Pp.__dashjs_factory_name="ScheduleController";var lb=i.default.getClassFactory(Pp);const RA=/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g;var Up=class extends Bh{constructor(){super(),this.isPartialSegment=!0,this.replacementSubNumber=NaN,this.totalNumberOfPartialSegments=NaN}};function Vh(T){return T?T.totalNumberOfPartialSegments&&!isNaN(T.totalNumberOfPartialSegments)&&T.totalNumberOfPartialSegments>0&&!isNaN(T.subNumberOfPartialSegmentToRequest)?(function(_){const S=(function(R,k){const L=new Up,$=R.segmentDurationInSeconds/R.totalNumberOfPartialSegments,{representation:B,timelineConverter:U,isDynamic:K,index:Y,totalNumberOfPartialSegments:D}=R,q=Kh({representation:B,segmentDurationInSeconds:$,presentationStartTime:R.presentationStartTime+k*$,presentationEndTime:R.presentationStartTime+(k+1)*$,timelineConverter:U,isDynamic:K,mediaTimeInSeconds:R.mediaTimeInSeconds+k*$,index:Y});return L.assignAttributes(q),L.replacementSubNumber=k,L.totalNumberOfPartialSegments=D,L})(_,_.subNumberOfPartialSegmentToRequest);return Cr(S,_),S})(T):(function(_){const S=new mo,R=Kh(_);return S.assignAttributes(R),Cr(S,_),S})(T):null}function Kh(T){const{representation:_,segmentDurationInSeconds:S,presentationStartTime:R,presentationEndTime:k,mediaTimeInSeconds:L,timelineConverter:$,isDynamic:B,index:U}=T,K={availabilityEndTime:$.calcAvailabilityEndTimeFromPresentationTime(k+S,_,B),availabilityStartTime:$.calcAvailabilityStartTimeFromPresentationTime(k,_,B),duration:S,index:U,mediaStartTime:L,presentationStartTime:R,replacementNumber:_.startNumber+U,representation:_};return K.wallStartTime=$.calcWallTimeForSegment(K,B),K}function Cr(T,_){const{tManifest:S,mediaTime:R,mediaUrl:k,mediaRange:L}=_;T.replacementTime=S||R,T.media=Nl(k,T.representation.id,T.replacementNumber,T.replacementSubNumber,T.representation.bandwidth,T.replacementTime),T.mediaRange=L,T.mediaUrl=k}function za(T,_,S,R){const k=_.adaptation.period;if(isFinite(k.duration)&&k.start+k.duration<=S.presentationStartTime)return!1;if(R){if(_.availabilityTimeOffset==="INF")return!0;const L=T.getClientReferenceTime();return S.availabilityStartTime.getTime()<=L&&(!isFinite(S.availabilityEndTime)||S.availabilityEndTime.getTime()>=L)}return!0}function Nl(T,_,S,R,k,L){return T&&(function($,B,U,K,Y,D){return $.replace(RA,((q,j,Z,ie)=>{let ae,J;switch(j){case void 0:return"$";case"RepresentationID":ae=B;break;case"Number":ae=U;break;case"SubNumber":ae=K;break;case"Bandwidth":ae=Y;break;case"Time":if(typeof D=="string")return D;ae=D&&Math.round(D);break;default:ae=null}if(ae==null)return q;switch(ie){case void 0:case"d":case"i":case"u":J=ae.toString();break;case"o":J=ae.toString(8);break;case"x":J=ae.toString(16);break;case"X":J=ae.toString(16).toUpperCase();break;default:J=ae.toString()}const fe=parseInt(Z,10)||1;return J.padStart(fe,"0")}))})(T,_,S,R,k,L)}function Vc(T){const{index:_,isDynamic:S,mediaRange:R,mediaTime:k,mediaUrl:L,representation:$,subNumberOfPartialSegmentToRequest:B,timelineConverter:U,totalNumberOfPartialSegments:K}=T;let Y,D,q;Y=$.segmentDuration,isNaN(Y)&&(Y=$.adaptation.period.duration),D=parseFloat(($.adaptation.period.start+_*Y).toFixed(5)),q=parseFloat((D+Y).toFixed(5));const j=Vh({index:_,isDynamic:S,mediaRange:R,mediaTime:k,mediaTimeInSeconds:U.calcMediaTimeFromPresentationTime(D,$),mediaUrl:L,presentationEndTime:q,presentationStartTime:D,representation:$,segmentDurationInSeconds:Y,subNumberOfPartialSegmentToRequest:B,timelineConverter:U,totalNumberOfPartialSegments:K});return za(U,$,j,S)?j:null}function Kc(T){const{durationInTimescale:_,fTimescale:S,index:R,subNumberOfPartialSegmentToRequest:k,isDynamic:L,mediaRange:$,mediaTime:B,mediaUrl:U,totalNumberOfPartialSegments:K,representation:Y,tManifest:D,timelineConverter:q}=T,j=B/S,Z=_/S;let ie=q.calcPresentationTimeFromMediaTime(j,Y),ae=Vh({representation:Y,segmentDurationInSeconds:Z,presentationStartTime:ie,presentationEndTime:ie+Z,mediaTimeInSeconds:j,timelineConverter:q,isDynamic:L,index:R,totalNumberOfPartialSegments:K,subNumberOfPartialSegmentToRequest:k,mediaUrl:U,mediaRange:$,tManifest:D,mediaTime:B});return za(q,Y,ae,L)?ae:null}function yf(T){return T.k}function go(T){const _=(T=T||{}).eventBus,S=T.events,R=T.abrController,k=T.dashMetrics,L=T.playbackController,$=T.timelineConverter,B=T.type,U=T.streamInfo,K=T.segmentsController,Y=T.isDynamic;let D,q,j;function Z(){return B}function ie(){return j?.mediaInfo.type===B?j:(function(){let ne=j?.dependentRepresentation;if(ne){if(!ne.mediaInfo)throw new Error("dependentRepresentation has no mediaInfo!");if(ne.mediaInfo.type===B)return ne}return null})()}function ae(){j=null,q=[]}function J(ne){return new Promise(((Q,V)=>{const W=ne.hasInitialization(),Ie=ne.hasSegments(),le=[];le.push(K.updateInitData(ne,W)),le.push(K.updateSegmentData(ne,Ie)),Promise.all(le).then((Ce=>{var we;Ce[0]&&!Ce[0].error&&(ne=(function(Le,Ge){return Ge&&!Ge.error&&Ge.representation?Ge.representation:Le})(ne,Ce[0])),Ce[1]&&!Ce[1].error&&(ne=(function(Le,Ge){if(!Ge||Ge.error)return;const Pe=Ge.segments,te=[];let oe,ge,ue,de,Ee=0;for(oe=0,ge=Pe?Pe.length:0;oe<ge;oe++)ue=Pe[oe],de=Kc({durationInTimescale:ue.duration,fTimescale:ue.timescale,index:Ee,isDynamic:Y,mediaRange:ue.mediaRange,mediaTime:ue.startTime,mediaUrl:ue.media,representation:Le,timelineConverter:$}),de&&(te.push(de),de=null,Ee++);return te.length>0&&(Le.segments=te),Le})(ne,Ce[1])),ne.fragmentDuration=ne.segmentDuration?ne.segmentDuration:ne.segments&&ne.segments.length>0?ne.segments[0].duration:NaN,(we=ne).mediaFinishedInformation=K.getMediaFinishedInformation(we),(function(Le){let Ge,Pe=k.getCurrentManifestUpdate(),te=!1;if(Pe){for(let oe=0;oe<Pe.representationInfo.length;oe++)if(Ge=Pe.representationInfo[oe],Ge.index===Le.index&&Ge.mediaType===Z()){te=!0;break}te||k.addManifestUpdateRepresentationInfo(Le,Z())}})(ne),Q()})).catch((Ce=>{V(Ce)}))}))}function fe(ne){if(!q||q.length===0)return null;const Q=q.filter((V=>V.id===ne));return Q.length>0?Q[0]:null}function me(ne){_.trigger(S.DATA_UPDATE_COMPLETED,{currentRepresentation:j,error:ne},{streamId:U.id,mediaType:B})}function pe(ne){j&&j.id===ne.id||(function(Q){(function(){if(!(R&&k&&L&&$))throw new Error(p.default.MISSING_CONFIG_ERROR)})();const V=new Date,W=1e3*L.getTime();Q&&k.addRepresentationSwitch(Q.adaptation.type,V,W,Q.id),_.trigger(y.default.REPRESENTATION_SWITCH,{mediaType:B,streamId:U.id,currentRepresentation:Q},{streamId:U.id,mediaType:B})})(ne),j=ne}function Re(ne){if(ne.newDuration){const Q=ie();Q&&Q.adaptation.period&&(Q.adaptation.period.duration=ne.newDuration)}}return D={getCurrentCompositeRepresentation:function(){return j},getCurrentRepresentation:ie,getRepresentationById:fe,getStreamId:function(){return U.id},getType:Z,prepareQualityChange:function(ne){const Q=q.filter((V=>V.id===ne.id));Q.length>0&&pe(Q[0])},reset:function(){_.off(y.default.MANIFEST_VALIDITY_CHANGED,Re,D),ae()},updateData:function(ne,Q,V){return new Promise(((W,Ie)=>{if(q=ne,pe(fe(V)),B!==p.default.VIDEO&&B!==p.default.ENHANCEMENT&&B!==p.default.AUDIO&&(B!==p.default.TEXT||!Q))return me(),void W();const le=[];for(let Ce=0,we=q.length;Ce<we;Ce++){const Le=q[Ce];le.push(J(Le))}Promise.all(le).then((()=>{(function(){R.setPlaybackQuality(B,U,j);const Ce=k.getCurrentDVRInfo(B);Ce&&k.updateManifestUpdateInfo({latency:Ce.range.end-L.getTime()}),me()})(),W()})).catch((Ce=>{Ie(Ce)}))}))}},ae(),_.on(y.default.MANIFEST_VALIDITY_CHANGED,Re,D),D}go.__dashjs_factory_name="RepresentationController";var Yh=i.default.getClassFactory(go);function Wh(T){const _=(T=T||{}).eventBus,S=T.debug,R=T.urlUtils,k=T.type,L=T.streamInfo,$=T.segmentsController,B=T.timelineConverter,U=T.baseURLController;let K,Y,D,q,j;function Z(){return k}function ie(){D=null}function ae(ne,Q,V){const W=U.resolve(V.path);let Ie,le,Ce={};return W&&Q!==W.url&&R.isRelative(Q)?(Ie=W.url,le=W.serviceLocation,Ce=W.queryParams,Q&&(Ie=R.resolve(Q,Ie))):Ie=Q,!R.isRelative(Ie)&&(ne.url=Ie,ne.serviceLocation=le,ne.queryParams=Ce,!0)}function J(ne,Q,V){let W=null;if(!Q||!Q.segmentInfoType)return W;const Ie=$.getSegmentByTime(Q,V);return Ie&&(D=Ie,Y.debug("Index for time "+V+" is "+Ie.index),W=fe(0,Ie)),W}function fe(ne,Q){if(Q==null)return null;const V=new ve,W=Q.representation,Ie=W.bandwidth,le=Nl(Q.media,W.id,Q.replacementNumber,Q.replacementSubNumber,Ie,Q.replacementTime);return V.adaptationIndex=W.adaptation.index,V.availabilityEndTime=Q.availabilityEndTime,V.availabilityStartTime=Q.availabilityStartTime,V.availabilityTimeComplete=W.availabilityTimeComplete,V.bandwidth=W.bandwidth,V.duration=Q.duration,V.index=Q.index,V.isPartialSegmentRequest=Q.isPartialSegment,V.mediaStartTime=Q.mediaStartTime,V.mediaType=Z(),V.presentationStartTime=Q.presentationStartTime,V.range=Q.mediaRange,V.representation=W,V.startTime=Q.presentationStartTime,V.timescale=W.timescale,V.type=se.HTTPRequest.MEDIA_SEGMENT_TYPE,V.wallStartTime=Q.wallStartTime,ae(V,le,W)?V:void 0}function me(ne){if(!ne)return{indexToRequest:0,subNumberOfPartialSegmentToRequest:NaN};const Q=ne.isPartialSegment,V=!isNaN(ne.replacementSubNumber),W=!isNaN(ne.totalNumberOfPartialSegments);if(Q&&V&&W){const Ie=ne.replacementSubNumber+1;return Ie<ne.totalNumberOfPartialSegments?{indexToRequest:ne.index,subNumberOfPartialSegmentToRequest:Ie}:{indexToRequest:ne.index+1,subNumberOfPartialSegmentToRequest:0}}return{indexToRequest:ne.index+1,subNumberOfPartialSegmentToRequest:NaN}}function pe(ne,Q,V,W){let Ie=null;const le=$.getSegmentByIndex(Q,V,W,D);if(le)Ie=fe(0,le),D=le;else{if(q&&!j)return Y.debug(Z()+" No segment found at index: "+V+". Wait for next loop"),null;j=!0}return Ie}function Re(){Y.debug("Dynamic stream complete"),j=!0}return K={getCurrentIndex:function(){return D?D.index:-1},getInitRequest:function(ne,Q){return Q?(function(V,W,Ie){const le=new ve,Ce=W.adaptation.period,we=Ce.start;if(le.mediaType=Ie,le.type=se.HTTPRequest.INIT_SEGMENT_TYPE,le.range=W.range,le.availabilityStartTime=B.calcAvailabilityStartTimeFromPresentationTime(we,W,q),le.availabilityEndTime=B.calcAvailabilityEndTimeFromPresentationTime(we+Ce.duration,W,q),le.representation=W,ae(le,W.initialization,W))return le.url=Nl(le.url,W.id,void 0,void 0,W.bandwidth),le})(0,Q,Z()):null},getLastSegment:function(){return D},getNextSegmentRequest:function(ne,Q){if(!Q||!Q.segmentInfoType)return null;if((function(Ie){return Ie&&D&&Ie.endNumber&&D.replacementNumber&&D.replacementNumber>=Ie.endNumber})(Q))return j=!0,null;let{indexToRequest:V,subNumberOfPartialSegmentToRequest:W}=me(D);return pe(0,Q,V,W)},getNextSegmentRequestIdempotent:function(ne,Q){let V=null,{indexToRequest:W,subNumberOfPartialSegmentToRequest:Ie}=me(D);const le=$.getSegmentByIndex(Q,W,Ie,D);return le?(V=fe(0,le),V):null},getSegmentRequestForTime:J,getStreamId:function(){return L.id},getStreamInfo:function(){return L},getType:Z,getValidTimeAheadOfTargetTime:function(ne,Q,V,W){try{if(isNaN(ne)||!Q||!V)return NaN;if(ne<0&&(ne=0),isNaN(W)&&(W=.5),J(0,V,ne))return ne;if(V.adaptation.period.start+V.adaptation.period.duration<ne)return NaN;const Ie=isFinite(V.adaptation.period.duration)?V.adaptation.period.start+V.adaptation.period.duration:ne+30;let le=Math.min(ne+W,Ie),Ce=NaN,we=null;for(;le<=Ie;){let Le=null;if(le<=Ie&&(Le=J(0,V,le)),Le){Ce=le,we=Le;break}le+=W}if(we){const Le=we.startTime+we.duration;return ne>we.startTime&&Le-ne>W?ne:!isNaN(we.startTime)&&ne<we.startTime&&Ce>we.startTime?we.startTime+.001:Math.min(Le-W,Ce)}return Ce}catch{return NaN}},initialize:function(ne){q=ne,j=!1,$.initialize(ne)},isLastSegmentRequested:function(ne,Q){return!ne||!D?!1:j?!0:!isFinite(ne.adaptation.period.duration)||D.presentationStartTime+D.duration>Q?!1:ne.mediaFinishedInformation&&!isNaN(ne.mediaFinishedInformation.numberOfSegments)&&!isNaN(D.index)&&D.index>=ne.mediaFinishedInformation.numberOfSegments-1&&(!q||ne.segmentInfoType===xe.default.SEGMENT_TEMPLATE||q&&ne.segmentInfoType===xe.default.SEGMENT_LIST&&ne.adaptation.period.nextPeriodId)?!0:!!(q&&ne.adaptation.period.nextPeriodId&&ne.segmentInfoType===xe.default.SEGMENT_TIMELINE&&ne.mediaFinishedInformation&&!isNaN(ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&D&&!isNaN(D.mediaStartTime)&&!isNaN(D.duration)&&D.mediaStartTime+D.duration>=ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(ne,Q){return Q&&Q.segmentInfoType?pe(0,Q,D?D.index:0,D&&D.isPartialSegment&&!isNaN(D.replacementSubNumber)?D.replacementSubNumber:NaN):null},reset:function(){ie(),_.off(y.default.DYNAMIC_TO_STATIC,Re,K)}},Y=S.getLogger(K),ie(),_.on(y.default.DYNAMIC_TO_STATIC,Re,K),K}Wh.__dashjs_factory_name="DashHandler";var Qh=i.default.getClassFactory(Wh);function Fp(T,_){const S=(T=T||{}).timelineConverter,R=T.dashMetrics;let k;function L(B,U){if((function(){if(!S)throw new Error(p.default.MISSING_CONFIG_ERROR)})(),!B)return null;U===void 0&&(U=null);let K=null;const Y=S.calcMediaTimeFromPresentationTime(U,B);return(function(D,q){const j=(function(Ie){return Ie.adaptation.period.mpd.manifest.Period[Ie.adaptation.period.index].AdaptationSet[Ie.adaptation.index].Representation[Ie.index].SegmentTemplate||Ie.adaptation.period.mpd.manifest.Period[Ie.adaptation.period.index].AdaptationSet[Ie.adaptation.index].Representation[Ie.index].SegmentList})(D),Z=j.SegmentTimeline,ie=j.SegmentURL;let ae,J,fe,me,pe,Re,ne=0,Q=-1;Re=D.timescale,ae=Z.S;let V=!1;const W=ae.length;for(fe=0;fe<W&&!V;fe++)for(J=ae[fe],pe=0,J.hasOwnProperty("r")&&(pe=J.r),J.hasOwnProperty("t")&&(ne=J.t),pe<0&&(pe=$(D,ae[fe+1],J,Re,ne/Re)),me=0;me<=pe&&!V;me++)Q++,V=q({mediaTime:ne,segmentBase:j,segmentURL:ie,currentSElement:J,sElementCounterIncludingRepeats:Q,sElementCounter:fe}),V&&(D.segmentDuration=J.d/Re),ne+=J.d})(B,(function(D){const q=B.timescale;return(function(j,Z){const{mediaTime:ie,segmentBase:ae,segmentURL:J,currentSElement:fe,sElementCounterIncludingRepeats:me,sElementCounter:pe}=Z,Re=fe.d,ne=B.timescale;return j<ie+Re&&j>=ie&&((function(Q){const{segmentBase:V,segmentURL:W,sElementCounter:Ie,currentSElement:le,mediaTime:Ce,durationInTimescale:we,fTimescale:Le,requiredMediaTimeInTimescaleUnits:Ge,sElementCounterIncludingRepeats:Pe}=Q;let te=(function(de,Ee,X){let _e=de.media;return Ee&&(_e=Ee[X].media||""),_e})(V,W,Ie),oe=(function(de,Ee,X){let _e=de.mediaRange;return Ee&&(_e=Ee[X].mediaRange),_e})(le,W,Ie);const ge=yf(le),ue=(function(de){if(!de||de.totalNumberOfPartialSegments===void 0||isNaN(de.totalNumberOfPartialSegments)||de.totalNumberOfPartialSegments<1)return;const{durationInTimescale:Ee,requiredMediaTimeInTimescaleUnits:X,mediaTime:_e,totalNumberOfPartialSegments:ke}=de,Oe=Ee/ke;for(let je=0;je<ke;je++){const Be=_e+je*Oe;if(X>=Be&&X<Be+Oe)return je}return NaN})({durationInTimescale:we,requiredMediaTimeInTimescaleUnits:Ge,mediaTime:Ce,totalNumberOfPartialSegments:ge});K=Kc({timelineConverter:S,isDynamic:_,representation:B,mediaTime:Ce,durationInTimescale:we,fTimescale:Le,mediaUrl:te,mediaRange:oe,index:Pe,tManifest:le.tManifest,totalNumberOfPartialSegments:ge,subNumberOfPartialSegmentToRequest:ue})})({segmentBase:ae,segmentURL:J,sElementCounter:pe,currentSElement:fe,mediaTime:ie,durationInTimescale:Re,fTimescale:ne,requiredMediaTimeInTimescaleUnits:j,sElementCounterIncludingRepeats:me}),!0)})(parseFloat((Y*q).toPrecision(15)),D)})),K}function $(B,U,K,Y,D){let q;if(U&&U.hasOwnProperty("t"))q=U.t/Y;else try{let j=0;if(isNaN(B.adaptation.period.start)||isNaN(B.adaptation.period.duration)||!isFinite(B.adaptation.period.duration)){const Z=R.getCurrentDVRInfo();j=isNaN(Z.end)?0:Z.end}else j=B.adaptation.period.start+B.adaptation.period.duration;q=S.calcMediaTimeFromPresentationTime(j,B),B.segmentDuration=K.d/Y}catch{q=0}return Math.max(Math.ceil((q-D)/(K.d/Y))-1,0)}return k={getMediaFinishedInformation:function(B){if(!B)return 0;const U=(B.adaptation.period.mpd.manifest.Period[B.adaptation.period.index].AdaptationSet[B.adaptation.index].Representation[B.index].SegmentTemplate||B.adaptation.period.mpd.manifest.Period[B.adaptation.period.index].AdaptationSet[B.adaptation.index].Representation[B.index].SegmentList).SegmentTimeline;let K,Y,D,q,j,Z,ie=0,ae=0,J=0;Z=B.timescale,K=U.S;const fe=K.length;for(D=0;D<fe;D++)for(Y=K[D],j=0,Y.hasOwnProperty("r")&&(j=Y.r),Y.hasOwnProperty("t")&&(ie=Y.t,ae=ie/Z),j<0&&(j=$(B,K[D+1],Y,Z,ae)),q=0;q<=j;q++)J++,ie+=Y.d,ae=ie/Z;return{numberOfSegments:J,mediaTimeOfLastSignaledSegment:ae}},getSegmentByIndex:function(B,U){return B?L(B,U&&!isNaN(U.presentationStartTime)?U.presentationStartTime+U.duration+.01:0):null},getSegmentByTime:L},k}Fp.__dashjs_factory_name="TimelineSegmentsGetter";var ub=i.default.getClassFactory(Fp);function Bp(T,_){const S=(T=T||{}).timelineConverter;let R;function k($,B,U){if(!$)return null;const K=L($),Y=yf(K);Y!==void 0&&Y>=0&&(U=U!==void 0&&U<Y?U:0);const D=Vc({index:B=Math.max(B,0),isDynamic:_,mediaTime:Math.round(B*$.segmentDuration*$.timescale,10),mediaUrl:K.media,representation:$,subNumberOfPartialSegmentToRequest:U,timelineConverter:S,totalNumberOfPartialSegments:Y});return D&&$.endNumber&&D.replacementNumber>$.endNumber?null:D}function L($){return $.adaptation.period.mpd.manifest.Period[$.adaptation.period.index].AdaptationSet[$.adaptation.index].Representation[$.index].SegmentTemplate}return R={getMediaFinishedInformation:function($){const B={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!$)return B;const U=$.segmentDuration;return isNaN(U)?B.numberOfSegments=1:B.numberOfSegments=Math.ceil($.adaptation.period.duration/U),B},getSegmentByIndex:k,getSegmentByTime:function($,B){if(!$)return null;const U=$.segmentDuration;if(isNaN(U))return null;let K=S.calcPeriodRelativeTimeFromMpdRelativeTime($,B);const Y=L($),D=Math.floor(K/U),q=(function(j){if(!j||j.totalNumberOfPartialSegments===void 0||isNaN(j.totalNumberOfPartialSegments)||j.totalNumberOfPartialSegments<1)return;const{totalNumberOfPartialSegments:Z,representation:ie,requestedTimeRelativeToPeriodStart:ae,indexWithoutStartNumber:J}=j,fe=J*ie.segmentDuration,me=ie.segmentDuration/Z,pe=ae-fe;let Re=Math.floor(pe/me);return Re=Math.max(0,Math.min(Re,Z-1)),Re})({totalNumberOfPartialSegments:yf(Y),representation:$,requestedTimeRelativeToPeriodStart:K,indexWithoutStartNumber:D});return k($,D,q)}},R}Bp.__dashjs_factory_name="TemplateSegmentsGetter";var cb=i.default.getClassFactory(Bp);function zp(T,_){const S=(T=T||{}).timelineConverter;let R;function k(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(p.default.MISSING_CONFIG_ERROR)}function L($,B){if(k(),!$)return null;const U=$.adaptation.period.mpd.manifest.Period[$.adaptation.period.index].AdaptationSet[$.adaptation.index].Representation[$.index].SegmentList,K=U.SegmentURL.length,Y=$&&!isNaN($.startNumber)?$.startNumber:1,D=Math.max(Y-1,0),q=Math.max(B-D,0);let j=null;if(q<K){const Z=U.SegmentURL[q];j=Vc({index:B,isDynamic:_,mediaRange:Z.mediaRange,mediaTime:(Y+B-1)*$.segmentDuration,representation:$,timelineConverter:S}),j&&(j.media=Z.media?Z.media:"",j.indexRange=Z.indexRange)}return j}return R={getSegmentByIndex:L,getSegmentByTime:function($,B){if(k(),!$)return null;const U=$.segmentDuration;if(isNaN(U))return null;const K=S.calcPeriodRelativeTimeFromMpdRelativeTime($,B);return L($,Math.floor(K/U))},getMediaFinishedInformation:function($){const B={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!$)return B;const U=$.adaptation.period.mpd.manifest.Period[$.adaptation.period.index].AdaptationSet[$.adaptation.index].Representation[$.index].SegmentList,K=$&&!isNaN($.startNumber)?$.startNumber:1,Y=Math.max(K-1,0);return B.numberOfSegments=Y+U.SegmentURL.length,B}},R}zp.__dashjs_factory_name="ListSegmentsGetter";var db=i.default.getClassFactory(zp);function Xh(T){const _=(T=T||{}).timelineConverter;let S;function R(){if(!_||!_.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(p.default.MISSING_CONFIG_ERROR)}function k(L,$){if(R(),!L)return null;const B=L.segments?L.segments.length:-1;let U;if($<B&&(U=L.segments[$],U&&U.index===$))return U;for(let K=0;K<B;K++)if(U=L.segments[K],U&&U.index===$)return U;return null}return S={getSegmentByIndex:k,getSegmentByTime:function(L,$){R();const B=(function(U,K){if(!U)return-1;const Y=U.segments,D=Y?Y.length:null;let q,j,Z,ie,ae,J=-1;if(Y&&D>0){for(ae=0;ae<D;ae++)if(j=Y[ae],Z=j.presentationStartTime,ie=j.duration,q=ie/2,K+q>=Z&&K-q<Z+ie){J=j.index;break}}return J})(L,$);return k(L,B)},getMediaFinishedInformation:function(L){const $={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return L&&L.segments&&($.numberOfSegments=L.segments.length),$}},S}Xh.__dashjs_factory_name="SegmentBaseGetter";var fb=i.default.getClassFactory(Xh);function hb(T){T=T||{};const _=this.context,S=T.dashConstants,R=T.type,k=T.segmentBaseController;let L,$;function B(U){return U?U.segments?$[S.SEGMENT_BASE]:$[U.segmentInfoType]:null}return L={initialize:function(U){$[S.SEGMENT_TIMELINE]=ub(_).create(T,U),$[S.SEGMENT_TEMPLATE]=cb(_).create(T,U),$[S.SEGMENT_LIST]=db(_).create(T,U),$[S.SEGMENT_BASE]=fb(_).create(T,U)},updateInitData:function(U,K){return K?Promise.resolve():k.getSegmentBaseInitSegment({representation:U,mediaType:R})},updateSegmentData:function(U,K){return K?Promise.resolve():k.getSegmentList({mimeType:U.mimeType,representation:U,mediaType:R})},getSegmentByIndex:function(U,K,Y,D){const q=B(U);return q?U.segmentInfoType?U.segmentInfoType===S.SEGMENT_TIMELINE?q.getSegmentByIndex(U,D):U.segmentInfoType===S.SEGMENT_TEMPLATE?q.getSegmentByIndex(U,K,Y):q.getSegmentByIndex(U,K):q.getSegmentByIndex(U,K):null},getSegmentByTime:function(U,K){const Y=B(U);return Y?Y.getSegmentByTime(U,K):null},getMediaFinishedInformation:function(U){const K=B(U);return K?K.getMediaFinishedInformation(U):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},$={},L}hb.__dashjs_factory_name="SegmentsController";var $p=i.default.getClassFactory(hb);function qp(){let T;return T={ntpToUTC:function(_){const S=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(S.getTime()+_).getTime()}},T}qp.__dashjs_factory_name="TimeUtils";var mb=i.default.getSingletonFactory(qp);function Zh(T){T=T||{};let _,S,R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae,J,fe,me=this.context,pe=(0,g.default)(me).getInstance(),Re=T.abrController,ne=T.adapter,Q=T.boxParser,V=T.capabilities,W=T.dashMetrics,Ie=T.errHandler,le=T.fragmentModel,Ce=T.manifestModel,we=T.mediaController,Le=T.mediaPlayerModel,Ge=T.mimeType,Pe=T.playbackController,te=T.segmentBlacklistController,oe=T.settings,ge=T.streamInfo,ue=T.textController,de=T.timelineConverter,Ee=T.type;function X(){return ge.id}function _e(){return Ee}function ke(){Y=[],k=null,S=0,J=!1,ae=!1,q=!1,$=null,fe=!1,mn()}function Oe(Tt){return!isNaN(Tt)&&!isNaN(ge.duration)&&isFinite(ge.duration)&&Tt>=ge.start+ge.duration}function je(Tt,Xt=!0){if(Tt.sender){if(Pe.getIsManifestUpdateInProgress())mt();else if((!k.isText||ue.isTextEnabled())&&_&&Tt.representationId&&!_.appendInitSegmentFromCache(Tt.representationId)){const Mn=j.getCurrentRepresentation();if(Mn.range===0)return void Be();const Dn=L?L.getInitRequest(k,Mn):null;Dn?le.executeRequest(Dn):Xt&&(Z.setInitSegmentRequired(!0),mt())}}}function Be(Tt,Xt=!0){if(Pe.getIsManifestUpdateInProgress()||_.getIsPruningInProgress())return void mt();let Mn=(function(){let Dn;if(isNaN(S)||_e()===p.default.TEXT&&!ue.isTextEnabled())return null;if(L){const Jn=Et();Dn=J?L.getSegmentRequestForTime(k,Jn,S):ae?L.repeatSegmentRequest(k,Jn):L.getNextSegmentRequest(k,Jn)}return Dn})();Mn?(J=!1,ae=!1,(function(Dn){isNaN(Dn.startTime+Dn.duration)||(S=Dn.startTime+Dn.duration),Dn.delayLoadingTime=new Date().getTime()+Z.getTimeToLoadDelay(),Z.setTimeToLoadDelay(0),(function(Jn){let Cn=Jn.url;return Jn.range&&(Cn=Cn.concat("_",Jn.range)),te.contains(Cn)})(Dn)?(K.warn(`Fragment request url ${Dn.url} for stream id ${ge.id} and media type ${Ee} is on the ignore list and will be skipped`),mt()):(K.debug(`Next fragment request url for stream id ${ge.id} and media type ${Ee} is ${Dn.url} with request range ${Dn.range}`),le.executeRequest(Dn))})(Mn)):(function(Dn){const Jn=j.getCurrentRepresentation();try{if(oe.get().streaming.gaps.enableSeekFix&&(J||Pe.getTime()===0)){let Cn;if(U?U&&Jn.segmentInfoType===xe.default.SEGMENT_TIMELINE&&(Cn=(function(Ii){return L.getValidTimeAheadOfTargetTime(S,k,Ii,oe.get().streaming.gaps.threshold)})(Jn)):Cn=(function(Ii){let Ki=L.getValidTimeAheadOfTargetTime(S,k,Ii,oe.get().streaming.gaps.threshold);return isNaN(Ki)&&S>=Ii.adaptation.period.mpd.mediaPresentationDuration-Ii.segmentDuration&&(Ki=S-.1),Ki})(Jn),!isNaN(Cn)&&Cn!==S)return void(function(Ii,Ki){Pe.isSeeking()||Pe.getTime()===0?(K.warn(`Adjusting playback time ${Ii} because of gap in the manifest. Seeking by ${Ii-S}`),Pe.seek(Ii,!1,!1)):(K.warn(`Adjusting buffering time ${Ii} because of gap in the manifest. Adjusting time by ${Ii-S}`),tn(Ii),Ki&&mt())})(Cn,Dn)}}catch(Cn){K.error(Cn)}Ze()||Dn&&mt()})(Xt)}function Ze(){const Tt=j.getCurrentRepresentation(),Xt=L.isLastSegmentRequested(Tt,S);if(Xt){const Mn=L.getCurrentIndex();K.debug(`Segment requesting for stream ${ge.id} has finished`),pe.trigger(m.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Mn},{streamId:ge.id,mediaType:Ee}),_.segmentRequestingCompleted(Mn),ut()}return Xt}function mt(){const Tt=Le.getScheduleTimeout();Z.startScheduleTimer(Tt)}function St(Tt){W.addBufferState(Ee,Tt.state,Z.getBufferTarget()),Tt.state!==o.BUFFER_EMPTY||Pe.isSeeking()||(K.info("Buffer is empty! Stalling!"),W.pushPlayListTraceMetrics(new Date,Ia.REBUFFERING_REASON))}function Ht(Tt){le.syncExecutedRequestsWithBufferedRange(_.getBuffer().getAllBufferRanges(),ge.duration),Tt.quotaExceeded&&Tt.from>Pe.getTime()&&tn(Tt.from),Tt.hasEnoughSpaceToAppend&&Tt.quotaExceeded&&Z.startScheduleTimer()}function vn(Tt){if(!Tt||!Tt.lastRequestAppended||!Tt.lastRequestAppended.url)return;let Xt=Tt.lastRequestAppended.url;Tt.lastRequestAppended.range&&(Xt=Xt.concat("_",Tt.lastRequestAppended.range)),K.warn(`Blacklisting segment with url ${Xt}`),te.add(Xt)}function zt(Tt){if(K.debug(`Appended bytes for ${Tt.mediaType} and stream id ${Tt.streamId}`),Tt.segmentType===se.HTTPRequest.INIT_SEGMENT_TYPE){const Xt=Tt.representationId;Z.setLastInitializedRepresentationId(Xt),K.info("["+Ee+"] lastInitializedRepresentationId changed to "+Xt)}D&&D.enabled?Ot(D.newRepresentation,D.oldRepresentation):fe||Z.startScheduleTimer(0)}function mn(){D={newRepresentation:null,oldRepresentation:null,enabled:!1}}function Nn(Tt){return new Promise((Xt=>{if(!j)return Promise.resolve();let Mn=null;var Dn;Mn=Tt.newRepresentation?{selectedRepresentation:(Dn=Tt).newRepresentation,currentMediaInfo:Dn.newMediaInfo}:k!==null&&ne.areMediaInfosEqual(k,Tt.newMediaInfo)?(function(Cn){return{currentMediaInfo:Cn.newMediaInfo,selectedRepresentation:j.getCurrentRepresentation()}})(Tt):(function(Cn){let Ii=NaN;return Ii=!oe.get().streaming.abr.autoSwitchBitrate[Cn.newMediaInfo.type]&&Cn.previouslySelectedRepresentation?Cn.previouslySelectedRepresentation.bitrateInKbit:Re.getInitialBitrateFor(Ee),{selectedRepresentation:Re.getOptimalRepresentationForBitrate(Cn.newMediaInfo,Ii,!1),currentMediaInfo:Cn.newMediaInfo}})(Tt),ri(Mn.currentMediaInfo),pe.trigger(),(function(Cn){$&&Cn.selectedRepresentation.dependentRepresentation&&(K.info("["+Ee+"] selectMediaInfo : call selectMediaInfo on enhancementStreamProcessor for index = "+Cn.selectedRepresentation.absoluteIndex),$.selectMediaInfo(new yr({newMediaInfo:Cn.selectedRepresentation.mediaInfo,newRepresentation:Cn.selectedRepresentation})))})(Mn);const Jn=Re.getPossibleVoRepresentations(k,!1);return j.updateData(Jn,k.isFragmented,Mn.selectedRepresentation.id).then((()=>{(function(){const Cn=j.getCurrentCompositeRepresentation();_.getIsBufferingCompleted()||_.updateBufferTimestampOffset(Cn)})(),Xt()})).catch((Cn=>{K.error(Cn),Xt()}))}))}function ri(Tt){ne.areMediaInfosEqual(k,Tt)||pe.trigger(y.default.NEW_TRACK_SELECTED,{value:Tt}),k=Tt,Re.handleNewMediaInfo(k),pe.trigger(m.default.MEDIAINFO_UPDATED,{mediaType:Ee,streamId:ge.id,currentMediaInfo:k})}function jn(Tt){const Xt=Tt.newRepresentation,Mn=Tt.oldRepresentation,Dn=Xn();Xt&&Mn||K.warn("_handleDifferentSwitchTypes() is missing the target representations"),Tt.reason&&Tt.reason.forceReplace?(function(Jn,Cn){le.abortRequests(),pe.trigger(m.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Ee,streamId:ge.id},{mediaType:Ee,streamId:ge.id}),Z.setShouldCheckPlaybackQuality(!1),_.prepareForForceReplacementQualitySwitch(Jn,Cn).then((()=>{Bn()})).catch((()=>{Bn()}))})(Xt,Mn):Tt&&Tt.reason&&Tt.reason.forceAbandon?(function(Jn,Cn){_.prepareForAbandonQualitySwitch(Jn,Cn).then((()=>{Hn()})).catch((()=>{Hn()}))})(Xt,Mn):!Le.getFastSwitchEnabled()||Dn&&Dn.isPartialSegment?Ot(Xt,Mn):(function(Jn,Cn){const Ii=Pe.getTime();let Ki=1.5*(isNaN(Jn.fragmentDuration)?1:Jn.fragmentDuration);const ka=le.getRequests({state:Xe.FRAGMENT_MODEL_EXECUTED,time:Ii+Ki,threshold:0})[0];if(ka&&!k.isText){const ms=_.getBufferLevel(),gs=Re.getAbandonmentStateFor(ge.id,Ee);ka.bandwidth<Jn.bandwidth&&ms>=Ki&&gs===o.ALLOW_LOAD?_.prepareForFastQualitySwitch(Jn,Cn).then((()=>{at(Ii,Ki)})).catch((()=>{at(Ii,Ki)})):Ot(Jn,Cn)}else Ot(Jn,Cn)})(Xt,Mn),W.pushPlayListTraceMetrics(new Date,Ia.REPRESENTATION_SWITCH_STOP_REASON),W.createPlaylistTraceMetrics(Xt.id,1e3*Pe.getTime(),Pe.getPlaybackRate())}function Bn(){Ne(),mn(),q=!1}function Hn(){le.abortRequests(),ae=!0,Z.setShouldCheckPlaybackQuality(!1),Z.startScheduleTimer(),q=!1}function at(Tt,Xt){le.abortRequests(),tn(Tt+Xt),Z.setShouldCheckPlaybackQuality(!1),Z.startScheduleTimer(),q=!1}function Ot(Tt,Xt){const Mn=le.getRequests({state:Xe.FRAGMENT_MODEL_LOADING});if(Mn&&Mn.length>0)return K.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),D.newRepresentation=Tt,D.oldRepresentation=Xt,void(D.enabled=!0);_.prepareForDefaultQualitySwitch(Tt,Xt).then((()=>{Mt()})).catch((()=>{Mt()}))}function Mt(){Z.setShouldCheckPlaybackQuality(!1),k.segmentAlignment||k.subSegmentAlignment?Z.startScheduleTimer():ft(),mn(),q=!1}function Vt(Tt){K.info("onFragmentLoadingAbandoned request: "+Tt.request.url+" has been aborted"),Pe.isSeeking()||Z.getSwitchTrack()||q||(K.info("onFragmentLoadingAbandoned request: "+Tt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Tt.request&&Tt.request.isInitializationRequest()?Z.setInitSegmentRequired(!0):tn(Tt.request.startTime+Tt.request.duration/2),Z.startScheduleTimer(0))}function yn(Tt){K.info("OnFragmentLoadingCompleted for stream id "+ge.id+" and media type "+Ee+" - Url:",Tt.request?Tt.request.url:"undefined",Tt.request.range?", Range:"+Tt.request.range:""),k.isText&&Z.startScheduleTimer(0),Tt.error&&Tt.request.serviceLocation&&(function(Xt){K.info("Fragment loading completed with an error"),Xt&&Xt.request&&Xt.request.type&&(Xt.request.type===se.HTTPRequest.INIT_SEGMENT_TYPE?je({representationId:Xt.request.representation.id,sender:{}},!1):Xt.request.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE&&(tn(Xt.request.startTime+Xt.request.duration/2),Be(0,!1)))})(Tt)}function $n(){tn(Pe.getTime()),et().startScheduleTimer()}function yt(Tt){const Xt=Tt.currentTrackInfo;if(!Xt)return;const Mn=Y.find((Dn=>Dn.index===Xt.index&&Dn.lang===Xt.lang));Mn&&Nn(new yr({newMediaInfo:Mn})).then((()=>{_.setIsBufferingCompleted(!1),tn(Pe.getTime()),Z.setInitSegmentRequired(!0),Z.startScheduleTimer()}))}function jt(Tt){tn(Tt.quotaExceededTime),ut()}function sn(){return _?_.getBuffer():null}function et(){return Z}function ut(){Z&&Z.clearScheduleTimer()}function Et(Tt=NaN){let Xt;return isNaN(Tt)?Xt=j?j.getCurrentRepresentation():null:((0,Ut.checkInteger)(Tt),Xt=j?j.getRepresentationById(Tt):null),Xt}function nt(){return!!_&&_.getIsBufferingCompleted()}function wt(Tt){if(!oe.get().streaming.enableManifestTimescaleMismatchFix)return;const Xt=Tt.chunk,Mn=Xt.bytes,Dn=Et(Xt.representation.id);Dn&&(Dn.timescale=Q.getMediaTimescaleFromMoov(Mn))}function Nt(Tt){const Xt=Tt.chunk,Mn=Xt.bytes,Dn=Et(Xt.representation.id);if(Dn){let Jn;if(oe.get().streaming.parseInbandPrft&&Tt.request.type===se.HTTPRequest.MEDIA_SEGMENT_TYPE){Jn=Jn||Q.parse(Mn);const Ki=(function(ka,ms){const gs=ka.getBoxes("prft"),Pl=[];return gs.forEach((zs=>{Pl.push((function($r,qr){let ea="unknown";switch($r.flags){case 0:ea=xe.default.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:ea=xe.default.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:ea=xe.default.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}let ur=1e3*$r.ntp_timestamp_sec+$r.ntp_timestamp_frac/2**32*1e3;return ur=mb(me).getInstance().ntpToUTC(ur),{type:ea,ntpTimestamp:ur,mediaTime:$r.media_time/qr}})(zs,ms))})),Pl})(Jn,Dn.timescale);Ki&&Ki.length&&pe.trigger(y.default.INBAND_PRFT,{data:Ki},{streamId:ge.id,mediaType:Ee})}const Cn=ne.getEventsFor(Dn.mediaInfo,null,ge),Ii=ne.getEventsFor(Dn,Dn,ge);if(Cn&&Cn.length>0||Ii&&Ii.length>0){const Ki=Tt.request;Jn=Jn||Q.parse(Mn);const ka=(function(ms,gs,Pl,zs){try{const $r={},qr=[],ea=Pl.concat(zs);for(let jr=0,po=ea.length;jr<po;jr++)$r[ea[jr].schemeIdUri+"/"+ea[jr].value]=ea[jr];const ur=ms.getBoxes("emsg");if(!ur||ur.length===0)return qr;const br=ms.getBox("sidx"),ts=!br||isNaN(br.earliest_presentation_time)||isNaN(br.timescale)?gs&&!isNaN(gs.mediaStartTime)?gs.mediaStartTime:0:br.earliest_presentation_time/br.timescale,td=Math.max(ts,0),nd=j.getCurrentRepresentation();for(let jr=0,po=ur.length;jr<po;jr++){const tl=ne.getEvent(ur[jr],$r,td,nd);tl&&qr.push(tl)}return qr}catch{return[]}})(Jn,Ki,Cn,Ii);pe.trigger(m.default.INBAND_EVENTS,{events:ka},{streamId:ge.id})}}}function Ne(){const Tt=Pe.getTime();oe.get().streaming.buffer.flushBufferAtTrackSwitch&&Pe.seek(Tt+.001,!1,!0),tn(Tt),_.setSeekTarget(Tt),Z.startScheduleTimer()}function ft(){const Tt=Pe.getTime(),Xt=_.getContinuousBufferTimeForTargetTime(Tt);tn(isNaN(Xt)?Tt:Xt),Z.startScheduleTimer()}function Qt(Tt){Tt&&!isNaN(Tt.time)&&(tn(Tt.time),_.setSeekTarget(Tt.time))}function tn(Tt){S=Tt,J=!0}function Xn(){return L.getLastSegment()}return B={checkAndHandleCompletedBuffering:Ze,clearScheduleTimer:ut,createBufferSinks:function(Tt,Xt){const Mn=sn();return Mn?Promise.resolve(Mn):_?_.createBufferSink(k,Tt,Xt):Promise.resolve(null)},dischargePreBuffer:function(){_.dischargePreBuffer()},finalisePlayList:function(Tt,Xt){W.pushPlayListTraceMetrics(Tt,Xt)},getAllMediaInfos:function(){return Y},getBuffer:sn,getBufferController:function(){return _},getBufferLevel:function(){return _?_.getBufferLevel():0},getFragmentModel:function(){return le},getLastSegment:Xn,getMediaInfo:function(){return k},getMediaSource:function(){return _.getMediaSource()},getRepresentation:Et,getRepresentationController:function(){return j},getScheduleController:et,getStreamId:X,getStreamInfo:function(){return ge},getType:_e,initialize:function(Tt,Xt,Mn){ie=$p(me).create({events:m.default,eventBus:pe,streamInfo:ge,timelineConverter:de,dashConstants:xe.default,segmentBaseController:T.segmentBaseController,type:Ee}),L=Qh(me).create({baseURLController:T.baseURLController,boxParser:Q,constants:p.default,dashConstants:xe.default,dashMetrics:W,debug:(0,l.default)(me).getInstance(),errHandler:Ie,errors:bn,eventBus:pe,events:m.default,mediaPlayerModel:Le,segmentsController:ie,settings:oe,streamInfo:ge,timelineConverter:de,type:Ee,urlUtils:Oi(me).getInstance()}),U=ge.manifestInfo.isDynamic,L.initialize(U),Re.registerStreamType(Ee,B),j=Yh(me).create({abrController:Re,adapter:ne,dashConstants:xe.default,dashMetrics:W,errors:bn,eventBus:pe,events:m.default,isDynamic:U,playbackController:Pe,segmentsController:ie,streamInfo:ge,timelineConverter:de,type:Ee}),_=(function(Dn,Jn){let Cn=null;return Dn?(Cn=Dn!==p.default.TEXT||Jn?wA(me).create({abrController:Re,capabilities:V,errHandler:Ie,fragmentModel:le,manifestModel:Ce,mediaController:we,mediaPlayerModel:Le,playbackController:Pe,representationController:j,settings:oe,streamInfo:ge,textController:ue,type:Dn}):Op(me).create({errHandler:Ie,fragmentModel:le,mimeType:Ge,settings:oe,streamInfo:ge,textController:ue,type:Dn}),Cn):(Ie.error(new En.default(bn.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,bn.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)})(Ee,Mn),_&&_.initialize(Tt),Z=lb(me).create({abrController:Re,adapter:ne,bufferController:_,dashMetrics:W,fragmentModel:le,mediaController:we,mediaPlayerModel:Le,mimeType:Ge,playbackController:Pe,representationController:j,settings:oe,streamInfo:ge,textController:ue,type:Ee}),R=Xt,Z.initialize(Xt),S=0,J=!1,ae=!1},isBufferingCompleted:nt,prepareInnerPeriodPlaybackSeeking:function(Tt){return new Promise((Xt=>{if(_.hasBufferAtTime(Tt.seekTime))return _.pruneBuffer(),Oe(_.getContinuousBufferTimeForTargetTime(Tt.seekTime))&&_.setIsBufferingCompleted(!0),void Xt();ut(),le.abortRequests(),_.prepareForPlaybackSeek().then((()=>{const Mn=_.getAllRangesWithSafetyFactor(Tt.seekTime);return _.clearBuffers(Mn)})).then((()=>{const Mn=_.getContinuousBufferTimeForTargetTime(Tt.seekTime);if(Oe(Mn))_.setIsBufferingCompleted(!0),Xt();else{const Dn=isNaN(Mn)?Tt.seekTime:Mn;tn(Dn),_.setSeekTarget(Dn);const Jn=[];Jn.push(_.updateAppendWindow());const Cn=Et();Jn.push(_.updateBufferTimestampOffset(Cn)),Promise.all(Jn).then((()=>{Z.setInitSegmentRequired(!0),Z.setShouldCheckPlaybackQuality(!1),Z.startScheduleTimer(),Xt()}))}})).catch((Mn=>{K.error(Mn)}))}))},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(((Tt,Xt)=>{try{ut(),le.abortRequests(),_.prepareForPlaybackSeek().then((()=>_.pruneAllSafely())).then((()=>{Tt()}))}catch(Mn){Xt(Mn)}}))},prepareQualityChange:function(Tt){Tt.newRepresentation&&((function(Xt){if($)$.prepareQualityChange(Xt);else if(Ee===p.default.ENHANCEMENT){const Mn=Xt.oldRepresentation.mediaInfo.type,Dn=Xt.newRepresentation.mediaInfo.type;if(Mn===p.default.ENHANCEMENT&&Dn===p.default.VIDEO)return K.info("Stop "+Ee+" stream processor"),Z.reset(),!0;if(Mn===p.default.VIDEO&&Dn===p.default.ENHANCEMENT)return K.info("Start "+Ee+" stream processor"),Nn(new yr({newMediaInfo:Xt.newRepresentation.mediaInfo,newRepresentation:Xt.newRepresentation})).then((()=>{Z.setup(),Z.initialize(R),Z.startScheduleTimer()})),!0}return!1})(Tt)||(D&&D.enabled&&K.warn(`Canceling queued representation switch to ${D.newRepresentation.id} for ${Ee}`),Tt.isAdaptationSetSwitch?(K.debug(`Preparing quality switch to different AdaptationSet for type ${Ee} from representation id ${Tt.oldRepresentation.id} to ${Tt.newRepresentation.id}`),(function(Xt){const Mn=Xt.newRepresentation;q=!0,ut(),Z.setSwitchTrack(!0);const Dn=Mn.mediaInfo;ri(Dn),Nn(new yr({newMediaInfo:Dn,newRepresentation:Mn})).then((()=>{jn(Xt)}))})(Tt)):(K.debug(`Preparing quality within the same AdaptationSet for type ${Ee} from representation id ${Tt.oldRepresentation.id} to ${Tt.newRepresentation.id}`),(function(Xt){const Mn=Xt.newRepresentation;q=!0,ut(),j.prepareQualityChange(Mn),jn(Xt)})(Tt))))},prepareTrackSwitch:function(Tt,Xt=!1){return new Promise((Mn=>{K.debug(`Preparing track switch for type ${Ee}`);const Dn=Ee===p.default.TEXT||Xt||oe.get().streaming.trackSwitchMode[Ee]===p.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Pe.getTimeToStreamEnd(ge)>oe.get().streaming.buffer.stallThreshold;_.getIsBufferingCompleted()&&!Dn?(function(Jn){return new Promise((Cn=>{const Ii=j.getCurrentRepresentation();_.prepareForNonReplacementTrackSwitch(Ii,Jn).then((()=>{pe.trigger(m.default.BUFFERING_COMPLETED,{},{streamId:ge.id,mediaType:Ee}),Cn()})).catch((()=>{pe.trigger(m.default.BUFFERING_COMPLETED,{},{streamId:ge.id,mediaType:Ee}),Cn()}))}))})(Tt).then((()=>{Mn()})):(Z.setSwitchTrack(!0),Dn?(function(Jn){return new Promise((Cn=>{pe.trigger(m.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Ee,streamId:ge.id},{mediaType:Ee,streamId:ge.id}),le.abortRequests();const Ii=Et();_.prepareForReplacementTrackSwitch(Ii,Jn).then((()=>{Ne(),Cn()})).catch((()=>{Ne(),Cn()}))}))})(Tt).then((()=>{Mn()})):(function(Jn){return new Promise((Cn=>{const Ii=()=>{const Ki=le.getRequests({state:Xe.FRAGMENT_MODEL_LOADING});if(Ki&&Ki.length!==0)pe.once(y.default.FRAGMENT_LOADING_COMPLETED,Ii,B);else{const ka=Et();_.prepareForNonReplacementTrackSwitch(ka,Jn).then((()=>{ft(),Cn()})).catch((ms=>{K.error(ms),ft(),Cn()}))}};Ii()}))})(Tt).then((()=>{Mn()})))}))},probeNextRequest:function(){const Tt=Et();return L.getNextSegmentRequestIdempotent(k,Tt)},reset:function(Tt,Xt){L&&L.reset(),_&&(_.reset(Tt,Xt),_=null),Z&&(Z.reset(),Z=null),j&&(j.reset(),j=null),ie&&(ie=null),Re&&Re.unRegisterStreamType(X(),Ee),pe.off(m.default.BUFFER_CLEARED,Ht,B),pe.off(m.default.BUFFER_LEVEL_STATE_CHANGED,St,B),pe.off(m.default.BYTES_APPENDED_END_FRAGMENT,zt,B),pe.off(m.default.FRAGMENT_LOADING_ABANDONED,Vt,B),pe.off(m.default.FRAGMENT_LOADING_COMPLETED,yn,B),pe.off(m.default.INIT_FRAGMENT_LOADED,wt,B),pe.off(m.default.INIT_FRAGMENT_NEEDED,je,B),pe.off(m.default.MEDIA_FRAGMENT_LOADED,Nt,B),pe.off(m.default.MEDIA_FRAGMENT_NEEDED,Be,B),pe.off(m.default.QUOTA_EXCEEDED,jt,B),pe.off(m.default.SEEK_TARGET,Qt,B),pe.off(m.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,$n,B),pe.off(m.default.SET_NON_FRAGMENTED_TEXT,yt,B),pe.off(m.default.SOURCE_BUFFER_ERROR,vn,B),ke(),Ee=null,ge=null},selectMediaInfo:Nn,setEnhancementStreamProcessor:function(Tt){$=Tt,K.info("enhancementStreamProcessor = "+$)},setExplicitBufferingTime:tn,setMediaInfoArray:function(Tt){Y=Tt},setMediaSource:function(Tt){return _.setMediaSource(Tt,k)},setTrackSwitchInProgress:function(Tt){fe=Tt},updateStreamInfo:function(Tt){return ge=Tt,nt()?Promise.resolve():_.updateAppendWindow()}},K=(0,l.default)(me).getInstance().getLogger(B),ke(),pe.on(m.default.BUFFER_CLEARED,Ht,B),pe.on(m.default.BUFFER_LEVEL_STATE_CHANGED,St,B),pe.on(m.default.BYTES_APPENDED_END_FRAGMENT,zt,B),pe.on(m.default.FRAGMENT_LOADING_ABANDONED,Vt,B),pe.on(m.default.FRAGMENT_LOADING_COMPLETED,yn,B),pe.on(m.default.INIT_FRAGMENT_LOADED,wt,B),pe.on(m.default.INIT_FRAGMENT_NEEDED,je,B),pe.on(m.default.MEDIA_FRAGMENT_LOADED,Nt,B),pe.on(m.default.MEDIA_FRAGMENT_NEEDED,Be,B),pe.on(m.default.QUOTA_EXCEEDED,jt,B),pe.on(m.default.SEEK_TARGET,Qt,B),pe.on(m.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,$n,B),pe.on(m.default.SET_NON_FRAGMENTED_TEXT,yt,B),pe.on(m.default.SOURCE_BUFFER_ERROR,vn,B),B}Zh.__dashjs_factory_name="StreamProcessor";var gb=i.default.getClassFactory(Zh),pb=class{constructor(){this.url=null,this.width=null,this.height=null,this.x=null,this.y=null}},vb=class{constructor(){this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}};function jp(T){const _=this.context,S=T.adapter,R=T.baseURLController,k=T.streamInfo,L=T.timelineConverter,$=T.debug,B=T.eventBus,U=T.events,K=T.dashConstants,Y=Oi(_).getInstance();let D,q,j,Z,ie,ae,J,fe,me;function pe(ne,Q){const V=new vb;V.id=ne.id,V.bitrate=ne.bandwidth,V.width=ne.width,V.height=ne.height,V.tilesHor=1,V.tilesVert=1,ne.essentialProperties&&ne.essentialProperties.forEach((W=>{if(p.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(W.schemeIdUri)>=0&&W.value){const Ie=W.value.split("x");Ie.length!==2||isNaN(Ie[0])||isNaN(Ie[1])||(V.tilesHor=parseInt(Ie[0],10),V.tilesVert=parseInt(Ie[1],10))}})),Q?J.updateSegmentData(ne).then((W=>{(function(Ie,le,Ce){let we=[];const Le=(function(Ge,Pe){const te=[];let oe,ge,ue,de,Ee=0;for(oe=0,ge=Ge.segments.length;oe<ge;oe++)ue=Ge.segments[oe],de=Kc({durationInTimescale:ue.duration,fTimescale:ue.timescale,index:Ee,isDynamic:S.getIsDynamic(),mediaRange:ue.mediaRange,mediaTime:ue.startTime,mediaUrl:ue.media,representation:Pe,timelineConverter:L}),de&&(te.push(de),de=null,Ee++);return te})(Ce,le);le.segments=Le,le.fragmentDuration=le.segmentDuration||(le.segments&&le.segments.length>0?le.segments[0].duration:NaN),Ie.segmentDuration=le.segments[0].duration,Ie.readThumbnail=function(Ge,Pe){let te=null;we.some((oe=>{if(oe.start<=Ge&&oe.end>Ge)return te=oe.url,!0})),te?Pe(te):le.segments.some((oe=>{if(oe.mediaStartTime<=Ge&&oe.mediaStartTime+oe.duration>Ge){const ge=R.resolve(le.path),ue=new Au({method:"get",url:ge.url,responseType:"arraybuffer",customData:{request:{range:oe.mediaRange},onloadend:function(Ee){let X=me.getSamplesInfo(Ee.target.response),_e=new Blob([Ee.target.response.slice(X.sampleList[0].offset,X.sampleList[0].offset+X.sampleList[0].size)],{type:"image/jpeg"}),ke=window.URL.createObjectURL(_e);we.push({start:oe.mediaStartTime,end:oe.mediaStartTime+oe.duration,url:ke}),Pe&&Pe(ke)}}}),de=new wu({request:ue});return fe.load(ue,de),!0}}))}})(V,ne,W)})):(V.startNumber=ne.startNumber,V.segmentDuration=ne.segmentDuration,V.timescale=ne.timescale,V.templateUrl=(function(W){const Ie=Y.isRelative(W.media)?Y.resolve(W.media,R.resolve(W.path).url):W.media;return Ie?Nl(Ie,W.id):""})(ne)),V.tilesHor>0&&V.tilesVert>0&&(V.widthPerTile=V.width/V.tilesHor,V.heightPerTile=V.height/V.tilesVert,q.push(V))}function Re(){q=[],j=[],ie=-1,ae=null,Z&&(Z.reset(),Z=null)}return D={addTracks:function(){if(!k||!S||(ae=S.getMediaInfoForType(k,p.default.IMAGE),!ae))return;const ne=S.getVoRepresentations(ae);ne&&ne.length>0&&ne.forEach((Q=>{(Q.segmentInfoType===xe.default.SEGMENT_TEMPLATE&&Q.segmentDuration>0&&Q.media||Q.segmentInfoType===xe.default.SEGMENT_TIMELINE)&&pe(Q),Q.segmentInfoType===xe.default.SEGMENT_BASE&&pe(Q,!0),j.push(Q)})),q.length>0&&q.sort(((Q,V)=>Q.bitrate-V.bitrate))},getCurrentTrack:function(){return ie<0?null:q[ie]},getCurrentTrackIndex:function(){return ie},getRepresentations:function(){return j},getThumbnailRequestForTime:function(ne){let Q;const V=S.getVoRepresentations(ae);for(let W=0;W<V.length;W++)if(q[ie].id===V[W].id){Q=V[W];break}return Z.getSegmentRequestForTime(ae,Q,ne)},getTracks:function(){return q},reset:Re,setTrackById:function(ne){if(!q||q.length===0)return;const Q=q.findIndex((V=>V.id===ne));Q!==-1&&(ie=Q)},setTrackByIndex:function(ne){q&&q.length!==0&&(ne>=q.length&&(ne=q.length-1),ie=ne)}},Re(),fe=An(_).create({}),me=wc(_).getInstance(),J=$p(_).create({events:U,eventBus:B,streamInfo:k,timelineConverter:L,dashConstants:K,dashMetrics:T.dashMetrics,segmentBaseController:T.segmentBaseController,type:p.default.IMAGE}),Z=Qh(_).create({streamInfo:k,type:p.default.IMAGE,timelineConverter:L,segmentsController:J,baseURLController:R,debug:$,eventBus:B,events:U,dashConstants:K,urlUtils:Y}),Z.initialize(!!S&&S.getIsDynamic()),D}jp.__dashjs_factory_name="ThumbnailTracks";var yb=i.default.getClassFactory(jp);function Eb(T){const _=this.context,S=T.streamInfo;let R,k;function L(B){k.setTrackByIndex(B)}function $(){k&&k.reset()}return R={getCurrentTrack:function(){return k.getCurrentTrack()},getCurrentTrackIndex:function(){return k.getCurrentTrackIndex()},getPossibleVoRepresentations:function(){return k.getRepresentations()},getStreamId:function(){return S.id},initialize:function(){k.addTracks();const B=k.getTracks();B&&B.length>0&&L(0)},provide:function(B,U){if(typeof U!="function")return;const K=k.getCurrentTrack();let Y,D;if(!K||K.segmentDuration<=0||B==null)return void U(null);D=k.getThumbnailRequestForTime(B),D&&(K.segmentDuration=D.duration),Y=B%K.segmentDuration;const q=Math.floor(Y*K.tilesHor*K.tilesVert/K.segmentDuration),j=new pb;if(j.width=Math.floor(K.widthPerTile),j.height=Math.floor(K.heightPerTile),j.x=Math.floor(q%K.tilesHor)*K.widthPerTile,j.y=Math.floor(q/K.tilesHor)*K.heightPerTile,"readThumbnail"in K)return K.readThumbnail(B,(Z=>{j.url=Z,U(j)}));if(D)j.url=D.url,K.segmentDuration=NaN;else{const Z=Math.floor(B/K.segmentDuration);j.url=(function(ie,ae){const J=ae+ie.startNumber;return Nl(ie.templateUrl,void 0,J,void 0,ie.bandwidth,(J-1)*ie.segmentDuration*ie.timescale)})(K,Z)}U(j)},reset:$,setTrackByIndex:L,setTrackById:function(B){k.setTrackById(B)}},$(),k=yb(_).create({streamInfo:S,adapter:T.adapter,baseURLController:T.baseURLController,timelineConverter:T.timelineConverter,debug:T.debug,eventBus:T.eventBus,events:T.events,dashConstants:T.dashConstants,dashMetrics:T.dashMetrics,segmentBaseController:T.segmentBaseController}),R}Eb.__dashjs_factory_name="ThumbnailController";var bb=i.default.getClassFactory(Eb);const Yc=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT,p.default.MUXED,p.default.IMAGE];function Hp(T){T=T||{};const _=this.context,S=(0,g.default)(_).getInstance(),R=Oi(_).getInstance(),k=T.manifestModel,L=T.mediaPlayerModel,$=T.dashMetrics,B=T.manifestUpdater,U=T.adapter,K=T.timelineConverter,Y=T.capabilities,D=T.errHandler,q=T.abrController,j=T.playbackController,Z=T.throughputController,ie=T.eventController,ae=T.mediaController,J=T.protectionController,fe=T.textController,me=T.videoModel;let pe=T.streamInfo;const Re=T.settings;let ne,Q,V,W,Ie,le,Ce,we,Le,Ge,Pe,te,oe,ge,ue,de;function Ee(yt,jt,sn){return new Promise(((et,ut)=>{St(),vn();let Et=me.getElement();const nt=[];Yc.forEach((wt=>{if((wt!==p.default.TEXT||yt)&&(wt!==p.default.VIDEO||!Et||Et&&/^VIDEO$/i.test(Et.nodeName))){const Nt=sn.find((Ne=>Ne.mediaInfo.type===wt));nt.push(X(wt,yt,Nt))}})),Promise.all(nt).then((()=>(function(wt){return new Promise((Nt=>{const Ne={},ft=ge.map((Qt=>{const tn=Qt.getRepresentation();return Qt.createBufferSinks(wt,tn)}));Promise.all(ft).then((Qt=>{Qt.forEach((tn=>{tn&&(Ne[tn.getType()]=tn)})),Nt(Ne)})).catch((()=>{Nt(Ne)}))}))})(jt))).then((wt=>{if(ge.length===0){const Nt="No streams to play.";D.error(new En.default(bn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Nt,k.getValue())),Pe.fatal(Nt)}else Vt();yt&&fe.createTracks(pe),et(wt)})).catch((wt=>{ut(wt)}))}))}function X(yt,jt,sn){let et,ut=U.getAllMediaInfoForType(pe,yt),Et=[],nt=null,wt=-1;if(!ut||ut.length===0)return Pe.info("No "+yt+" data."),Promise.resolve();yt===p.default.VIDEO&&(le=!0),yt===p.default.AUDIO&&(W=!0);for(let Ne=0,ft=ut.length;Ne<ft;Ne++)nt=ut[Ne],yt===p.default.TEXT&&nt.isEmbedded&&(fe.addEmbeddedTrack(pe,nt),Et.push(nt)),_e(nt)&&ae.addTrack(nt),nt.type===p.default.ENHANCEMENT&&(wt=Ne);if(Et.length>0&&(ae.setInitialMediaSettingsForType(yt,pe),fe.addMediaInfosToBuffer(pe,yt,Et)),ut=ut.filter((Ne=>!Ne.isEmbedded)),ut.length===0)return Promise.resolve();if(yt===p.default.IMAGE)return ue=bb(_).create({streamInfo:pe,adapter:U,baseURLController:T.baseURLController,timelineConverter:T.timelineConverter,debug:Q,eventBus:S,events:m.default,dashConstants:xe.default,dashMetrics:T.dashMetrics,segmentBaseController:T.segmentBaseController}),ue.initialize(),Promise.resolve();S.trigger(m.default.STREAM_INITIALIZING,{streamInfo:pe,mediaInfo:nt}),ae.setInitialMediaSettingsForType(yt,pe);let Nt=ke(ut,jt,yt);if(wt>=0){let Ne=new Ml(S);Ne.open(),Ne.duration=pe.manifestInfo.duration;let ft=ke(ut,Ne,p.default.ENHANCEMENT);ft.selectMediaInfo(new yr({newMediaInfo:ut[wt]})),Nt.setEnhancementStreamProcessor(ft)}if(et=ae.getCurrentTrackFor(yt,pe.id),et){const Ne=yt===p.default.TEXT&&et.isEmbedded?ut[0]:et,ft=new yr({newMediaInfo:Ne,previouslySelectedRepresentation:sn});return Nt.selectMediaInfo(ft)}return Promise.resolve()}function _e(yt){const jt=yt?yt.type:null;let sn;return jt===p.default.MUXED?(sn="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Pe.fatal(sn),D.error(new En.default(bn.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,sn,k.getValue())),!1):!(jt!==p.default.TEXT&&jt!==p.default.IMAGE&&yt.contentProtection&&yt.contentProtection.length>0&&!Y.supportsEncryptedMedia()&&(D.error(new En.default(bn.CAPABILITY_MEDIAKEYS_ERROR_CODE,bn.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function ke(yt,jt,sn){const et=yt&&yt.length>0?yt.filter((Ne=>Ne.type===sn))[0]:null;let ut=V.getModel(et?et.type:null);const Et=et?et.type:null,nt=et?et.mimeType:null,wt=et?et.isFragmented:null;let Nt=gb(_).create({abrController:q,adapter:U,baseURLController:T.baseURLController,boxParser:ne,capabilities:Y,dashMetrics:T.dashMetrics,errHandler:D,fragmentModel:ut,manifestModel:k,mediaController:ae,mediaPlayerModel:L,mimeType:nt,playbackController:j,segmentBaseController:T.segmentBaseController,segmentBlacklistController:oe,settings:Re,streamInfo:pe,textController:fe,throughputController:Z,timelineConverter:K,type:Et});return Nt.initialize(jt,le,wt),ge.push(Nt),Nt.setMediaInfoArray(yt),Et===p.default.TEXT&&fe.addMediaInfosToBuffer(pe,Et,yt,ut),Nt}function Oe(yt){let jt=ge?ge.length:0;for(let sn=0;sn<jt;sn++){let et=ge[sn].getFragmentModel();et.abortRequests(),et.resetInitialSettings(),ge[sn].reset(!1,yt)}fe&&fe.deactivateStream(pe),ue&&(ue.reset(),ue=null),ge=[],we=!1,Ie=!1,yn(!1),Be(!1),S.trigger(m.default.STREAM_DEACTIVATED,{streamInfo:pe})}function je(yt){Oe(yt),Ge=!1,le=!1,W=!1,Le=!1,de=[]}function Be(yt){Le=yt}function Ze(){return pe?pe.start:NaN}function mt(){return pe?pe.id:null}function St(){if(!me||!q)throw new Error(p.default.MISSING_CONFIG_ERROR)}function Ht(yt){yt.error&&(D.error(yt.error),Pe.fatal(yt.error.message))}function vn(){if(ie){const yt=U.getEventsFor(pe);yt&&yt.length>0&&ie.addInlineEvents(yt,pe.id)}}function zt(yt){let jt=mn(yt);return jt?jt.getMediaInfo():null}function mn(yt){return yt?ge.find((jt=>jt.getType()===yt)):null}function Nn(){let yt=Ot();const jt=yt.length;if(jt!==0){for(let sn=0;sn<jt;sn++)if(!yt[sn].isBufferingCompleted()&&(yt[sn].getType()===p.default.AUDIO||yt[sn].getType()===p.default.VIDEO))return void Pe.debug("onBufferingCompleted - One streamProcessor has finished but",yt[sn].getType(),"one is not buffering completed");Pe.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Ie=!0,S.trigger(m.default.STREAM_BUFFERING_COMPLETED,{streamInfo:pe},{streamInfo:pe})}else Pe.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function ri(yt){ie&&ie.addInbandEvents(yt.events,pe.id)}function jn(){Vt()}function Bn(){vn()}function Hn(yt){return yt&&yt.type?at(yt.type):null}function at(yt){return yt?Ot().filter((function(jt){return jt.getType()===yt}))[0]:null}function Ot(){let yt,jt,sn=[];for(let et=0;et<ge.length;et++)jt=ge[et],yt=jt.getType(),yt!==p.default.AUDIO&&yt!==p.default.VIDEO&&yt!==p.default.TEXT&&yt!==p.default.ENHANCEMENT||sn.push(jt);return sn}function Mt(){const yt=ge.length;for(let jt=0;jt<yt&&ge[jt];jt++)ge[jt].getScheduleController().startScheduleTimer()}function Vt(){const yt=ge.length;if(J){J.clearMediaInfoArray();for(let jt=0;jt<yt&&ge[jt];jt++){const sn=ge[jt].getType(),et=ge[jt].getMediaInfo();if(sn===p.default.AUDIO||sn===p.default.VIDEO||sn===p.default.TEXT&&et&&et.isFragmented){let ut=ge[jt].getMediaInfo();ut&&J.initializeForMedia(ut)}}J.handleKeySystemFromManifest()}Ge||(Ge=!0,me.waitForReadyState(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(()=>{S.trigger(m.default.STREAM_INITIALIZED,{streamInfo:pe})})))}function yn(yt){te=yt}function $n(){return te}return Ce={activate:function(yt,jt,sn=[]){return new Promise(((et,ut)=>{if(!we)return $n()?(we=!0,S.trigger(m.default.STREAM_ACTIVATED,{streamInfo:pe}),void et()):void(function(Et,nt,wt=[]){return Ee(Et,nt,wt)})(yt,jt,sn).then((()=>{we=!0,sn&&sn.length>0&&Mt(),S.trigger(m.default.STREAM_ACTIVATED,{streamInfo:pe}),et()})).catch((Et=>{ut(Et)}));et()}))},checkAndHandleCompletedBuffering:function(){Ie||ge.forEach((yt=>{yt.checkAndHandleCompletedBuffering()}))},deactivate:Oe,getAdapter:function(){return U},getCurrentMediaInfoForType:function(yt){const jt=at(yt);return jt?jt.getMediaInfo():null},getCurrentRepresentationForType:function(yt){const jt=at(yt);return jt?jt.getRepresentation():null},getDuration:function(){return pe?pe.duration:NaN},getHasAudioTrack:function(){return W},getHasFinishedBuffering:function(){return Ie},getHasVideoTrack:function(){return le},getId:mt,getIsActive:function(){return we},getIsEndedEventSignaled:function(){return Le},getPreloaded:$n,getRepresentationForTypeById:function(yt,jt){let sn;if(yt===p.default.IMAGE){if(!ue)return null;sn=ue.getPossibleVoRepresentations()}else sn=(function(Et){let nt=mn(Et);return nt?nt.getAllMediaInfos():[]})(yt).flatMap((Et=>q.getPossibleVoRepresentationsFilteredBySettings(Et,!0)));if(!sn||sn.length===0)return null;const et=sn.filter((ut=>ut.id===jt));return et&&et.length>0?et[0]:null},getRepresentationForTypeByIndex:function(yt,jt){let sn;if(yt===p.default.IMAGE){if(!ue)return null;sn=ue.getPossibleVoRepresentations()}else{const et=zt(yt);sn=q.getPossibleVoRepresentationsFilteredBySettings(et,!0)}return sn[jt=Math.max(Math.min(jt,sn.length-1),0)]},getRepresentationsByType:function(yt){if(St(),yt===p.default.IMAGE)return ue?ue.getPossibleVoRepresentations():[];const jt=zt(yt);return q.getPossibleVoRepresentationsFilteredBySettings(jt,!0)},getStartTime:Ze,getStreamId:function(){return pe?pe.id:null},getStreamInfo:function(){return pe},getStreamProcessors:Ot,getThumbnailController:function(){return ue},initialize:function(){S.on(m.default.BUFFERING_COMPLETED,Nn,Ce),S.on(m.default.INBAND_EVENTS,ri,Ce),S.on(m.default.DATA_UPDATE_COMPLETED,jn,Ce),S.on(y.default.PLAYBACK_SEEKED,Bn,Ce),J&&(S.on(m.default.KEY_ERROR,Ht,Ce),S.on(m.default.SERVER_CERTIFICATE_UPDATED,Ht,Ce),S.on(m.default.LICENSE_REQUEST_COMPLETE,Ht,Ce),S.on(m.default.KEY_SYSTEM_SELECTED,Ht,Ce),S.on(m.default.KEY_SESSION_CREATED,Ht,Ce)),fe.initializeForStream(pe),S.trigger(m.default.STREAM_UPDATED,{streamInfo:pe})},initializeForTextWithMediaSource:function(yt){return new Promise(((jt,sn)=>{X(p.default.TEXT,yt,null).then((()=>(function(){const et=at(p.default.TEXT);return et?et.createBufferSinks():Promise.resolve()})())).then((()=>{fe.createTracks(pe),jt()})).catch((et=>{sn(et)}))}))},prepareQualityChange:function(yt){const jt=at(yt.mediaType);jt&&jt.prepareQualityChange(yt)},prepareTrackChange:function(yt){if(!we||!pe)return;Ie=!1;let jt=yt.newMediaInfo,sn=k.getValue(),et=Hn(jt);if(!et)return;let ut=j.getTime();if(Pe.info("Stream -  Process track changed at current time "+ut),sn.refreshManifestOnSwitchTrack)de.push(yt),B.getIsUpdating()||(Pe.debug("Stream -  Refreshing manifest for switch track"),B.refreshManifest());else{et.clearScheduleTimer(),et.setTrackSwitchInProgress(!0);const Et=et.getRepresentation();et.selectMediaInfo(new yr({newMediaInfo:jt})).then((()=>{const nt=!!(yt&&yt.options&&yt.options.hasOwnProperty("replaceBuffer"))&&yt.options.replaceBuffer;return et.prepareTrackSwitch(Et,nt)})).then((()=>{et.setTrackSwitchInProgress(!1)}))}},reset:function(yt){V&&(V.reset(),V=null),q&&pe&&q.clearDataForStream(pe.id),oe&&(oe.reset(),oe=null),fe&&pe&&fe.clearDataForStream(pe.id),ae&&pe&&ae.clearDataForStream(pe.id),je(yt),pe=null,S.off(m.default.BUFFERING_COMPLETED,Nn,Ce),S.off(m.default.INBAND_EVENTS,ri,Ce),S.off(m.default.DATA_UPDATE_COMPLETED,jn,Ce),S.off(y.default.PLAYBACK_SEEKED,Bn,Ce),J&&(S.off(m.default.KEY_ERROR,Ht,Ce),S.off(m.default.SERVER_CERTIFICATE_UPDATED,Ht,Ce),S.off(m.default.LICENSE_REQUEST_COMPLETE,Ht,Ce),S.off(m.default.KEY_SYSTEM_SELECTED,Ht,Ce),S.off(m.default.KEY_SESSION_CREATED,Ht,Ce))},setIsEndedEventSignaled:Be,setMediaSource:function(yt){return new Promise(((jt,sn)=>{const et=[];for(let ut=0;ut<ge.length;)_e(ge[ut].getMediaInfo())?(et.push(ge[ut].setMediaSource(yt)),ut++):(ge[ut].reset(),ge.splice(ut,1));Promise.all(et).then((()=>{for(let ut=0;ut<ge.length;ut++)ge[ut].dischargePreBuffer();if(ge.length===0){const ut="No streams to play.";D.error(new En.default(bn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ut+"nostreams",k.getValue())),Pe.fatal(ut)}jt()})).catch((ut=>{Pe.error(ut),sn(ut)}))}))},startPreloading:function(yt,jt,sn=[]){return new Promise(((et,ut)=>{$n()?ut():(Pe.info(`[startPreloading] Preloading next stream with id ${mt()}`),yn(!0),Ee(yt,jt,sn).then((()=>{for(let Et=0;Et<ge.length&&ge[Et];Et++)ge[Et].setExplicitBufferingTime(Ze()),ge[Et].getScheduleController().startScheduleTimer();et()})).catch((()=>{yn(!1),ut()})))}))},startScheduleControllers:Mt,triggerProtectionError:function(yt){Ht(yt)},updateData:function(yt){return new Promise((jt=>{pe=yt,ie&&vn();let sn,et=[];for(let ut=0,Et=ge.length;ut<Et;ut++){let nt=ge[ut];const wt=nt.getMediaInfo();et.push(nt.updateStreamInfo(pe));let Nt=U.getAllMediaInfoForType(pe,nt.getType());if(Nt=Nt.filter((Ne=>!Ne.isEmbedded)),nt.setMediaInfoArray(Nt),Nt)for(let Ne=0;Ne<Nt.length;Ne++)U.areMediaInfosEqual(wt,Nt[Ne])&&et.push(nt.selectMediaInfo(new yr({newMediaInfo:Nt[Ne]})))}Promise.all(et).then((()=>{let ut=[];for(;de.length>0;){let Et=de.pop(),nt=Et.newMediaInfo;if(sn=Hn(Et.oldMediaInfo),!sn)return;const wt=sn.getRepresentation();sn.setTrackSwitchInProgress(!0),ut.push(sn.prepareTrackSwitch(wt)),ut.push(sn.selectMediaInfo(new yr({newMediaInfo:nt})))}return Promise.all(ut)})).then((()=>{Vt(),sn&&sn.setTrackSwitchInProgress(!1),S.trigger(m.default.STREAM_UPDATED,{streamInfo:pe}),jt()})).catch((ut=>{D.error(ut)}))}))}},(function(){try{Q=(0,l.default)(_).getInstance(),Pe=Q.getLogger(Ce),je(),ne=wc(_).getInstance(),oe=xn(_).create({updateEventName:m.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SEGMENT_LOCATION_BLACKLIST_ADD}),V=jh(_).create({streamInfo:pe,mediaPlayerModel:L,dashMetrics:$,errHandler:D,settings:Re,boxParser:ne,dashConstants:xe.default,urlUtils:R})}catch(yt){throw yt}})(),Ce}Hp.__dashjs_factory_name="Stream";var Jh=i.default.getClassFactory(Hp);function Wc(){const T=this.context,_=(0,g.default)(T).getInstance(),S=Oi(T).getInstance();let R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae,J,fe;function me(){Y=[],D=[],q=null,j=null,ie=null,Z=NaN,L=!1,$=!1,ae=B.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function pe(){B.get().streaming.utcSynchronization.enabled&&!L&&!$&&ie&&ie.value&&ie.schemeIdUri&&!isNaN(Z)&&!isNaN(B.get().streaming.utcSynchronization.backgroundAttempts)&&(j&&(Date.now()-j)/1e3<30||(Y=[],$=!0,Re(isNaN(B.get().streaming.utcSynchronization.backgroundAttempts)?2:B.get().streaming.utcSynchronization.backgroundAttempts)))}function Re(ge){try{if(ge<=0)return void te();const ue=Date.now();U[ie.schemeIdUri](ie.value,(function(de){const Ee=Date.now(),X=Q(ue,Ee,de);Y.push(X),Re(ge-1)}),(function(){te()}))}catch{te()}}function ne(ge=null){let ue=ge||0;if(!D||D.length===0||ue>=D.length)return void V();let de=D[ue];if(de)if(U.hasOwnProperty(de.schemeIdUri)){const Ee=new Date().getTime();U[de.schemeIdUri](de.value,(function(X){const _e=new Date().getTime(),ke=Q(Ee,_e,X);ie=de,V(ke)}),(function(){ne(ue+1)}))}else ne(ue+1);else V()}function Q(ge,ue,de){return de-(ue-(ue-ge)/2)}function V(ge=NaN){let ue=isNaN(ge);ue&&B.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?(function(){let de=K.getLatestMPDRequestHeaderValueByID("Date"),Ee=de!==null?new Date(de).getTime():Number.NaN;isNaN(Ee)?Pe(!0):Pe(!1,Ee-Date.now())})():Pe(ue,ge)}function W(ge){let ue=Date.parse(ge);return isNaN(ue)&&(ue=(function(de){let Ee,X,_e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(de);return Ee=Date.UTC(parseInt(_e[1],10),parseInt(_e[2],10)-1,parseInt(_e[3],10),parseInt(_e[4],10),parseInt(_e[5],10),_e[6]&&(parseInt(_e[6],10)||0),_e[7]&&1e3*parseFloat(_e[7])||0),_e[9]&&_e[10]&&(X=60*parseInt(_e[9],10)+parseInt(_e[10],10),Ee+=(_e[8]==="+"?-1:1)*X*60*1e3),new Date(Ee).getTime()})(ge)),ue}function Ie(ge){return Date.parse(ge)}function le(ge){return Date.parse(ge)}function Ce(ge,ue,de){de()}function we(ge,ue,de){let Ee=W(ge);isNaN(Ee)?de():ue(Ee)}function Le(ge,ue,de,Ee,X){let _e,ke,Oe=!1,je=new XMLHttpRequest,Be=X?se.HTTPRequest.HEAD:se.HTTPRequest.GET,Ze=ue.match(/\S+/g);if(ue=Ze.shift(),_e=function(){Oe||(Oe=!0,Ze.length?Le(ge,Ze.join(" "),de,Ee,X):Ee())},ke=function(){let mt,St;je.status===200&&(mt=X?je.getResponseHeader("Date"):je.response,St=ge(mt),isNaN(St)||(de(St),Oe=!0))},S.isRelative(ue)){const mt=fe.resolve();mt&&(ue=S.resolve(ue,mt.url))}je.open(Be,ue),je.timeout=5e3,je.onload=ke,je.onloadend=_e,je.send()}function Ge(ge,ue,de){Le(le,ge,ue,de,!0)}function Pe(ge,ue){if(isNaN(Z)||isNaN(ue)||ge||(function(Ee){try{const X=oe(Ee),_e=isNaN(ae)?30:ae,ke=isNaN(B.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:B.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Oe=isNaN(B.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:B.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,je=isNaN(B.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:B.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;let Be;X?(Be=Math.min(_e*ke,Oe),k.debug(`Increasing timeBetweenSyncAttempts to ${Be}`)):(Be=Math.max(_e/ke,je),k.debug(`Decreasing timeBetweenSyncAttempts to ${Be}`)),ae=Be}catch{}})(ue),!ge&&!isNaN(ue)){q=Date.now(),L=!1;const Ee=isNaN(Z);Z=ue,Ee&&pe(),k.debug(`Completed UTC sync. Setting client - server offset to ${ue}`)}ge&&(ie=null,L=!1,J.error(new En.default(bn.TIME_SYNC_FAILED_ERROR_CODE,bn.TIME_SYNC_FAILED_ERROR_MESSAGE)));const de=B.get().streaming.utcSynchronization.artificialTimeOffsetToApply;_.trigger(m.default.UPDATE_TIME_SYNC_OFFSET,{offset:ue+de}),_.trigger(m.default.TIME_SYNCHRONIZATION_COMPLETED)}function te(){if(!Y||Y.length===0)return;const ge=Y.reduce(((ue,de)=>ue+de),0)/Y.length;oe(ge)?k.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(k.debug(`Completed background UTC sync. Setting client - server offset to ${ge}`),Z=ge,_.trigger(m.default.UPDATE_TIME_SYNC_OFFSET,{offset:Z})),$=!1,j=Date.now()}function oe(ge){try{if(isNaN(Z))return!0;const ue=B.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(B.get().streaming.utcSynchronization.maximumAllowedDrift)?B.get().streaming.utcSynchronization.maximumAllowedDrift:100;return ge>=Z-ue&&ge<=Z+ue}catch{return!0}}return R={initialize:function(){me(),U={"urn:mpeg:dash:utc:http-head:2014":Ge,"urn:mpeg:dash:utc:http-xsdate:2014":Le.bind(null,W),"urn:mpeg:dash:utc:http-iso:2014":Le.bind(null,Ie),"urn:mpeg:dash:utc:direct:2014":we,"urn:mpeg:dash:utc:http-head:2012":Ge,"urn:mpeg:dash:utc:http-xsdate:2012":Le.bind(null,W),"urn:mpeg:dash:utc:http-iso:2012":Le.bind(null,Ie),"urn:mpeg:dash:utc:direct:2012":we,"urn:mpeg:dash:utc:http-ntp:2014":Ce,"urn:mpeg:dash:utc:ntp:2014":Ce,"urn:mpeg:dash:utc:sntp:2014":Ce}},attemptSync:function(ge,ue){D=ge,L||((function(de){try{if(!de||!B.get().streaming.utcSynchronization.enabled)return!1;const Ee=isNaN(ae)?30:ae;return!(q&&Ee&&!isNaN(Ee))||(Date.now()-q)/1e3>=Ee}catch{return!0}})(ue)?(L=!0,ne()):_.trigger(m.default.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(ge){ge&&(ge.dashMetrics&&(K=ge.dashMetrics),ge.baseURLController&&(fe=ge.baseURLController),ge.errHandler&&(J=ge.errHandler),ge.settings&&(B=ge.settings))},reset:function(){me(),_.off(m.default.ATTEMPT_BACKGROUND_SYNC,pe,R)}},k=(0,l.default)(T).getInstance().getLogger(R),_.on(m.default.ATTEMPT_BACKGROUND_SYNC,pe,R),R}Wc.__dashjs_factory_name="TimeSyncController";const em=i.default.getSingletonFactory(Wc);em.HTTP_TIMEOUT_MS=5e3,i.default.updateSingletonFactory(Wc.__dashjs_factory_name,em);var Gp=em;function _b(){let T,_,S,R,k;const L=this.context,$=(0,g.default)(L).getInstance();return T={attachMediaSource:function(B){let U=window.URL.createObjectURL(_);return B.setSource(U),R==="managedMediaSource"&&(B.setDisableRemotePlayback(!0),_.addEventListener("startstreaming",(()=>{$.trigger(y.default.MANAGED_MEDIA_SOURCE_START_STREAMING)})),_.addEventListener("endstreaming",(()=>{$.trigger(y.default.MANAGED_MEDIA_SOURCE_END_STREAMING)}))),U},createMediaSource:function(){let B="WebKitMediaSource"in window,U="MediaSource"in window;return"ManagedMediaSource"in window?(_=new ManagedMediaSource,R="managedMediaSource",k.info("Created ManagedMediaSource")):U?(_=new MediaSource,R="mediaSource",k.info("Created MediaSource")):B&&(_=new WebKitMediaSource,k.info("Created WebkitMediaSource")),_},detachMediaSource:function(B){B.setSource(null)},setConfig:function(B){B&&B.settings&&(S=B.settings)},setDuration:function B(U){_&&_.readyState==="open"&&(U===null&&isNaN(U)||_.duration!==U&&(U!==1/0||S.get().streaming.buffer.mediaSourceDurationInfinity||(U=Math.pow(2,32)),(function(K){let Y=K.sourceBuffers;for(let D=0;D<Y.length;D++)if(Y[D].updating)return!0;return!1})(_)?setTimeout(B.bind(null,U),50):(k.info("Set MediaSource duration:"+U),_.duration=U)))},setSeekable:function(B,U){_&&typeof _.setLiveSeekableRange=="function"&&typeof _.clearLiveSeekableRange=="function"&&_.readyState==="open"&&B>=0&&B<U&&(_.clearLiveSeekableRange(),_.setLiveSeekableRange(B,U))},signalEndOfStream:function(B){if(!B||B.readyState!=="open")return;let U=B.sourceBuffers;for(let K=0;K<U.length;K++)if(U[K].updating||U[K].buffered.length===0)return;k.info("call to mediaSource endOfStream"),B.endOfStream()}},k=(0,l.default)(L).getInstance().getLogger(T),T}_b.__dashjs_factory_name="MediaSourceController";var Tb=i.default.getSingletonFactory(_b);function Vp(){const T="urn:mpeg:dash:event:2012",S="urn:mpeg:dash:event:callback:2015",L="discarded",$="updated",B="added",U=this.context,K=(0,g.default)(U).getInstance();let Y,D,q,j,Z,ie,ae,J,fe,me,pe;function Re(){if(!ae||!J)throw new Error("setConfig function has to be called previously")}function ne(){pe=!1,q={},j={},Z=null,me=!1,ie=Date.now()/1e3}function Q(){try{if(!me){me=!0;const Pe=J.getTime();let te=Pe-ie;te=ie>0?Math.max(0,te):0,V(j,te,Pe),V(q,te,Pe),W(j),W(q),ie=Pe,me=!1}}catch(Pe){me=!1,D.error(Pe)}}function V(Pe,te,oe){try{we(Pe,function(ue){if(ue!==void 0){const de=isNaN(ue.duration)?0:ue.duration;ue.calculatedPresentationTime<=oe&&ue.calculatedPresentationTime+te+de>=oe?Ge(ue,y.default.EVENT_MODE_ON_START):(Le(oe,de+te,ue.calculatedPresentationTime)||(function(Ee){try{const X=Ee.eventStream.period.start+Ee.eventStream.period.duration;return Ee.calculatedPresentationTime>X}catch(X){return D.error(X),!1}})(ue))&&(D.debug(`Removing event ${ue.id} from period ${ue.eventStream.period.id} as it is expired or invalid`),(function(Ee,X){try{const _e=X.eventStream.schemeIdUri,ke=X.eventStream.period.id,Oe=X.eventStream.value,je=X.id;Ee[ke][_e]=Ee[ke][_e].filter((Be=>Oe&&Be.eventStream.value&&Be.eventStream.value!==Oe||Be.id!==je)),Ee[ke][_e].length===0&&delete Ee[ke][_e]}catch(_e){D.error(_e)}})(Pe,ue))}})}catch(ge){D.error(ge)}}function W(Pe){try{for(const te in Pe)Pe.hasOwnProperty(te)&&Object.keys(Pe[te]).length===0&&delete Pe[te]}catch(te){D.error(te)}}function Ie(Pe,te,oe=!1){const ge=Pe.eventStream.schemeIdUri,ue=Pe.eventStream.value,de=Pe.id;let Ee=L;te[ge]||(te[ge]=[]);const X=te[ge].findIndex((_e=>(!ue||_e.eventStream.value&&_e.eventStream.value===ue)&&_e.id===de));if(X===-1)te[ge].push(Pe),Pe.triggeredReceivedEvent=!1,Pe.triggeredStartEvent=!1,Ee=B;else if(oe){const _e=te[ge][X];Pe.triggeredReceivedEvent=_e.triggeredReceivedEvent,Pe.triggeredStartEvent=_e.triggeredStartEvent,te[ge][X]=Pe,Ee=$}return Ee}function le(Pe){try{if(Pe.eventStream.value==1){const te=Pe.calculatedPresentationTime;let oe;oe=Pe.calculatedPresentationTime==4294967295?NaN:Pe.calculatedPresentationTime+Pe.duration,K.trigger(y.default.MANIFEST_VALIDITY_CHANGED,{id:Pe.id,validUntil:te,newDuration:oe,newManifestValidAfter:NaN},{mode:y.default.EVENT_MODE_ON_START})}}catch(te){D.error(te)}}function Ce(Pe){try{const te=J.getTime();we(Pe,(function(oe){const ge=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.duration)?oe.eventStream.period.duration:NaN,ue=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.start)?oe.eventStream.period.start:NaN;if(isNaN(ge)||isNaN(ue))return;const de=oe.calculatedPresentationTime;Math.abs(de-te)<300&&Ge(oe,y.default.EVENT_MODE_ON_START)}))}catch(te){D.error(te)}}function we(Pe,te){try{if(Pe){const oe=Object.keys(Pe);for(let ge=0;ge<oe.length;ge++){const ue=Pe[oe[ge]],de=Object.keys(ue);for(let Ee=0;Ee<de.length;Ee++)ue[de[Ee]].forEach((X=>{X!==void 0&&te(X)}))}}}catch(oe){D.error(oe)}}function Le(Pe,te,oe){try{return Pe-te>oe}catch(ge){return D.error(ge),!1}}function Ge(Pe,te){try{const oe=J.getTime(),ge=Pe.id;if(te===y.default.EVENT_MODE_ON_RECEIVE&&!Pe.triggeredReceivedEvent)return D.debug(`Received event ${ge}`),Pe.triggeredReceivedEvent=!0,void K.trigger(Pe.eventStream.schemeIdUri,{event:Pe},{mode:te});Pe.triggeredStartEvent||(Pe.eventStream.schemeIdUri===T&&Pe.eventStream.value==1?Pe.duration===0&&Pe.presentationTimeDelta===0||(D.debug(`Starting manifest refresh event ${ge} at ${oe}`),(function(){try{Re(),ae.refreshManifest()}catch(ue){D.error(ue)}})()):Pe.eventStream.schemeIdUri===S&&Pe.eventStream.value==1?(D.debug(`Starting callback event ${ge} at ${oe}`),(function(ue){try{let de=An(U).create({});const Ee=new Au({method:"get",url:ue,responseType:"arraybuffer",customData:{}}),X=new wu({request:Ee});de.load(Ee,X)}catch(de){D.error(de)}})(Pe.messageData instanceof Uint8Array?vt.default.uint8ArrayToString(Pe.messageData):Pe.messageData)):(D.debug(`Starting event ${ge} from period ${Pe.eventStream.period.id} at ${oe}`),K.trigger(Pe.eventStream.schemeIdUri,{event:Pe},{mode:te}),fe.get().streaming.events.deleteEventMessageDataTimeout>-1&&setTimeout((()=>{delete Pe.messageData,delete Pe.parsedMessageData}),fe.get().streaming.events.deleteEventMessageDataTimeout)),Pe.triggeredStartEvent=!0)}catch(oe){D.error(oe)}}return Y={addInlineEvents:function(Pe,te){try{if(Re(),q[te]||(q[te]={}),Pe)for(let oe=0;oe<Pe.length;oe++){let ge=Pe[oe];if(!Le(J.getTime(),isNaN(ge.duration)?0:ge.duration,ge.calculatedPresentationTime)){let ue=Ie(ge,q[te],!0);ue===B?(D.debug(`Added inline event with id ${ge.id} from period ${te}`),Ge(ge,y.default.EVENT_MODE_ON_RECEIVE)):ue===$&&D.debug(`Updated inline event with id ${ge.id} from period ${te}`)}}}catch(oe){throw oe}},addInbandEvents:function(Pe,te){try{Re(),j[te]||(j[te]={});for(let oe=0;oe<Pe.length;oe++){let ge=Pe[oe];Le(J.getTime(),isNaN(ge.duration)?0:ge.duration,ge.calculatedPresentationTime)||(Ie(ge,j[te],!1)===B?(ge.eventStream.schemeIdUri===T&&le(ge),D.debug(`Added inband event with id ${ge.id} from period ${te}`),Ge(ge,y.default.EVENT_MODE_ON_RECEIVE)):D.debug(`Inband event with scheme_id_uri ${ge.eventStream.schemeIdUri}, value ${ge.eventStream.value}, period id ${te} and event id ${ge.id} was ignored because it has been added before.`))}Q()}catch(oe){throw oe}},getInbandEvents:function(){return j},getInlineEvents:function(){return q},start:function(){try{Re(),D.debug("Start Event Controller");const Pe=fe.get().streaming.events.eventControllerRefreshDelay;pe||isNaN(Pe)||(pe=!0,Z=setInterval(Q,Pe))}catch(Pe){throw Pe}},setConfig:function(Pe){try{if(!Pe)return;Pe.manifestUpdater&&(ae=Pe.manifestUpdater),Pe.playbackController&&(J=Pe.playbackController),Pe.settings&&(fe=Pe.settings)}catch(te){throw te}},reset:function(){(function(){try{Z!==null&&pe&&(clearInterval(Z),Z=null,pe=!1,(function(){try{Ce(j),Ce(q)}catch(Pe){D.error(Pe)}})())}catch(Pe){throw Pe}})(),ne()}},D=(0,l.default)(U).getInstance().getLogger(Y),ne(),Y}Vp.__dashjs_factory_name="EventController";var Sb=i.default.getSingletonFactory(Vp),$u={LEVELS:{WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}},Kp=t(445),tm=t(1923);function Yp(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k,L,$,B,U,K,Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V,W,Ie,le,Ce,we,Le,Ge,Pe,te,oe,ge,ue,de,Ee,X,_e,ke,Oe,je,Be,Ze,mt,St,Ht,vn;function zt(){if(!(B&&B.hasOwnProperty("load")&&Q&&Q.hasOwnProperty("initialize")&&Q.hasOwnProperty("reset")&&Q.hasOwnProperty("getClientTimeOffset")&&U&&ne&&Y&&ue))throw new Error(p.default.MISSING_CONFIG_ERROR)}function mn(){(function(){try{const ot=K.getStreamsInfo();if(!W&&ot.length===0)throw new Error("There are no periods in the MPD");W&&ot.length>0&&Y.updateManifestUpdateInfo({currentTime:ue.getTime(),buffered:ge.getBufferRange(),presentationStartTime:ot[0].start,clientTimeOffset:Q.getClientTimeOffset()}),V.length>0&&(function(Tn){Tn.length!==0?V=V.filter((On=>{const ii=Tn.filter((fi=>fi.id===On.getId())).length>0||On.getId()===W.getId();return ii||(R.debug(`Removing stream ${On.getId()}`),On.reset(!0),On=null),ii})):R.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")})(ot);const Yt=[];for(let Tn=0,On=ot.length;Tn<On;Tn++){const ii=ot[Tn];Yt.push(ri(ii)),Y.addManifestUpdateStreamInfo(ii)}Promise.all(Yt).then((()=>new Promise(((Tn,On)=>{W?Tn():jn(ot,Tn,On)})))).then((()=>{_.trigger(m.default.STREAMS_COMPOSED),Xn()})).catch((Tn=>{throw Tn}))}catch(ot){ne.error(new En.default(bn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ot.message+" nostreamscomposed",U.getValue())),te=!0,jr()}})()}function Nn(){mt=!0}function ri(ot){let Yt=ts(ot.id);return Yt?Yt.updateData(ot):(Yt=Jh(T).create({manifestModel:U,mediaPlayerModel:Ee,dashMetrics:Y,manifestUpdater:$,adapter:K,timelineConverter:Q,capabilities:k,capabilitiesFilter:L,errHandler:ne,baseURLController:Z,segmentBaseController:ie,textController:le,abrController:J,playbackController:ue,throughputController:fe,eventController:pe,mediaController:me,protectionController:Ie,videoModel:ge,streamInfo:ot,settings:Ze}),V.push(Yt),Yt.initialize(),Promise.resolve())}function jn(ot,Yt,Tn){try{Et();const On=Y.getCurrentDVRInfo().range;if(On.end<On.start)return void(function(fi,Pi,ns,is){St&&clearTimeout(St);const $s=Math.min(1e3*(-1*(fi.end-fi.start)+2),2147483647);R.debug(`Waiting for ${$s} ms before playback can start`),_.trigger(m.default.AST_IN_FUTURE,{delay:$s}),St=setTimeout((()=>{jn(Pi,ns,is)}),$s)})(On,ot,Yt,Tn);Ze.get().streaming.applyProducerReferenceTime&&de.calculateProducerReferenceTimeOffsets(ot);const ii=ot[0].manifestInfo;if(Ze.get().streaming.applyServiceDescription&&de.applyServiceDescription(ii),K.getIsDynamic()){const fi=Ki(0,ii);ue.computeAndSetLiveDelay(fi,ii)}(Ze.get().streaming.applyContentSteering&&j.shouldQueryBeforeStart()?j.loadSteeringData():Promise.resolve()).then((()=>{const fi=U.getValue();fi&&Z.update(fi),Bn(),Yt()})).catch((fi=>{R.error(fi),Bn(),Yt()}))}catch(On){Tn(On)}}function Bn(){const ot=(function(){let On;return On=K.getIsDynamic()?(function(){let ii;const fi=Y.getCurrentDVRInfo();ii=(fi&&fi.range?fi.range.end:0)-ue.getOriginalLiveDelay();const Pi=fi?fi.range:null;if(Pi){if(isNaN(Ht)&&Ht.toString().indexOf("posix:")===-1){const is=Jn(!0);isNaN(is)||(R.info(`Start time from URI parameters: ${is}`),ii=Math.min(ii,is))}else{R.info(`Start time provided by the app: ${Ht}`);const is=Cn(!0,Ht);isNaN(is)||(ii=Math.min(ii,is))}const ns=Ze.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;ii=Math.max(ii,Pi.start+ns)}return ii})():(function(){let ii=tl()[0].getStreamInfo().start;if(isNaN(Ht)){const fi=Jn(!1);isNaN(fi)||(R.info(`Start time from URI parameters: ${fi}`),ii=Math.max(ii,fi))}else{R.info(`Start time provided by the app: ${Ht}`);const fi=Cn(!1,Ht);isNaN(fi)||(ii=Math.max(ii,fi))}return ii})(),On})();let Yt=ut(ot);const Tn=Yt!==null?Yt:V[0];_.trigger(m.default.INITIAL_STREAM_SWITCH,{startTime:ot}),Hn(Tn,null,ot),je||(je=setInterval((function(){!Ge&&ue.getTimeToStreamEnd()<=0&&!ue.isSeeking()&&_.trigger(m.default.PLAYBACK_ENDED,{isLast:br().isLast})}),200))}function Hn(ot,Yt,Tn){try{if(Ge||!ot||Yt===ot&&ot.getIsActive())return;Ge=!0,_.trigger(m.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Yt?Yt.getStreamInfo():null,toStreamInfo:ot.getStreamInfo()});let On=!1,ii=[],fi=Vt(Yt);W=ot,Yt&&(On=sn(ot,Yt),ii=Mt(Yt),Yt.deactivate(On)),Tn=isNaN(Tn)?!On&&Yt?ot.getStreamInfo().start:NaN:Tn,R.info(`Switch to stream ${ot.getId()}. Seektime is ${Tn}, current playback time is ${ue.getTime()}. Seamless period switch is set to ${On}`),Be=Be.filter((Pi=>Pi.getId()!==W.getId())),ue.initialize(br(),!!Yt),ge.getElement()?at({seekTime:Tn,keepBuffers:On,sourceBufferSinksFromPreviousPeriod:fi,streamActivated:!1,representationsFromPreviousPeriod:ii}):Ot({seekTime:Tn,keepBuffers:On,sourceBufferSinksFromPreviousPeriod:fi})}catch{Ge=!1}}function at(ot){let Yt;function Tn(){if(!oe||oe.readyState!=="open")return;R.debug("MediaSource is open!"),window.URL.revokeObjectURL(Yt),oe.removeEventListener("sourceopen",Tn),oe.removeEventListener("webkitsourceopen",Tn),Dn();const ii=Y.getCurrentDVRInfo();D.setSeekable(ii.range.start,ii.range.end),ot.streamActivated?(isNaN(ot.seekTime)||ue.seek(ot.seekTime,!0,!0),W.setMediaSource(oe).then((()=>{W.initializeForTextWithMediaSource(oe)}))):Ot(ot)}function On(){oe.addEventListener("sourceopen",Tn,!1),oe.addEventListener("webkitsourceopen",Tn,!1),Yt=D.attachMediaSource(ge),R.debug("MediaSource attached to element.  Waiting on open...")}oe?ot.keepBuffers?Ot(ot):(D.detachMediaSource(ge),On()):(oe=D.createMediaSource(),On())}function Ot(ot){const Yt=ot.representationsFromPreviousPeriod||[];W.activate(oe,ot.sourceBufferSinksFromPreviousPeriod,Yt).then((()=>{isNaN(ot.seekTime)||(_.trigger(m.default.SEEK_TARGET,{time:ot.seekTime},{streamId:W.getId()}),ue.seek(ot.seekTime,!1,!0),W.startScheduleControllers()),Ge=!1,_.trigger(m.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:br()})}))}function Mt(ot){return(ot?ot.getStreamProcessors():[]).map((Yt=>Yt.getRepresentation()))}function Vt(ot){const Yt=new Map;return ot&&(ot?ot.getStreamProcessors():[]).forEach((Tn=>{const On=Tn.getBuffer();On&&Yt.set(On.getType(),On)})),Yt}function yn(ot){const Yt=ut(ot.seekTime);Yt&&Yt!==W?Yt&&Yt!==W&&($n(Yt),(function(Tn,On){const ii=Tn&&!isNaN(Tn.seekTime)?Tn.seekTime:NaN,fi=W.getStreamProcessors().map((Pi=>Pi.prepareOuterPeriodPlaybackSeeking(Tn)));Promise.all(fi).then((()=>{Hn(On,W,ii)})).catch((Pi=>{ne.error(Pi)}))})(ot,Yt)):($n(),(function(Tn){W.getStreamProcessors().forEach((On=>On.prepareInnerPeriodPlaybackSeeking(Tn))),zs(Ia.USER_REQUEST_STOP_REASON)})(ot)),$r(zr.SEEK_START_REASON)}function $n(ot=null){yt()}function yt(){Be&&Be.length>0&&(Be.forEach((ot=>{ot.deactivate(!0)})),Be=[])}function jt(ot){if(ot.newMediaInfo.streamInfo.id===W.getId()){if(yt(),Ze.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&ot.oldMediaInfo&&ot.oldMediaInfo.codec!==ot.newMediaInfo.codec){const Yt=ue.getTime();return W.deactivate(!1),void at({seekTime:Yt,keepBuffers:!1,streamActivated:!1})}W.prepareTrackChange(ot)}}function sn(ot,Yt){try{return Ze.get().streaming.buffer.reuseExistingSourceBuffers&&(k.isProtectionCompatible(Yt.getStreamInfo(),ot.getStreamInfo())||mt)&&k.supportsChangeType()&&Ze.get().streaming.buffer.useChangeType}catch{return!1}}function et(ot,Yt=null){if(!oe||ot.getPreloaded()||!sn(ot,Yt))return;const Tn=Mt(Yt),On=Vt(Yt);ot.startPreloading(oe,On,Tn).then((()=>{Be.push(ot)}))}function ut(ot){if(isNaN(ot))return null;const Yt=V.length;for(let Tn=0;Tn<Yt;Tn++){const On=V[Tn];if(ot<parseFloat((On.getStartTime()+On.getDuration()).toFixed(5)))return On}return null}function Et(){try{const ot=K.getIsDynamic(),Yt=K.getStreamsInfo()[0].manifestInfo,Tn=ue.getTime(),On=Q.calcTimeShiftBufferWindow(V,ot),ii=Xt();if(On.start===void 0||On.end===void 0)return;ii&&ii.length!==0?ii.forEach((fi=>{Y.addDVRInfo(fi.getType(),Tn,Yt,On)})):Y.addDVRInfo(p.default.VIDEO,Tn,Yt,On)}catch{}}function nt(ot){if(ke&&Le){const Yt=Ee.getInitialBufferLevel(),Tn=[p.default.TEXT];(isNaN(Yt)||Yt<=ue.getBufferLevel(Tn)||K.getIsDynamic()&&Yt>ue.getLiveDelay())&&(ke=!1,$r(zr.INITIAL_PLAYOUT_START_REASON),ue.play())}ot&&ot.mediaType&&Y.addBufferLevel(ot.mediaType,new Date,1e3*ot.bufferLevel)}function wt(ot){ot.streamInfo.id===W.getId()&&yt(),ts(ot.streamInfo.id).prepareQualityChange(ot)}function Nt(){if(K.getIsDynamic()&&ue.getOriginalLiveDelay()!==0&&W){const ot=K.getStreamsInfo();if(ot.length>0){const Yt=ot[0].manifestInfo,Tn=Ki(0,Yt);ue.computeAndSetLiveDelay(Tn,Yt)}}}function Ne(){if(gs()){const ot=ge.getPlaybackQuality();ot&&Y.addDroppedFrames(ot)}}function ft(){R.debug("[onPlaybackStarted]"),!ke&&_e&&$r(zr.RESUME_FROM_PAUSE_START_REASON),ke&&(ke=!1),Oe&&(Oe=!1,Ze.get().streaming.applyContentSteering&&!j.shouldQueryBeforeStart()&&j.loadSteeringData()),_e=!1}function Qt(ot){R.debug("[onPlaybackPaused]"),ot.ended||(_e=!0,zs(Ia.USER_REQUEST_STOP_REASON))}function tn(ot){R.debug(`Stream with id ${ot.streamInfo.id} finished buffering`);const Yt=ot.streamInfo.isLast;oe&&Yt?(R.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),D.signalEndOfStream(oe)):Xn()}function Xn(){if(!W)return;if(!W.getHasFinishedBuffering())return void W.checkAndHandleCompletedBuffering();const ot=(function(Tn=null){try{const On=Tn||W||null;if(On){const ii=On.getStreamInfo();return V.filter((function(fi){const Pi=fi.getStreamInfo();return Pi.start>ii.start&&ii.id!==Pi.id}))}}catch{return[]}})(W);let Yt=0;for(;Yt<ot.length;){const Tn=ot[Yt],On=Yt===0?W:ot[Yt-1];!Tn.getPreloaded()&&On.getHasFinishedBuffering()&&et(Tn,On),Yt+=1}}function Tt(){je&&(clearInterval(je),je=null)}function Xt(){return W?W.getStreamProcessors():[]}function Mn(ot){if(W&&!W.getIsEndedEventSignaled()){W.setIsEndedEventSignaled(!0);const Yt=(function(Tn=null){const On=Tn||W||null;if(!On)return null;const ii=On.getStreamInfo(),fi=ii.start;let Pi=0,ns=-1,is=NaN;for(;Pi<V.length;){const $s=V[Pi].getStreamInfo(),dm=$s.start-fi;dm>0&&(isNaN(is)||dm<is)&&ii.id!==$s.id&&(is=dm,ns=Pi),Pi+=1}return ns>=0?V[ns]:null})();Yt?(R.debug(`StreamController onEnded, found next stream with id ${Yt.getStreamInfo().id}. Switching from ${W.getStreamInfo().id} to ${Yt.getStreamInfo().id}`),Hn(Yt,W,NaN)):(R.debug("StreamController no next stream found"),W.setIsEndedEventSignaled(!1)),zs(Yt?Ia.END_OF_PERIOD_STOP_REASON:Ia.END_OF_CONTENT_STOP_REASON)}ot&&ot.isLast&&(Tt(),j.stopSteeringRequestTimer())}function Dn(ot){const Yt=ot||br().manifestInfo.duration;D.setDuration(Yt)}function Jn(ot){const Yt=ae.getURIFragmentData();if(!Yt||!Yt.t)return NaN;const Tn=tl()[0].getStreamInfo().start;return Yt.t=Yt.t.split(",")[0],Ii(ot,Yt.t,Tn)}function Cn(ot,Yt){let Tn=0;return ot||(Tn=tl()[0].getStreamInfo().start),Ii(ot,Yt,Tn)}function Ii(ot,Yt,Tn){const On=K.getRegularPeriods()[0],ii=Yt.toString(),fi=ii.indexOf("posix:")!==-1?ii.substring(6)==="now"?Date.now()/1e3:parseFloat(ii.substring(6)):NaN;return ot&&!isNaN(fi)?Q.calcPresentationTimeFromWallTime(new Date(1e3*fi),On):parseFloat(ii)+Tn}function Ki(ot,Yt){try{let Tn=NaN;return Yt&&!isNaN(Yt.maxFragmentDuration)&&isFinite(Yt.maxFragmentDuration)?Yt.maxFragmentDuration:isFinite(Tn)?Tn:NaN}catch{return NaN}}function ka(){const ot=U.getValue();Z.initialize(ot)}function ms(ot){if(ot.error)te=!0,jr();else{R.info("Manifest updated... updating data system wide.");const Yt=ot.manifest;K.updatePeriods(Yt),L.filterUnsupportedFeatures(Yt).then((()=>{Z.initialize(Yt);let Tn=K.getUTCTimingSources();!K.getIsDynamic()||Tn&&Tn.length!==0||_.trigger(y.default.CONFORMANCE_VIOLATION,{level:$u.LEVELS.WARNING,event:$u.EVENTS.NO_UTC_TIMING_ELEMENT});let On=K.getIsDynamic()?Tn.concat(X.getUTCTimingSources()):Tn;q.attemptSync(On,K.getIsDynamic()),we.createFinalQueryStrings(Yt)}))}}function gs(){return!!W&&W.getHasVideoTrack()}function Pl(){return!!W&&W.getHasAudioTrack()}function zs(ot,Yt){Yt=Yt||new Date,Xt().forEach((Tn=>{Tn.finalisePlayList(Yt,ot)})),Y.addPlayList()}function $r(ot){Y.createPlaylistMetrics(1e3*ue.getTime(),ot)}function qr(ot){Ie.updateKeyStatusesMap(ot),(function(){const Yt=Xt();let Tn=!1;Yt.forEach((On=>{const ii=On.getMediaInfo();!ii||k.areKeyIdsUsable(ii)?ii&&k.areKeyIdsExpired(ii)&&(function(fi){const Pi=ts(fi.getStreamId());Pi&&Pi.triggerProtectionError({error:new En.default(tm.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,tm.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)})})(On):(Tn=!0,(function(fi){const Pi=fi.getAllMediaInfos().filter((ns=>k.areKeyIdsUsable(ns)));if(Pi&&Pi.length!==0)me.setTrack(Pi[0],{replaceBuffer:!0});else{const ns=fi.getType();ne.error(new En.default(bn.NO_SUPPORTED_KEY_IDS,`Type: ${ns}: ${bn.NO_SUPPORTED_KEY_IDS_MESSAGE}`))}})(On))})),Tn&&(ue.getTime()===0?_.once(y.default.FRAGMENT_LOADING_COMPLETED,(()=>{ea()}),S):ue.isProgressing(500).then((On=>{On||ea()})))})()}function ea(){const ot=ue.getTime();ue.seek(ot+.01,!1,!1)}function ur(ot){if(!ot.error)return;let Yt;switch(ot.error.code){case 1:Yt="MEDIA_ERR_ABORTED";break;case 2:Yt="MEDIA_ERR_NETWORK";break;case 3:Yt="MEDIA_ERR_DECODE",vn.counts.mediaErrorDecode+=1;break;case 4:Yt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Yt="MEDIA_ERR_ENCRYPTED";break;default:Yt="UNKNOWN"}Yt==="MEDIA_ERR_DECODE"&&Ze.get().errors.recoverAttempts.mediaErrorDecode>=vn.counts.mediaErrorDecode?(function(){R.error("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");const Tn=ue.getTime();W.deactivate(!1),R.info(`MediaSource has been resetted. Resuming playback from time ${Tn}`),at({seekTime:Tn,keepBuffers:!1,streamActivated:!1})})():(Pe=!0,ot.error.message&&(Yt+=" ("+ot.error.message+")"),ot.error.msExtendedCode&&(Yt+=" (0x"+(ot.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),R.fatal("Video Element Error: "+Yt),ot.error&&R.fatal(ot.error),ne.error(new En.default(ot.error.code,Yt)),jr())}function br(){return W?W.getStreamInfo():null}function ts(ot){for(let Yt=0,Tn=V.length;Yt<Tn;Yt++)if(V[Yt].getId()===ot)return V[Yt];return null}function td(ot){isNaN(ot.newDuration)||Dn(ot.newDuration)}function nd(){V=[],Ht=NaN,Ie=null,Ge=!1,W=null,Pe=!1,te=!1,ke=!0,Oe=!0,_e=!1,Le=!0,je=null,mt=!1,Be=[],St=null,vn={counts:{mediaErrorDecode:0}}}function jr(){zt(),q.reset(),zs(Pe||te?Ia.FAILURE_STOP_REASON:Ia.USER_REQUEST_STOP_REASON);for(let ot=0,Yt=V?V.length:0;ot<Yt;ot++)V[ot].reset(Pe);_.off(y.default.PLAYBACK_TIME_UPDATED,Ne,S),_.off(y.default.PLAYBACK_SEEKING,yn,S),_.off(y.default.PLAYBACK_ERROR,ur,S),_.off(y.default.PLAYBACK_STARTED,ft,S),_.off(y.default.PLAYBACK_PAUSED,Qt,S),_.off(y.default.PLAYBACK_ENDED,Mn,S),_.off(y.default.METRIC_ADDED,po,S),_.off(y.default.MANIFEST_VALIDITY_CHANGED,td,S),_.off(y.default.BUFFER_LEVEL_UPDATED,nt,S),_.off(y.default.QUALITY_CHANGE_REQUESTED,wt,S),_.off(y.default.CONTENT_STEERING_REQUEST_COMPLETED,ka,S),m.default.KEY_SESSION_UPDATED&&_.off(m.default.KEY_SESSION_UPDATED,Nn,S),_.off(m.default.MANIFEST_UPDATED,ms,S),_.off(m.default.STREAM_BUFFERING_COMPLETED,tn,S),_.off(m.default.TIME_SYNCHRONIZATION_COMPLETED,mn,S),_.off(m.default.CURRENT_TRACK_CHANGED,jt,S),_.off(m.default.SETTING_UPDATED_LIVE_DELAY,Nt,S),_.off(m.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Nt,S),_.off(Kp.default.INTERNAL_KEY_STATUSES_CHANGED,qr,S),Z.reset(),$.reset(),pe.reset(),Y.clearAllCurrentMetrics(),U.setValue(null),B.reset(),Q.reset(),Re.reset(),oe&&(D.detachMediaSource(ge),oe=null),ge=null,Ie&&(Ie=null,Ce=null,U.getValue()&&_.trigger(m.default.PROTECTION_DESTROYED,{data:U.getValue().url})),Tt(),_.trigger(m.default.STREAM_TEARDOWN_COMPLETE),nd()}function po(ot){if(ot.metric===o.DVR_INFO){const Yt=Pl()?p.default.AUDIO:p.default.VIDEO;ot.mediaType===Yt&&D.setSeekable(ot.value.range.start,ot.value.range.end)}}function tl(){return V}return S={addDVRMetric:Et,getActiveStream:function(){return W},getActiveStreamInfo:br,getActiveStreamProcessors:Xt,getAutoPlay:function(){return Le},getHasMediaOrInitialisationError:function(){return Pe||te},getInitialPlayback:function(){return ke},getIsStreamSwitchInProgress:function(){return Ge},getStreamById:ts,getStreamForTime:ut,getStreams:tl,getTimeRelativeToStreamId:function(ot,Yt){let Tn=null,On=0,ii=0,fi=null;for(let Pi=0;Pi<V.length;Pi++){if(Tn=V[Pi],ii=Tn.getStartTime(),fi=Tn.getDuration(),Number.isFinite(ii)&&(On=ii),Tn.getId()===Yt)return ot-On;Number.isFinite(fi)&&(On+=fi)}return null},hasAudioTrack:Pl,hasVideoTrack:gs,initialize:function(ot,Yt){zt(),Le=ot,Ce=Yt,Q.initialize(),$=hf(T).create(),$.setConfig({manifestModel:U,adapter:K,manifestLoader:B,errHandler:ne,settings:Ze,contentSteeringController:j}),$.initialize(),pe=Sb(T).getInstance(),pe.setConfig({manifestUpdater:$,playbackController:ue,settings:Ze}),pe.start(),we=sp(T).getInstance(),q.setConfig({dashMetrics:Y,baseURLController:Z,errHandler:ne,settings:Ze}),q.initialize(),D.setConfig({settings:Ze}),Ie&&(_.trigger(m.default.PROTECTION_CREATED,{controller:Ie}),Ie.setMediaElement(ge.getElement()),Ce&&Ie.setProtectionData(Ce)),_.on(y.default.PLAYBACK_TIME_UPDATED,Ne,S),_.on(y.default.PLAYBACK_SEEKING,yn,S),_.on(y.default.PLAYBACK_ERROR,ur,S),_.on(y.default.PLAYBACK_STARTED,ft,S),_.on(y.default.PLAYBACK_PAUSED,Qt,S),_.on(y.default.PLAYBACK_ENDED,Mn,S),_.on(y.default.METRIC_ADDED,po,S),_.on(y.default.MANIFEST_VALIDITY_CHANGED,td,S),_.on(y.default.BUFFER_LEVEL_UPDATED,nt,S),_.on(y.default.QUALITY_CHANGE_REQUESTED,wt,S),_.on(y.default.CONTENT_STEERING_REQUEST_COMPLETED,ka,S),m.default.KEY_SESSION_UPDATED&&_.on(m.default.KEY_SESSION_UPDATED,Nn,S),_.on(m.default.MANIFEST_UPDATED,ms,S),_.on(m.default.STREAM_BUFFERING_COMPLETED,tn,S),_.on(m.default.TIME_SYNCHRONIZATION_COMPLETED,mn,S),_.on(m.default.CURRENT_TRACK_CHANGED,jt,S),_.on(m.default.SETTING_UPDATED_LIVE_DELAY,Nt,S),_.on(m.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Nt,S),_.on(Kp.default.INTERNAL_KEY_STATUSES_CHANGED,qr,S)},load:function(ot,Yt=NaN){zt(),Ht=Yt,B.load(ot)},loadWithManifest:function(ot,Yt=NaN){(function(){if(!$||!$.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Ht=Yt,$.setManifest(ot)},refreshManifest:function(){$.getIsUpdating()||$.refreshManifest()},reset:jr,setConfig:function(ot){ot&&(ot.capabilities&&(k=ot.capabilities),ot.capabilitiesFilter&&(L=ot.capabilitiesFilter),ot.manifestLoader&&(B=ot.manifestLoader),ot.manifestModel&&(U=ot.manifestModel),ot.mediaPlayerModel&&(Ee=ot.mediaPlayerModel),ot.customParametersModel&&(X=ot.customParametersModel),ot.protectionController&&(Ie=ot.protectionController),ot.adapter&&(K=ot.adapter),ot.dashMetrics&&(Y=ot.dashMetrics),ot.errHandler&&(ne=ot.errHandler),ot.timelineConverter&&(Q=ot.timelineConverter),ot.videoModel&&(ge=ot.videoModel),ot.playbackController&&(ue=ot.playbackController),ot.throughputController&&(fe=ot.throughputController),ot.serviceDescriptionController&&(de=ot.serviceDescriptionController),ot.contentSteeringController&&(j=ot.contentSteeringController),ot.textController&&(le=ot.textController),ot.abrController&&(J=ot.abrController),ot.mediaController&&(me=ot.mediaController),ot.settings&&(Ze=ot.settings),ot.baseURLController&&(Z=ot.baseURLController),ot.uriFragmentModel&&(ae=ot.uriFragmentModel),ot.segmentBaseController&&(ie=ot.segmentBaseController),ot.manifestUpdater&&($=ot.manifestUpdater))},setProtectionData:function(ot){Ce=ot,Ie&&Ie.setProtectionData(Ce)},switchToVideoElement:function(ot){W&&(ue.initialize(br()),at({seekTime:ot,keepBuffers:!1,streamActivated:!0}))}},R=(0,l.default)(T).getInstance().getLogger(S),q=Gp(T).getInstance(),D=Tb(T).getInstance(),Re=el(T).getInstance(),nd(),S}Yp.__dashjs_factory_name="StreamController";var Wp=i.default.getSingletonFactory(Yp),Qp=class extends es{constructor(){super(),this.captionData=null,this.label=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1,this.isTTML=null}},Ab=t(7377);function Xp(){let T,_=0;function S(U){let K="";for(let Y=0;Y<U.length;++Y)K+=U[Y].uchar;return K.length-K.replace(/^\s+/,"").length}function R(U){return"left: "+3.125*U.x+"%; top: "+6.66*U.y1+"%; width: "+(100-3.125*U.x)+"%; height: "+6.66*Math.max(U.y2-1-U.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function k(U){return U==="red"?"rgb(255, 0, 0)":U==="green"?"rgb(0, 255, 0)":U==="blue"?"rgb(0, 0, 255)":U==="cyan"?"rgb(0, 255, 255)":U==="magenta"?"rgb(255, 0, 255)":U==="yellow"?"rgb(255, 255, 0)":U==="white"?"rgb(255, 255, 255)":U==="black"?"rgb(0, 0, 0)":U}function L(U,K){const Y=U.videoHeight/15;return K?"font-size: "+Y+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(K.foreground?k(K.foreground):"rgb(255, 255, 255)")+"; font-style: "+(K.italics?"italic":"normal")+"; text-decoration: "+(K.underline?"underline":"none")+"; white-space: pre; background-color: "+(K.background?k(K.background):"transparent")+";":"font-size: "+Y+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function $(U){return U.replace(/^\s+/g,"")}function B(U){return U.replace(/\s+$/g,"")}return T={createHTMLCaptionsFromScreen:function(U,K,Y,D){let q=null,j=null,Z=!1,ie=-1,ae={start:K,end:Y,spans:[]},J="style_cea608_white_black";const fe={},me={},pe=[];let Re,ne;for(Re=0;Re<15;++Re){const V=D.rows[Re];let W="",Ie=null;if(V.isEmpty()===!1){const le=S(V.chars);q===null&&(q={x:le,y1:Re,y2:Re+1,p:[]}),le!==ie&&Z&&(q.p.push(ae),ae={start:K,end:Y,spans:[]},q.y2=Re,q.name="region_"+q.x+"_"+q.y1+"_"+q.y2,fe.hasOwnProperty(q.name)===!1?(pe.push(q),fe[q.name]=q):(j=fe[q.name],j.p.contat(q.p)),q={x:le,y1:Re,y2:Re+1,p:[]});for(let Ce=0;Ce<V.chars.length;++Ce){const we=V.chars[Ce],Le=we.penState;if(Ie===null||!Le.equals(Ie)){W.trim().length>0&&(ae.spans.push({name:J,line:W,row:Re}),W="");let Ge="style_cea608_"+Le.foreground+"_"+Le.background;Le.underline&&(Ge+="_underline"),Le.italics&&(Ge+="_italics"),me.hasOwnProperty(Ge)||(me[Ge]=JSON.parse(JSON.stringify(Le))),Ie=Le,J=Ge}W+=we.uchar}W.trim().length>0&&ae.spans.push({name:J,line:W,row:Re}),Z=!0,ie=le}else Z=!1,ie=-1,q&&(q.p.push(ae),ae={start:K,end:Y,spans:[]},q.y2=Re,q.name="region_"+q.x+"_"+q.y1+"_"+q.y2,fe.hasOwnProperty(q.name)===!1?(pe.push(q),fe[q.name]=q):(j=fe[q.name],j.p.contat(q.p)),q=null)}q&&(q.p.push(ae),q.y2=Re+1,q.name="region_"+q.x+"_"+q.y1+"_"+q.y2,fe.hasOwnProperty(q.name)===!1?(pe.push(q),fe[q.name]=q):(j=fe[q.name],j.p.contat(q.p)),q=null);const Q=[];for(Re=0;Re<pe.length;++Re){const V=pe[Re],W="sub_cea608_"+_++,Ie=document.createElement("div");Ie.id=W;const le=R(V);Ie.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+le;const Ce=document.createElement("div");Ce.className="paragraph bodyStyle",Ce.style.cssText=L(U);const we=document.createElement("div");we.className="cueUniWrapper",we.style.cssText="unicode-bidi: normal; direction: ltr;";for(let Ge=0;Ge<V.p.length;++Ge){const Pe=V.p[Ge];let te=0;for(ne=0;ne<Pe.spans.length;++ne){let oe=Pe.spans[ne];if(oe.line.length>0){if(ne!==0&&te!=oe.row){const Ee=document.createElement("br");Ee.className="lineBreak",we.appendChild(Ee)}let ge=!1;te===oe.row&&(ge=!0),te=oe.row;const ue=me[oe.name],de=document.createElement("span");de.className="spanPadding "+oe.name+" customSpanColor",de.style.cssText=L(U,ue),ne!==0&&ge?ne===Pe.spans.length-1?de.textContent=B(oe.line):de.textContent=oe.line:Pe.spans.length>1&&ne<Pe.spans.length-1&&oe.row===Pe.spans[ne+1].row?de.textContent=$(oe.line):de.textContent=oe.line.trim(),we.appendChild(de)}}}Ce.appendChild(we),Ie.appendChild(Ce);const Le={bodyStyle:["%",90]};for(const Ge in me)me.hasOwnProperty(Ge)&&(Le[Ge]=["%",90]);Q.push({type:"html",start:K,end:Y,cueHTMLElement:Ie,cueID:W,cellResolution:[32,15],isFromCEA608:!0,fontSize:Le,lineHeight:{},linePadding:{}})}return Q}},T}Xp.__dashjs_factory_name="EmbeddedTextHtmlRender";var IA=i.default.getSingletonFactory(Xp),Qc=class{constructor(){this.time=null,this.verboseLevel=0}log(T,_){if(this.verboseLevel>=T){const S=typeof _=="function"?_():_;console.log(`${this.time} [${T}] ${S}`)}}},Zp=class{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(T){for(const _ of["foreground","underline","italics","background","flash"])Object.prototype.hasOwnProperty.call(T,_)&&(this[_]=T[_])}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(T){return this.foreground===T.foreground&&this.underline===T.underline&&this.italics===T.italics&&this.background===T.background&&this.flash===T.flash}copy(T){this.foreground=T.foreground,this.underline=T.underline,this.italics=T.italics,this.background=T.background,this.flash=T.flash}},wb=class{constructor(){this.uchar=" ",this.penState=new Zp}reset(){this.uchar=" ",this.penState.reset()}setChar(T,_){this.uchar=T,this.penState.copy(_)}setPenState(T){this.penState.copy(T)}equals(T){return this.uchar===T.uchar&&this.penState.equals(T.penState)}copy(T){this.uchar=T.uchar,this.penState.copy(T.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}};const Bs=100,Rb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499};function Jp(T){return String.fromCharCode(Rb[T]||T)}var kA=class{constructor(T=new Qc){this.chars=[],this.cueStartTime=null,this.pos=0,this.currPenState=new Zp;for(let _=0;_<Bs;_++)this.chars.push(new wb);this.logger=T}equals(T){for(let _=0;_<Bs;_++)if(!this.chars[_].equals(T.chars[_]))return!1;return!0}copy(T){for(let _=0;_<Bs;_++)this.chars[_].copy(T.chars[_])}isEmpty(){let T=!0;for(let _=0;_<Bs;_++)if(!this.chars[_].isEmpty()){T=!1;break}return T}setCursor(T){this.pos!==T&&(this.pos=T),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Bs&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Bs)}moveCursor(T){const _=this.pos+T;if(T>1)for(let S=this.pos+1;S<_+1;S++)this.chars[S].setPenState(this.currPenState);this.setCursor(_)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(T){T>=144&&this.backSpace();const _=Jp(T);this.pos>=Bs?this.logger.log(0,(()=>"Cannot insert "+T.toString(16)+" ("+_+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(_,this.currPenState),this.moveCursor(1))}clearFromPos(T){let _;for(_=T;_<Bs;_++)this.chars[_].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const T=[];let _=!0;for(let S=0;S<Bs;S++){const R=this.chars[S].uchar;R!==" "&&(_=!1),T.push(R)}return _?"":T.join("")}setPenStyles(T){this.currPenState.setStyles(T),this.chars[this.pos].setPenState(this.currPenState)}};const qu=15;var nm=class{constructor(T=new Qc){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null;for(let _=0;_<qu;_++)this.rows.push(new kA(T));this.logger=T}reset(){for(let T=0;T<qu;T++)this.rows[T].clear();this.currRow=14}equals(T){let _=!0;for(let S=0;S<qu;S++)if(!this.rows[S].equals(T.rows[S])){_=!1;break}return _}copy(T){for(let _=0;_<qu;_++)this.rows[_].copy(T.rows[_])}isEmpty(){let T=!0;for(let _=0;_<qu;_++)if(!this.rows[_].isEmpty()){T=!1;break}return T}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(T){this.rows[this.currRow].insertChar(T)}setPen(T){this.rows[this.currRow].setPenStyles(T)}moveCursor(T){this.rows[this.currRow].moveCursor(T)}setCursor(T){this.logger.log(2,"setCursor: "+T),this.rows[this.currRow].setCursor(T)}setPAC(T){this.logger.log(2,(()=>"pacData = "+JSON.stringify(T)));let _=T.row-1;if(this.nrRollUpRows&&_<this.nrRollUpRows-1&&(_=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==_){for(let $=0;$<qu;$++)this.rows[$].clear();const k=this.currRow+1-this.nrRollUpRows,L=this.lastOutputScreen;if(L){const $=L.rows[k].cueStartTime,B=this.logger.time;if($!==null&&B!==null&&$<B)for(let U=0;U<this.nrRollUpRows;U++)this.rows[_-this.nrRollUpRows+U+1].copy(L.rows[k+U])}}this.currRow=_;const S=this.rows[this.currRow];if(T.indent!==null){const k=T.indent,L=Math.max(k-1,0);S.setCursor(T.indent),T.color=S.chars[L].penState.foreground}const R={foreground:T.color,underline:T.underline,italics:T.italics,background:"black",flash:!1};this.setPen(R)}setBkgData(T){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(T))),this.backSpace(),this.setPen(T),this.insertChar(32)}setRollUpRows(T){this.nrRollUpRows=T}rollUp(){if(this.nrRollUpRows===null)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const T=this.currRow+1-this.nrRollUpRows,_=this.rows.splice(T,1)[0];_.clear(),this.rows.splice(this.currRow,0,_),this.logger.log(2,"Rolling up")}getDisplayText(T){T=T||!1;const _=[];let S="",R=-1;for(let k=0;k<qu;k++){const L=this.rows[k].getTextString();L&&(R=k+1,T?_.push("Row "+R+": '"+L+"'"):_.push(L.trim()))}return _.length>0&&(S=T?"["+_.join(" | ")+"]":_.join(`
`)),S}getTextAndFormat(){return this.rows}},Xc=class{constructor(T,_,S=new Qc){this.chNr=T,this.outputFilter=_,this.mode=null,this.displayedMemory=new nm(S),this.nonDisplayedMemory=new nm(S),this.lastOutputScreen=new nm(S),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=S,this.logger.log(2,"new Cea608Channel("+this.chNr+")")}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter?.reset?.(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(T){this.outputFilter=T}setPAC(T){this.writeScreen.setPAC(T)}setBkgData(T){this.writeScreen.setBkgData(T)}setMode(T){T!==this.mode&&(this.mode=T,this.logger.log(2,(()=>"MODE="+T)),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.setRollUpRows(null),this.nonDisplayedMemory.setRollUpRows(null)),this.mode=T)}insertChars(T){for(const S of T)this.writeScreen.insertChar(S);const _=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>_+": "+this.writeScreen.getDisplayText(!0))),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(T){this.logger.log(2,"RU("+T+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(T)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const T=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=T,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(T){this.logger.log(2,"TO("+T+") - Tab Offset"),this.writeScreen.moveCursor(T)}ccMIDROW(T){const _={flash:!1};_.underline=T%2==1,_.italics=T>=46,_.italics?_.foreground="white":_.foreground=["white","green","blue","cyan","red","yellow","magenta"][Math.floor(T/2)-16],this.logger.log(2,"MIDROW: "+JSON.stringify(_)),this.writeScreen.setPen(_)}outputDataUpdate(T=!1){const _=this.logger.time;_!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,_,this.lastOutputScreen),T&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:_):this.cueStartTime=_,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(T){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,T,this.displayedMemory),this.cueStartTime=T))}};const ev=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];function im(T,_,S){return S.a===T&&S.b===_}function Ol(T){const _=[];for(const S of T)_.push(S.toString(16));return _}const Ib={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Ef={25:2,26:4,29:6,30:8,31:10,27:13,28:15},kb={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},tv={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14};function bf(T,_,S){S.a=T,S.b=_}var am=class{constructor(T,_,S){this.currentChannel=0,this.cmdHistory={a:null,b:null},this.lastTime=null;const R=this.logger=new Qc;this.channels=[null,new Xc(T,_,R),new Xc(T+1,S,R)]}addData(T,_){this.lastTime=T,this.logger.time=T;for(let S=0;S<_.length;S+=2){const R=127&_[S],k=127&_[S+1];let L=!1,$=null;if(this.lastTime!==null&&(T=this.lastTime+.5*S*1001/3e4,this.logger.time=T),R===0&&k===0)continue;this.logger.log(3,(()=>"["+Ol([_[S],_[S+1]])+"] -> ("+Ol([R,k])+")"));const B=this.cmdHistory;if(R>=16&&R<=31){if(im(R,k,B)){bf(null,null,B),this.logger.log(3,(()=>"Repeated command ("+Ol([R,k])+") is dropped"));continue}bf(R,k,this.cmdHistory),L=this.parseCmd(R,k),L||(L=this.parseMidrow(R,k)),L||(L=this.parsePAC(R,k)),L||(L=this.parseBackgroundAttributes(R,k))}else bf(null,null,B);if(!L&&($=this.parseChars(R,k),$.length)){const U=this.currentChannel;U&&U>0?this.channels[U].insertChars($):this.logger.log(2,"No channel found yet. TEXT-MODE?")}L||$||this.logger.log(2,(()=>"Couldn't parse cleaned data "+Ol([R,k])+" orig: "+Ol([_[S],_[S+1]])))}}parseCmd(T,_){if(!((T===20||T===28||T===21||T===29)&&_>=32&&_<=47||(T===23||T===31)&&_>=33&&_<=35))return!1;const S=T===20||T===21||T===23?1:2,R=this.channels[S];return T===20||T===21||T===28||T===29?_===32?R.ccRCL():_===33?R.ccBS():_===34?R.ccAOF():_===35?R.ccAON():_===36?R.ccDER():_===37?R.ccRU(2):_===38?R.ccRU(3):_===39?R.ccRU(4):_===40?R.ccFON():_===41?R.ccRDC():_===42?R.ccTR():_===43?R.ccRTD():_===44?R.ccEDM():_===45?R.ccCR():_===46?R.ccENM():_===47&&R.ccEOC():R.ccTO(_-32),this.currentChannel=S,!0}parseMidrow(T,_){let S=0;if((T===17||T===25)&&_>=32&&_<=47){if(S=T===17?1:2,S!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const R=this.channels[S];return!!R&&(R.ccMIDROW(_),this.logger.log(3,(()=>"MIDROW ("+Ol([T,_])+")")),!0)}return!1}parsePAC(T,_){let S;if(!((T>=17&&T<=23||T>=25&&T<=31)&&_>=64&&_<=127||(T===16||T===24)&&_>=64&&_<=95))return!1;const R=T<=23?1:2;S=_>=64&&_<=95?R===1?kb[T]:tv[T]:R===1?Ib[T]:Ef[T];const k=this.channels[R];return!!k&&(k.setPAC(this.interpretPAC(S,_)),this.currentChannel=R,!0)}interpretPAC(T,_){let S;const R={color:null,italics:!1,indent:null,underline:!1,row:T};return S=_>95?_-96:_-64,R.underline=!(1&~S),S<=13?R.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(S/2)]:S<=15?(R.italics=!0,R.color="white"):R.indent=4*Math.floor((S-16)/2),R}parseChars(T,_){let S,R=[],k=null;if(T>=25?(S=2,k=T-8):(S=1,k=T),k>=17&&k<=19){let L;L=k===17?_+80:k===18?_+112:_+144,this.logger.log(2,(()=>"Special char '"+Jp(L)+"' in channel "+S)),R=[L]}else T>=32&&T<=127&&(R=_===0?[T]:[T,_]);return R&&this.logger.log(3,(()=>"Char codes =  "+Ol(R).join(","))),R}parseBackgroundAttributes(T,_){if(!((T===16||T===24)&&_>=32&&_<=47||(T===23||T===31)&&_>=45&&_<=47))return!1;let S;const R={};T===16||T===24?(S=Math.floor((_-32)/2),R.background=ev[S],_%2==1&&(R.background=R.background+"_semi")):_===45?R.background="transparent":(R.foreground="black",_===47&&(R.underline=!0));const k=T<=23?1:2;return this.channels[k].setBkgData(R),!0}reset(){for(let T=0;T<Object.keys(this.channels).length;T++){const _=this.channels[T];_&&_.reset()}bf(null,null,this.cmdHistory)}cueSplitAtTime(T){for(const _ of this.channels)_&&_.cueSplitAtTime(T)}};function nv(T,_,S){const R=[];for(let k=_;k<S;k++)k+2<S&&T.getUint8(k)===0&&T.getUint8(k+1)===0&&T.getUint8(k+2)===3?(R.push(0),R.push(0),k+=2):R.push(T.getUint8(k));return new DataView(new Uint8Array(R).buffer)}function xb(T,_,S,R){return!(T!==4||_<8)&&S.getUint8(R)===181&&S.getUint16(R+1)===49&&S.getUint32(R+3)===1195456820&&S.getUint8(R+7)===3}function Cb(T,_){return(127&T)>0||(127&_)>0}function ju(T,_){let S=0;for(;S<T.byteLength;){let k,L=0,$=0;do L+=k=T.getUint8(S++);while(k===255);do $+=k=T.getUint8(S++);while(k===255);if(xb(L,$,T,S)){const B=S+10,U=B+3*(31&T.getUint8(B-2));for(let K=B;K<U;K+=3){const Y=T.getUint8(K);if(4&Y){const D=3&Y;if((R=D)===0||R===1){const q=T.getUint8(K+1),j=T.getUint8(K+2);Cb(q,j)&&_[D].push(q,j)}}}}S+=$}var R}function Db(T,_,S){let R=0,k=0;const L=[[],[]];for(let $=_;$<_+S-5&&(R=T.getUint32($),k=31&T.getUint8($+4),!($+5+R>_+S));$++)k===6&&$+5+R<=T.byteLength&&ju(nv(T,$+5,$+5+R),L),$+=R+3;return L}function iv(T){const _=T.errHandler,S=T.manifestModel,R=T.mediaController,k=T.videoModel,L=T.textTracks,$=T.vttParser,B=T.vttCustomRenderingParser,U=T.ttmlParser,K=T.streamInfo,Y=T.settings,D=this.context,q=(0,g.default)(D).getInstance();let j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V,W,Ie,le,Ce,we,Le=!1;function Ge(){fe=null,pe=NaN,Re=[],ne=null,me=!1,J=[],ae=null}function Pe(ke){const Oe={};Oe[xe.default.SUBTITLE]="subtitles",Oe[xe.default.CAPTION]="captions",Oe[xe.default.FORCED_SUBTITLE]="subtitles";const je=new Qp;for(let Be in ke)je[Be]=ke[Be];je.defaultTrack=(function(Be){let Ze=!1;return V.length>1&&Be.isEmbedded?Ze=Be.id&&Be.id===p.default.CC1:V.length===1?Be.id&&typeof Be.id=="string"&&Be.id.substring(0,2)==="CC"&&(Ze=!0):V.length===0&&(Ze=Be.index===J[0].index),Ze})(ke),je.isTTML=(function(Be){return Be.codec&&Be.codec.search(p.default.STPP)>=0||Be.mimeType&&Be.mimeType.search(p.default.TTML)>=0})(ke),je.kind=(function(Be,Ze){let mt=Be.roles&&Be.roles.length>0?Ze[Be.roles[0].value]:Ze.caption;return mt=Object.values(Ze).includes(mt)?mt:Ze.caption,mt})(ke,Oe),L.addTextTrackInfo(je)}function te(ke){const Oe=ke.chunk;Oe.representation.mediaInfo.embeddedCaptions&&ge(Oe.bytes,Oe)}function oe(ke){Q=ke}function ge(ke,Oe){const je=Oe.representation.mediaInfo,Be=je.type,Ze=je.mimeType,mt=je.codec||Ze;mt?je.codec.indexOf("application/mp4")!==-1?(function(St,Ht,vn){let zt,mn;if(Ht.segmentType==="InitializationSegment")me=!0,pe=ie.getMediaTimescaleFromMoov(St);else{if(!me)return;mn=ie.getSamplesInfo(St),zt=mn.sampleList,zt.length>0&&(ne=zt[0].cts-Ht.start*pe),vn.search(p.default.STPP)>=0?(function(Nn,ri,jn){let Bn,Hn;for(ae=ae!==null?ae:Ee(jn),Bn=0;Bn<ri.length;Bn++){const at=ri[Bn],Ot=at.cts,Mt=de(),Vt=Mt+Ot/pe,yn=Vt+at.duration/pe;j.buffered.add(Vt,yn);const $n=new DataView(Nn,at.offset,at.subSizes[0]);let yt=Ru.Utils.dataViewToString($n,p.default.UTF8);const jt=[];let sn=at.offset+at.subSizes[0];for(Hn=1;Hn<at.subSizes.length;Hn++){const et=new Uint8Array(Nn,sn,at.subSizes[Hn]),ut=String.fromCharCode.apply(null,et);jt.push(ut),sn+=at.subSizes[Hn]}try{const et=S.getValue().ttmlTimeIsRelative?Ot/pe:0,ut=ae.parse(yt,et,Ot/pe,(Ot+at.duration)/pe,jt);L.addCaptions(Q,Mt,ut)}catch(et){fe.removeExecutedRequestsBeforeTime(),X(),Z.error("TTML parser error: "+et)}}})(St,zt,vn):(function(Nn,ri){let jn,Bn,Hn;const at=[];for(jn=0;jn<ri.length;jn++){const Ot=ri[jn];Ot.cts-=ne;const Mt=de()+Ot.cts/pe,Vt=Mt+Ot.duration/pe;j.buffered.add(Mt,Vt);const yn=Nn.slice(Ot.offset,Ot.offset+Ot.size),$n=Ru.parseBuffer(yn);for(Bn=0;Bn<$n.boxes.length;Bn++){const yt=$n.boxes[Bn];if(Z.debug("VTT box1: "+yt.type),yt.type!=="vtte"&&yt.type==="vttc"){Z.debug("VTT vttc boxes.length = "+yt.boxes.length);let jt={styles:{}};for(Hn=0;Hn<yt.boxes.length;Hn++){const sn=yt.boxes[Hn];if(Z.debug("VTT box2: "+sn.type),sn.type==="payl")jt.start=Ot.cts/pe,jt.end=(Ot.cts+Ot.duration)/pe,jt.data=sn.cue_text;else if(sn.type==="sttg"&&sn.settings&&sn.settings!=="")try{const et=sn.settings.split(" ");jt.styles=$.getCaptionStyles(et)}catch{}}jt&&jt.data&&(at.push(jt),Z.debug(`VTT  ${jt.start} - ${jt.end} :  ${jt.data}`))}}}at.length>0&&L.addCaptions(Q,0,at)})(St,zt)}})(ke,Oe,mt):Be===p.default.VIDEO?(function(St,Ht){let vn,zt;if(Ht.segmentType===se.HTTPRequest.INIT_SEGMENT_TYPE)W===0&&(W=ie.getMediaTimescaleFromMoov(St));else if(Ht.segmentType===se.HTTPRequest.MEDIA_SEGMENT_TYPE){if(W===0)return void Z.warn("CEA-608: No timescale for embeddedTextTrack yet");zt=ie.getSamplesInfo(St);const mn=zt.lastSequenceNumber,Nn=Math.trunc(Ht.start),ri=Math.trunc(Ht.end);if(Ce[0]||Ce[1]||(function(){let jn;for(let Bn=0;Bn<V.length;Bn++){if(jn=L.getTrackIdxForId(V[Bn].id),jn===-1)return void Z.warn("CEA-608: data before track is ready.");const Hn=ue(jn);Ce[Bn]=new am(Bn+1,{newCue:Hn},null)}})(),W){if((function(Bn,Hn,at,Ot,Mt){return Bn!==null&&Hn!==null&&Ot!==null&&Mt!==null&&(Hn===Bn?Ot!==Mt:Hn!==Bn+at)})(Ie,mn,zt.numSequences,le,Nn))for(vn=0;vn<Ce.length;vn++)Ce[vn]&&Ce[vn].reset();const jn=(function(Bn,Hn){if(Hn.length===0)return null;const at={splits:[],fields:[[],[]]},Ot=new DataView(Bn);for(let Mt=0;Mt<Hn.length;Mt++){const Vt=Hn[Mt],yn=Db(Ot,Vt.offset,Vt.size);let $n=null,yt=0;for(let jt=0;jt<2;jt++)if(yn[jt].length>0){Vt.cts!==$n?yt=0:yt+=1;const sn=de();at.fields[jt].push([Vt.cts+sn*W,yn[jt],yt]),$n=Vt.cts}}return at.fields.forEach((function(Mt){Mt.sort((function(Vt,yn){return Vt[0]===yn[0]?Vt[2]-yn[2]:Vt[0]-yn[0]}))})),at})(St,zt.sampleList);for(let Bn=0;Bn<Ce.length;Bn++){const Hn=jn.fields[Bn],at=Ce[Bn];if(at)for(vn=0;vn<Hn.length;vn++)at.addData(Hn[vn][0]/W,Hn[vn][1])}Ie=mn,le=ri}}})(ke,Oe):(function(St,Ht,vn){let zt,mn;const Nn=new DataView(St,0,St.byteLength);mn=Ru.Utils.dataViewToString(Nn,p.default.UTF8);try{zt=Ee(vn).parse(mn,0),L.addCaptions(L.getCurrentTrackIdx(),0,zt),j.buffered&&j.buffered.add(Ht.start,Ht.end)}catch(ri){_.error(new En.default(bn.TIMED_TEXT_ERROR_ID_PARSE_CODE,bn.TIMED_TEXT_ERROR_MESSAGE_PARSE+ri.message,mn))}})(ke,Oe,mt):Z.error("No text type defined")}function ue(ke){return function(Oe,je,Be){let Ze;Ze=k.getTTMLRenderingDiv()?we.createHTMLCaptionsFromScreen(k.getElement(),Oe,je,Be):[{start:Oe,end:je,data:Be.getDisplayText(),styles:{}}],Ze&&L.addCaptions(ke,0,Ze)}}function de(){return isNaN(j.timestampOffset)?0:j.timestampOffset}function Ee(ke){let Oe;return ke.search(p.default.VTT)>=0?Oe=Y.get().streaming.text.webvtt.customRenderingEnabled&&B?B:$:(ke.search(p.default.TTML)>=0||ke.search(p.default.STPP)>=0)&&(Oe=U),Oe}function X(ke,Oe){ke===void 0&&ke===Oe&&(ke=j.buffered.start(0),Oe=j.buffered.end(j.buffered.length-1)),j.buffered.remove(ke,Oe),L.deleteCuesFromTrackIdx(Q,ke,Oe)}function _e(ke){V.forEach((function(Oe){const je=L.getTrackIdxForId(Oe.id);je>=0&&L.deleteCuesFromTrackIdx(je,ke.from,ke.to)}))}return j={initialize:function(){Le||(V=[],Q=null,W=0,Ce=[],Ie=null,le=null,Le=!0,we=IA(D).getInstance(),q.on(m.default.VIDEO_CHUNK_RECEIVED,te,j),q.on(m.default.BUFFER_CLEARED,_e,j))},addMediaInfos:function(ke,Oe,je){if(J=J.concat(Oe),ke===p.default.TEXT&&Oe[0].isFragmented&&!Oe[0].isEmbedded){fe=je,j.buffered=(0,Ab.default)(D).create(),Re=R.getTracksFor(p.default.TEXT,K.id).filter((Ze=>Ze.isFragmented));const Be=R.getCurrentTrackFor(p.default.TEXT,K.id);for(let Ze=0;Ze<Re.length;Ze++)if(Re[Ze]===Be){oe(Ze);break}}for(let Be=0;Be<Oe.length;Be++)Pe(Oe[Be])},resetMediaInfos:function(){J=[]},getStreamId:function(){return K.id},append:ge,abort:function(){},addEmbeddedTrack:function(ke){if(Le&&ke)if(ke.id===p.default.CC1||ke.id===p.default.CC3){for(let Oe=0;Oe<V.length;Oe++)if(V[Oe].id===ke.id)return;V.push(ke)}else Z.warn("Embedded track "+ke.id+" not supported!")},resetEmbedded:function(){q.off(m.default.VIDEO_CHUNK_RECEIVED,te,j),q.off(m.default.BUFFER_CLEARED,_e,j),L&&L.deleteAllTextTracks(),Le=!1,V=[],Ce=[null,null],Ie=null,le=null},getConfig:function(){return{fragmentModel:fe,fragmentedTracks:Re,videoModel:k}},setCurrentFragmentedTrackIdx:oe,remove:X,reset:function(){Ge(),J=[],ie=null}},Z=(0,l.default)(D).getInstance().getLogger(j),ie=wc(D).getInstance(),Ge(),j}iv.__dashjs_factory_name="TextSourceBuffer";var Lb=i.default.getClassFactory(iv);class rm{constructor(){this.root=null,this.size=0}addCue(_){const S={start:_.startTime,end:_.endTime,cue:_,maxEnd:_.endTime,left:null,right:null,height:1},[R,k]=this._insert(S,this.root);this.root=R,k&&this.size++}removeCue(_){const[S,R]=this._remove(_,this.root);return this.root=S,R&&this.size--,R}findCuesInRange(_,S){const R=[];return this._searchRange(this.root,_,S,R),R}findCuesAtTime(_){return this.findCuesInRange(_,_)}getAllCues(){const _=[];return this._inorderTraversal(this.root,_),_}getSize(){return this.size}clear(){this.root=null,this.size=0}_compareCues(_,S){return _.startTime!==S.startTime?_.startTime-S.startTime:_.endTime!==S.endTime?_.endTime-S.endTime:typeof VTTCue<"u"&&_ instanceof VTTCue&&S instanceof VTTCue||_.text&&S.text?_.text.localeCompare(S.text):0}_compareIntervals(_,S){return this._compareCues(_.cue,S.cue)}_insert(_,S){if(!S)return[_,!0];const R=this._compareIntervals(_,S);if(R<0){const[L]=this._insert(_,S.left);S.left=L}else{if(!(R>0))return[S,!1];{const[L]=this._insert(_,S.right);S.right=L}}S.height=1+Math.max(this._getHeight(S.left),this._getHeight(S.right)),S.maxEnd=Math.max(S.maxEnd,_.maxEnd);const k=this._getBalance(S);return k>1?(this._compareIntervals(_,S.left)<0||(S.left=this._leftRotate(S.left)),[this._rightRotate(S),!0]):k<-1?(this._compareIntervals(_,S.right)>0||(S.right=this._rightRotate(S.right)),[this._leftRotate(S),!0]):[S,!0]}_searchRange(_,S,R,k){_&&(this._overlaps(_,S,R)&&k.push(_.cue),_.left&&_.left.maxEnd>=S&&this._searchRange(_.left,S,R,k),_.right&&_.start<=R&&this._searchRange(_.right,S,R,k))}_inorderTraversal(_,S){_&&(this._inorderTraversal(_.left,S),S.push(_.cue),this._inorderTraversal(_.right,S))}_overlaps(_,S,R){if(R===S){const k=S;return _.start<=k&&k<_.end}return _.start<R&&S<_.end}_getHeight(_){return _?_.height:0}_getBalance(_){return _?this._getHeight(_.left)-this._getHeight(_.right):0}_leftRotate(_){const S=_.right,R=S.left;return S.left=_,_.right=R,_.height=1+Math.max(this._getHeight(_.left),this._getHeight(_.right)),S.height=1+Math.max(this._getHeight(S.left),this._getHeight(S.right)),_.maxEnd=Math.max(_.end,_.left?_.left.maxEnd:0,_.right?_.right.maxEnd:0),S.maxEnd=Math.max(S.end,S.left?S.left.maxEnd:0,S.right?S.right.maxEnd:0),S}_rightRotate(_){const S=_.left,R=S.right;return S.right=_,_.left=R,_.height=1+Math.max(this._getHeight(_.left),this._getHeight(_.right)),S.height=1+Math.max(this._getHeight(S.left),this._getHeight(S.right)),_.maxEnd=Math.max(_.end,_.left?_.left.maxEnd:0,_.right?_.right.maxEnd:0),S.maxEnd=Math.max(S.end,S.left?S.left.maxEnd:0,S.right?S.right.maxEnd:0),S}_remove(_,S){if(!S)return[null,!1];const R=this._compareCues(_,S.cue);if(R<0){const[k,L]=this._remove(_,S.left);return S.left=k,L&&this._updateNode(S),[S,L]}if(R>0){const[k,L]=this._remove(_,S.right);return S.right=k,L&&this._updateNode(S),[S,L]}if(S.left||S.right){if(S.left){if(S.right){const k=this._findMin(S.right);S.cue=k.cue,S.start=k.start,S.end=k.end;const[L]=this._remove(k.cue,S.right);return S.right=L,this._updateNode(S),[S,!0]}return[S.left,!0]}return[S.right,!0]}return[null,!0]}_findMin(_){for(;_.left;)_=_.left;return _}_updateNode(_){_.height=1+Math.max(this._getHeight(_.left),this._getHeight(_.right)),_.maxEnd=Math.max(_.end,_.left?_.left.maxEnd:0,_.right?_.right.maxEnd:0)}}var sm=t(7640);const om=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function av(T){const _=this.context,S=(0,g.default)(_).getInstance(),R=T.videoModel,k=T.streamInfo,L=T.settings;let $,B,U,K,Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V,W;const Ie=new Map;function le(at){const Ot=at.kind,Mt=at.id!==void 0?at.id:at.lang,Vt=at.lang,yn=at.isTTML,$n=at.isEmbedded;return R.addTextTrack(Ot,Mt,Vt,yn,$n)}function Ce(at,Ot,Mt,Vt,yn,$n){let yt=0,jt=0;at/Ot>Mt/Vt?(jt=Ot,yt=jt/Vt*Mt):(yt=at,jt=yt/Mt*Vt);let sn=0,et=0,ut=0,Et=0;return yt/jt>yn?(Et=jt,ut=jt*yn):(ut=yt,Et=yt/yn),sn=(at-ut)/2,et=(Ot-Et)/2,$n?{x:sn+.1*ut,y:et+.1*Et,w:.8*ut,h:.8*Et}:{x:sn,y:et,w:ut,h:Et}}function we(at,Ot){const Mt=R.getClientWidth(),Vt=R.getClientHeight(),yn=R.getVideoWidth(),$n=R.getVideoHeight(),yt=R.getVideoRelativeOffsetTop(),jt=R.getVideoRelativeOffsetLeft();if(yn!==0&&$n!==0){let sn=yn/$n,et=!1;at.isFromCEA608&&(sn=3.5/3,et=!0);const ut=Ce.call(this,Mt,Vt,yn,$n,sn,et),Et=ut.w,nt=ut.h,wt=ut.x,Nt=ut.y;if(Et!=Z||nt!=ie||wt!=q||Nt!=j||Ot){if(q=wt+jt,j=Nt+yt,Z=Et,ie=nt,ae){const ft=ae.style;ft&&(ft.left=q+"px",ft.top=j+"px",ft.width=Z+"px",ft.height=ie+"px",ft.zIndex=me&&document[me]||pe?ne:null,S.trigger(y.default.CAPTION_CONTAINER_RESIZE))}const Ne=at.activeCues;if(Ne){const ft=Ne.length;for(let Qt=0;Qt<ft;++Qt){const tn=Ne[Qt];tn.scaleCue(tn)}}}}}function Le(at){const Ot=Z,Mt=ie;let Vt,yn,$n,yt,jt;if(at.cellResolution){const sn=[Ot/at.cellResolution[0],Mt/at.cellResolution[1]];if(at.linePadding){for(Vt in at.linePadding)if(at.linePadding.hasOwnProperty(Vt)){yn=(at.linePadding[Vt]*sn[0]).toString();const et=document.getElementsByClassName("spanPadding");for(let ut=0;ut<et.length;ut++)et[ut].style.cssText=et[ut].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+yn),et[ut].style.cssText=et[ut].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+yn)}}if(at.fontSize){for(Vt in at.fontSize)if(at.fontSize.hasOwnProperty(Vt)){at.fontSize[Vt][0]==="%"?$n=at.fontSize[Vt][1]/100:at.fontSize[Vt][0]==="c"&&($n=at.fontSize[Vt][1]),yn=($n*sn[1]).toString(),jt=Vt!=="defaultFontSize"?document.getElementsByClassName(Vt):document.getElementsByClassName("paragraph");for(let et=0;et<jt.length;et++)jt[et].style.cssText=jt[et].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+yn)}if(at.lineHeight){for(Vt in at.lineHeight)if(at.lineHeight.hasOwnProperty(Vt)){at.lineHeight[Vt][0]==="%"?yt=at.lineHeight[Vt][1]/100:at.fontSize[Vt][0]==="c"&&(yt=at.lineHeight[Vt][1]),yn=(yt*sn[1]).toString(),jt=document.getElementsByClassName(Vt);for(let et=0;et<jt.length;et++)jt[et].style.cssText=jt[et].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+yn)}}}}if(at.isd){let sn=document.getElementById(at.cueID);sn&&ae.removeChild(sn),Pe(at)}}function Ge(at,Ot){const Mt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Vt=/^#(.*)$/;if(Mt.test(Ot)){const yn=Mt.exec(Ot),$n=parseInt(yn[4],10)-1;return"data:image/png;base64,"+btoa(at.images[$n])}if(Vt.test(Ot)){const yn=Vt.exec(Ot)[1];return"data:image/png;base64,"+at.embeddedImages[yn]}return Ot}function Pe(at){if(ae){Bn.call(this);const Ot=document.createElement("div");ae.appendChild(Ot),Re=(0,sm.renderHTML)(at.isd,Ot,(function(Mt){return Ge(at,Mt)}),ae.clientHeight,ae.clientWidth,L.get().streaming.text.imsc.displayForcedOnlyMode,(function(Mt){B.info("renderCaption :",Mt)}),Re,L.get().streaming.text.imsc.enableRollUp),Ot.id=at.cueID,S.trigger(y.default.CAPTION_RENDERED,{captionDiv:Ot,currentTrackIdx:D})}}function te(at,Ot){const Mt=Ot.findCuesInRange(at.startTime-.1,at.endTime+.1);for(const Vt of Mt)if(oe(at,Vt)&&ge(at,Vt,om)||oe(Vt,at)&&ge(at,Vt,om))return Vt;return null}function oe(at,Ot){return!!Ot&&Ot.endTime>=at.startTime}function ge(at,Ot,Mt){for(let Vt=0;Vt<Mt.length;Vt++){const yn=Mt[Vt];if(JSON.stringify(at[yn])!==JSON.stringify(Ot[yn]))return!1}return!0}function ue(at,Ot){Ot&&Ot.forEach((Mt=>{Mt.kind&&Mt.kind==="image"&&(Mt.src=Ge(at,Mt.src)),ue(at,Mt.contents)}))}function de(at,Ot,Mt){const Vt=St(at),yn=Ie.get(Vt),$n=L.get().streaming.text.dispatchForManualRendering;if(Vt&&yn&&Array.isArray(Mt)&&Mt.length!==0){for(let sn=0;sn<Mt.length;sn++){let et=null;const ut=Mt[sn];if(Vt.cellResolution=ut.cellResolution,Vt.isFromCEA608=ut.isFromCEA608,isNaN(ut.start)||isNaN(ut.end)||($n?et=Ee(ut,Ot):je(ut)&&ae?et=ke(ut,Ot,Vt):ut.data&&(et=Oe(ut,Ot,Vt))),et){if(L.get().streaming.text.extendSegmentedCues){const Et=te(et,yn.allCues);Et&&(yn.allCues.removeCue(Et),jt=et,(yt=Et).startTime=Math.min(yt.startTime,jt.startTime),yt.endTime=Math.max(yt.endTime,jt.endTime),et=yt)}yn.allCues.addCue(et)}else B.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}var yt,jt;Nn()}}function Ee(at,Ot){let Mt=Be(at,Ot);return Mt.onenter=function(){je(at)&&W&&W.cueID!==Mt.cueID&&_e(W),delete Mt.type,W=Mt,X(Mt)},Mt.onexit=function(){_e(Mt),W=null},Mt}function X(at){S.trigger(y.default.CUE_ENTER,at)}function _e(at){S.trigger(y.default.CUE_EXIT,{cueID:at.cueID})}function ke(at,Ot,Mt){const Vt=this;let yn=Be(at,Ot);return ae.style.left=q+"px",ae.style.top=j+"px",ae.style.width=Z+"px",ae.style.height=ie+"px",yn.onenter=function(){Mt.mode===p.default.TEXT_SHOWING&&(this.isd?(V?requestAnimationFrame((()=>Pe(this))):Pe(this),B.debug("Cue enter id:"+this.cueID)):(ae.appendChild(this.cueHTMLElement),Le.call(Vt,this),S.trigger(y.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:D})))},yn.onexit=function(){if(ae){const $n=ae.childNodes;for(let yt=0;yt<$n.length;++yt)$n[yt].id===this.cueID&&(B.debug("Cue exit id:"+$n[yt].id),ae.removeChild($n[yt]),--yt)}},yn}function Oe(at,Ot,Mt){let Vt=Be(at,Ot);if(at.styles)try{at.styles.align!==void 0&&"align"in Vt&&(Vt.align=at.styles.align),at.styles.line!==void 0&&"line"in Vt&&(Vt.line=at.styles.line),at.styles.lineAlign!==void 0&&(Vt.lineAlign=at.styles.lineAlign),at.styles.snapToLines!==void 0&&"snapToLines"in Vt&&(Vt.snapToLines=at.styles.snapToLines),at.styles.position!==void 0&&"position"in Vt&&(Vt.position=at.styles.position),at.styles.positionAlign!==void 0&&(Vt.positionAlign=at.styles.positionAlign),at.styles.size!==void 0&&"size"in Vt&&(Vt.size=at.styles.size)}catch(yn){B.error(yn)}return Vt.onenter=function(){Mt.mode===p.default.TEXT_SHOWING&&S.trigger(y.default.CAPTION_RENDERED,{currentTrackIdx:D})},Vt}function je(at){return at.type==="html"}function Be(at,Ot){return je(at)?(function(Mt,Vt){let yn=new U(Mt.start+Vt,Mt.end+Vt,"");return yn.cueHTMLElement=Mt.cueHTMLElement,yn.isd=Mt.isd,yn.images=Mt.images,yn.embeddedImages=Mt.embeddedImages,yn.cueID=Mt.cueID,yn.scaleCue=Le.bind(self),yn.cellResolution=Mt.cellResolution,yn.lineHeight=Mt.lineHeight,yn.linePadding=Mt.linePadding,yn.fontSize=Mt.fontSize,yn.isd&&ue(yn,yn.isd.contents),yn})(at,Ot):(function(Mt,Vt){let yn=new U(Mt.start-Vt,Mt.end-Vt,Mt.data);return yn.cueID=vt.default.generateUuid(),yn})(at,Ot)}function Ze(at){if(J){const Ot=J.childNodes;for(let Mt=0;Mt<Ot.length;++Mt)Ot[Mt].id===at.cueID&&(J.removeChild(Ot[Mt]),--Mt)}}function mt(){const at=R.getTextTracks(),Ot=[];for(const Mt of at)Mt.manualMode===p.default.TEXT_SHOWING&&Ot.push(Mt);return Ot}function St(at){return at>=0&&K[at]?R.getTextTrack(K[at].kind,K[at].id,K[at].lang,K[at].isTTML,K[at].isEmbedded):null}function Ht(at){if(at===D)return;D=at;const Ot=St(D);vn.call(this,Ot),fe&&(clearInterval(fe),fe=null),Ot&&Ot.renderingType==="html"&&(we.call(this,Ot,!0),window.ResizeObserver?(Q=new window.ResizeObserver((()=>{we.call(this,Ot,!0)})),Q.observe(R.getElement())):fe=setInterval(we.bind(this,Ot),500))}function vn(at){Bn.call(this),at&&at.renderingType==="html"?ri.call(this):jn.call(this)}function zt(at,Ot,Mt,Vt=!0){return!!at&&(isNaN(Ot)||(Vt?at.startTime:at.endTime)>=Ot)&&(isNaN(Mt)||(Vt?at.endTime:at.startTime)<=Mt)}function mn(at,Ot,Mt,Vt=!0){if(!at)return;if(at.cues&&at.cues.length>0)for(let $n=at.cues.length-1;$n>=0;$n--)zt(at.cues[$n],Ot,Mt,Vt)&&(at.cues[$n].onexit&&at.cues[$n].onexit(),at.removeCue(at.cues[$n]));const yn=Ie.get(at);if(yn){const $n=yn.activeCues,yt=$n.filter((jt=>jt.startTime>=Ot&&jt.endTime<=Mt));yt.forEach((jt=>{L.get().streaming.text.dispatchForManualRendering?_e(jt):Ze(jt)})),yn.activeCues=$n.filter((jt=>!yt.includes(jt)))}}function Nn(){for(const at of Ie.values())at.lastCueWindowUpdate=-1/0}function ri(){let at=document.getElementById("native-cue-style");if(at)return;at=document.createElement("style"),at.id="native-cue-style",document.head.appendChild(at);const Ot=at.sheet,Mt=R.getElement();try{Mt&&(Mt.id?Ot.insertRule("#"+Mt.id+"::cue {background: transparent}",0):Mt.classList.length!==0?Ot.insertRule("."+Mt.className+"::cue {background: transparent}",0):Ot.insertRule("video::cue {background: transparent}",0))}catch(Vt){B.info(""+Vt.message)}}function jn(){const at=document.getElementById("native-cue-style");at&&document.head.removeChild(at)}function Bn(){if(ae)for(;ae.firstChild;)ae.removeChild(ae.firstChild)}function Hn(){return K}return $={addCaptions:de,addTextTrackInfo:function(at){K.push(at)},createTracks:function(){K.sort((function(Ot,Mt){return Ot.index-Mt.index})),ae=R.getTTMLRenderingDiv(),J=R.getVttRenderingDiv();let at=-1;for(let Ot=0;Ot<K.length;Ot++){const Mt=le(K[Ot]);Y.push(Mt),K[Ot].defaultTrack&&(Mt.default=!0,at=Ot);const Vt=St(Ot);Vt&&(Vt.mode=p.default.TEXT_SHOWING,ae&&(K[Ot].isTTML||K[Ot].isEmbedded)?Vt.renderingType="html":Vt.renderingType="default",Ie.set(Vt,{allCues:new rm,lastCueWindowUpdate:-1/0,activeCues:[]})),de(Ot,0,K[Ot].captionData),S.trigger(y.default.TEXT_TRACK_ADDED)}if(Ht.call(this,at),at>=0){let Ot=function(){const Mt=St(at);Mt&&Mt.renderingType==="html"&&we.call(this,Mt,!0),S.off(y.default.PLAYBACK_METADATA_LOADED,Ot,this)};S.on(y.default.PLAYBACK_METADATA_LOADED,Ot,this);for(let Mt=0;Mt<K.length;Mt++){const Vt=St(Mt);if(Vt){const yn=L.get().streaming.text.dispatchForManualRendering;Vt.mode=Mt!==at||yn?p.default.TEXT_HIDDEN:p.default.TEXT_SHOWING,Vt.manualMode=Mt===at?p.default.TEXT_SHOWING:p.default.TEXT_HIDDEN}}}S.trigger(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:D,tracks:K,streamId:k.id})},deleteAllTextTracks:function(){const at=Y?Y.length:0;for(let Ot=0;Ot<at;Ot++){const Mt=St(Ot);Mt&&mn.call(this,Mt,k.start,k.start+k.duration,!1)}Y=[],K=[],fe&&(clearInterval(fe),fe=null),Q&&R&&(Q.unobserve(R.getElement()),Q=null),D=-1,Bn.call(this),Ie.clear()},deleteCuesFromTrackIdx:function(at,Ot,Mt){const Vt=St(at);Vt&&mn(Vt,Ot,Mt)},disableManualTracks:function(){const at=mt();if(at&&at.length>0){const Ot=at[0],Mt=Ie.get(Ot);if(!Mt)return;Mt.activeCues.forEach((Vt=>{L.get().streaming.text.dispatchForManualRendering?_e(Vt):Ze(Vt)})),Mt.activeCues=[]}},getCurrentTrackIdx:function(){return D},getCurrentTextTrackInfo:function(){return K[D]},getStreamId:function(){return k.id},getTextTrackInfos:Hn,getTrackIdxForId:function(at){let Ot=-1;for(let Mt=0;Mt<K.length;Mt++)if(K[Mt].id===at){Ot=Mt;break}return Ot},initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(U=window.VTTCue||window.TextTrackCue,K=[],Y=[],D=-1,q=0,j=0,Z=0,ie=0,ae=null,J=null,fe=null,pe=!1,ne=2147483647,Re=null,V="requestAnimationFrame"in window,Ie.clear(),document.fullscreenElement!==void 0?me="fullscreenElement":document.webkitIsFullScreen!==void 0?me="webkitIsFullScreen":document.msFullscreenElement?me="msFullscreenElement":document.mozFullScreen&&(me="mozFullScreen"))},manualCueProcessing:function(at){const Ot=mt();if(Ot&&Ot.length>0){const Mt=Ot[0],Vt=Ie.get(Mt);if(!Vt)return;const yn=Vt.activeCues,$n=Vt.allCues.findCuesAtTime(at),yt=yn.filter((sn=>!$n.includes(sn))),jt=$n.filter((sn=>!yn.includes(sn)));yt.forEach((sn=>{L.get().streaming.text.dispatchForManualRendering?_e(sn):Ze(sn)})),jt.forEach((sn=>{L.get().streaming.text.dispatchForManualRendering?X(sn):WebVTT.processCues(window,[sn],J,sn.cueID)})),Vt.activeCues=$n}},setCurrentTrackIdx:Ht,setModeForTrackIdx:function(at,Ot){const Mt=St(at);Mt&&Mt.mode!==Ot&&(Mt.mode=Ot),Mt&&Mt.manualMode!==Ot&&(Mt.manualMode=Ot)},updateTextTrackWindow:function(at,Ot=!1){const Mt=Hn(),Vt=L.get().streaming.text.webvtt.customRenderingEnabled;for(let yn=0;yn<Mt.length;yn++){const $n=Mt[yn],yt=St(yn),jt=Ie.get(yt);if(!yt||!jt||!$n.isEmbedded&&Vt)continue;const{bufferToKeep:sn,bufferPruningInterval:et}=L.get().streaming.buffer,ut=Date.now();if((ut-jt.lastCueWindowUpdate)/1e3<et&&!Ot)continue;const Et=R.getPlaybackRate()||1,nt=Math.max(0,at-sn/Et),wt=at+2*et/Et;if(yt.cues)for(;yt.cues.length>0;)yt.removeCue(yt.cues[0]);yt.mode!==p.default.TEXT_DISABLED&&jt.allCues.findCuesInRange(nt,wt).forEach((Nt=>{yt.addCue(Nt)})),jt.lastCueWindowUpdate=ut}},invalidateCueWindow:Nn},B=(0,l.default)(_).getInstance().getLogger($),$}av.__dashjs_factory_name="TextTracks";var Mb=i.default.getClassFactory(av);function Nb(){const T=this.context;let _,S,R,k,L,$;function B(D){const q=D.split(":"),j=q.length-1;return D=60*parseInt(q[j-1],10)+parseFloat(q[j]),j===2&&(D+=3600*parseInt(q[0],10)),D}function U(D){const q=D.split(k),j=q[1].split($);return j.shift(),q[1]=j[0],j.shift(),{cuePoints:q,styles:K(j)}}function K(D){const q={};return D.forEach((function(j){const Z=j.split(":");if(Z.length>1){const[ie,ae]=Z;switch(ie){case"align":case"A":q.align=ae;break;case"line":case"L":const[J,fe]=ae.split(","),me=J.endsWith("%");q.line=J==="auto"?J:parseInt(J,10),me&&(q.snapToLines=!1),fe&&(q.lineAlign=fe);break;case"position":case"P":const[pe,Re]=ae.split(",");q.position=parseInt(pe,10),Re&&(q.positionAlign=Re);break;case"size":case"S":q.size=parseInt(ae,10)}}})),q}function Y(D,q){let j,Z=q,ie="",ae="";for(;D[Z]!==""&&Z<D.length;)Z++;if(j=Z-q,j>1)for(let J=0;J<j;J++){if(ae=D[q+J],ae.match(k)){ie="";break}ie+=ae,J!==j-1&&(ie+=`
`)}else ae=D[q],ae.match(k)||(ie=ae);return ie}return _={parse:function(D){const q=[];let j,Z;if(!D)return q;j=(D=D.split(R)).length,Z=-1;for(let ie=0;ie<j;ie++){let ae=D[ie];if(ae.length>0&&ae!=="WEBVTT"&&ae.match(k)){const J=U(ae),fe=J.cuePoints,me=J.styles,pe=Y(D,ie+1),Re=B(fe[0].replace(L,"")),ne=B(fe[1].replace(L,""));!isNaN(Re)&&!isNaN(ne)&&Re>=Z&&ne>Re?pe!==""?(Z=Re,q.push({start:Re,end:ne,data:pe,styles:me})):S.error("Skipping cue due to empty/malformed cue text"):S.error("Skipping cue due to incorrect cue timing")}}return q},getCaptionStyles:K},S=(0,l.default)(T).getInstance().getLogger(_),R=/(?:\r\n|\r|\n)/gm,k=/-->/,L=/(^[\s]+|[\s]+$)/g,$=/\s\b/g,_}Nb.__dashjs_factory_name="VTTParser";var rv=i.default.getSingletonFactory(Nb);function Ga(){let T,_;return T={parse:function(S){let R=[];return _.oncue=function(k){k.start=k.startTime,k.end=k.endTime,k.data=k.text,k.styles={align:k.align,line:k.line,position:k.position,size:k.size},R.push(k)},_.parse(S),R}},(function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(_=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}})(),T}Ga.__dashjs_factory_name="VttCustomRenderingParser";var Er=i.default.getSingletonFactory(Ga);function sv(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k=0;function L(){const $="cue_TTML_"+k;return k++,$}return S={parse:function($,B,U,K,Y){let D="";const q=[];let j,Z,ie;const ae={},J={};let fe="",me="",pe={onOpenTag:function(Q,V,W){if(W[" imagetype"]&&!W[" imageType"]&&(_.trigger(y.default.CONFORMANCE_VIOLATION,{level:$u.LEVELS.ERROR,event:$u.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),W[" imageType"]=W[" imagetype"]),V==="image"&&(Q==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||Q==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!W[" imageType"]||W[" imageType"].value!=="PNG")return void R.warn("smpte-tt imageType != PNG. Discarded");fe=W["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){fe&&(J[fe]=me.trim()),me="",fe=""},onText:function(Q){fe&&(me+=Q)}};if(!$)throw D="no ttml data to parse",new Error(D);ae.data=$,_.trigger(m.default.TTML_TO_PARSE,ae);let Re=(0,sm.fromXML)(ae.data,(function(Q){D=Q}),pe);_.trigger(m.default.TTML_PARSED,{ttmlString:ae.data,ttmlDoc:Re});const ne=Re.getMediaTimeEvents();for(ie=0;ie<ne.length;ie++){let Q=(0,sm.generateISD)(Re,ne[ie],(function(V){D=V}));Q.contents.some((V=>V.contents.length))&&(j=ne[ie]+B,Z=ne[ie+1]+B,j<Z&&q.push({start:j,end:Z,type:"html",cueID:L(),isd:Q,images:Y,embeddedImages:J}))}if(D!=="")throw R.error(D),new Error(D);return q}},R=(0,l.default)(T).getInstance().getLogger(S),S}sv.__dashjs_factory_name="TTMLParser";var Ob=i.default.getSingletonFactory(sv);function ov(T){let _=this.context;const S=(0,g.default)(_).getInstance(),R=Oi(_).getInstance(),k=T.adapter,L=T.baseURLController,$="error",B="loaded",U="unloaded";let K,Y,D;function q(ie,ae){let J,fe,me=!1;if(L.resolve()){const ne=k.getVoRepresentations(ie);ne&&ne.length>0&&(J=L.resolve(ne[0].path).url)}const pe=ie.essentialProperties.filter((ne=>ne.schemeIdUri&&ne.schemeIdUri===p.default.FONT_DOWNLOAD_DVB_SCHEME)),Re=ie.supplementalProperties.filter((ne=>ne.schemeIdUri&&ne.schemeIdUri===p.default.FONT_DOWNLOAD_DVB_SCHEME));pe.length>0?(me=!0,fe=pe):fe=Re,fe.forEach((ne=>{if((function(W){return!(!(W.value&&parseInt(W.value)===1&&W.dvbUrl&&W.dvbUrl.length>0&&W.dvbFontFamily&&W.dvbFontFamily.length>0&&W.dvbMimeType)||W.dvbMimeType!==p.default.OFF_MIMETYPE&&W.dvbMimeType!==p.default.WOFF_MIMETYPE)})(ne)){let W=(Q=ne.dvbUrl,V=J,R.isPathAbsolute(Q)?Q:R.isRelative(Q)?V?R.resolve(Q,V):R.resolve(Q):Q);D.push({fontFamily:ne.dvbFontFamily,url:W,mimeType:ne.dvbMimeType,trackId:ie.id,streamId:ae,isEssential:me,status:U,fontFace:new FontFace(ne.dvbFontFamily,`url(${W})`,{display:"swap"})})}var Q,V}))}function j(ie,ae){const J=D[ie];D[ie]={...J,status:ae}}function Z(){D=[]}return K={addFontsFromTracks:function(ie,ae){if(ie&&Array.isArray(ie)&&ae)for(let J=0;J<ie.length;J++)q(ie[J],ae)},downloadFonts:function(){for(let ie=0;ie<D.length;ie++){let ae=D[ie];document.fonts.add(ae.fontFace),S.trigger(y.default.DVB_FONT_DOWNLOAD_ADDED,ae),ae.fontFace.load().then((()=>{j(ie,B),S.trigger(y.default.DVB_FONT_DOWNLOAD_COMPLETE,ae)}),(J=>{j(ie,$),Y.debug("Font download error: ",J),S.trigger(y.default.DVB_FONT_DOWNLOAD_FAILED,ae)}))}},getFonts:function(){return D},getFontsForTrackId:function(ie){return D.filter((ae=>ae.trackId&&ae.trackId===ie))},reset:function(){(function(){for(const ie of D){let ae=document.fonts.delete(ie.fontFace);Y.debug(`Removal of fontFamily: ${ie.fontFamily} was ${ae?"successful":"unsuccessful"}`)}})(),Z()}},Y=(0,l.default)(_).getInstance().getLogger(K),Z(),K}ov.__dashjs_factory_name="DVBFonts";var Pb=i.default.getClassFactory(ov);function Zc(T){let _=this.context;const S=T.adapter,R=T.errHandler,k=T.manifestModel,L=T.mediaController,$=T.baseURLController,B=T.videoModel,U=T.settings;let K,Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne;function Q(ue){if(ne.error(`Could not download ${ue.isEssential?"an essential":"a"} font - fontFamily: ${ue.fontFamily}, url: ${ue.url}`),ue.isEssential){let de=q[ue.streamId].getTrackIdxForId(ue.trackId);q[ue.streamId].setModeForTrackIdx(de,p.default.TEXT_DISABLED)}}function V(ue){if(ne.debug(`Successfully downloaded ${ue.isEssential?"an essential":"a"} font - fontFamily: ${ue.fontFamily}, url: ${ue.url}`),ue.isEssential){let de=q[ue.streamId].getTrackIdxForId(ue.trackId);de===q[ue.streamId].getCurrentTrackIdx()?q[ue.streamId].setModeForTrackIdx(de,p.default.TEXT_SHOWING):q[ue.streamId].setModeForTrackIdx(de,p.default.TEXT_HIDDEN)}}function W(ue){let de=ue.tracks,Ee=ue.index;const X=ue.streamId;if(U.get().streaming.text.defaultEnabled===!1&&!Le()||pe)Ge(X,-1);else{const _e=L.getCurrentTrackFor(p.default.TEXT,X);if(_e){const ke={lang:_e.lang,role:_e.roles[0],index:_e.index,codec:_e.codec,accessibility:_e.accessibility[0]};de.some(((Oe,je)=>{if(L.matchSettings(ke,Oe))return Ge(X,je),Ee=je,!0}))}J=!1}Y[X].lastEnabledIndex=Ee,ae.trigger(y.default.TEXT_TRACKS_ADDED,{enabled:Le(),index:Ee,tracks:de,streamId:X}),me=!0,Re.addFontsFromTracks(de,X),Re.getFonts().forEach((_e=>{if(_e.isEssential){let ke=q[_e.streamId].getTrackIdxForId(_e.trackId);q[_e.streamId].setModeForTrackIdx(ke,p.default.TEXT_DISABLED)}})),Re.downloadFonts()}function Ie(ue){try{const de=ue.streamId,Ee=q[de];if(!Ee||isNaN(ue.time))return;Ee.updateTextTrackWindow(ue.time),U.get().streaming.text.webvtt.customRenderingEnabled&&Ee.manualCueProcessing(ue.time)}catch{}}function le(ue){try{const de=ue.streamId;if(!q[de])return;q[de].disableManualTracks()}catch{}}function Ce(ue){try{const de=q[ue.streamId];if(!de)return;const Ee=B.getTime()||0;de.updateTextTrackWindow(Ee,!0)}catch(de){ne.error(de)}}function we(ue){try{if(!ue||!ue.mediaType||ue.mediaType!==p.default.AUDIO||!ue.currentMediaInfo)return;const de=q[ue.streamId].getCurrentTextTrackInfo();let Ee=NaN;J?Ee=Pe(ue.streamId):te(de)&&ue.currentMediaInfo.lang&&ue.currentMediaInfo.lang!==de.lang&&(Ee=Pe(ue.streamId),isNaN(Ee)&&(Ee=-1)),isNaN(Ee)||Ge(ue.streamId,Ee)}catch(de){ne.error(de)}}function Le(){let ue=!0;return J&&!fe&&(ue=!1),ue}function Ge(ue,de){J=de===-1,J&&L&&L.saveTextSettingsDisabled();let Ee=oe(ue);if(Ee===de||!q[ue])return;q[ue].disableManualTracks(),q[ue].invalidateCueWindow();let X=q[ue].getCurrentTextTrackInfo(),_e=X?B.getTextTrack(X.kind,X.id,X.lang,X.isTTML,X.isEmbedded):null;_e&&_e.mode!==p.default.TEXT_DISABLED&&q[ue].setModeForTrackIdx(Ee,p.default.TEXT_HIDDEN),q[ue].setCurrentTrackIdx(de),X=q[ue].getCurrentTextTrackInfo();const ke=U.get().streaming.text.dispatchForManualRendering;if(X&&!ke&&X.mode!==p.default.TEXT_DISABLED&&q[ue].setModeForTrackIdx(de,p.default.TEXT_SHOWING),X&&X.isFragmented&&!X.isEmbedded)(function(Oe,je,Be){if(!D[Oe])return;let Ze=D[Oe].getConfig().fragmentedTracks;for(let mt=0;mt<Ze.length;mt++){let St=Ze[mt];if(je.lang===St.lang&&(St.id?je.id===St.id:je.index===St.index)){let Ht=L.getCurrentTrackFor(p.default.TEXT,Oe);(St.id?Ht.id!==St.id:Ht.index!==St.index)?(q[Oe].deleteCuesFromTrackIdx(Be),D[Oe].setCurrentFragmentedTrackIdx(mt)):Be===-1&&ae.trigger(m.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Oe,mediaType:p.default.TEXT})}}})(ue,X,Ee);else if(X&&!X.isFragmented)(function(Oe,je){ae.trigger(m.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:je},{streamId:Oe,mediaType:p.default.TEXT})})(ue,X);else if(!X&&J){const Oe=Pe(ue);return void(isNaN(Oe)||Ge(ue,Oe))}L.setTrack(X)}function Pe(ue){const de=(function(_e){return q[_e].getTextTrackInfos().filter(((ke,Oe)=>(ke._indexToSelect=Oe,!!(ke&&ke.roles&&ke.roles.length>0)&&te(ke))))})(ue);if(!de||de.length<=0)return NaN;const Ee=L.getCurrentTrackFor(p.default.AUDIO,ue);if(!Ee)return NaN;const X=de.find((_e=>Ee.lang===_e.lang));return X?X._indexToSelect:NaN}function te(ue){return!(!ue||!ue.roles||ue.roles.length===0)&&ue.roles.some((de=>de.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&de.value===xe.default.FORCED_SUBTITLE))}function oe(ue){return q[ue].getCurrentTrackIdx()}function ge(){D={},q={},Y={},J=!0,me=!1,pe=!1}return K={addEmbeddedTrack:function(ue,de){const Ee=ue.id;D[Ee]&&D[Ee].addEmbeddedTrack(de)},addMediaInfosToBuffer:function(ue,de,Ee,X=null){const _e=ue.id;D[_e]&&D[_e].addMediaInfos(de,Ee,X)},createTracks:function(ue){const de=ue.id;q[de]&&q[de].createTracks()},deactivateStream:function(ue){if(!ue)return;const de=ue.id;D[de]&&D[de].resetMediaInfos(),q[de]&&q[de].deleteAllTextTracks()},enableForcedTextStreaming:function(ue){return(0,Ut.checkParameterType)(ue,"boolean"),fe=ue,!0},enableText:function(ue,de){return(0,Ut.checkParameterType)(de,"boolean"),Le()!==de&&(de&&Ge(ue,Y[ue].lastEnabledIndex),de||(Y[ue].lastEnabledIndex=oe(ue),me?Ge(ue,-1):pe=!0)),!0},getAllTracksAreDisabled:function(){return J},getCurrentTrackIdx:oe,getTextSourceBuffer:function(ue){const de=ue.id;if(D&&D[de])return D[de]},initialize:function(){Re=Pb(_).create({adapter:S,baseURLController:$}),ae.on(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,W,K),ae.on(m.default.DVB_FONT_DOWNLOAD_FAILED,Q,K),ae.on(m.default.DVB_FONT_DOWNLOAD_COMPLETE,V,K),ae.on(m.default.MEDIAINFO_UPDATED,we,K),ae.on(m.default.PLAYBACK_TIME_UPDATED,Ie,K),U.get().streaming.text.webvtt.customRenderingEnabled&&ae.on(m.default.PLAYBACK_SEEKING,le,K),ae.on(m.default.PLAYBACK_SEEKED,Ce,K)},initializeForStream:function(ue){const de=ue.id,Ee=Mb(_).create({videoModel:B,settings:U,streamInfo:ue});Ee.initialize(),q[de]=Ee;const X=Lb(_).create({errHandler:R,adapter:S,dvbFonts:Re,manifestModel:k,mediaController:L,videoModel:B,textTracks:Ee,vttParser:j,vttCustomRenderingParser:Z,ttmlParser:ie,streamInfo:ue,settings:U});X.initialize(),D[de]=X,Y[de]={},Y[de].lastEnabledIndex=-1},isTextEnabled:Le,reset:function(){Object.keys(D).forEach((ue=>{D[ue].resetEmbedded(),D[ue].reset()})),Re.reset(),ge(),ae.off(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,W,K),ae.off(m.default.DVB_FONT_DOWNLOAD_FAILED,Q,K),ae.off(m.default.DVB_FONT_DOWNLOAD_COMPLETE,V,K),ae.off(m.default.MEDIAINFO_UPDATED,we,K),ae.off(m.default.PLAYBACK_TIME_UPDATED,Ie,K),U.get().streaming.text.webvtt.customRenderingEnabled&&ae.off(m.default.PLAYBACK_SEEKING,le,K),ae.off(m.default.PLAYBACK_SEEKED,Ce,K)},setTextTrack:Ge,clearDataForStream:function(ue){D[ue]&&(D[ue].resetEmbedded(),D[ue].reset(),delete D[ue]),q[ue]&&(q[ue].deleteAllTextTracks(),delete q[ue]),Y[ue]&&delete Y[ue]}},fe=!1,me=!1,pe=!1,j=rv(_).getInstance(),Z=Er(_).getInstance(),ie=Ob(_).getInstance(),ae=(0,g.default)(_).getInstance(),ne=(0,l.default)(_).getInstance().getLogger(K),ge(),K}Zc.__dashjs_factory_name="TextController";var Ub=i.default.getClassFactory(Zc);function _f(T){T=T||{};const _=this.context,S=(0,l.default)(_).getInstance(),R=T.settings,k=(0,g.default)(_).getInstance();let L,$,B,U,K,Y;function D(){return navigator&&navigator.connection&&!isNaN(navigator.connection.downlink)&&navigator.connection.downlink>0?1e3*navigator.connection.downlink:NaN}function q(ie,ae,J,fe){const me=Math.pow(.5,J/fe.fast);ie.fastEstimate=(1-me)*ae+me*ie.fastEstimate;const pe=Math.pow(.5,J/fe.slow);ie.slowEstimate=(1-pe)*ae+pe*ie.slowEstimate,ie.totalWeight+=J}function j(){L={},$={},B={},U={}}const Z={addEntry:function(ie,ae){try{if(!(ie&&ae&&ae.trace&&ae.trace.length))return;(function(me){L[me]=L[me]||[],$[me]=$[me]||[],B[me]=B[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0},U[me]=U[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0}})(ie);const J=ae.tresponse.getTime()-ae.trequest.getTime()||1;let fe=(function(me,pe){return me._fileLoaderType&&me._fileLoaderType===p.default.FILE_LOADER_TYPES.FETCH?(function(Re){const ne=Re.trace.reduce(((W,Ie)=>W+Ie.b[0]),0),Q=Re.trace.reduce(((W,Ie)=>W+Ie.d),0);let V=NaN;return R.get().streaming.abr.throughput.useNetworkInformationApi.fetch&&(V=D()),isNaN(V)&&(V=Math.round(8*ne/Q)),{downloadedBytes:ne,value:V,downloadTimeInMs:Q}})(me):(function(Re,ne){let Q=NaN,V=NaN,W=!1;if(R.get().streaming.abr.throughput.useResourceTimingApi&&Re._resourceTimingValues)Q=Re._resourceTimingValues.transferSize,V=Re._resourceTimingValues.responseEnd-Re._resourceTimingValues.responseStart,W=!0;else{if(Re.trace.length<=1)return{throughput:NaN,downloadTimeInMs:NaN};Q=Re.trace.reduce(((le,Ce)=>le+Ce.b[0]),0)-Re.trace[0].b[0],V=Math.max(Re.trace.reduce(((le,Ce)=>le+Ce.d),0)-Re.trace[0].d,1)}let Ie=NaN;if(!W&&R.get().streaming.abr.throughput.useNetworkInformationApi.xhr&&(Ie=D()),isNaN(Ie)){const le=R.get().streaming.abr.throughput.useDeadTimeLatency?V:V+ne;Ie=Math.round(8*Q/le)}return{downloadedBytes:Q,value:Ie,downloadTimeInMs:V}})(me,pe)})(ae,J);if(fe.latencyInMs=J,isNaN(fe.value)||!isFinite(fe.value))return;if(ae.cmsd){const me=ae.cmsd.dynamic&&ae.cmsd.dynamic.etp?ae.cmsd.dynamic.etp:null;if(me){const pe=R.get().streaming.cmsd.abr.etpWeightRatio;pe>0&&pe<=1&&(fe.value=fe.value*(1-pe)+me*pe)}}if((function(me,pe,Re){return R.get().streaming.abr.throughput.useResourceTimingApi&&Re._resourceTimingValues?Re._resourceTimingValues.transferSize===0&&Re._resourceTimingValues.decodedBodySize>0:!isNaN(pe)&&(me===p.default.VIDEO?pe<R.get().streaming.cacheLoadThresholds[p.default.VIDEO]:me===p.default.AUDIO?pe<R.get().streaming.cacheLoadThresholds[p.default.AUDIO]:void 0)})(ie,ae._tfinish.getTime()-ae.trequest.getTime(),ae))return void Y.debug(`${ie} Assuming segment ${ae.url} came from cache, ignoring it for throughput calculation`);Y.debug(`Added throughput entry for ${ie}: ${fe.value} kbit/s`),fe.serviceLocation=ae._serviceLocation,L[ie].push(fe),$[ie].push({value:J}),(function(me){L[me].length>R.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&L[me].shift(),$[me].length>R.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&$[me].shift()})(ie),k.trigger(y.default.THROUGHPUT_MEASUREMENT_STORED,{throughputValues:fe}),ae.type!==se.HTTPRequest.MPD_TYPE&&(q(B[ie],fe.value,R.get().streaming.abr.throughput.ewma.weightDownloadTimeMultiplicationFactor*fe.downloadTimeInMs,K.bandwidthHalfLife),q(U[ie],J,1,K.latencyHalfLife))}catch(J){Y.error(J)}},getThroughputDict:function(ie){return ie?L[ie]:L},getEwmaThroughputDict:function(ie){return ie?B[ie]:B},getEwmaLatencyDict:function(ie){return ie?U[ie]:U},getEwmaHalfLife:function(){return K},getLatencyDict:function(ie){return ie?$[ie]:$},reset:j};return Y=S.getLogger(Z),K={bandwidthHalfLife:{fast:R.get().streaming.abr.throughput.ewma.throughputFastHalfLifeSeconds,slow:R.get().streaming.abr.throughput.ewma.throughputSlowHalfLifeSeconds},latencyHalfLife:{fast:R.get().streaming.abr.throughput.ewma.latencyFastHalfLifeCount,slow:R.get().streaming.abr.throughput.ewma.latencySlowHalfLifeCount}},j(),Z}_f.__dashjs_factory_name="ThroughputModel";var Fb=i.default.getClassFactory(_f);function Bb(){const T=this.context,_=(0,g.default)(T).getInstance();let S,R,k;function L(){performance.clearResourceTimings()}function $(me){me.metric!==o.HTTP_REQUEST||!me.value||me.value.type!==se.HTTPRequest.MPD_TYPE&&(me.value.type!==se.HTTPRequest.MEDIA_SEGMENT_TYPE||me.mediaType!==p.default.AUDIO&&me.mediaType!==p.default.VIDEO)||S.addEntry(me.mediaType,me.value)}function B(me,pe,Re=null,ne=NaN){let Q,V=null,W=S.getEwmaHalfLife(),Ie=null,le=!0;switch(Re||(Re=k.get().streaming.abr.throughput.averageCalculationMode),me){case p.default.THROUGHPUT_TYPES.BANDWIDTH:V=Re===p.default.THROUGHPUT_CALCULATION_MODES.EWMA?S.getEwmaThroughputDict(pe):S.getThroughputDict(pe),Ie=W.bandwidthHalfLife,le=!0,ne=isNaN(ne)?R.getIsDynamic()?k.get().streaming.abr.throughput.sampleSettings.live:k.get().streaming.abr.throughput.sampleSettings.vod:ne;break;case p.default.THROUGHPUT_TYPES.LATENCY:V=Re===p.default.THROUGHPUT_CALCULATION_MODES.EWMA?S.getEwmaLatencyDict(pe):S.getLatencyDict(pe),Ie=W.latencyHalfLife,le=!1,ne=isNaN(ne)?k.get().streaming.abr.throughput.sampleSettings.averageLatencySampleAmount:ne}if(!V||V.length===0)return NaN;switch(Re){case p.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN:return Q=U(V,ne,me),K(V,Q);case p.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:return Q=U(V,ne,me),Y(V,Q);case p.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_ARITHMETIC_MEAN:return Q=U(V,ne,me),D(V,Q);case p.default.THROUGHPUT_CALCULATION_MODES.HARMONIC_MEAN:return Q=U(V,ne,me),q(V,Q);case p.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:return Q=U(V,ne,me),j(V,Q);case p.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_HARMONIC_MEAN:return Q=U(V,ne,me),Z(V,Q);case p.default.THROUGHPUT_CALCULATION_MODES.EWMA:return ie(V,Ie,le);case p.default.THROUGHPUT_CALCULATION_MODES.ZLEMA:return Q=U(V,ne,me),ae(V,Q)}}function U(me,pe,Re){if(me){if(pe>=me.length)pe=me.length;else if(Re===p.default.THROUGHPUT_TYPES.BANDWIDTH&&k.get().streaming.abr.throughput.sampleSettings.enableSampleSizeAdjustment)for(let ne=1;ne<pe;++ne){const Q=me[me.length-ne].value/me[me.length-ne-1].value;if((Q>=k.get().streaming.abr.throughput.sampleSettings.increaseScale||Q<=k.get().streaming.abr.throughput.sampleSettings.decreaseScale)&&(pe+=1)===me.length)break}}else pe=0;return pe}function K(me,pe){let Re=me;return pe!==0&&Re&&Re.length!==0?(Re=Re.slice(-pe),Re.reduce(((ne,Q)=>ne+Q.value),0)/Re.length):NaN}function Y(me,pe){let Re=me;if(pe===0||!Re||Re.length===0)return NaN;Re=Re.slice(-pe);let ne=0;return Re.reduce(((Q,V)=>{let W=Math.sqrt(V.downloadedBytes);return ne+=W,Q+V.value*W}),0)/ne}function D(me,pe){let Re=me;if(pe===0||!Re||Re.length===0)return NaN;Re=Re.slice(-pe);let ne=0;return Re.reduce(((Q,V,W)=>{let Ie=W+1;return ne+=Ie,Q+V.value*Ie}),0)/ne}function q(me,pe){let Re=me;if(pe===0||!Re||Re.length===0)return NaN;Re=Re.slice(-pe);const ne=Re.reduce(((Q,V)=>Q+1/V.value),0);return Re.length/ne}function j(me,pe){let Re=me;if(pe===0||!Re||Re.length===0)return NaN;Re=Re.slice(-pe);let ne=0;const Q=Re.reduce(((V,W)=>{let Ie=Math.sqrt(W.downloadedBytes);return ne+=Ie,V+1/W.value*Ie}),0);return ne/Q}function Z(me,pe){let Re=me;if(pe===0||!Re||Re.length===0)return NaN;Re=Re.slice(-pe);let ne=0;const Q=Re.reduce(((V,W,Ie)=>{let le=Ie+1;return ne+=le,V+1/W.value*le}),0);return ne/Q}function ie(me,pe,Re=!0){if(!me||me.totalWeight<=0)return NaN;const ne=me.fastEstimate/(1-Math.pow(.5,me.totalWeight/pe.fast)),Q=me.slowEstimate/(1-Math.pow(.5,me.totalWeight/pe.slow));return Re?Math.min(ne,Q):Math.max(ne,Q)}function ae(me,pe){if(pe===0||!me||me.length===0)return NaN;let Re=me.slice(-pe).map((W=>W.value)),ne=2/(Re.length+1),Q=Re[Re.length-1],V=Re[Re.length-1];for(let W=0;W<Re.length;W++)Q=ne*Re[W]+(1-ne)*Q,V=ne*Q+(1-ne)*V;return V}function J(me,pe=null,Re=NaN){const ne=B(p.default.THROUGHPUT_TYPES.BANDWIDTH,me,pe,Re);return Math.round(ne)}const fe={getArithmeticMean:K,getAverageLatency:function(me,pe=null,Re=NaN){const ne=B(p.default.THROUGHPUT_TYPES.LATENCY,me,pe,Re);return Math.round(ne)},getAverageThroughput:J,getByteSizeWeightedArithmeticMean:Y,getByteSizeWeightedHarmonicMean:j,getDateWeightedArithmeticMean:D,getDateWeightedHarmonicMean:Z,getEwma:ie,getHarmonicMean:q,getRawThroughputData:function(me){return me?S.getThroughputDict(me):[]},getSafeAverageThroughput:function(me,pe=null,Re=NaN){let ne=J(me,pe,Re);return isNaN(ne)||(ne*=k.get().streaming.abr.throughput.bandwidthSafetyFactor),ne},getZlema:ae,initialize:function(){S=Fb(T).create({settings:k}),_.on(y.default.METRIC_ADDED,$,fe),window.performance?.addEventListener?.("resourcetimingbufferfull",L)},reset:function(){S.reset(),_.off(y.default.METRIC_ADDED,$,fe),window.performance?.removeEventListener?.("resourcetimingbufferfull",L)},setConfig:function(me){me.settings&&(k=me.settings),me.playbackController&&(R=me.playbackController)}};return fe}Bb.__dashjs_factory_name="ThroughputController";var lm=i.default.getSingletonFactory(Bb);function um(){const T=this.context,_=(0,g.default)(T).getInstance(),S=(0,c.default)(T).getInstance();let R,k,L,$;function B(J){$=J}function U(J,fe,me,pe){let Re,ne=fe.adaptation.period.mpd;const Q=ne.availabilityStartTime;if(pe)Re=me&&ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Q.getTime()+1e3*(J+ne.timeShiftBufferDepth)):ne.availabilityEndTime;else if(me){const V=fe.availabilityTimeOffset;Re=new Date(Q.getTime()+1e3*(J-V))}else Re=Q;return Re}function K(J,fe){return(J.getTime()-fe.mpd.availabilityStartTime.getTime()+1e3*$)/1e3}function Y(J,fe){return J+(fe.adaptation.period.start-fe.presentationTimeOffset)}function D(J){const fe={start:NaN,end:NaN},me=J[0].getAdapter().getRegularPeriods()[0],pe=K(new Date,me);if(!J||J.length===0)return{range:fe,now:pe};J.forEach((ne=>{let Q=ne.getCurrentRepresentationForType(p.default.VIDEO);if(Q||(Q=ne.getCurrentRepresentationForType(p.default.AUDIO)),!Q){const W=ne.getAdapter(),Ie=W.getMediaInfoForType(ne.getStreamInfo(),p.default.VIDEO)||W.getMediaInfoForType(ne.getStreamInfo(),p.default.AUDIO);Q=W.getVoRepresentations(Ie)[0]}let V={start:NaN,end:NaN};if(Q)if(Q.segmentInfoType===xe.default.SEGMENT_TIMELINE)V=(function(W){const Ie=W.adaptation.period.mpd.manifest.Period[W.adaptation.period.index].AdaptationSet[W.adaptation.index],le=k.getRepresentationFor(W.index,Ie),Ce=le.SegmentTemplate||le.SegmentList,we=Ce.SegmentTimeline,Le=Ce.timescale,Ge=we.S,Pe={start:0,end:0},te=Ge[0].t,oe=!isNaN(te),ge=oe?te:0;let ue,de,Ee,X,_e=0;for(oe&&(Pe.start=Y(ge/Le,W)),Ee=0,X=Ge.length;Ee<X;Ee++)ue=Ge[Ee],de=0,ue.hasOwnProperty("r")&&(de=ue.r),_e+=ue.d*(1+de);return Pe.end=Y((ge+_e)/Le,W),Pe})(Q);else{const W=Q.adaptation.period;V.start=W.start,V.end=Math.max(pe,W.start+W.duration)}!isNaN(V.start)&&(isNaN(fe.start)||fe.start>V.start)&&(fe.start=V.start),!isNaN(V.end)&&(isNaN(fe.end)||fe.end<V.end)&&(fe.end=V.end)})),fe.end=Math.min(pe,fe.end);const Re=j(J,fe.end,!0);return fe.end=isNaN(Re)?fe.end:Re,fe.start=me&&me.mpd&&me.mpd.timeShiftBufferDepth&&!isNaN(me.mpd.timeShiftBufferDepth)&&!isNaN(fe.end)?Math.max(fe.end-me.mpd.timeShiftBufferDepth,fe.start):fe.start,fe.start=j(J,fe.start),{range:fe,now:pe}}function q(J,fe){L=J-fe.end}function j(J,fe,me=!1){try{let pe=0,Re=!1,ne=NaN;for(;!Re&&pe<J.length;){const Q=J[pe].getStreamInfo();Q.start<=fe&&(!isFinite(Q.duration)||Q.start+Q.duration>=fe)?(ne=fe,Re=!0):!me&&Q.start>fe&&(isNaN(ne)||Q.start<ne)?ne=Q.start:me&&Q.start+Q.duration<fe&&(isNaN(ne)||Q.start+Q.duration>ne)&&(ne=Q.start+Q.duration),pe+=1}return ne}catch{return fe}}function Z(J){J.offset===void 0||isNaN(J.offset)||B(J.offset/1e3)}function ie(){$=0,L=0}function ae(){_.off(m.default.UPDATE_TIME_SYNC_OFFSET,Z,this),ie()}return R={calcAvailabilityEndTimeFromPresentationTime:function(J,fe,me){return U(J,fe,me,!0)},calcAvailabilityStartTimeFromPresentationTime:function(J,fe,me){return U(J,fe,me)},calcMediaTimeFromPresentationTime:function(J,fe){return J-fe.adaptation.period.start+fe.presentationTimeOffset},calcPeriodRelativeTimeFromMpdRelativeTime:function(J,fe){return fe-J.adaptation.period.start},calcPresentationTimeFromMediaTime:Y,calcPresentationTimeFromWallTime:K,calcTimeShiftBufferWindow:function(J,fe){if(!fe)return(function(me){const pe={start:NaN,end:NaN};let Re=0,ne=NaN;return me.forEach((Q=>{const V=Q.getStreamInfo();Re+=V.duration,(isNaN(ne)||V.start<ne)&&(ne=V.start)})),pe.start=ne,pe.end=ne+Re,pe})(J);if(S.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){const me=D(J);return q(me.now,me.range),me.range}return(function(me){const pe={start:NaN,end:NaN};if(!me||me.length===0)return pe;const Re=me[0].getAdapter().getRegularPeriods()[0],ne=K(new Date,Re),Q=Re.mpd.timeShiftBufferDepth,V=isNaN(Q)?0:ne-Q;if(pe.start=j(me,V),pe.end=!isNaN(pe.start)&&ne<pe.start?ne:j(me,ne,!0),!isNaN(Q)&&pe.end<ne-Q&&(pe.end=NaN),S.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){const W=D(me);if(W.range.end<pe.start)return _.trigger(y.default.CONFORMANCE_VIOLATION,{level:$u.LEVELS.WARNING,event:$u.EVENTS.INVALID_DVR_WINDOW}),q(W.now,W.range),W.range}return pe})(J)},calcWallTimeForSegment:function(J,fe){let me,pe,Re;return fe&&(me=J.representation.adaptation.period.mpd.suggestedPresentationDelay,pe=J.presentationStartTime+me,Re=new Date(J.availabilityStartTime.getTime()+1e3*pe)),Re},getClientReferenceTime:function(){return Date.now()-1e3*L+1e3*$},getClientTimeOffset:function(){return $},initialize:function(){ie(),_.on(m.default.UPDATE_TIME_SYNC_OFFSET,Z,this)},reset:ae,setClientTimeOffset:B,setConfig:function(J){J&&J.dashManifestModel&&(k=J.dashManifestModel)}},k=xi(T).getInstance(),ae(),R}um.__dashjs_factory_name="TimelineConverter";var zb=i.default.getSingletonFactory(um),$b=class{constructor(){this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null}};function lv(){let T,_;return T={initialize:function(S){if(_=new $b,!S)return null;const R=S.indexOf("#");if(R!==-1){const k=S.substr(R+1).split("&");for(let L=0,$=k.length;L<$;++L){const B=k[L],U=B.indexOf("=");if(U!==-1){const K=B.substring(0,U);_.hasOwnProperty(K)&&(_[K]=B.substr(U+1))}}}},getURIFragmentData:function(){return _}},T}lv.__dashjs_factory_name="URIFragmentModel";var uv=i.default.getSingletonFactory(lv);const cv=new Map([[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function cm(){let T,_,S,R,k,L,$,B,U,K,Y,D;const q=this.context,j=(0,g.default)(q).getInstance(),Z=[];function ie(le,Ce=!1){S&&(Ce?S.playbackRate=le:Ie(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,(()=>{S.playbackRate=le})))}function ae(){return Z.length>0}function J(le){let Ce=Z.indexOf(le);if(le!==null&&(Ce!==-1&&Z.splice(Ce,1),K.get().streaming.buffer.syntheticStallEvents.enabled&&S&&!ae())){const we=()=>{if(ie(L||1,K.get().streaming.buffer.syntheticStallEvents.ignoreReadyState),!S.paused){const Le=document.createEvent("Event");Le.initEvent("playing",!0,!1),S.dispatchEvent(Le)}};K.get().streaming.buffer.syntheticStallEvents.ignoreReadyState?we():(B&&B.func&&B.event&&pe(B.event,B.func),B=Ie(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,we))}}function fe(){if(S&&ae()&&S.playbackRate===0){const le=document.createEvent("Event");le.initEvent("waiting",!0,!1),S.dispatchEvent(le)}}function me(le,Ce){S&&S.addEventListener(le,Ce)}function pe(le,Ce){S&&S.removeEventListener(le,Ce)}function Re(){return S?S.readyState:NaN}function ne(){return S?S.buffered:null}function Q(){return S?S.clientWidth:NaN}function V(){return S?S.clientHeight:NaN}function W(le,Ce,we,Le,Ge){if(S){for(let Pe=0;Pe<S.textTracks.length;Pe++)if(S.textTracks[Pe].kind===le&&(!Ce||S.textTracks[Pe].label==Ce)&&S.textTracks[Pe].language===we&&S.textTracks[Pe].isTTML===Le&&S.textTracks[Pe].isEmbedded===Ge)return S.textTracks[Pe]}return null}function Ie(le,Ce){return le===p.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||Re()>=le?(Ce(),null):(function(we,Le){const Ge=()=>{pe(we,Ge),Le(we)};return me(we,Ge),{func:Ge,event:we}})(cv.get(le),Ce)}return R={addEventListener:me,addTextTrack:function(le,Ce,we,Le,Ge){if(!S)return null;let Pe=W(le,Ce,we,Le,Ge);return Pe||(Pe=S.addTextTrack(le,Ce,we),Pe.isEmbedded=Ge,Pe.isTTML=Le),Pe},appendChild:function(le){S&&(S.appendChild(le),le.isTTML!==void 0&&(S.textTracks[S.textTracks.length-1].isTTML=le.isTTML,S.textTracks[S.textTracks.length-1].isEmbedded=le.isEmbedded))},getBufferRange:ne,getClientHeight:V,getClientWidth:Q,getElement:function(){return S},getEnded:function(){return S?S.ended:null},getPlaybackQuality:function(){if(!S)return null;let le="webkitDroppedFrameCount"in S&&"webkitDecodedFrameCount"in S,Ce=null;return"getVideoPlaybackQuality"in S?Ce=S.getVideoPlaybackQuality():le&&(Ce={droppedVideoFrames:S.webkitDroppedFrameCount,totalVideoFrames:S.webkitDroppedFrameCount+S.webkitDecodedFrameCount,creationTime:new Date}),Ce},getPlaybackRate:function(){return S?S.playbackRate:null},getPlayedRanges:function(){return S?S.played:null},getReadyState:Re,getSource:function(){return S?S.src:null},getTTMLRenderingDiv:function(){return T},getTextTrack:W,getTextTracks:function(){return S?S.textTracks:[]},getTime:function(){return S?isNaN(_)?S.currentTime:_:null},getVideoElementSize:function(){const le=K.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;return{elementWidth:Q()*le,elementHeight:V()*le}},getVideoHeight:function(){return S?S.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(S){const le=S.parentNode.host||S.parentNode;return le?S.getBoundingClientRect().left-le.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(S){const le=S.parentNode.host||S.parentNode;return le?S.getBoundingClientRect().top-le.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return S?S.videoWidth:NaN},getVttRenderingDiv:function(){return D},initialize:function(){j.on(m.default.PLAYBACK_PLAYING,fe,this)},isPaused:function(){return S?S.paused:null},isSeeking:function(){return S?S.seeking||!isNaN(_):null},isStalled:ae,pause:function(){S&&(S.pause(),S.autoplay=!1)},play:function(){if(S){S.autoplay=!0;const le=S.play();le&&le.catch&&typeof Promise<"u"&&le.catch((Ce=>{Ce.name==="NotAllowedError"&&j.trigger(m.default.PLAYBACK_NOT_ALLOWED),k.warn(`Caught pending play exception - continuing (${Ce})`)}))}},removeChild:function(le){S&&S.removeChild(le)},removeEventListener:pe,reset:function(){clearTimeout(Y),j.off(m.default.PLAYBACK_PLAYING,fe,this),Z.length=0,(function(){try{$&&S&&($.unobserve(S),$.disconnect(),$=null)}catch{}})()},setConfig:function(le){le&&le.settings&&(K=le.settings)},setCurrentTime:function(le,Ce){S&&(U&&U.func&&U.event&&pe(U.event,U.func),_=le,U=Ie(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(()=>{if(S)if(S.currentTime!==_)try{_=Ce?(function(we){const Le=ne();let Ge=we,Pe=9999999999;if(Le)for(let te=0;te<Le.length;te++){const oe=Le.start(te),ge=Le.end(te),ue=Math.abs(oe-we),de=Math.abs(ge-we);if(we>=oe&&we<=ge)return we;ue<Pe&&(Pe=ue,Ge=oe),de<Pe&&(Pe=de,Ge=ge)}return Ge})(_):_,isNaN(_)||(S.currentTime=_),_=NaN}catch(we){S.readyState===0&&we.code===we.INVALID_STATE_ERR&&(Y=setTimeout((function(){S.currentTime=_,_=NaN}),400))}else _=NaN})))},setDisableRemotePlayback:function(le){S&&(S.disableRemotePlayback=le)},setElement:function(le){if(!(le==null||le&&/^(VIDEO|AUDIO)$/i.test(le.nodeName)))throw"element is not video or audio DOM type!";S=le,(function(Ce){try{if(!$||!Ce)return;$.observe(Ce)}catch{}})(S)},setPlaybackRate:ie,setSource:function(le){S&&(le?S.src=le:(S.removeAttribute("src"),S.load()))},setStallState:function(le,Ce){(function(we,Le){Le?(function(Ge){if(Ge!==null&&S&&!S.seeking&&Z.indexOf(Ge)===-1&&(Z.push(Ge),K.get().streaming.buffer.syntheticStallEvents.enabled&&S&&Z.length===1&&(K.get().streaming.buffer.syntheticStallEvents.ignoreReadyState||Re()>=p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA))){L=S.playbackRate,ie(0,!0);const Pe=document.createEvent("Event");Pe.initEvent("waiting",!0,!1),S.dispatchEvent(Pe)}})(we):J(we)})(le,Ce)},setTTMLRenderingDiv:function(le){T=le,T.style.position="absolute",T.style.display="flex",T.style.overflow="hidden",T.style.pointerEvents="none",T.style.top=0,T.style.left=0},setVttRenderingDiv:function(le){D=le},waitForReadyState:Ie},k=(0,l.default)(q).getInstance().getLogger(R),K=(0,c.default)(q).getInstance(),_=NaN,(function(){try{$=new ResizeObserver((()=>{j.trigger(m.default.VIDEO_ELEMENT_RESIZED)}))}catch{}})(),R}cm.__dashjs_factory_name="VideoModel";var qb=i.default.getSingletonFactory(cm),dv=t(8986);function Jc(){const T="You must first call initialize() and set a source before calling this method",_="You must first call initialize() and set a valid source and view before calling this method",S="You must first call attachView() to set the video element before calling this method",R="You must first call attachSource() with a valid source before calling this method",k="MediaPlayer not initialized!",L=this.context,$=(0,g.default)(L).getInstance();let B=(0,c.default)(L).getInstance();const U=(0,l.default)(L).getInstance({settings:B});let K,Y,D,q,j,Z,ie,ae,J,fe,me,pe,Re,ne,Q,V,W,Ie,le,Ce,we,Le,Ge,Pe,te,oe,ge,ue,de,Ee,X,_e,ke,Oe,je,Be,Ze,mt,St,Ht,vn;function zt(){jt(null),$n(null),q=null,Q&&(Q.reset(),Q=null),V&&(V.reset(),V=null),we&&we.reset(),B.reset(),Ie&&(Ie.reset(),Ie=null)}function mn(){return!!D&&!!Ze.getElement()}function Nn(){return(0,dv.getVersionString)()}function ri(){if(!ie)throw _;return de.isPaused()}function jn(){if(!ie)throw _;return de.getIsDynamic()}function Bn(Ne){const ft=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Qt=ke.getCurrentDVRInfo(ft);return Qt?Hn(Qt.range.start+Ne,Qt):0}function Hn(Ne,ft){let Qt=de.getOriginalLiveDelay();return Ne>ft.range.end-Qt&&(Ne=ft.range.end-Qt),Ne}function at(Ne=""){if(!ie)throw _;let ft=yn().currentTime;return Ne!==""&&(ft=oe.getTimeRelativeToStreamId(ft,Ne)),ft}function Ot(Ne){(0,Ut.checkParameterType)(Ne,"boolean"),ae=Ne}function Mt(){we.restoreDefaultUTCTimingSources()}function Vt(){return ke}function yn(){if(!Ze.getElement())throw S;return Ze.getElement()}function $n(Ne){if(!j)throw k;Ze.setElement(Ne),Ne&&(nt(),(function(){if(V||typeof dashjs>"u")return;let ft=dashjs.MetricsReporting;typeof ft=="function"&&(V=ft(L).create().createMetricsReporting({debug:U,eventBus:$,mediaElement:yn(),adapter:le,dashMetrics:ke,mediaPlayerModel:Ce,events:m.default,constants:p.default,metricsConstants:o}))})(),(function(){if(W||typeof dashjs>"u")return;let ft=dashjs.MssHandler;typeof ft=="function"&&(bn.extend(ft.errors),W=ft(L).create({eventBus:$,mediaPlayerModel:Ce,dashMetrics:ke,manifestModel:Oe,playbackController:de,streamController:oe,protectionController:Q,baseURLController:Ge,errHandler:Le,events:m.default,constants:p.default,debug:U,initSegmentType:se.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:kt,ISOBoxer:Ru,settings:B}))})(),oe&&oe.switchToVideoElement(J)),ie&&(et(),ut()),Nt(J)}function yt(Ne){if(!Z)throw T;let ft=oe.getActiveStreamInfo();return ft?ne.getTracksFor(Ne,ft.id).filter((Qt=>!Q||Q.areKeyIdsUsable(Qt.normalizedKeyIds))):[]}function jt(Ne,ft=NaN){if(!j)throw k;typeof Ne=="string"&&mt.initialize(Ne),ft==null&&(ft=NaN),isNaN(ft)||(ft=Math.max(0,ft)),J=ft,D=Ne,(Z||ie)&&(et(),ut()),mn()&&Nt(J)}function sn(){if(!Z)throw T;let Ne=oe.getActiveStreamInfo();return Ne?oe.getStreamById(Ne.id):null}function et(){ie=!1,Z=!1,le.reset(),oe.reset(),ue.reset(),_e.reset(),de.reset(),Ee.reset(),X.reset(),fe.reset(),me.reset(),ne.reset(),Ht.reset(),Q&&(B.get().streaming.protection.keepProtectionMediaKeys?Q.stop():(Q.reset(),Q=null,nt())),ge.reset(),je.reset(),Be.reset()}function ut(){we.resetPlaybackSessionSpecificSettings()}function Et(){return Uu(L).create({debug:U,errHandler:Le,dashMetrics:ke,mediaPlayerModel:Ce,mssHandler:W,settings:B})}function nt(){if(Q)return Q;if(typeof dashjs>"u")return null;let Ne=dashjs.Protection;if(typeof Ne=="function"){let ft=Ne(L).create();return m.default.extend(Ne.events),y.default.extend(Ne.events,{publicOnly:!0}),bn.extend(Ne.errors),Q=ft.createProtectionSystem({debug:U,errHandler:Le,videoModel:Ze,customParametersModel:we,capabilities:Pe,eventBus:$,events:m.default,BASE64:kt,constants:p.default,cmcdModel:je,settings:B}),Pe||(Pe=(0,Rc.default)(L).getInstance()),Pe.setProtectionController(Q),Q}return null}function wt(){if(!j)throw k;if(Ie)return Ie;if(typeof dashjs>"u")return null;let Ne=dashjs.OfflineController;if(typeof Ne=="function"){m.default.extend(Ne.events),y.default.extend(Ne.events,{publicOnly:!0}),bn.extend(Ne.errors);const ft=Et(),Qt=hf(L).create();return Qt.setConfig({manifestModel:Oe,adapter:le,manifestLoader:ft,errHandler:Le,contentSteeringController:X}),Ie=Ne(L).create({debug:U,manifestUpdater:Qt,baseURLController:Ge,manifestLoader:ft,manifestModel:Oe,mediaPlayerModel:Ce,abrController:fe,playbackController:de,adapter:le,errHandler:Le,dashMetrics:ke,timelineConverter:Re,segmentBaseController:Ht,schemeLoaderFactory:pe,eventBus:$,events:m.default,errors:bn,constants:p.default,settings:B,dashConstants:xe.default,urlUtils:Oi(L).getInstance()}),Ie}return null}function Nt(Ne=NaN){Ie&&Ie.resetRecords(),!Z&&D&&(Z=!0,Y.info("Streaming Initialized"),(function(){const ft=Et();oe||(oe=Wp(L).getInstance()),ge||(ge=Ub(L).create({errHandler:Le,manifestModel:Oe,adapter:le,mediaController:ne,baseURLController:Ge,videoModel:Ze,settings:B})),te.setConfig({capabilities:Pe,customParametersModel:we,adapter:le,settings:B,protectionController:Q,manifestModel:Oe,errHandler:Le}),oe.setConfig({capabilities:Pe,capabilitiesFilter:te,manifestLoader:ft,manifestModel:Oe,mediaPlayerModel:Ce,customParametersModel:we,protectionController:Q,textController:ge,adapter:le,dashMetrics:ke,errHandler:Le,timelineConverter:Re,videoModel:Ze,playbackController:de,serviceDescriptionController:Ee,contentSteeringController:X,abrController:fe,throughputController:me,mediaController:ne,settings:B,baseURLController:Ge,uriFragmentModel:mt,segmentBaseController:Ht}),ue.setConfig({settings:B,playbackController:de,streamController:oe,videoModel:Ze,timelineConverter:Re,adapter:le}),de.setConfig({streamController:oe,serviceDescriptionController:Ee,dashMetrics:ke,adapter:le,videoModel:Ze,timelineConverter:Re,settings:B}),_e.setConfig({streamController:oe,playbackController:de,mediaPlayerModel:Ce,videoModel:Ze,settings:B}),me.setConfig({settings:B,playbackController:de}),fe.setConfig({streamController:oe,capabilities:Pe,domStorage:St,mediaPlayerModel:Ce,customParametersModel:we,throughputController:me,cmsdModel:Be,dashMetrics:ke,adapter:le,videoModel:Ze,settings:B}),je.setConfig({abrController:fe,dashMetrics:ke,playbackController:de,serviceDescriptionController:Ee,throughputController:me}),vn.setConfig({serviceDescriptionController:Ee}),Be.setConfig({}),ne.initialize(),me.initialize(),fe.initialize(),oe.initialize(ae,q),ge.initialize(),ue.initialize(),_e.initialize(),je.initialize(ae),Be.initialize(),X.initialize(),Ht.initialize()})(),typeof D=="string"?oe.load(D,Ne):oe.loadWithManifest(D,Ne)),!ie&&mn()&&(ie=!0,$.trigger(y.default.PLAYBACK_INITIALIZED),Y.info("Playback Initialized"))}return K={addABRCustomRule:function(Ne,ft,Qt){we.addAbrCustomRule(Ne,ft,Qt)},addExternalSubtitle:function(Ne){Ne instanceof Mu.default||Y.error("Invalid external subtitle object. Must be an instance of dashjs.ExternalSubtitle"),we.addExternalSubtitle(Ne)},addRequestInterceptor:function(Ne){we.addRequestInterceptor(Ne)},addResponseInterceptor:function(Ne){we.addResponseInterceptor(Ne)},addUTCTimingSource:function(Ne,ft){we.addUTCTimingSource(Ne,ft)},attachProtectionController:function(Ne){Q=Ne},attachSource:jt,attachTTMLRenderingDiv:function(Ne){if(!Ze.getElement())throw S;Ze.setTTMLRenderingDiv(Ne)},attachView:$n,attachVttRenderingDiv:function(Ne){if(!Ze.getElement())throw S;Ze.setVttRenderingDiv(Ne)},clearDefaultUTCTimingSources:function(){we.clearDefaultUTCTimingSources()},convertToTimeCode:function(Ne){Ne=Math.max(Ne,0);let ft=Math.floor(Ne/3600),Qt=Math.floor(Ne%3600/60),tn=Math.floor(Ne%3600%60);return(ft===0?"":ft<10?"0"+ft.toString()+":":ft.toString()+":")+(Qt<10?"0"+Qt.toString():Qt.toString())+":"+(tn<10?"0"+tn.toString():tn.toString())},destroy:function(){zt(),i.default.deleteSingletonInstances(L)},duration:function(){if(!ie)throw _;let Ne=yn().duration;if(de.getIsDynamic()){const ft=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Qt=ke.getCurrentDVRInfo(ft);Ne=Qt?Qt.range.end-Qt.range.start:0}return Ne},enableForcedTextStreaming:function(Ne){return!(!oe.getActiveStreamInfo()||!ge)&&ge.enableForcedTextStreaming(Ne)},enableText:function(Ne){const ft=oe.getActiveStreamInfo();return!(!ft||!ge)&&ge.enableText(ft.id,Ne)},extend:function(Ne,ft,Qt){i.default.extend(Ne,ft,Qt,L)},formatUTC:function(Ne,ft,Qt,tn=!1){const Xn=new Date(1e3*Ne),Tt=Xn.toLocaleDateString(ft),Xt=Xn.toLocaleTimeString(ft,{hour12:Qt});return tn?Xt+" "+Tt:Xt},getABRCustomRules:function(){return we.getAbrCustomRules()},getActiveStream:sn,getAutoPlay:function(){return ae},getAvailableBaseUrls:function(){const Ne=Oe.getValue();return Ne?Ge.getBaseUrls(Ne):[]},getAvailableLocations:function(){const Ne=Oe.getValue();if(!Ne)return[];const ft=le.getLocation(Ne),Qt=X.getSynthesizedLocationElements(ft);return ft.concat(Qt)},getAverageLatency:function(Ne=p.default.VIDEO,ft=null,Qt=NaN){return me?me.getAverageLatency(Ne,ft,Qt):0},getAverageThroughput:function(Ne=p.default.VIDEO,ft=null,Qt=NaN){return me?me.getAverageThroughput(Ne,ft,Qt):0},getBufferLength:function(Ne){const ft=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT];if(Ne)return ft.indexOf(Ne)!==-1?Vt().getCurrentBufferLevel(Ne)||NaN:(Y.warn("getBufferLength requested for invalid type"),NaN);{const Qt=ft.map((tn=>yt(tn).length>0?Vt().getCurrentBufferLevel(tn):Number.MAX_VALUE)).reduce(((tn,Xn)=>Math.min(tn,Xn)));return Qt===Number.MAX_VALUE?NaN:Qt}},getCurrentLiveLatency:function(){if(!j)throw k;return ie?de.getCurrentLiveLatency():NaN},getCurrentRepresentationForType:function(Ne){if(!Z)throw T;if(Ne!==p.default.IMAGE&&Ne!==p.default.VIDEO&&Ne!==p.default.AUDIO)return null;const ft=sn();if(!ft)return null;if(Ne===p.default.IMAGE){const Qt=ft.getThumbnailController();return Qt?Qt.getCurrentTrack():-1}return ft.getCurrentRepresentationForType(Ne)},getCurrentSteeringResponseData:function(){if(X)return X.getCurrentSteeringResponseData()},getCurrentTextTrackIndex:function(){let Ne=NaN;const ft=oe.getActiveStreamInfo();if(ft&&ge)return Ne=ge.getCurrentTrackIdx(ft.id),Ne},getCurrentTrackFor:function(Ne){if(!Z)throw T;let ft=oe.getActiveStreamInfo();return ft?ne.getCurrentTrackFor(Ne,ft.id):null},getDashAdapter:function(){return le},getDashMetrics:Vt,getDebug:function(){return U},getDvrSeekOffset:Bn,getDvrWindow:function(){if(!ie)throw _;const Ne=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let ft=ke.getCurrentDVRInfo(Ne);if(!ft)return{};let Qt=0;const tn=de.getIsDynamic();return tn&&(Qt=ft.manifestInfo.availableFrom.getTime()/1e3),{start:ft.range.start,end:ft.range.end,startAsUtc:tn?Qt+ft.range.start:NaN,endAsUtc:tn?Qt+ft.range.end:NaN,size:ft.range.end-ft.range.start}},getExternalSubtitles:function(){we.getExternalSubtitles()},getInitialMediaSettingsFor:function(Ne){if(!j)throw k;return ne.getInitialSettings(Ne)},getLowLatencyModeEnabled:function(){if(!ie)throw _;return de.getLowLatencyModeEnabled()},getManifest:function(){return Oe.getValue()},getOfflineController:function(){return wt()},getPlaybackRate:function(){return yn().playbackRate},getProtectionController:function(){return nt()},getRawThroughputData:function(Ne=p.default.VIDEO){return me?me.getRawThroughputData(Ne):[]},getRepresentationsByType:function(Ne,ft=null){if(!Z)throw T;let Qt=ft?oe.getStreamById(ft):sn();return Qt?Qt.getRepresentationsByType(Ne):[]},getSafeAverageThroughput:function(Ne=p.default.VIDEO,ft=null,Qt=NaN){return me?me.getSafeAverageThroughput(Ne,ft,Qt):0},getSettings:function(){return B.get()},getSource:function(){if(!D)throw R;return D},getStreamsFromManifest:function(Ne){if(!Z)throw T;return le.getStreamsInfo(Ne)},getTTMLRenderingDiv:function(){return Ze?Ze.getTTMLRenderingDiv():null},getTargetLiveDelay:function(){if(!ie)throw _;return de.getOriginalLiveDelay()},getTracksFor:yt,getTracksForTypeFromManifest:function(Ne,ft,Qt){if(!Z)throw T;return(Qt=Qt||le.getStreamsInfo(ft,1)[0])?le.getAllMediaInfoForType(Qt,Ne,ft):[]},getVersion:Nn,getVideoElement:yn,getVolume:function(){return yn().volume},getXHRWithCredentialsForType:function(Ne){return we.getXHRWithCredentialsForType(Ne)},initialize:function(Ne,ft,Qt,tn=NaN){Pe||(Pe=(0,Rc.default)(L).getInstance(),Pe.setConfig({settings:B,protectionController:Q})),Le||(Le=Oh(L).getInstance()),Pe.supportsMediaSource()?(j||(j=!0,Re=zb(L).getInstance(),me||(me=lm(L).getInstance()),fe||(fe=wa(L).getInstance()),pe||(pe=lp(L).getInstance()),de||(de=Cp(L).getInstance()),ne||(ne=ab(L).getInstance()),oe||(oe=Wp(L).getInstance()),ue||(ue=Ph(L).getInstance()),_e||(_e=jE(L).getInstance()),Ee||(Ee=Mp(L).getInstance()),X||(X=cp(L).getInstance()),te||(te=qE(L).getInstance()),le=_a(L).getInstance(),Oe=ib(L).getInstance(),je=CE(L).getInstance(),Be=ap(L).getInstance(),vn=NE(L).getInstance(),ke=Sp(L).getInstance({settings:B}),St=vp(L).getInstance({settings:B}),le.setConfig({constants:p.default,cea608parser:new am,errHandler:Le,BASE64:kt}),Ge||(Ge=nf(L).create()),Ge.setConfig({adapter:le,contentSteeringController:X}),Ee.setConfig({adapter:le}),Ht||(Ht=sb(L).getInstance({dashMetrics:ke,mediaPlayerModel:Ce,errHandler:Le,baseURLController:Ge,events:m.default,eventBus:$,debug:U,boxParser:wc(L).getInstance(),errors:bn})),ne.setConfig({domStorage:St,settings:B,mediaPlayerModel:Ce,customParametersModel:we,videoModel:Ze}),Ce.setConfig({playbackController:de,serviceDescriptionController:Ee}),X.setConfig({adapter:le,errHandler:Le,dashMetrics:ke,mediaPlayerModel:Ce,manifestModel:Oe,serviceDescriptionController:Ee,throughputController:me,eventBus:$}),Mt(),Ot(Qt===void 0||Qt),wt()),Ne&&$n(Ne),ft&&jt(ft,tn),Y.info("[dash.js "+Nn()+"] MediaPlayer has been initialized")):Le.error(new En.default(bn.CAPABILITY_MEDIASOURCE_ERROR_CODE,bn.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},isDynamic:jn,isMuted:function(){return yn().muted},isPaused:ri,isReady:mn,isSeeking:function(){if(!ie)throw _;return de.isSeeking()},isTextEnabled:function(){const Ne=oe.getActiveStreamInfo();return!(!Ne||!ge)&&ge.isTextEnabled(Ne)},off:function(Ne,ft,Qt){$.off(Ne,ft,Qt)},on:function(Ne,ft,Qt,tn){$.on(Ne,ft,Qt,tn)},pause:function(){if(!ie)throw _;de.pause()},play:function(){if(!ie)throw _;(!ae||ri()&&ie)&&de.play(!0)},preload:function(){if(!Ze.getElement()&&!Z){if(!D)throw R;Nt(J)}},provideThumbnail:function(Ne,ft){if(typeof ft!="function")return;if(Ne<0)return void ft(null);const Qt=de.getIsDynamic()?Bn(Ne):Ne,tn=oe.getStreamForTime(Qt);if(tn===null)return void ft(null);const Xn=tn.getThumbnailController();if(Xn)return Xn.provide(Qt,ft);ft(null)},refreshManifest:function(Ne){if(!j)throw k;if(!mn())return Ne(null,R);let ft=this;if(typeof Ne=="function"){const Qt=function(tn){$.off(m.default.INTERNAL_MANIFEST_LOADED,Qt,ft),tn.error?Ne(null,tn.error):Ne(tn.manifest)};$.on(m.default.INTERNAL_MANIFEST_LOADED,Qt,ft)}oe.refreshManifest()},registerCustomCapabilitiesFilter:function(Ne){we.registerCustomCapabilitiesFilter(Ne)},registerLicenseRequestFilter:function(Ne){we.registerLicenseRequestFilter(Ne)},registerLicenseResponseFilter:function(Ne){we.registerLicenseResponseFilter(Ne)},removeABRCustomRule:function(Ne){we.removeAbrCustomRule(Ne)},removeAllABRCustomRule:function(){we.removeAllAbrCustomRule()},removeExternalSubtitleById:function(Ne){we.removeExternalSubtitleById(Ne)},removeExternalSubtitleByUrl:function(Ne){we.removeExternalSubtitleByUrl(Ne)},removeRequestInterceptor:function(Ne){we.removeRequestInterceptor(Ne)},removeResponseInterceptor:function(Ne){we.removeResponseInterceptor(Ne)},removeUTCTimingSource:function(Ne,ft){we.removeUTCTimingSource(Ne,ft)},reset:zt,resetCustomInitialTrackSelectionFunction:function(){we.resetCustomInitialTrackSelectionFunction(null)},resetSettings:function(){B.reset()},restoreDefaultUTCTimingSources:Mt,retrieveManifest:function(Ne,ft){let Qt=Et(),tn=this;const Xn=function(Tt){Tt.error?ft(null,Tt.error):ft(Tt.manifest),$.off(m.default.INTERNAL_MANIFEST_LOADED,Xn,tn),Qt.reset()};$.on(m.default.INTERNAL_MANIFEST_LOADED,Xn,tn),mt.initialize(Ne),Qt.load(Ne)},seek:function(Ne){if(!ie)throw _;if((0,Ut.checkParameterType)(Ne,"number"),isNaN(Ne))throw p.default.BAD_ARGUMENT_ERROR;Ne<0&&(Ne=0);let ft=de.getIsDynamic()?Bn(Ne):Ne;const Qt=yn();!de.getIsDynamic()&&Qt.duration&&(ft=Math.min(Qt.duration,ft)),de.seek(ft,!1,!1,!0)},seekToOriginalLive:function(){ie&&jn()&&de.seekToOriginalLive()},seekToPresentationTime:function(Ne){if(!ie)throw _;if((0,Ut.checkParameterType)(Ne,"number"),isNaN(Ne))throw p.default.BAD_ARGUMENT_ERROR;Ne<0&&(Ne=0);const ft=yn();if(!de.getIsDynamic()&&ft.duration&&(Ne=Math.min(ft.duration,Ne)),de.getIsDynamic()){const Qt=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let tn=ke.getCurrentDVRInfo(Qt);if(!tn)return;(Ne=Hn(Ne,tn))<tn.range.start&&(Ne=tn.range.start)}de.seek(Ne,!1,!1,!0)},setAutoPlay:Ot,setConfig:function(Ne){Ne&&(Ne.capabilities&&(Pe=Ne.capabilities),Ne.capabilitiesFilter&&(te=Ne.capabilitiesFilter),Ne.streamController&&(oe=Ne.streamController),Ne.textController&&(ge=Ne.textController),Ne.gapController&&(ue=Ne.gapController),Ne.throughputController&&(me=Ne.throughputController),Ne.playbackController&&(de=Ne.playbackController),Ne.serviceDescriptionController&&(Ee=Ne.serviceDescriptionController),Ne.contentSteeringController&&(X=Ne.contentSteeringController),Ne.clientDataReportingController&&(vn=Ne.clientDataReportingController),Ne.catchupController&&(_e=Ne.catchupController),Ne.mediaPlayerModel&&(Ce=Ne.mediaPlayerModel),Ne.customParametersModel&&(we=Ne.customParametersModel),Ne.abrController&&(fe=Ne.abrController),Ne.schemeLoaderFactory&&(pe=Ne.schemeLoaderFactory),Ne.mediaController&&(ne=Ne.mediaController),Ne.settings&&(B=Ne.settings),Ne.dashMetrics&&(ke=Ne.dashMetrics))},setCurrentTrack:function(Ne,ft=!1){if(!Z)throw T;!Q||Q.areKeyIdsUsable(Ne.normalizedKeyIds)?ne.setTrack(Ne,{noSettingsSave:ft}):Y.error(`Can not switch to track with index ${Ne.index} because key is not usable`)},setCustomInitialTrackSelectionFunction:function(Ne){we.setCustomInitialTrackSelectionFunction(Ne)},setInitialMediaSettingsFor:function(Ne,ft){if(!j)throw k;let Qt=(function(tn){const Xn=B.get().streaming.defaultSchemeIdUri;let Tt={};function Xt(Mn,Dn,Jn){let Cn={};if(Dn){if(Dn instanceof Array)throw"Array type not supported for settings!";return Dn instanceof Object?(Cn.schemeIdUri=Dn.schemeIdUri?Dn.schemeIdUri:"",Cn.value=Dn.value?Dn.value:""):(Cn.schemeIdUri=Jn,Cn.value=Dn,Y.warn("No schemeIdUri provided for "+Mn+', using default "'+Jn+'"')),Cn}return null}return tn.id!==void 0&&(Tt.id=tn.id),tn.lang!==void 0&&(Tt.lang=tn.lang),isNaN(tn.index)||(Tt.index=tn.index),tn.viewpoint!==void 0&&(Tt.viewpoint=Xt("viewpoint",tn.viewpoint,Xn.viewpoint)),tn.audioChannelConfiguration!==void 0&&(Tt.audioChannelConfiguration=Xt("audioChannelConfiguration",tn.audioChannelConfiguration,Xn.audioChannelConfiguration)),tn.role!==void 0&&tn.role!==null&&(Tt.role=Xt("role",tn.role,Xn.role),Tt.role.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&Tt.role.value==="Main"&&(Tt.role.value=xe.default.MAIN)),tn.accessibility!==void 0&&(Tt.accessibility=Xt("accessibility",tn.accessibility,Xn.accessibility)),Tt})(ft);ne.setInitialSettings(Ne,Qt)},setMute:function(Ne){(0,Ut.checkParameterType)(Ne,"boolean"),yn().muted=Ne},setPlaybackRate:function(Ne){yn().playbackRate=Ne},setProtectionData:function(Ne){q=Ne,oe&&oe.setProtectionData(q)},setRepresentationForTypeById:function(Ne,ft,Qt=!1){if(Ne!==p.default.IMAGE&&Ne!==p.default.VIDEO&&Ne!==p.default.AUDIO)return;if(!Z)throw T;const tn=sn();if(tn)if(Ne===p.default.IMAGE){const Xn=tn.getThumbnailController();Xn&&Xn.setTrackById(ft)}else{const Xn=tn.getRepresentationForTypeById(Ne,ft);Xn&&fe.manuallySetPlaybackQuality(Ne,oe.getActiveStreamInfo(),Xn,{forceReplace:Qt})}},setRepresentationForTypeByIndex:function(Ne,ft,Qt=!1){if(Ne!==p.default.IMAGE&&Ne!==p.default.VIDEO&&Ne!==p.default.AUDIO)return;if(!Z)throw T;const tn=sn();if(tn)if(Ne===p.default.IMAGE){const Xn=tn.getThumbnailController();Xn&&Xn.setTrackByIndex(ft)}else{const Xn=tn.getRepresentationForTypeByIndex(Ne,ft);Xn&&fe.manuallySetPlaybackQuality(Ne,oe.getActiveStreamInfo(),Xn,{forceReplace:Qt})}},setTextTrack:function(Ne){if(!ie)throw _;const ft=oe.getActiveStreamInfo();ft&&ge&&ge.setTextTrack(ft.id,Ne)},setVolume:function(Ne){if(typeof Ne!="number"||isNaN(Ne)||Ne<0||Ne>1)throw p.default.BAD_ARGUMENT_ERROR;yn().volume=Ne},setXHRWithCredentialsForType:function(Ne,ft){we.setXHRWithCredentialsForType(Ne,ft)},time:at,timeAsUTC:function(){if(!ie)throw _;if(!de.getIsDynamic()||at()<0)return NaN;const Ne=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let ft,Qt,tn=ke.getCurrentDVRInfo(Ne);return tn?(ft=tn.manifestInfo.availableFrom.getTime()/1e3,Qt=ft+at(),Qt):0},timeInDvrWindow:function(){if(!ie)throw _;if(!de.getIsDynamic())return at();let Ne=yn().currentTime;const ft=oe&&oe.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Qt=ke.getCurrentDVRInfo(ft);return Ne=Qt===null||Ne===0?0:Math.max(0,Ne-Qt.range.start),Ne},trigger:function(Ne,ft,Qt){$.trigger(Ne,ft,Qt)},triggerSteeringRequest:function(){if(X)return X.loadSteeringData()},unregisterCustomCapabilitiesFilter:function(Ne){we.unregisterCustomCapabilitiesFilter(Ne)},unregisterLicenseRequestFilter:function(Ne){we.unregisterLicenseRequestFilter(Ne)},unregisterLicenseResponseFilter:function(Ne){we.unregisterLicenseResponseFilter(Ne)},updateSettings:function(Ne){B.update(Ne)},updateSource:function(Ne){D=Ne,oe.load(D)}},Y=U.getLogger(K),j=!1,ie=!1,Z=!1,ae=!0,J=NaN,Q=null,Ie=null,q=null,le=null,Ht=null,m.default.extend(y.default),Ce=rb(L).getInstance(),we=(0,Rh.default)(L).getInstance(),Ze=qb(L).getInstance(),mt=uv(L).getInstance(),K}Jc.__dashjs_factory_name="MediaPlayer";const ed=i.default.getClassFactory(Jc);ed.events=y.default,ed.errors=bn,i.default.updateClassFactory(Jc.__dashjs_factory_name,ed);var jb=ed},1191:function(n,e,t){t.r(e);var i=t(7252);class r extends i.default{constructor(){super(),this.AST_IN_FUTURE="astInFuture",this.BASE_URLS_UPDATED="baseUrlsUpdated",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",this.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",this.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",this.DYNAMIC_TO_STATIC="dynamicToStatic",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADING_STARTED="manifestLoadingStarted",this.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.NEW_TRACK_SELECTED="newTrackSelected",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_UPDATED="streamUpdated",this.STREAM_ACTIVATED="streamActivated",this.STREAM_DEACTIVATED="streamDeactivated",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CUE_ENTER="cueEnter",this.CUE_EXIT="cueExit",this.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.CAN_PLAY_THROUGH="canPlayThrough",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_INITIALIZED="playbackInitialized",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_LOADED_DATA="playbackLoadedData",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",this.EVENT_MODE_ON_START="eventModeOnStart",this.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",this.CONFORMANCE_VIOLATION="conformanceViolation",this.REPRESENTATION_SWITCH="representationSwitch",this.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",this.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",this.INBAND_PRFT="inbandPrft",this.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",this.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming"}}let o=new r;e.default=o},5212:function(n,e,t){t.r(e),e.default={STREAM:"stream",VIDEO:"video",ENHANCEMENT:"enhancement",AUDIO:"audio",TEXT:"text",MUXED:"muxed",IMAGE:"image",STPP:"stpp",TTML:"ttml",VTT:"vtt",WVTT:"wvtt",CONTENT_STEERING:"contentSteering",LIVE_CATCHUP_MODE_DEFAULT:"liveCatchupModeDefault",LIVE_CATCHUP_MODE_LOLP:"liveCatchupModeLoLP",MOVING_AVERAGE_SLIDING_WINDOW:"slidingWindow",MOVING_AVERAGE_EWMA:"ewma",BAD_ARGUMENT_ERROR:"Invalid Arguments",MISSING_CONFIG_ERROR:"Missing config parameter(s)",TRACK_SWITCH_MODE_ALWAYS_REPLACE:"alwaysReplace",TRACK_SWITCH_MODE_NEVER_REPLACE:"neverReplace",TRACK_SELECTION_MODE_FIRST_TRACK:"firstTrack",TRACK_SELECTION_MODE_HIGHEST_BITRATE:"highestBitrate",TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:"highestEfficiency",TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:"lowestStartupDelay",TRACK_SELECTION_MODE_WIDEST_RANGE:"widestRange",CMCD_QUERY_KEY:"CMCD",CMCD_MODE_QUERY:"query",CMCD_MODE_HEADER:"header",CMCD_AVAILABLE_KEYS:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"],CMCD_V2_AVAILABLE_KEYS:["msd","ltc"],CMCD_AVAILABLE_REQUESTS:["segment","mpd","xlink","steering","other"],INITIALIZE:"initialize",TEXT_SHOWING:"showing",TEXT_HIDDEN:"hidden",TEXT_DISABLED:"disabled",ACCESSIBILITY_CEA608_SCHEME:"urn:scte:dash:cc:cea-608:2015",CC1:"CC1",CC3:"CC3",UTF8:"utf-8",SCHEME_ID_URI:"schemeIdUri",START_TIME:"starttime",SERVICE_DESCRIPTION_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:scope:2019",SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:critical:2019",CTA_5004_2023_SCHEME:"urn:mpeg:dash:cta-5004:2023",THUMBNAILS_SCHEME_ID_URIS:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],FONT_DOWNLOAD_DVB_SCHEME:"urn:dvb:dash:fontdownload:2014",COLOUR_PRIMARIES_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:ColourPrimaries",URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2014",EXT_URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2016",MATRIX_COEFFICIENTS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:MatrixCoefficients",TRANSFER_CHARACTERISTICS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:TransferCharacteristics",SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI:"urn:mpeg:dash:ssr:2023",HDR_METADATA_FORMAT_SCHEME_ID_URI:"urn:dvb:dash:hdr-dmi",HDR_METADATA_FORMAT_VALUES:{ST2094_10:"ST2094-10",SL_HDR2:"SL-HDR2",ST2094_40:"ST2094-40"},MEDIA_CAPABILITIES_API:{COLORGAMUT:{SRGB:"srgb",P3:"p3",REC2020:"rec2020"},TRANSFERFUNCTION:{SRGB:"srgb",PQ:"pq",HLG:"hlg"},HDR_METADATATYPE:{SMPTE_ST_2094_10:"smpteSt2094-10",SLHDR2:"slhdr2",SMPTE_ST_2094_40:"smpteSt2094-40"}},XML:"XML",ARRAY_BUFFER:"ArrayBuffer",DVB_REPORTING_URL:"dvb:reportingUrl",DVB_PROBABILITY:"dvb:probability",OFF_MIMETYPE:"application/font-sfnt",WOFF_MIMETYPE:"application/font-woff",VIDEO_ELEMENT_READY_STATES:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},FILE_LOADER_TYPES:{FETCH:"fetch_loader",XHR:"xhr_loader"},THROUGHPUT_TYPES:{LATENCY:"throughput_type_latency",BANDWIDTH:"throughput_type_bandwidth"},THROUGHPUT_CALCULATION_MODES:{EWMA:"throughputCalculationModeEwma",ZLEMA:"throughputCalculationModeZlema",ARITHMETIC_MEAN:"throughputCalculationModeArithmeticMean",BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeByteSizeWeightedArithmeticMean",DATE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeDateWeightedArithmeticMean",HARMONIC_MEAN:"throughputCalculationModeHarmonicMean",BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeByteSizeWeightedHarmonicMean",DATE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeDateWeightedHarmonicMean"},LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE:{MOOF_PARSING:"lowLatencyDownloadTimeCalculationModeMoofParsing",DOWNLOADED_DATA:"lowLatencyDownloadTimeCalculationModeDownloadedData",AAST:"lowLatencyDownloadTimeCalculationModeAast"},RULES_TYPES:{QUALITY_SWITCH_RULES:"qualitySwitchRules",ABANDON_FRAGMENT_RULES:"abandonFragmentRules"},QUALITY_SWITCH_RULES:{BOLA_RULE:"BolaRule",THROUGHPUT_RULE:"ThroughputRule",INSUFFICIENT_BUFFER_RULE:"InsufficientBufferRule",SWITCH_HISTORY_RULE:"SwitchHistoryRule",DROPPED_FRAMES_RULE:"DroppedFramesRule",LEARN_TO_ADAPT_RULE:"L2ARule",LOL_PLUS_RULE:"LoLPRule"},ABANDON_FRAGMENT_RULES:{ABANDON_REQUEST_RULE:"AbandonRequestsRule"},ID3_SCHEME_ID_URI:"https://aomedia.org/emsg/ID3",COMMON_ACCESS_TOKEN_HEADER:"common-access-token",DASH_ROLE_SCHEME_ID:"urn:mpeg:dash:role:2011",CODEC_FAMILIES:{MP3:"mp3",AAC:"aac",AC3:"ac3",EC3:"ec3",DTSX:"dtsx",DTSC:"dtsc",AVC:"avc",HEVC:"hevc"}}},2861:function(n,e,t){t.r(e),e.default={CLEARKEY_KEYSTEM_STRING:"org.w3.clearkey",WIDEVINE_KEYSTEM_STRING:"com.widevine.alpha",PLAYREADY_KEYSTEM_STRING:"com.microsoft.playready",PLAYREADY_RECOMMENDATION_KEYSTEM_STRING:"com.microsoft.playready.recommendation",WIDEVINE_UUID:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",PLAYREADY_UUID:"9a04f079-9840-4286-ab92-e65be0885f95",CLEARKEY_UUID:"e2719d58-a985-b3c9-781a-b030af78d30e",W3C_CLEARKEY_UUID:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",INITIALIZATION_DATA_TYPE_CENC:"cenc",INITIALIZATION_DATA_TYPE_KEYIDS:"keyids",INITIALIZATION_DATA_TYPE_WEBM:"webm",ENCRYPTION_SCHEME_CENC:"cenc",ENCRYPTION_SCHEME_CBCS:"cbcs",MEDIA_KEY_MESSAGE_TYPES:{LICENSE_REQUEST:"license-request",LICENSE_RENEWAL:"license-renewal",LICENSE_RELEASE:"license-release",INDIVIDUALIZATION_REQUEST:"individualization-request"},ROBUSTNESS_STRINGS:{WIDEVINE:{SW_SECURE_CRYPTO:"SW_SECURE_CRYPTO",SW_SECURE_DECODE:"SW_SECURE_DECODE",HW_SECURE_CRYPTO:"HW_SECURE_CRYPTO",HW_SECURE_DECODE:"HW_SECURE_DECODE",HW_SECURE_ALL:"HW_SECURE_ALL"}},MEDIA_KEY_STATUSES:{USABLE:"usable",EXPIRED:"expired",RELEASED:"released",OUTPUT_RESTRICTED:"output-restricted",OUTPUT_DOWNSCALED:"output-downscaled",STATUS_PENDING:"status-pending",INTERNAL_ERROR:"internal-error"}}},4469:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});class i{constructor(){this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}}i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00";var r=i,o=t(913),l=t(138);function c(ve){let ce,Qe;const ht=(ve=ve||{}).eventBus,Je=ve.dashMetrics,it=ve.metricsConstants,Xe=ve.events;function lt(gn){let en=new r;if(Qe){for(const Wn in gn)gn.hasOwnProperty(Wn)&&(en[Wn]=gn[Wn]);en.mpdurl||(en.mpdurl=Qe.originalUrl||Qe.url),en.terror||(en.terror=new Date),Je.addDVBErrors(en)}}function Rt(gn){gn.error||(Qe=gn.manifest)}function dt(gn){lt({errorcode:r.BASE_URL_CHANGED,servicelocation:gn.entry})}function Bt(){lt({errorcode:r.BECAME_REPORTER})}function wn(gn){var en;gn.metric===it.HTTP_REQUEST&&((en=gn.value).responsecode===0||en.responsecode==null||en.responsecode>=400||en.responsecode<100||en.responsecode>=600)&&lt({errorcode:en.responsecode||r.CONNECTION_ERROR,url:en.url,terror:en.tresponse,servicelocation:en._serviceLocation})}function Zt(gn){let en;switch(gn.error?gn.error.code:0){case MediaError.MEDIA_ERR_NETWORK:en=r.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:en=r.CORRUPT_MEDIA_OTHER;break;default:return}lt({errorcode:en})}return ce={initialize:function(){ht.on(Xe.MANIFEST_UPDATED,Rt,ce),ht.on(Xe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,dt,ce),ht.on(Xe.METRIC_ADDED,wn,ce),ht.on(Xe.METRIC_UPDATED,wn,ce),ht.on(Xe.PLAYBACK_ERROR,Zt,ce),ht.on(o.default.BECAME_REPORTING_PLAYER,Bt,ce)},reset:function(){ht.off(Xe.MANIFEST_UPDATED,Rt,ce),ht.off(Xe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,dt,ce),ht.off(Xe.METRIC_ADDED,wn,ce),ht.off(Xe.METRIC_UPDATED,wn,ce),ht.off(Xe.PLAYBACK_ERROR,Zt,ce),ht.off(o.default.BECAME_REPORTING_PLAYER,Bt,ce)}},ce}c.__dashjs_factory_name="DVBErrorsTranslator";var f=l.default.getSingletonFactory(c),h=t(7377);function g(ve){ve=ve||{};let ce,Qe,ht=!1,Je=this.context,it=ve.mediaElement;return ce={initialize:function(Xe){Xe&&Xe.length&&(Xe.forEach((lt=>{let Rt=lt.starttime,dt=Rt+lt.duration;Qe.add(Rt,dt)})),ht=!!Xe[0]._useWallClockTime)},reset:function(){Qe.clear()},isEnabled:function(){let Xe,lt=Qe.length;if(!lt)return!0;Xe=ht?new Date().getTime()/1e3:it.currentTime;for(let Rt=0;Rt<lt;Rt+=1){let dt=Qe.start(Rt),Bt=Qe.end(Rt);if(dt<=Xe&&Xe<Bt)return!0}return!1}},Qe=(0,h.default)(Je).create(),ce}g.__dashjs_factory_name="RangeController";var m=l.default.getClassFactory(g);function p(){return{serialise:function ve(ce){let Qe,ht,Je=[],it=[];for(Qe in ce)if(ce.hasOwnProperty(Qe)&&Qe.indexOf("_")!==0){if(ht=ce[Qe],ht==null&&(ht=""),Array.isArray(ht)){if(!ht.length)continue;it=[],ht.forEach((function(Xe){let lt=Object.prototype.toString.call(Xe).slice(8,-1)!=="Object";it.push(lt?Xe:ve(Xe))})),ht=it.map(encodeURIComponent).join(",")}else typeof ht=="string"?ht=encodeURIComponent(ht):ht instanceof Date?ht=ht.toISOString():typeof ht=="number"&&(ht=Math.round(ht));Je.push(Qe+"="+ht)}return Je.join("&")}}}p.__dashjs_factory_name="MetricSerialiser";var y=l.default.getSingletonFactory(p);function E(){let ve,ce,Qe,ht=window.crypto||window.msCrypto,Je=Uint32Array,it=Math.pow(2,8*Je.BYTES_PER_ELEMENT)-1;function Xe(){ht&&(ve||(ve=new Je(10)),ht.getRandomValues(ve),ce=0)}return Qe={random:function(lt,Rt){let dt;return lt||(lt=0),Rt||(Rt=1),ht?(ce===ve.length&&Xe(),dt=ve[ce]/it,ce+=1):dt=Math.random(),dt*(Rt-lt)+lt}},Xe(),Qe}E.__dashjs_factory_name="RNG";var A=l.default.getSingletonFactory(E),w=t(1926);function M(ve){let ce;ve=ve||{};let Qe,ht,Je,it,Xe,lt,Rt,dt=this.context,Bt=[];const wn=ve.metricsConstants;function Zt(){it=!1,Xe=!1,lt=null,Rt=null}return ce={report:function(gn,en){Array.isArray(en)||(en=[en]),Xe&&Rt.isEnabled()&&en.forEach((function(Wn){let Ti=Qe.serialise(Wn);gn!==wn.DVB_ERRORS&&(Ti=`metricname=${gn}&${Ti}`),Ti=`${lt}?${Ti}`,(function(Xi,zi,ki){let wa=new XMLHttpRequest;wa.withCredentials=ht.getXHRWithCredentialsForType(wn.HTTP_REQUEST_DVB_REPORTING_TYPE);const Gt=function(){let $t=Bt.indexOf(wa);$t!==-1&&(Bt.splice($t,1),!(wa.status>=200&&wa.status<300)&&ki&&ki())};Bt.push(wa);try{wa.open("GET",Xi),wa.onloadend=Gt,wa.onerror=Gt,wa.send()}catch{wa.onerror()}})(Ti,0,(function(){Xe=!1}))}))},initialize:function(gn,en){let Wn;if(Rt=en,lt=gn.dvbReportingUrl,!lt)throw new Error("required parameter missing (dvb:reportingUrl)");it||(Wn=gn.dvbProbability,Wn&&(Wn===1e3||Wn/1e3>=Je.random())&&(Xe=!0),it=!0)},reset:function(){Zt()}},Qe=y(dt).getInstance(),Je=A(dt).getInstance(),ht=(0,w.default)(dt).getInstance(),Zt(),ce}M.__dashjs_factory_name="DVBReporting";var x=l.default.getClassFactory(M);function C(ve){ve=ve||{};const ce={"urn:dvb:dash:reporting:2014":x},Qe=this.context;let ht;const Je=ve.debug?ve.debug.getLogger(ht):{},it=ve.metricsConstants,Xe=ve.mediaPlayerModel||{};return ht={create:function(lt,Rt){let dt;try{dt=ce[lt.schemeIdUri](Qe).create({metricsConstants:it,mediaPlayerModel:Xe}),dt.initialize(lt,Rt)}catch(Bt){dt=null,Je.error(`ReportingFactory: could not create Reporting with schemeIdUri ${lt.schemeIdUri} (${Bt.message})`)}return dt},register:function(lt,Rt){ce[lt]=Rt},unregister:function(lt){delete ce[lt]}},ht}C.__dashjs_factory_name="ReportingFactory";var O=l.default.getSingletonFactory(C);function z(ve){let ce,Qe=[];const ht=O(this.context).getInstance(ve);return ce={initialize:function(Je,it){Je.some((Xe=>{let lt=ht.create(Xe,it);if(lt)return Qe.push(lt),!0}))},reset:function(){Qe.forEach((Je=>Je.reset())),Qe=[]},report:function(Je,it){Qe.forEach((Xe=>Xe.report(Je,it)))}},ce}z.__dashjs_factory_name="ReportingController";var se=l.default.getClassFactory(z);function F(){return{reconstructFullMetricName:function(ve,ce,Qe){let ht=ve;return ce&&(ht+="("+ce,Qe&&Qe.length&&(ht+=","+Qe),ht+=")"),ht},validateN:function(ve){if(!ve)throw new Error("missing n");if(isNaN(ve))throw new Error("n is NaN");if(ve<0)throw new Error("n must be positive");return ve}}}F.__dashjs_factory_name="HandlerHelpers";var H=l.default.getSingletonFactory(F);function be(ve){let ce,Qe,ht,Je,it,Xe;ve=ve||{};let lt=this.context,Rt=H(lt).getInstance(),dt=[];const Bt=ve.metricsConstants;function wn(){let Zt=(function(){try{return Object.keys(dt).map((gn=>dt[gn])).reduce(((gn,en)=>gn.level<en.level?gn:en))}catch{return}})();Zt&&Xe!==Zt.t&&(Xe=Zt.t,Qe.report(Je,Zt))}return ce={initialize:function(Zt,gn,en){gn&&(ht=Rt.validateN(en),Qe=gn,Je=Rt.reconstructFullMetricName(Zt,en),it=setInterval(wn,ht))},reset:function(){clearInterval(it),it=null,ht=0,Qe=null,Xe=null},handleNewMetric:function(Zt,gn,en){Zt===Bt.BUFFER_LEVEL&&(dt[en]=gn)}},ce}be.__dashjs_factory_name="BufferLevelHandler";var Ae=l.default.getClassFactory(be),Me=l.default.getClassFactory((function(ve){let ce,Qe,ht=(ve=ve||{}).eventBus;const Je=ve.metricsConstants;function it(){ht.off(o.default.METRICS_INITIALISATION_COMPLETE,it,this),ht.trigger(o.default.BECAME_REPORTING_PLAYER)}return ce={initialize:function(Xe,lt){lt&&(Qe=lt,ht.on(o.default.METRICS_INITIALISATION_COMPLETE,it,this))},reset:function(){Qe=null},handleNewMetric:function(Xe,lt){Xe===Je.DVB_ERRORS&&Qe&&Qe.report(Xe,lt)}},ce}));function Ve(ve){let ce,Qe,ht,Je,it,Xe;ve=ve||{};let lt=[],Rt=H(this.context).getInstance();const dt=ve.metricsConstants;function Bt(){var wn=lt;wn.length&&Qe&&Qe.report(it,wn),lt=[]}return ce={initialize:function(wn,Zt,gn,en){Zt&&(ht=Rt.validateN(gn),Qe=Zt,en&&en.length&&(Je=en),it=Rt.reconstructFullMetricName(wn,gn,en),Xe=setInterval(Bt,ht))},reset:function(){clearInterval(Xe),Xe=null,ht=null,Je=null,lt=[],Qe=null},handleNewMetric:function(wn,Zt){wn===dt.HTTP_REQUEST&&(Je&&Je!==Zt.type||lt.push(Zt))}},ce}Ve.__dashjs_factory_name="HttpListHandler";var Se=l.default.getClassFactory(Ve);function He(){let ve,ce,Qe;return ve={initialize:function(ht,Je){ce=ht,Qe=Je},reset:function(){Qe=null,ce=void 0},handleNewMetric:function(ht,Je){ht===ce&&Qe&&Qe.report(ce,Je)}},ve}He.__dashjs_factory_name="GenericMetricHandler";var Ue=l.default.getClassFactory(He);function he(ve){let ce;const Qe=(ve=ve||{}).debug?ve.debug.getLogger(ce):{};let ht=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/;const Je=this.context;let it={BufferLevel:Ae,DVBErrors:Me,HttpList:Se,PlayList:Ue,RepSwitchList:Ue,TcpList:Ue};return ce={create:function(Xe,lt){var Rt,dt=Xe.match(ht);if(dt){try{(Rt=it[dt[1]](Je).create({eventBus:ve.eventBus,metricsConstants:ve.metricsConstants})).initialize(dt[1],lt,dt[3],dt[5])}catch(Bt){Rt=null,Qe.error(`MetricsHandlerFactory: Could not create handler for type ${dt[1]} with args ${dt[3]}, ${dt[5]} (${Bt.message})`)}return Rt}},register:function(Xe,lt){it[Xe]=lt},unregister:function(Xe){delete it[Xe]}},ce}he.__dashjs_factory_name="MetricsHandlerFactory";var $e=l.default.getSingletonFactory(he);function Ye(ve){ve=ve||{};let ce,Qe=[];const ht=this.context,Je=ve.eventBus,it=ve.events;let Xe=$e(ht).getInstance({debug:ve.debug,eventBus:ve.eventBus,metricsConstants:ve.metricsConstants});function lt(Rt){Qe.forEach((dt=>{dt.handleNewMetric(Rt.metric,Rt.value,Rt.mediaType)}))}return ce={initialize:function(Rt,dt){Rt.split(",").forEach(((Bt,wn,Zt)=>{let gn;if(Bt.indexOf("(")!==-1&&Bt.indexOf(")")===-1){let en=Zt[wn+1];en&&en.indexOf("(")===-1&&en.indexOf(")")!==-1&&(Bt+=","+en,delete Zt[wn+1])}gn=Xe.create(Bt,dt),gn&&Qe.push(gn)})),Je.on(it.METRIC_ADDED,lt,ce),Je.on(it.METRIC_UPDATED,lt,ce)},reset:function(){Je.off(it.METRIC_ADDED,lt,ce),Je.off(it.METRIC_UPDATED,lt,ce),Qe.forEach((Rt=>Rt.reset())),Qe=[]}},ce}Ye.__dashjs_factory_name="MetricsHandlersController";var tt=l.default.getClassFactory(Ye);function rt(ve){let ce,Qe,ht,Je;ve=ve||{};let it=this.context;function Xe(){ce&&ce.reset(),Qe&&Qe.reset(),ht&&ht.reset()}return Je={initialize:function(lt){try{ht=m(it).create({mediaElement:ve.mediaElement}),ht.initialize(lt.Range),Qe=se(it).create({debug:ve.debug,metricsConstants:ve.metricsConstants,mediaPlayerModel:ve.mediaPlayerModel}),Qe.initialize(lt.Reporting,ht),ce=tt(it).create({debug:ve.debug,eventBus:ve.eventBus,metricsConstants:ve.metricsConstants,events:ve.events}),ce.initialize(lt.metrics,Qe)}catch(Rt){throw Xe(),Rt}},reset:Xe},Je}rt.__dashjs_factory_name="MetricsController";var De=l.default.getClassFactory(rt),We=class{constructor(){this.metrics="",this.Range=[],this.Reporting=[]}},ct=class{constructor(){this.starttime=0,this.duration=1/0,this._useWallClockTime=!1}},It=class{constructor(){this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3}};function Fe(ve){let ce,Qe=(ve=ve||{}).adapter;const ht=ve.constants;return ce={getMetrics:function(Je){let it=[];return Je&&Je.Metrics&&Je.Metrics.forEach((Xe=>{var lt=new We,Rt=Qe.getIsDynamic(Je);Xe.hasOwnProperty("metrics")&&(lt.metrics=Xe.metrics,Xe.Range&&Xe.Range.forEach((dt=>{var Bt=new ct;Bt.starttime=(function(wn,Zt,gn){let en,Wn,Ti=0;return Zt?Ti=Qe.getAvailabilityStartTime(wn)/1e3:(en=Qe.getRegularPeriods(wn),en.length&&(Ti=en[0].start)),Wn=Ti,gn&&gn.hasOwnProperty(ht.START_TIME)&&(Wn+=gn.starttime),Wn})(Je,Rt,dt),dt.hasOwnProperty("duration")?Bt.duration=dt.duration:Bt.duration=Qe.getDuration(Je),Bt._useWallClockTime=Rt,lt.Range.push(Bt)})),Xe.Reporting&&(Xe.Reporting.forEach((dt=>{var Bt=new It;dt.hasOwnProperty(ht.SCHEME_ID_URI)&&(Bt.schemeIdUri=dt.schemeIdUri,dt.hasOwnProperty("value")&&(Bt.value=dt.value),dt.hasOwnProperty(ht.DVB_REPORTING_URL)&&(Bt.dvbReportingUrl=dt[ht.DVB_REPORTING_URL]),dt.hasOwnProperty(ht.DVB_PROBABILITY)&&(Bt.dvbProbability=dt[ht.DVB_PROBABILITY]),lt.Reporting.push(Bt))})),it.push(lt)))})),it}},ce}Fe.__dashjs_factory_name="ManifestParsing";var ze=l.default.getSingletonFactory(Fe);function pt(ve){let ce;ve=ve||{};let Qe={},ht=this.context,Je=ve.eventBus;const it=ve.events;function Xe(Rt){if(Rt.error)return;let dt=Object.keys(Qe);ze(ht).getInstance({adapter:ve.adapter,constants:ve.constants}).getMetrics(Rt.manifest).forEach((Bt=>{const wn=JSON.stringify(Bt);if(Qe.hasOwnProperty(wn))dt.splice(wn,1);else try{let Zt=De(ht).create(ve);Zt.initialize(Bt),Qe[wn]=Zt}catch{}})),dt.forEach((Bt=>{Qe[Bt].reset(),delete Qe[Bt]})),Je.trigger(o.default.METRICS_INITIALISATION_COMPLETE)}function lt(){Object.keys(Qe).forEach((Rt=>{Qe[Rt].reset()})),Qe={}}return ce={reset:function(){Je.off(it.MANIFEST_UPDATED,Xe,ce),Je.off(it.STREAM_TEARDOWN_COMPLETE,lt,ce)}},Je.on(it.MANIFEST_UPDATED,Xe,ce),Je.on(it.STREAM_TEARDOWN_COMPLETE,lt,ce),ce}pt.__dashjs_factory_name="MetricsCollectionController";var re=l.default.getClassFactory(pt);function ee(){let ve,ce,Qe=this.context;return ve={createMetricsReporting:function(ht){return ce=f(Qe).getInstance({eventBus:ht.eventBus,dashMetrics:ht.dashMetrics,metricsConstants:ht.metricsConstants,events:ht.events}),ce.initialize(),re(Qe).create(ht)},getReportingFactory:function(){return O(Qe).getInstance()},getMetricsHandlerFactory:function(){return $e(Qe).getInstance()}},ve}ee.__dashjs_factory_name="MetricsReporting";const P=l.default.getClassFactory(ee);P.events=o.default,l.default.updateClassFactory(ee.__dashjs_factory_name,P);var G=P},913:function(n,e,t){t.r(e);var i=t(7252);class r extends i.default{constructor(){super(),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",this.CMCD_DATA_GENERATED="cmcdDataGenerated"}}let o=new r;e.default=o},1926:function(n,e,t){t.r(e);var i=t(5717),r=t(138),o=t(8261),l=t(656),c=t(5212),f=t(5560);function h(){let g,m,p,y,E,A,w,M,x,C,O;const z=this.context,se=(0,o.default)(z).getInstance();function F(){y=[],E=[],A=[],w=[],M=[],O=[],x=null,m=[],C=new Set}function H(Se,He){let Ue=-1;Se.some(((he,$e)=>{if(he===He)return Ue=$e,!0})),Ue<0||Se.splice(Ue,1)}function be(Se){let He;for(He=0;He<O.length;He++)if(O[He].rulename===Se)return He;return-1}function Ae(Se,He){let Ue=!1;return C.forEach((he=>{he[Se]===He&&(Ue=!0)})),Ue}function Me(Se,He){Ve(Se,He);let Ue=new i.default;Ue.schemeIdUri=Se,Ue.value=He,m.push(Ue)}function Ve(Se,He){(0,l.checkParameterType)(Se,"string"),(0,l.checkParameterType)(He,"string"),m.forEach((function(Ue,he){Ue.schemeIdUri===Se&&Ue.value===He&&m.splice(he,1)}))}return g={addAbrCustomRule:function(Se,He,Ue){if(typeof Se!="string"||Se!==c.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&Se!==c.default.RULES_TYPES.QUALITY_SWITCH_RULES||typeof He!="string")throw c.default.BAD_ARGUMENT_ERROR;let he=be(He);he===-1?O.push({type:Se,rulename:He,rule:Ue}):(O[he].type=Se,O[he].rule=Ue)},addExternalSubtitle:function(Se){if(!(Se&&Se.id!==void 0&&Se.url&&Se.language&&Se.mimeType&&Se.bandwidth!==void 0))return;const He=new f.default(Se);Ae("url",He.url)||Ae("id",He.id)||C.add(He)},addRequestInterceptor:function(Se){y.push(Se)},addResponseInterceptor:function(Se){E.push(Se)},addUTCTimingSource:Me,clearDefaultUTCTimingSources:function(){m=[]},getAbrCustomRules:function(){return O},getCustomCapabilitiesFilters:function(){return M},getCustomInitialTrackSelectionFunction:function(){return x},getExternalSubtitles:function(){return C},getLicenseRequestFilters:function(){return A},getLicenseResponseFilters:function(){return w},getRequestInterceptors:function(){return y},getResponseInterceptors:function(){return E},getUTCTimingSources:function(){return m},getXHRWithCredentialsForType:function(Se){const He=p[Se];return He===void 0?p.default:He},registerCustomCapabilitiesFilter:function(Se){M.push(Se)},registerLicenseRequestFilter:function(Se){A.push(Se)},registerLicenseResponseFilter:function(Se){w.push(Se)},removeAbrCustomRule:function(Se){if(Se){let He=be(Se);He!==-1&&O.splice(He,1)}else O=[]},removeAllAbrCustomRule:function(){O=[]},removeExternalSubtitleById:function(Se){C.forEach((He=>{He.id===Se&&C.delete(He)}))},removeExternalSubtitleByUrl:function(Se){C.forEach((He=>{He.url===Se&&C.delete(He)}))},removeRequestInterceptor:function(Se){H(y,Se)},removeResponseInterceptor:function(Se){H(E,Se)},removeUTCTimingSource:Ve,reset:function(){F()},resetCustomInitialTrackSelectionFunction:function(){x=null},resetPlaybackSessionSpecificSettings:function(){C=new Set},restoreDefaultUTCTimingSources:function(){let Se=se.get().streaming.utcSynchronization.defaultTimingSource;Me(Se.scheme,Se.value)},setConfig:function(){},setCustomInitialTrackSelectionFunction:function(Se){x=Se},setXHRWithCredentialsForType:function Se(He,Ue){He?p[He]=!!Ue:Object.keys(p).forEach((he=>{Se(he,Ue)}))},unregisterCustomCapabilitiesFilter:function(Se){H(M,Se)},unregisterLicenseRequestFilter:function(Se){H(A,Se)},unregisterLicenseResponseFilter:function(Se){H(w,Se)}},p={default:!1},F(),g}h.__dashjs_factory_name="CustomParametersModel",e.default=r.default.getSingletonFactory(h)},3888:function(n,e,t){t.r(e),t.d(e,{default:function(){return wa}});var i=t(8854),r=t(2861);const o={prefixes:["clearkey","dashif","ck"]};class l{static findMp4ProtectionElement($t){let Lt=null;for(let kt=0;kt<$t.length;++kt){let dn=$t[kt];dn.schemeIdUri&&dn.schemeIdUri.toLowerCase()===i.default.MP4_PROTECTION_SCHEME&&dn.value&&(dn.value.toLowerCase()===r.default.ENCRYPTION_SCHEME_CENC||dn.value.toLowerCase()===r.default.ENCRYPTION_SCHEME_CBCS)&&(Lt=dn)}return Lt}static getPSSHData($t){let Lt=8,kt=new DataView($t),dn=kt.getUint8(Lt);return Lt+=20,dn>0&&(Lt+=4+16*kt.getUint32(Lt)),Lt+=4,$t.slice(Lt)}static getPSSHForKeySystem($t,Lt){let kt=l.parsePSSHList(Lt);return $t&&kt.hasOwnProperty($t.uuid.toLowerCase())?kt[$t.uuid.toLowerCase()]:null}static parseInitDataFromContentProtection($t,Lt){return"pssh"in $t&&$t.pssh?($t.pssh.__text=$t.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),Lt.decodeArray($t.pssh.__text).buffer):null}static parsePSSHList($t){if($t==null)return[];let Lt=new DataView($t.buffer||$t),kt={},dn=0;for(;;){let un,pn,Sn,Wt,Jt,cn,bn=dn;if(dn>=Lt.buffer.byteLength)break;if(un=Lt.getUint32(dn),pn=dn+un,dn+=4,Lt.getUint32(dn)===1886614376)if(dn+=4,Sn=Lt.getUint8(dn),Sn===0||Sn===1){for(dn++,dn+=3,Wt="",Jt=0;Jt<4;Jt++)cn=Lt.getUint8(dn+Jt).toString(16),Wt+=cn.length===1?"0"+cn:cn;for(dn+=4,Wt+="-",Jt=0;Jt<2;Jt++)cn=Lt.getUint8(dn+Jt).toString(16),Wt+=cn.length===1?"0"+cn:cn;for(dn+=2,Wt+="-",Jt=0;Jt<2;Jt++)cn=Lt.getUint8(dn+Jt).toString(16),Wt+=cn.length===1?"0"+cn:cn;for(dn+=2,Wt+="-",Jt=0;Jt<2;Jt++)cn=Lt.getUint8(dn+Jt).toString(16),Wt+=cn.length===1?"0"+cn:cn;for(dn+=2,Wt+="-",Jt=0;Jt<6;Jt++)cn=Lt.getUint8(dn+Jt).toString(16),Wt+=cn.length===1?"0"+cn:cn;dn+=6,Wt=Wt.toLowerCase(),dn+=4,kt[Wt]=Lt.buffer.slice(bn,pn),dn=pn}else dn=pn;else dn=pn}return kt}static getLicenseServerUrlFromMediaInfo($t,Lt){try{if(!$t||$t.length===0)return null;let kt=0,dn=null;for(;kt<$t.length&&!dn;){const un=$t[kt];if(un&&un.contentProtection&&un.contentProtection.length>0){const pn=un.contentProtection.filter((Sn=>Sn.schemeIdUri&&Sn.schemeIdUri===Lt));if(pn&&pn.length>0){let Sn=0;for(;Sn<pn.length&&!dn;){const Wt=pn[Sn];Wt.laUrl&&Wt.laUrl.__prefix&&o.prefixes.includes(Wt.laUrl.__prefix)&&Wt.laUrl.__text&&(dn=Wt.laUrl.__text),Sn+=1}}}kt+=1}return dn}catch{return null}}static hexKidToBufferSource($t){const Lt=$t.replace(/-/g,"");return new Uint8Array(Lt.match(/[\da-f]{2}/gi).map((function(kt){return parseInt(kt,16)}))).buffer}}var c=l,f=class{constructor(Gt,$t){this.contentType=Gt,this.robustness=$t}},h=class{constructor(Gt,$t,Lt,kt,dn,un){this.initDataTypes=un&&un.length>0?un:[r.default.INITIALIZATION_DATA_TYPE_CENC],Gt&&Gt.length&&(this.audioCapabilities=Gt),$t&&$t.length&&(this.videoCapabilities=$t),this.distinctiveIdentifier=Lt,this.persistentState=kt,this.sessionTypes=dn}},g=t(1923),m=t(1944),p=class{constructor(Gt,$t,Lt,kt,dn,un,pn,Sn){this.url=Gt,this.method=$t,this.responseType=Lt,this.headers=kt,this.withCredentials=dn,this.messageType=un,this.sessionId=pn,this.data=Sn}},y=class{constructor(Gt,$t,Lt){this.url=Gt,this.headers=$t,this.data=Lt}},E=t(7568),A=t(7263),w=t(5212),M=t(138);function x(Gt){const $t=(Gt=Gt||{}).BASE64,Lt=Gt.cmcdModel,kt=Gt.constants,dn=Gt.customParametersModel,un=Gt.debug,pn=Gt.eventBus,Sn=Gt.events,Wt=Gt.protectionKeyController,Jt=Gt.settings;let cn,bn,an,xn,ni,qn,zn,Ai,En,Ut,vt,fn,An=Gt.protectionModel,Qn=[];function wi(){if(!(pn&&pn.hasOwnProperty("on")&&Wt&&Wt.hasOwnProperty("getSupportedKeySystemMetadataFromContentProtection")))throw new Error("Missing config parameter(s)")}function Ri(nn,Rn){vt||xn?vt&&Ni():(function(Yn,vi){if(xn)return;var mi;xn=!0;const Oi=(function(Ei){const di=[];for(let xi=0;xi<Ei.length;xi++){const Zi=yi(Ei[xi]);di.push({ks:Ei[xi].ks,configs:[Zi],protData:Ei[xi].protData})}return di})(Yn=(mi=Yn).sort(((Ei,di)=>(cn&&cn[Ei.ks.systemString]&&cn[Ei.ks.systemString].priority>=0?cn[Ei.ks.systemString].priority:mi.length)-(cn&&cn[di.ks.systemString]&&cn[di.ks.systemString].priority>=0?cn[di.ks.systemString].priority:mi.length))));let Wi;An.requestKeySystemAccess(Oi).then((Ei=>(Wi=Ei.data,(function(di){let xi=di&&di.selectedSystemString?di.selectedSystemString:di.keySystem.systemString;return zn.info("DRM: KeySystem Access Granted for system string ("+xi+")!  Selecting key system..."),An.selectKeySystem(di)})(Wi)))).then((Ei=>{(function(di,xi){try{vt=di,xn=!1,pn.trigger(Sn.KEY_SYSTEM_SELECTED,{data:xi});const Zi=Qa(vt);Zi&&Zi.serverCertificate&&Zi.serverCertificate.length>0&&An.setServerCertificate($t.decodeArray(Zi.serverCertificate).buffer),Ni()}catch(Zi){zn.error(Zi)}})(Ei,Wi)})).catch((Ei=>{(function(di,xi){vt=null,xn=!1,xi||pn.trigger(Sn.KEY_SYSTEM_SELECTED,{data:null,error:new m.default(g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+di.error)})})(Ei,vi)}))})(nn,Rn)}function Ni(){let nn;for(let Yn=0;Yn<En.length;Yn++)for(nn=0;nn<En[Yn].length;nn++)if(vt===En[Yn][nn].ks){Rn=En[Yn][nn],Wt.isClearKey(vt)&&(function(vi){if(vi.protData&&vi.protData.hasOwnProperty("clearkeys")&&Object.keys(vi.protData.clearkeys).length!==0){const mi={kids:Object.keys(vi.protData.clearkeys)};vi.initData=new TextEncoder().encode(JSON.stringify(mi))}})(Rn),Rn.sessionId?ua(Rn):Rn.initData!==null&&xe(Rn);break}var Rn;En=[]}function yi(nn){const Rn=nn.protData,Yn=[],vi=[],mi=Rn&&Rn.initDataTypes&&Rn.initDataTypes.length>0?Rn.initDataTypes:[r.default.INITIALIZATION_DATA_TYPE_CENC],Oi=Rn&&Rn.audioRobustness&&Rn.audioRobustness.length>0?Rn.audioRobustness:Ut,Wi=Rn&&Rn.videoRobustness&&Rn.videoRobustness.length>0?Rn.videoRobustness:Ut,Ei=nn.sessionType,di=Rn&&Rn.distinctiveIdentifier?Rn.distinctiveIdentifier:"optional",xi=Rn&&Rn.persistentState?Rn.persistentState:Ei==="temporary"?"optional":"required";return Ai.forEach((Zi=>{Zi.type===kt.AUDIO?Yn.push(new f(Zi.codec,Oi)):Zi.type===kt.VIDEO&&vi.push(new f(Zi.codec,Wi))})),new h(Yn,vi,di,xi,[Ei],mi)}function ua(nn){wi(),An.loadKeySession(nn)}function xe(nn){if(nn&&(function(Yn){if(!Yn)return!1;try{const vi=An.getSessionTokens();for(let mi=0;mi<vi.length;mi++)if(vi[mi].getKeyId()===Yn)return!0;return!1}catch{return!1}})(nn.keyId))return;(function(){if(!Jt)return;const Yn=Jt.get().streaming.protection.keepProtectionMediaKeys,vi=Jt.get().streaming.protection.keepProtectionMediaKeysMaximumOpenSessions;if(typeof vi!="number"||vi<=0)return;if(!Yn)return void zn.warn("DRM: keepProtectionMediaKeysMaximumOpenSessions is set to "+vi+", but keepProtectionMediaKeys is not enabled. Therefore, keepProtectionMediaKeysMaximumOpenSessions will be ignored.");if(!An||typeof An.getSessionTokens!="function")return;const mi=An.getSessionTokens()||[];if(mi.length<vi)return;const Oi=mi[0];Oi&&(zn.info("DRM: Maximum number of open MediaKeySessions reached ("+vi+"), closing oldest session."),ao(Oi))})();const Rn=c.getPSSHForKeySystem(vt,nn?nn.initData:null);if(Rn){if(Es(Rn))return;try{nn.initData=Rn,An.createKeySession(nn)}catch(Yn){pn.trigger(Sn.KEY_SESSION_CREATED,{data:null,error:new m.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+Yn.message)})}}else nn&&nn.initData?An.createKeySession(nn):pn.trigger(Sn.KEY_SESSION_CREATED,{data:null,error:new m.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(vt?vt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Qa(nn){if(nn){const Rn=nn.systemString;if(cn)return Rn in cn?cn[Rn]:null}return null}function Es(nn){if(!nn)return!1;try{const Rn=An.getAllInitData();for(let Yn=0;Yn<Rn.length;Yn++)if(Wt.initDataEquals(nn,Rn[Yn]))return zn.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function ao(nn){wi(),An.closeKeySession(nn)}function Xa(nn){wi(),nn?(An.setMediaElement(nn),pn.on(Sn.NEED_KEY,Fo,bn)):nn===null&&(An.setMediaElement(nn),pn.off(Sn.NEED_KEY,Fo,bn))}function Uo(nn){zn.debug("DRM: onKeyMessage");const Rn=nn.data;pn.trigger(Sn.KEY_MESSAGE,{data:Rn});const Yn=Rn.messageType?Rn.messageType:r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,vi=Rn.message,mi=Rn.sessionToken,Oi=Qa(vt),Wi=Wt.getLicenseServerModelInstance(vt,Oi,Yn),Ei={sessionToken:mi,messageType:Yn};if(vi&&vi.byteLength!==0){if(!Wi)return zn.debug("DRM: License server request not required for this message (type = "+nn.data.messageType+").  Session ID = "+mi.getSessionId()),void $a(Ei);if(Wt.isClearKey(vt)){const di=Wt.processClearKeyLicenseRequest(vt,Oi,vi);if(di&&di.keyPairs&&di.keyPairs.length>0)return zn.debug("DRM: ClearKey license request handled by application!"),$a(Ei),void An.updateKeySession(mi,di)}(function(di,xi,Zi){const os=di.sessionToken,bs=di.messageType?di.messageType:r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,Xr={sessionToken:os,messageType:bs},Bo=vt?vt.systemString:null;let Ur=(function(Vi,kr,$o,Zr,qo){let ir=null;const Yd=Zr.message;if(Vi&&Vi.serverURL){const ls=Vi.serverURL;typeof ls=="string"&&ls!==""?ir=ls:typeof ls=="object"&&ls.hasOwnProperty(kr)&&(ir=ls[kr])}else if(Vi&&Vi.laURL&&Vi.laURL!=="")ir=Vi.laURL;else if(ir=c.getLicenseServerUrlFromMediaInfo(Ai,vt.schemeIdURI),!ir&&!Wt.isClearKey(vt)){const ls=c.getPSSHData($o.initData);ir=vt.getLicenseServerURLFromInitData(ls),ir||(ir=Zr.laURL)}return ir=qo.getServerURLFromMessage(ir,Yd,kr),ir})(Zi,bs,os,di,xi);if(!Ur)return void $a(Xr,new m.default(g.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));const zo={};let Fr=!1;Zi&&so(zo,Zi.httpRequestHeaders);const lo=di.message;so(zo,vt.getRequestHeadersFromMessage(lo)),Object.keys(zo).forEach((Vi=>{Vi.toLowerCase()==="authorization"&&(Fr=!0)})),Zi&&typeof Zi.withCredentials=="boolean"&&(Fr=Zi.withCredentials);const Oa=function(Vi){if(An)if(Vi.status>=200&&Vi.status<=299){const kr=A.default.parseHttpHeaders(Vi.getAllResponseHeaders?Vi.getAllResponseHeaders():null);let $o=new y(Vi.responseURL,kr,Vi.response);yc(dn.getLicenseResponseFilters(),$o).then((()=>{const Zr=xi.getLicenseMessage($o.data,Bo,bs);Zr!==null?($a(Xr),An.updateKeySession(os,Zr)):qa(Vi,Xr,Bo,bs,xi)}))}else qa(Vi,Xr,Bo,bs,xi)},Gd=function(Vi){$a(Xr,new m.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Bo+' update, XHR aborted. status is "'+Vi.statusText+'" ('+Vi.status+"), readyState is "+Vi.readyState))},Ji=function(Vi){$a(Xr,new m.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Bo+' update, XHR error. status is "'+Vi.statusText+'" ('+Vi.status+"), readyState is "+Vi.readyState))},uo=vt.getLicenseRequestFromMessage(lo),Vd=xi.getHTTPMethod(bs),Ec=xi.getResponseType(Bo,bs),bc=Zi&&!isNaN(Zi.httpTimeout)?Zi.httpTimeout:8e3,_c=os.getSessionId()||null;let Kd=new p(Ur,Vd,Ec,zo,Fr,bs,_c,uo);const yh=isNaN(Jt.get().streaming.retryAttempts[E.HTTPRequest.LICENSE])?3:Jt.get().streaming.retryAttempts[E.HTTPRequest.LICENSE];yc(dn.getLicenseRequestFilters(),Kd).then((()=>{ro(Kd,yh,bc,Oa,Gd,Ji)}))})(Rn,Wi,Oi)}else $a(Ei,new m.default(g.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function $a(nn,Rn=null){pn.trigger(Sn.LICENSE_REQUEST_COMPLETE,{data:nn,error:Rn})}function ro(nn,Rn,Yn,vi,mi,Oi){const Wi=new XMLHttpRequest,Ei=Lt.getCmcdParametersFromManifest();if(Lt.isCmcdEnabled()&&(Ei.mode?Ei.mode:Jt.get().streaming.cmcd.mode)===w.default.CMCD_MODE_QUERY){const xi=Lt.getQueryParameter({url:nn.url,type:E.HTTPRequest.LICENSE});xi&&(nn.url=A.default.addAdditionalQueryParameterToUrl(nn.url,[xi]))}Wi.open(nn.method,nn.url,!0),Wi.responseType=nn.responseType,Wi.withCredentials=nn.withCredentials,Yn>0&&(Wi.timeout=Yn);for(const xi in nn.headers)Wi.setRequestHeader(xi,nn.headers[xi]);if(Lt.isCmcdEnabled()&&(Ei.mode?Ei.mode:Jt.get().streaming.cmcd.mode)===w.default.CMCD_MODE_HEADER){const xi=Lt.getHeaderParameters({url:nn.url,type:E.HTTPRequest.LICENSE});if(xi)for(const Zi in xi){let os=xi[Zi];os&&Wi.setRequestHeader(Zi,os)}}const di=function(){Rn--;const xi=isNaN(Jt.get().streaming.retryIntervals[E.HTTPRequest.LICENSE])?1e3:Jt.get().streaming.retryIntervals[E.HTTPRequest.LICENSE];ni=setTimeout((function(){ro(nn,Rn,Yn,vi,mi,Oi)}),xi)};Wi.onload=function(){qn=null,this.status>=200&&this.status<=299||Rn<=0?vi(this):(zn.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Rn),di())},Wi.ontimeout=Wi.onerror=function(){qn=null,Rn<=0?Oi(this):(zn.warn("License request network request failed . Retrying it... Pending retries: "+Rn),di())},Wi.onabort=function(){mi(this)},pn.trigger(Sn.LICENSE_REQUEST_SENDING,{url:nn.url,headers:nn.headers,payload:nn.data,sessionId:nn.sessionId}),qn=Wi,Wi.send(nn.data)}function wl(){qn&&(qn.onloadend=qn.onerror=qn.onprogress=void 0,qn.abort(),qn=null),ni&&(clearTimeout(ni),ni=null)}function so(nn,Rn){if(Rn)for(const Yn in Rn)nn[Yn]=Rn[Yn]}function qa(nn,Rn,Yn,vi,mi){let Oi="NONE",Wi=null;nn.response&&(Oi=mi.getErrorResponse(nn.response,Yn,vi),Wi={serverResponse:nn.response||null,responseCode:nn.status||null,responseText:nn.statusText||null}),$a(Rn,new m.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Yn+' update, XHR complete. status is "'+nn.statusText+'" ('+nn.status+"), readyState is "+nn.readyState+".  Response is "+Oi,Wi))}function yc(nn,Rn){return nn?nn.reduce(((Yn,vi)=>Yn.then((()=>vi(Rn)))),Promise.resolve()):Promise.resolve()}function Fo(nn,Rn){if(Jt.get().streaming.protection.ignoreEmeEncryptedEvent)return;if(zn.debug("DRM: onNeedKey"),nn.key.initDataType!==r.default.INITIALIZATION_DATA_TYPE_CENC)return void zn.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+nn.key.initDataType);if(Ai.length===0&&(zn.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Rn=Rn===void 0?1:Rn+1)<5))return void Qn.push(setTimeout((()=>{Fo(nn,Rn)}),500));let Yn=nn.key.initData;if(ArrayBuffer.isView(Yn)&&(Yn=Yn.buffer),vt){const mi=c.getPSSHForKeySystem(vt,Yn);if(mi&&Es(mi))return}zn.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Yn)));const vi=Wt.getSupportedKeySystemMetadataFromSegmentPssh(Yn,cn,fn);vi.length!==0?(function(mi){En.push(mi),Ri(mi,!1)})(vi):zn.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}function oo(nn,Rn){if(nn.size<=0)return!1;if(Rn.size>0&&[...nn].every((vi=>{const mi=Rn.get(vi);return mi!==void 0&&mi!==""})))return!0;const Yn=An.getSessionTokens();if(Yn&&Yn.length>0){const vi=Yn.filter((mi=>[...nn].includes(mi.normalizedKeyId)));if(vi.some((mi=>!mi.hasTriggeredKeyStatusMapUpdate))||vi.length===0)return!1}return!Jt.get().streaming.protection.ignoreKeyStatuses&&nn&&nn.size>0&&Rn&&Rn.size>0}return bn={areKeyIdsExpired:function(nn){try{return!!oo(nn,an)&&[...nn].every((Rn=>an.get(Rn)===r.default.MEDIA_KEY_STATUSES.EXPIRED))}catch(Rn){return zn.error(Rn),!1}},areKeyIdsUsable:function(nn){try{return!oo(nn,an)||[...nn].some((Rn=>{const Yn=an.get(Rn);return Yn&&Yn!==r.default.MEDIA_KEY_STATUSES.INTERNAL_ERROR&&Yn!==r.default.MEDIA_KEY_STATUSES.OUTPUT_RESTRICTED}))}catch(Rn){return zn.error(Rn),!0}},clearMediaInfoArray:function(){Ai=[]},closeKeySession:ao,createKeySession:xe,getKeySystems:function(){return Wt?Wt.getKeySystems():[]},getSupportedKeySystemMetadataFromContentProtection:function(nn){return wi(),Wt.getSupportedKeySystemMetadataFromContentProtection(nn,cn,fn)},handleKeySystemFromManifest:function(){if(!Ai||Ai.length===0)return;let nn=[];Ai.forEach((Rn=>{const Yn=Wt.getSupportedKeySystemMetadataFromContentProtection(Rn.contentProtection,cn,fn);Yn.length>0&&(nn.length===0&&(nn=Yn),En.push(Yn))})),nn&&nn.length>0&&Ri(nn,!0)},initializeForMedia:function(nn){if(!nn)throw new Error("mediaInfo can not be null or undefined");wi(),Ai.push(nn)},loadKeySession:ua,removeKeySession:function(nn){wi(),An.removeKeySession(nn)},reset:function(){pn.off(Sn.INTERNAL_KEY_MESSAGE,Uo,bn),wi(),wl(),Xa(null),vt=null,xn=!1,an=new Map,An&&(An.reset(),An=null),Qn.forEach((nn=>clearTimeout(nn))),Qn=[],Ai=[],En=[]},setKeySystems:function(nn){Wt&&Wt.setKeySystems(nn)},setMediaElement:Xa,setProtectionData:function(nn){cn=nn,Wt.setProtectionData(nn)},setRobustnessLevel:function(nn){Ut=nn},setServerCertificate:function(nn){return wi(),An.setServerCertificate(nn)},setSessionType:function(nn){fn=nn},stop:function(){wl(),An&&An.stop()},updateKeyStatusesMap:function(nn){try{if(!nn||!nn.sessionToken||!nn.parsedKeyStatuses)return;nn.sessionToken.hasTriggeredKeyStatusMapUpdate=!0;const Rn=nn.parsedKeyStatuses,Yn=A.default.parseUserAgent(),vi=Yn&&Yn.browser&&Yn.browser.name&&Yn.browser.name.toLowerCase()==="edge";Rn.forEach((mi=>{vi&&vt.uuid===r.default.PLAYREADY_UUID&&mi.keyId&&mi.keyId.byteLength===16&&(function(Wi){const Ei=A.default.bufferSourceToDataView(Wi),di=Ei.getUint32(0,!0),xi=Ei.getUint16(4,!0),Zi=Ei.getUint16(6,!0);Ei.setUint32(0,di,!1),Ei.setUint16(4,xi,!1),Ei.setUint16(6,Zi,!1)})(mi.keyId);const Oi=A.default.bufferSourceToHex(mi.keyId).slice(0,32);Oi&&Oi!==""&&an.set(Oi,mi.status)})),pn.trigger(Sn.KEY_STATUSES_MAP_UPDATED,{keyStatusMap:an})}catch(Rn){zn.error(Rn)}}},zn=un.getLogger(bn),En=[],Ai=[],fn="temporary",Ut="",qn=null,ni=null,an=new Map,pn.on(Sn.INTERNAL_KEY_MESSAGE,Uo,bn),bn}x.__dashjs_factory_name="ProtectionController";var C=M.default.getClassFactory(x),O=class{constructor(Gt,$t){this.keyID=Gt,this.key=$t}},z=class{constructor(Gt,$t){if($t&&$t!=="persistent"&&$t!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Gt,this.type=$t}toJWK(){let Gt,$t=this.keyPairs.length,Lt={keys:[]};for(Gt=0;Gt<$t;Gt++){let Sn={kty:"oct",alg:"A128KW",kid:this.keyPairs[Gt].keyID,k:this.keyPairs[Gt].key};Lt.keys.push(Sn)}this.type&&(Lt.type=this.type);let kt=JSON.stringify(Lt);const dn=kt.length;let un=new ArrayBuffer(dn),pn=new Uint8Array(un);for(Gt=0;Gt<dn;Gt++)pn[Gt]=kt.charCodeAt(Gt);return un}};const se=r.default.CLEARKEY_UUID,F=r.default.CLEARKEY_KEYSTEM_STRING,H="urn:uuid:"+se;function be(Gt){let $t;const Lt=(Gt=Gt||{}).BASE64;return $t={uuid:se,schemeIdURI:H,systemString:F,getInitData:function(kt,dn){try{let un=c.parseInitDataFromContentProtection(kt,Lt);if(!un&&dn){const pn={kids:[(function(Sn){try{let Wt=Sn.replace(/-/g,"");return Wt=btoa(Wt.match(/\w{2}/g).map((Jt=>String.fromCharCode(parseInt(Jt,16)))).join("")),Wt.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}})(dn.cencDefaultKid)]};un=new TextEncoder().encode(JSON.stringify(pn))}return un}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(kt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(kt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(kt,dn){let un=null;if(kt){const pn=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(dn))),Sn=[];for(let Wt=0;Wt<pn.kids.length;Wt++){const Jt=pn.kids[Wt],cn=kt.clearkeys&&kt.clearkeys.hasOwnProperty(Jt)?kt.clearkeys[Jt]:null;if(!cn)throw new Error("DRM: ClearKey keyID ("+Jt+") is not known!");Sn.push(new O(Jt,cn))}un=new z(Sn)}return un}},$t}be.__dashjs_factory_name="KeySystemClearKey";var Ae=M.default.getSingletonFactory(be);const Me=r.default.W3C_CLEARKEY_UUID,Ve=r.default.CLEARKEY_KEYSTEM_STRING,Se="urn:uuid:"+Me;function He(Gt){let $t;const Lt=Gt.BASE64,kt=Gt.debug.getLogger($t);return $t={uuid:Me,schemeIdURI:Se,systemString:Ve,getInitData:function(dn){return c.parseInitDataFromContentProtection(dn,Lt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(dn){return new Uint8Array(dn)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(dn,un){let pn=null;if(dn){const Sn=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(un))),Wt=[];for(let Jt=0;Jt<Sn.kids.length;Jt++){const cn=Sn.kids[Jt],bn=dn.clearkeys&&dn.clearkeys.hasOwnProperty(cn)?dn.clearkeys[cn]:null;if(!bn)throw new Error("DRM: ClearKey keyID ("+cn+") is not known!");Wt.push(new O(cn,bn))}pn=new z(Wt),kt.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return pn}},$t}He.__dashjs_factory_name="KeySystemW3CClearKey";var Ue=M.default.getSingletonFactory(He);const he=r.default.WIDEVINE_UUID,$e=r.default.WIDEVINE_KEYSTEM_STRING,Ye="urn:uuid:"+he;function tt(Gt){let $t;const Lt=(Gt=Gt||{}).BASE64;return $t={uuid:he,schemeIdURI:Ye,systemString:$e,getInitData:function(kt){return c.parseInitDataFromContentProtection(kt,Lt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(kt){return new Uint8Array(kt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}},$t}tt.__dashjs_factory_name="KeySystemWidevine";var rt=M.default.getSingletonFactory(tt);const De=r.default.PLAYREADY_UUID,We=r.default.PLAYREADY_KEYSTEM_STRING,ct="urn:uuid:"+De;function It(Gt){let $t,Lt="utf-16";const kt=(Gt=Gt||{}).BASE64,dn=Gt.settings;function un(){if(!kt||!kt.hasOwnProperty("decodeArray")||!kt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return $t={uuid:De,schemeIdURI:ct,systemString:We,getInitData:function(pn){const Sn=new Uint8Array([112,115,115,104,0,0,0,0]),Wt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);let Jt,cn,bn,an,xn,ni=0,qn=null;if(un(),!pn)return null;if("pssh"in pn&&pn.pssh)return c.parseInitDataFromContentProtection(pn,kt);if("pro"in pn&&pn.pro)qn=kt.decodeArray(pn.pro.__text);else{if(!("prheader"in pn)||!pn.prheader)return null;qn=kt.decodeArray(pn.prheader.__text)}return Jt=qn.length,cn=4+Sn.length+Wt.length+4+Jt,bn=new ArrayBuffer(cn),an=new Uint8Array(bn),xn=new DataView(bn),xn.setUint32(ni,cn),ni+=4,an.set(Sn,ni),ni+=Sn.length,an.set(Wt,ni),ni+=Wt.length,xn.setUint32(ni,Jt),ni+=4,an.set(qn,ni),ni+=Jt,an.buffer},getRequestHeadersFromMessage:function(pn){let Sn,Wt;const Jt={},cn=new DOMParser;if(dn&&dn.get().streaming.protection.detectPlayreadyMessageFormat&&Lt==="utf-16"&&pn&&pn.byteLength%2==1)return Jt["Content-Type"]="text/xml; charset=utf-8",Jt;const bn=Lt==="utf-16"?new Uint16Array(pn):new Uint8Array(pn);Sn=String.fromCharCode.apply(null,bn),Wt=cn.parseFromString(Sn,"application/xml");const an=Wt.getElementsByTagName("name"),xn=Wt.getElementsByTagName("value");for(let ni=0;ni<an.length;ni++)Jt[an[ni].childNodes[0].nodeValue]=xn[ni].childNodes[0].nodeValue;return Jt.hasOwnProperty("Content")&&(Jt["Content-Type"]=Jt.Content,delete Jt.Content),Jt.hasOwnProperty("Content-Type")||(Jt["Content-Type"]="text/xml; charset=utf-8"),Jt},getLicenseRequestFromMessage:function(pn){let Sn=null;const Wt=new DOMParser;if(dn&&dn.get().streaming.protection.detectPlayreadyMessageFormat&&Lt==="utf-16"&&pn&&pn.byteLength%2==1)return pn;const Jt=Lt==="utf-16"?new Uint16Array(pn):new Uint8Array(pn);un();const cn=String.fromCharCode.apply(null,Jt),bn=Wt.parseFromString(cn,"application/xml");if(!bn.getElementsByTagName("PlayReadyKeyMessage")[0])return pn;{const an=bn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;an&&(Sn=kt.decode(an))}return Sn},getLicenseServerURLFromInitData:function(pn){if(pn){const Sn=new DataView(pn),Wt=Sn.getUint16(4,!0);let Jt=6;const cn=new DOMParser;for(let bn=0;bn<Wt;bn++){const an=Sn.getUint16(Jt,!0);Jt+=2;const xn=Sn.getUint16(Jt,!0);if(Jt+=2,an!==1){Jt+=xn;continue}const ni=pn.slice(Jt,Jt+xn),qn=String.fromCharCode.apply(null,new Uint16Array(ni)),zn=cn.parseFromString(qn,"application/xml");if(zn.getElementsByTagName("LA_URL")[0]){const Ai=zn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Ai)return Ai}if(zn.getElementsByTagName("LUI_URL")[0]){const Ai=zn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(Ai)return Ai}}}return null},getCDMData:function(pn){let Sn,Wt,Jt,cn;if(un(),!pn)return null;for(Sn=[],cn=0;cn<pn.length;++cn)Sn.push(pn.charCodeAt(cn)),Sn.push(0);for(Sn=String.fromCharCode.apply(null,Sn),Sn=kt.encode(Sn),Wt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",Sn),Jt=[],cn=0;cn<Wt.length;++cn)Jt.push(Wt.charCodeAt(cn)),Jt.push(0);return new Uint8Array(Jt).buffer},setPlayReadyMessageFormat:function(pn){if(pn!=="utf-8"&&pn!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Lt=pn}},$t}It.__dashjs_factory_name="KeySystemPlayReady";var Fe=M.default.getSingletonFactory(It);function ze(Gt){const $t=(Gt=Gt||{}).BASE64,Lt={};let kt;return Lt[r.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(dn){return $t.decodeArray(dn.license)},getErrorResponse:function(dn){return dn}},Lt[r.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(dn){return dn},getErrorResponse:function(dn){return String.fromCharCode.apply(null,new Uint8Array(dn))}},kt={getServerURLFromMessage:function(dn){return dn},getHTTPMethod:function(){return"POST"},getResponseType:function(dn){return Lt[dn].responseType},getLicenseMessage:function(dn,un){return(function(){if(!$t||!$t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")})(),Lt[un].getLicenseMessage(dn)},getErrorResponse:function(dn,un){return Lt[un].getErrorResponse(dn)}},kt}ze.__dashjs_factory_name="DRMToday";var pt=M.default.getSingletonFactory(ze);function re(){let Gt;const $t="http://schemas.xmlsoap.org/soap/envelope/";function Lt(un){const pn=String.fromCharCode.apply(null,new Uint8Array(un));return decodeURIComponent(escape(pn))}function kt(un){if(window.DOMParser){const pn=Lt(un),Sn=new window.DOMParser().parseFromString(pn,"text/xml"),Wt=Sn?Sn.getElementsByTagNameNS($t,"Envelope")[0]:null,Jt=Wt?Wt.getElementsByTagNameNS($t,"Body")[0]:null;if(Jt&&Jt.getElementsByTagNameNS($t,"Fault")[0])return null}return un}function dn(un){let pn="",Sn="",Wt="",Jt=-1,cn=-1;if(window.DOMParser){const an=Lt(un),xn=new window.DOMParser().parseFromString(an,"text/xml"),ni=xn?xn.getElementsByTagNameNS($t,"Envelope")[0]:null,qn=ni?ni.getElementsByTagNameNS($t,"Body")[0]:null,zn=qn?qn.getElementsByTagNameNS($t,"Fault")[0]:null,Ai=zn?zn.getElementsByTagName("detail")[0]:null,En=Ai?Ai.getElementsByTagName("Exception")[0]:null;let Ut=null;if(zn===null)return an;Ut=zn.getElementsByTagName("faultstring")[0].firstChild,pn=Ut?Ut.nodeValue:null,En!==null&&(Ut=En.getElementsByTagName("StatusCode")[0],Sn=Ut?Ut.firstChild.nodeValue:null,Ut=En.getElementsByTagName("Message")[0],Wt=Ut?Ut.firstChild.nodeValue:null,Jt=Wt?Wt.lastIndexOf("[")+1:-1,cn=Wt?Wt.indexOf("]"):-1,Wt=Wt?Wt.substring(Jt,cn):"")}let bn=`code: ${Sn}, name: ${pn}`;return Wt&&(bn+=`, message: ${Wt}`),bn}return Gt={getServerURLFromMessage:function(un){return un},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(un){return kt.call(this,un)},getErrorResponse:function(un){return dn.call(this,un)}},Gt}re.__dashjs_factory_name="PlayReady";var ee=M.default.getSingletonFactory(re);function P(){let Gt;return Gt={getServerURLFromMessage:function($t){return $t},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function($t){return $t},getErrorResponse:function($t){return String.fromCharCode.apply(null,new Uint8Array($t))}},Gt}P.__dashjs_factory_name="Widevine";var G=M.default.getSingletonFactory(P);function ve(){let Gt;return Gt={getServerURLFromMessage:function($t){return $t},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function($t){if(!$t.hasOwnProperty("keys"))return null;let Lt=[];for(let kt=0;kt<$t.keys.length;kt++){let dn=$t.keys[kt],un=dn.kid.replace(/=/g,""),pn=dn.k.replace(/=/g,"");Lt.push(new O(un,pn))}return new z(Lt)},getErrorResponse:function($t){return String.fromCharCode.apply(null,new Uint8Array($t))}},Gt}ve.__dashjs_factory_name="ClearKey";var ce=M.default.getSingletonFactory(ve),Qe=class{constructor(Gt){this.ks=Gt.ks,this.keyId=Gt.keyId,this.initData=Gt.initData,this.protData=Gt.protData,this.cdmData=Gt.cdmData,this.sessionId=Gt.sessionId,this.sessionType=Gt.sessionType}};function ht(){let Gt,$t,Lt,kt,dn,un,pn,Sn,Wt=this.context;function Jt(an,xn){return xn&&an in xn?xn[an]:null}function cn(an,xn){return an&&an.sessionId?an.sessionId:xn&&xn.sessionId?xn.sessionId:null}function bn(an,xn){return an&&an.sessionType?an.sessionType:xn}return Gt={getKeySystemBySystemString:function(an){for(let xn=0;xn<kt.length;xn++)if(kt[xn].systemString===an)return kt[xn];return null},getKeySystems:function(){return kt},getLicenseServerModelInstance:function(an,xn,ni){if(ni===r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_RELEASE||ni===r.default.MEDIA_KEY_MESSAGE_TYPES.INDIVIDUALIZATION_REQUEST)return null;let qn=null;return xn&&xn.hasOwnProperty("drmtoday")?qn=pt(Wt).getInstance({BASE64:dn}):an.systemString===r.default.WIDEVINE_KEYSTEM_STRING?qn=G(Wt).getInstance():an.systemString===r.default.PLAYREADY_KEYSTEM_STRING?qn=ee(Wt).getInstance():an.systemString===r.default.CLEARKEY_KEYSTEM_STRING&&(qn=ce(Wt).getInstance()),qn},getSupportedKeySystemMetadataFromContentProtection:function(an,xn,ni){let qn,zn,Ai,En,Ut=[];if(!an||!an.length)return Ut;const vt=c.findMp4ProtectionElement(an);for(Ai=0;Ai<kt.length;Ai++){zn=kt[Ai];const fn=Jt(zn.systemString,xn);for(En=0;En<an.length;En++)if(qn=an[En],qn.schemeIdUri.toLowerCase()===zn.schemeIdURI){let An=zn.getInitData(qn,vt);const Qn=new Qe({ks:kt[Ai],keyId:qn.keyId,initData:An,protData:fn,cdmData:zn.getCDMData(fn?fn.cdmData:null),sessionId:cn(fn,qn),sessionType:bn(fn,ni)});fn?Ut.unshift(Qn):Ut.push(Qn)}}return Ut},getSupportedKeySystemMetadataFromSegmentPssh:function(an,xn,ni){let qn,zn,Ai=[],En=c.parsePSSHList(an);for(let Ut=0;Ut<kt.length;++Ut){qn=kt[Ut],zn=qn.systemString;const vt=Jt(zn,xn);qn.uuid in En&&Ai.push({ks:qn,initData:En[qn.uuid],protData:vt,cdmData:qn.getCDMData(vt?vt.cdmData:null),sessionId:cn(vt),sessionType:bn(vt,ni)})}return Ai},initDataEquals:function(an,xn){if(an.byteLength===xn.byteLength){let ni=new Uint8Array(an),qn=new Uint8Array(xn);for(let zn=0;zn<ni.length;zn++)if(ni[zn]!==qn[zn])return!1;return!0}return!1},initialize:function(){let an;kt=[],an=Fe(Wt).getInstance({BASE64:dn,settings:un}),kt.push(an),an=rt(Wt).getInstance({BASE64:dn}),kt.push(an),an=Ae(Wt).getInstance({BASE64:dn}),kt.push(an),pn=an,an=Ue(Wt).getInstance({BASE64:dn,debug:$t}),kt.push(an),Sn=an},isClearKey:function(an){return an===pn||an===Sn},processClearKeyLicenseRequest:function(an,xn,ni){try{return an.getClearKeysFromProtectionData(xn,ni)}catch{return Lt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(an){an&&(an.debug&&($t=an.debug,Lt=$t.getLogger(Gt)),an.BASE64&&(dn=an.BASE64),an.settings&&(un=an.settings))},setKeySystems:function(an){kt=an},setProtectionData:function(an){for(var xn,ni,qn=0;qn<kt.length;qn++){var zn=kt[qn];zn.hasOwnProperty("init")&&zn.init((xn=zn.systemString,ni=void 0,ni=null,an&&(ni=xn in an?an[xn]:null),ni))}}},Gt}ht.__dashjs_factory_name="ProtectionKeyController";var Je=M.default.getSingletonFactory(ht),it=t(445),Xe=class{constructor(Gt,$t){this.initData=Gt,this.initDataType=$t}},lt=class{constructor(Gt,$t,Lt,kt){this.sessionToken=Gt,this.message=$t,this.defaultURL=Lt,this.messageType=kt||r.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST}},Rt=class{constructor(Gt,$t){this.keySystem=Gt,this.ksConfiguration=$t,this.nativeMediaKeySystemAccessObject=null,this.selectedSystemString=null}};const dt={};function Bt(Gt){Gt=Gt||{};const $t=this.context,Lt=Gt.eventBus,kt=Gt.events,dn=Gt.debug;let un,pn,Sn,Wt,Jt,cn,bn,an;function xn(Ut,vt,fn,An){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){const yi="Insecure origins are not allowed";return Lt.trigger(kt.KEY_SYSTEM_ACCESS_COMPLETE,{error:yi}),void An({error:yi})}const Qn=Ut[vt].protData&&Ut[vt].protData.systemStringPriority?Ut[vt].protData.systemStringPriority:null,wi=Ut[vt].configs,Ri=Ut[vt].ks;let Ni=Ri.systemString;(function(yi,ua){return new Promise(((xe,Qa)=>{ni(yi,ua,0,xe,Qa)}))})(Qn||(dt[Ni]?dt[Ni]:[Ni]),wi).then((yi=>{const ua=yi&&yi.nativeMediaKeySystemAccessObject&&typeof yi.nativeMediaKeySystemAccessObject.getConfiguration=="function"?yi.nativeMediaKeySystemAccessObject.getConfiguration():null,xe=new Rt(Ri,ua);xe.selectedSystemString=yi.selectedSystemString,xe.nativeMediaKeySystemAccessObject=yi.nativeMediaKeySystemAccessObject,Lt.trigger(kt.KEY_SYSTEM_ACCESS_COMPLETE,{data:xe}),fn({data:xe})})).catch((yi=>{if(vt+1<Ut.length)xn(Ut,vt+1,fn,An);else{const ua="Key system access denied! ";Lt.trigger(kt.KEY_SYSTEM_ACCESS_COMPLETE,{error:ua+yi.message}),An({error:ua+yi.message})}}))}function ni(Ut,vt,fn,An,Qn){const wi=Ut[fn];pn.debug(`Requesting key system access for system string ${wi}`),navigator.requestMediaKeySystemAccess(wi,vt).then((Ri=>{An({nativeMediaKeySystemAccessObject:Ri,selectedSystemString:wi})})).catch((Ri=>{fn+1<Ut.length?ni(Ut,vt,fn+1,An,Qn):Qn(Ri)}))}function qn(Ut){if(!Ut||!Ut.session)return Promise.resolve;const vt=Ut.session;return vt.removeEventListener("keystatuseschange",Ut),vt.removeEventListener("message",Ut),vt.close()}function zn(Ut){for(let vt=0;vt<cn.length;vt++)if(cn[vt]===Ut){cn.splice(vt,1);break}}function Ai(Ut,vt){const fn={session:Ut,keyId:vt.keyId,normalizedKeyId:vt&&vt.keyId&&typeof vt.keyId=="string"?vt.keyId.replace(/-/g,"").toLowerCase():"",initData:vt.initData,sessionId:vt.sessionId,sessionType:vt.sessionType,hasTriggeredKeyStatusMapUpdate:!1,handleEvent:function(An){switch(An.type){case"keystatuseschange":this._onKeyStatusesChange(An);break;case"message":this._onKeyMessage(An)}},_onKeyStatusesChange:function(An){Lt.trigger(kt.KEY_STATUSES_CHANGED,{data:this});const Qn=[];An.target.keyStatuses.forEach((function(){Qn.push(En(arguments))})),Lt.trigger(kt.INTERNAL_KEY_STATUSES_CHANGED,{parsedKeyStatuses:Qn,sessionToken:fn})},_onKeyMessage:function(An){let Qn=ArrayBuffer.isView(An.message)?An.message.buffer:An.message;Lt.trigger(kt.INTERNAL_KEY_MESSAGE,{data:new lt(this,Qn,void 0,An.messageType)})},getKeyId:function(){return this.keyId},getSessionId:function(){return Ut.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Ut.expiration},getKeyStatuses:function(){return Ut.keyStatuses},getUsable:function(){let An=!1;return Ut.keyStatuses.forEach((function(){En(arguments).status===r.default.MEDIA_KEY_STATUSES.USABLE&&(An=!0)})),An}};return Ut.addEventListener("keystatuseschange",fn),Ut.addEventListener("message",fn),Ut.closed.then((()=>{zn(fn),pn.debug("DRM: Session closed.  SessionID = "+fn.getSessionId()),Lt.trigger(kt.KEY_SESSION_CLOSED,{data:fn.getSessionId()})})),cn.push(fn),fn}function En(Ut){let vt,fn;return Ut&&Ut.length>0&&(Ut[0]&&(typeof Ut[0]=="string"?vt=Ut[0]:fn=Ut[0]),Ut[1]&&(typeof Ut[1]=="string"?vt=Ut[1]:fn=Ut[1])),{status:vt,keyId:fn}}return un={closeKeySession:function(Ut){qn(Ut).catch((function(vt){zn(Ut),Lt.trigger(kt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Ut.getSessionId()+") "+vt.name})}))},createKeySession:function(Ut){if(!Sn||!Jt)throw new Error("Can not create sessions until you have selected a key system");const vt=Jt.createSession(Ut.sessionType),fn=Ai(vt,Ut),An=Sn.systemString===r.default.CLEARKEY_KEYSTEM_STRING&&(Ut.initData||Ut.protData&&Ut.protData.clearkeys)?r.default.INITIALIZATION_DATA_TYPE_KEYIDS:r.default.INITIALIZATION_DATA_TYPE_CENC;vt.generateRequest(An,Ut.initData).then((function(){pn.debug("DRM: Session created.  SessionID = "+fn.getSessionId()),Lt.trigger(kt.KEY_SESSION_CREATED,{data:fn})})).catch((function(Qn){zn(fn),Lt.trigger(kt.KEY_SESSION_CREATED,{data:null,error:new m.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+Qn.name)})}))},getAllInitData:function(){const Ut=[];for(let vt=0;vt<cn.length;vt++)cn[vt].initData&&Ut.push(cn[vt].initData);return Ut},getSessionTokens:function(){return cn},loadKeySession:function(Ut){if(!Sn||!Jt)throw new Error("Can not load sessions until you have selected a key system");const vt=Ut.sessionId;for(let Qn=0;Qn<cn.length;Qn++)if(vt===cn[Qn].sessionId)return void pn.warn("DRM: Ignoring session ID because we have already seen it!");const fn=Jt.createSession(Ut.sessionType),An=Ai(fn,Ut);An.hasTriggeredKeyStatusMapUpdate=!0,fn.load(vt).then((function(Qn){Qn?(pn.debug("DRM: Session loaded.  SessionID = "+An.getSessionId()),Lt.trigger(kt.KEY_SESSION_CREATED,{data:An})):(zn(An),Lt.trigger(kt.KEY_SESSION_CREATED,{data:null,error:new m.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+vt+")")}))})).catch((function(Qn){zn(An),Lt.trigger(kt.KEY_SESSION_CREATED,{data:null,error:new m.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+vt+")! "+Qn.name)})}))},removeKeySession:function(Ut){Ut.session.remove().then((function(){pn.debug("DRM: Session removed.  SessionID = "+Ut.getSessionId()),Lt.trigger(kt.KEY_SESSION_REMOVED,{data:Ut.getSessionId()})}),(function(vt){Lt.trigger(kt.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Ut.getSessionId()+"). "+vt.name})}))},requestKeySystemAccess:function(Ut){return new Promise(((vt,fn)=>{xn(Ut,0,vt,fn)}))},reset:function(){const Ut=cn.length;let vt;if(Ut!==0){const fn=function(An){zn(An),cn.length===0&&(Wt?(Wt.removeEventListener("encrypted",bn),Wt.setMediaKeys(null).then((function(){Lt.trigger(kt.TEARDOWN_COMPLETE)}))):Lt.trigger(kt.TEARDOWN_COMPLETE))};for(let An=0;An<Ut;An++)vt=cn[An],(function(Qn){qn(vt),fn(Qn)})(vt)}else Lt.trigger(kt.TEARDOWN_COMPLETE)},selectKeySystem:function(Ut){return new Promise(((vt,fn)=>{Ut.nativeMediaKeySystemAccessObject.createMediaKeys().then((An=>(Sn=Ut.keySystem,Jt=An,Wt?Wt.setMediaKeys(Jt):Promise.resolve()))).then((()=>{vt(Sn)})).catch((function(){fn({error:"Error selecting keys system ("+Ut.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))}))},setMediaElement:function(Ut){Wt!==Ut&&(Wt&&(Wt.removeEventListener("encrypted",bn),Wt.setMediaKeys&&Wt.setMediaKeys(null)),Wt=Ut,Wt&&(Wt.addEventListener("encrypted",bn),Wt.setMediaKeys&&Jt&&Wt.setMediaKeys(Jt)))},setServerCertificate:function(Ut){return new Promise((vt=>{Jt.setServerCertificate(Ut).then((function(){pn.info("DRM: License server certificate successfully updated."),Lt.trigger(kt.SERVER_CERTIFICATE_UPDATED),vt()})).catch((fn=>{Lt.trigger(kt.SERVER_CERTIFICATE_UPDATED,{error:new m.default(g.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,g.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+fn.name)}),vt()}))}))},stop:function(){let Ut;for(let vt=0;vt<cn.length;vt++)Ut=cn[vt],Ut.getUsable()||(qn(Ut),zn(Ut))},updateKeySession:function(Ut,vt){const fn=Ut.session;an.isClearKey(Sn)&&(vt=vt.toJWK()),fn.update(vt).then((()=>{Lt.trigger(kt.KEY_SESSION_UPDATED)})).catch((function(An){Lt.trigger(kt.KEY_ERROR,{error:new m.default(g.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+An.name,Ut)})}))}},pn=dn.getLogger(un),Sn=null,Wt=null,Jt=null,cn=[],an=Je($t).getInstance(),bn={handleEvent:function(Ut){if(Ut.type==="encrypted"&&Ut.initData){let vt=ArrayBuffer.isView(Ut.initData)?Ut.initData.buffer:Ut.initData;Lt.trigger(kt.NEED_KEY,{key:new Xe(vt,Ut.initDataType)})}}},un}dt[r.default.PLAYREADY_KEYSTEM_STRING]=[r.default.PLAYREADY_KEYSTEM_STRING,r.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],dt[r.default.WIDEVINE_KEYSTEM_STRING]=[r.default.WIDEVINE_KEYSTEM_STRING],dt[r.default.CLEARKEY_KEYSTEM_STRING]=[r.default.CLEARKEY_KEYSTEM_STRING],Bt.__dashjs_factory_name="DefaultProtectionModel";var wn=M.default.getClassFactory(Bt);function Zt(Gt){Gt=Gt||{};const $t=this.context,Lt=Gt.eventBus,kt=Gt.events,dn=Gt.debug,un=Gt.api;let pn,Sn,Wt,Jt,cn,bn,an,xn,ni;function qn(){try{for(let En=0;En<an.length;En++)zn(an[En]);Wt&&Wt.removeEventListener(un.needkey,xn),Lt.trigger(kt.TEARDOWN_COMPLETE)}catch(En){Lt.trigger(kt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+En.message})}}function zn(En){const Ut=En.session;Ut.removeEventListener(un.error,En),Ut.removeEventListener(un.message,En),Ut.removeEventListener(un.ready,En),Ut.removeEventListener(un.close,En);for(let vt=0;vt<an.length;vt++)if(an[vt]===En){an.splice(vt,1);break}Ut[un.release]()}function Ai(){let En=null;const Ut=function(){Wt.removeEventListener("loadedmetadata",En),Wt[un.setMediaKeys](cn),Lt.trigger(kt.VIDEO_ELEMENT_SELECTED)};Wt.readyState>=1?Ut():(En=Ut.bind(this),Wt.addEventListener("loadedmetadata",En))}return pn={getAllInitData:function(){const En=[];for(let Ut=0;Ut<an.length;Ut++)En.push(an[Ut].initData);return En},getSessionTokens:function(){return an},requestKeySystemAccess:function(En){return new Promise(((Ut,vt)=>{let fn=!1;for(let An=0;An<En.length;An++){const Qn=En[An].ks.systemString,wi=En[An].configs;let Ri=null,Ni=null;for(let yi=0;yi<wi.length;yi++){const ua=wi[yi].audioCapabilities,xe=wi[yi].videoCapabilities;if(ua&&ua.length!==0){Ri=[];for(let Xa=0;Xa<ua.length;Xa++)window[un.MediaKeys].isTypeSupported(Qn,ua[Xa].contentType)&&Ri.push(ua[Xa])}if(xe&&xe.length!==0){Ni=[];for(let Xa=0;Xa<xe.length;Xa++)window[un.MediaKeys].isTypeSupported(Qn,xe[Xa].contentType)&&Ni.push(xe[Xa])}if(!Ri&&!Ni||Ri&&Ri.length===0||Ni&&Ni.length===0)continue;fn=!0;const Qa=new h(Ri,Ni),Es=ni.getKeySystemBySystemString(Qn),ao=new Rt(Es,Qa);Lt.trigger(kt.KEY_SYSTEM_ACCESS_COMPLETE,{data:ao}),Ut({data:ao});break}}if(!fn){const An="Key system access denied! -- No valid audio/video content configurations detected!";Lt.trigger(kt.KEY_SYSTEM_ACCESS_COMPLETE,{error:An}),vt({error:An})}}))},selectKeySystem:function(En){return new Promise(((Ut,vt)=>{try{cn=En.mediaKeys=new window[un.MediaKeys](En.keySystem.systemString),Jt=En.keySystem,bn=En,Wt&&Ai(),Ut(Jt)}catch{vt({error:"Error selecting keys system ("+Jt.systemString+")! Could not create MediaKeys -- TODO"})}}))},setMediaElement:function(En){Wt!==En&&(Wt&&Wt.removeEventListener(un.needkey,xn),Wt=En,Wt&&(Wt.addEventListener(un.needkey,xn),cn&&Ai()))},createKeySession:function(En){if(!Jt||!cn||!bn)throw new Error("Can not create sessions until you have selected a key system");let Ut=null;if(bn.ksConfiguration.videoCapabilities&&bn.ksConfiguration.videoCapabilities.length>0&&(Ut=bn.ksConfiguration.videoCapabilities[0]),Ut===null&&bn.ksConfiguration.audioCapabilities&&bn.ksConfiguration.audioCapabilities.length>0&&(Ut=bn.ksConfiguration.audioCapabilities[0]),Ut===null)throw new Error("Can not create sessions for unknown content types.");const vt=Ut.contentType,fn=cn.createSession(vt,new Uint8Array(En.initData),En.cdmData?new Uint8Array(En.cdmData):null),An=(function(Qn,wi){return{session:Qn,keyId:wi.keyId,normalizedKeyId:wi&&wi.keyId&&typeof wi.keyId=="string"?wi.keyId.replace(/-/g,"").toLowerCase():"",initData:wi.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}},handleEvent:function(Ri){switch(Ri.type){case un.error:let Ni="KeyError";Lt.trigger(kt.KEY_ERROR,{error:new m.default(g.default.MEDIA_KEYERR_CODE,Ni,this)});break;case un.message:let yi=ArrayBuffer.isView(Ri.message)?Ri.message.buffer:Ri.message;Lt.trigger(kt.INTERNAL_KEY_MESSAGE,{data:new lt(this,yi,Ri.destinationURL)});break;case un.ready:Sn.debug("DRM: Key added."),Lt.trigger(kt.KEY_ADDED);break;case un.close:Sn.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Lt.trigger(kt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}})(fn,En);fn.addEventListener(un.error,An),fn.addEventListener(un.message,An),fn.addEventListener(un.ready,An),fn.addEventListener(un.close,An),an.push(An),Sn.debug("DRM: Session created.  SessionID = "+An.getSessionId()),Lt.trigger(kt.KEY_SESSION_CREATED,{data:An})},updateKeySession:function(En,Ut){const vt=En.session;ni.isClearKey(Jt)?vt.update(new Uint8Array(Ut.toJWK())):vt.update(new Uint8Array(Ut)),Lt.trigger(kt.KEY_SESSION_UPDATED)},closeKeySession:zn,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:qn,reset:qn},Sn=dn.getLogger(pn),Wt=null,Jt=null,cn=null,bn=null,an=[],ni=Je($t).getInstance(),xn={handleEvent:function(En){if(En.type===un.needkey&&En.initData){const Ut=ArrayBuffer.isView(En.initData)?En.initData.buffer:En.initData;Lt.trigger(kt.NEED_KEY,{key:new Xe(Ut,r.default.INITIALIZATION_DATA_TYPE_CENC)})}}},pn}Zt.__dashjs_factory_name="ProtectionModel_3Feb2014";var gn=M.default.getClassFactory(Zt);function en(Gt){Gt=Gt||{};const $t=this.context,Lt=Gt.eventBus,kt=Gt.events,dn=Gt.debug,un=Gt.api,pn=Gt.errHandler;let Sn,Wt,Jt,cn,bn,an,xn,ni,qn;function zn(){Jt&&Ut();for(let vt=0;vt<xn.length;vt++)Ai(xn[vt]);Lt.trigger(kt.TEARDOWN_COMPLETE)}function Ai(vt){try{Jt[un.cancelKeyRequest](cn.systemString,vt.sessionId)}catch(fn){Lt.trigger(kt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+vt.sessionId+") "+fn.message})}}function En(vt,fn){if(fn&&vt){const An=vt.length;for(let Qn=0;Qn<An;Qn++)if(vt[Qn].sessionId==fn)return vt[Qn];return null}return null}function Ut(){Jt.removeEventListener(un.keyerror,qn),Jt.removeEventListener(un.needkey,qn),Jt.removeEventListener(un.keymessage,qn),Jt.removeEventListener(un.keyadded,qn)}return Sn={getAllInitData:function(){const vt=[];for(let fn=0;fn<an.length;fn++)vt.push(an[fn].initData);for(let fn=0;fn<xn.length;fn++)vt.push(xn[fn].initData);return vt},getSessionTokens:function(){return xn.concat(an)},requestKeySystemAccess:function(vt){return new Promise(((fn,An)=>{let Qn=Jt;Qn||(Qn=document.createElement("video"));let wi=!1;for(let Ri=0;Ri<vt.length;Ri++){const Ni=vt[Ri].ks.systemString,yi=vt[Ri].configs;let ua=null,xe=null;for(let Qa=0;Qa<yi.length;Qa++){const Es=yi[Qa].videoCapabilities;if(Es&&Es.length!==0){xe=[];for(let $a=0;$a<Es.length;$a++)Qn.canPlayType(Es[$a].contentType,Ni)!==""&&xe.push(Es[$a])}if(!xe||ua||xe&&xe.length===0)continue;wi=!0;const ao=new h(ua,xe),Xa=bn.getKeySystemBySystemString(Ni),Uo=new Rt(Xa,ao);Lt.trigger(kt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Uo}),fn({data:Uo});break}}if(!wi){const Ri="Key system access denied! -- No valid audio/video content configurations detected!";Lt.trigger(kt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Ri}),An({error:Ri})}}))},selectKeySystem:function(vt){return cn=vt.keySystem,Promise.resolve(cn)},setMediaElement:function(vt){if(Jt!==vt){if(Jt){Ut();for(var fn=0;fn<xn.length;fn++)Ai(xn[fn]);xn=[]}Jt=vt,Jt&&(Jt.addEventListener(un.keyerror,qn),Jt.addEventListener(un.needkey,qn),Jt.addEventListener(un.keymessage,qn),Jt.addEventListener(un.keyadded,qn),Lt.trigger(kt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(vt){if(!cn)throw new Error("Can not create sessions until you have selected a key system");if(ni||xn.length===0){const fn={sessionId:null,keyId:vt.keyId,normalizedKeyId:vt&&vt.keyId&&typeof vt.keyId=="string"?vt.keyId.replace(/-/g,"").toLowerCase():"",initData:vt.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}}};return an.push(fn),Jt[un.generateKeyRequest](cn.systemString,new Uint8Array(vt.initData)),fn}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(vt,fn){const An=vt.sessionId;if(bn.isClearKey(cn))for(let Qn=0;Qn<fn.keyPairs.length;Qn++)Jt[un.addKey](cn.systemString,fn.keyPairs[Qn].key,fn.keyPairs[Qn].keyID,An);else Jt[un.addKey](cn.systemString,new Uint8Array(fn),new Uint8Array(vt.initData),An);Lt.trigger(kt.KEY_SESSION_UPDATED)},closeKeySession:Ai,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:zn,reset:zn},Wt=dn.getLogger(Sn),Jt=null,cn=null,an=[],xn=[],bn=Je($t).getInstance(),qn={handleEvent:function(vt){let fn=null;switch(vt.type){case un.needkey:let An=ArrayBuffer.isView(vt.initData)?vt.initData.buffer:vt.initData;Lt.trigger(kt.NEED_KEY,{key:new Xe(An,r.default.INITIALIZATION_DATA_TYPE_CENC)});break;case un.keyerror:if(fn=En(xn,vt.sessionId),fn||(fn=En(an,vt.sessionId)),fn){let Qn=g.default.MEDIA_KEYERR_CODE,wi="";switch(vt.errorCode.code){case 1:Qn=g.default.MEDIA_KEYERR_UNKNOWN_CODE,wi+="MEDIA_KEYERR_UNKNOWN - "+g.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Qn=g.default.MEDIA_KEYERR_CLIENT_CODE,wi+="MEDIA_KEYERR_CLIENT - "+g.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Qn=g.default.MEDIA_KEYERR_SERVICE_CODE,wi+="MEDIA_KEYERR_SERVICE - "+g.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Qn=g.default.MEDIA_KEYERR_OUTPUT_CODE,wi+="MEDIA_KEYERR_OUTPUT - "+g.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Qn=g.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,wi+="MEDIA_KEYERR_HARDWARECHANGE - "+g.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Qn=g.default.MEDIA_KEYERR_DOMAIN_CODE,wi+="MEDIA_KEYERR_DOMAIN - "+g.default.MEDIA_KEYERR_DOMAIN_MESSAGE}wi+="  System Code = "+vt.systemCode,Lt.trigger(kt.KEY_ERROR,{error:new m.default(Qn,wi,fn)})}else Wt.error("No session token found for key error");break;case un.keyadded:fn=En(xn,vt.sessionId),fn||(fn=En(an,vt.sessionId)),fn?(Wt.debug("DRM: Key added."),Lt.trigger(kt.KEY_ADDED,{data:fn})):Wt.debug("No session token found for key added");break;case un.keymessage:if(ni=vt.sessionId!==null&&vt.sessionId!==void 0,ni?(fn=En(xn,vt.sessionId),!fn&&an.length>0&&(fn=an.shift(),xn.push(fn),fn.sessionId=vt.sessionId,Lt.trigger(kt.KEY_SESSION_CREATED,{data:fn}))):an.length>0&&(fn=an.shift(),xn.push(fn),an.length!==0&&pn.error(new m.default(g.default.MEDIA_KEY_MESSAGE_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),fn){let Qn=ArrayBuffer.isView(vt.message)?vt.message.buffer:vt.message;fn.keyMessage=Qn,Lt.trigger(kt.INTERNAL_KEY_MESSAGE,{data:new lt(fn,Qn,vt.defaultURL)})}else Wt.warn("No session token found for key message")}}},Sn}en.__dashjs_factory_name="ProtectionModel_01b";var Wn=M.default.getClassFactory(en);const Ti=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Xi=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function zi(){let Gt;const $t=this.context;function Lt(kt,dn){for(let un=0;un<dn.length;un++){const pn=dn[un];if(typeof kt[pn[Object.keys(pn)[0]]]=="function")return pn}return null}return Gt={createProtectionSystem:function(kt){let dn=null;const un=Je($t).getInstance();un.setConfig({debug:kt.debug,BASE64:kt.BASE64,settings:kt.settings}),un.initialize();let pn=(function(Sn){const Wt=Sn.debug,Jt=Wt.getLogger(Gt),cn=Sn.eventBus,bn=Sn.errHandler,an=Sn.videoModel?Sn.videoModel.getElement():null;return an&&an.onencrypted===void 0||an&&an.mediaKeys===void 0?Lt(an,Xi)?(Jt.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),gn($t).create({debug:Wt,eventBus:cn,events:Sn.events,api:Lt(an,Xi)})):Lt(an,Ti)?(Jt.info("EME detected on this user agent! (ProtectionModel_01b)"),Wn($t).create({debug:Wt,eventBus:cn,errHandler:bn,events:Sn.events,api:Lt(an,Ti)})):(Jt.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(Jt.info("EME detected on this user agent! (DefaultProtectionModel"),wn($t).create({debug:Wt,eventBus:cn,events:Sn.events}))})(kt);return pn&&(dn=C($t).create({BASE64:kt.BASE64,cmcdModel:kt.cmcdModel,constants:kt.constants,customParametersModel:kt.customParametersModel,debug:kt.debug,eventBus:kt.eventBus,events:kt.events,protectionKeyController:un,protectionModel:pn,settings:kt.settings}),kt.capabilities.setEncryptedMediaSupported(!0)),dn}},Gt}zi.__dashjs_factory_name="Protection";const ki=M.default.getClassFactory(zi);ki.events=it.default,ki.errors=g.default,M.default.updateClassFactory(zi.__dashjs_factory_name,ki);var wa=ki},445:function(n,e,t){t.r(e);var i=t(7252);class r extends i.default{constructor(){super(),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_STATUSES_CHANGED="internalkeyStatusesChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_STATUSES_MAP_UPDATED="keyStatusesMapUpdated",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.LICENSE_REQUEST_SENDING="public_licenseRequestSending",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected",this.KEY_SESSION_UPDATED="public_keySessionUpdated"}}let o=new r;e.default=o},1923:function(n,e,t){t.r(e);var i=t(8748);class r extends i.default{constructor(){super(),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}}let o=new r;e.default=o},4246:function(n,e,t){t.r(e);var i=t(138);const r={DEFAULT:.5,STRONG:1,WEAK:0};function o(c,f,h,g){let m,p,y,E,A;return p=c===void 0?null:c,y=(function(w){let M=r.DEFAULT;return w!==r.DEFAULT&&w!==r.STRONG&&w!==r.WEAK||(M=w),M})(h),E=f===void 0?null:f,A=g===void 0?null:g,m={representation:p,reason:E,rule:A,priority:y},m}o.__dashjs_factory_name="SwitchRequest";const l=i.default.getClassFactory(o);l.NO_CHANGE=null,l.PRIORITY=r,i.default.updateClassFactory(o.__dashjs_factory_name,l),e.default=l},559:function(n,e,t){t.r(e),t.d(e,{supportsMediaSource:function(){return f}});var i=t(138),r=t(5212),o=t(2861),l=t(7393),c=t(649);function f(){let g="ManagedMediaSource"in window,m="WebKitMediaSource"in window,p="MediaSource"in window;return g||m||p}function h(){let g,m,p,y,E,A;const w=this.context,M=(0,l.default)(w).getInstance();function x(F,H){let be;H===r.default.VIDEO?be=(function(Me){const Ve={video:{}};return Me&&(Me.width&&(Ve.video.width=Me.width),Me.height&&(Ve.video.height=Me.height),Me.framerate&&(Ve.video.framerate=parseFloat(Me.framerate)),Me.hdrMetadataType&&(Ve.video.hdrMetadataType=Me.hdrMetadataType),Me.colorGamut&&(Ve.video.colorGamut=Me.colorGamut),Me.transferFunction&&(Ve.video.transferFunction=Me.transferFunction)),Ve})(F):H===r.default.AUDIO&&(be=(function(Me){const Ve={audio:{}};return Me.samplerate&&(Ve.audio.samplerate=Me.samplerate),Me.channels&&(Ve.audio.channels=Me.channels),Ve})(F)),be[H].contentType=F.codec,be[H].bitrate=parseInt(F.bitrate),be.type="media-source";let Ae=F.codec;return F.width&&F.height&&(Ae+=';width="'+F.width+'";height="'+F.height+'"'),be.mediaSourceCodecString=Ae,(function(Me,Ve,Se){if(!Ve||!Ve.keySystemsMetadata||Ve.keySystemsMetadata.length===0)return[Me];const He=[];return Ve.keySystemsMetadata.forEach((Ue=>{if(!Ue.ks)return void He.push({...Me});const he=Ue.protData&&Ue.protData.systemStringPriority?Ue.protData.systemStringPriority:null;let $e=Ue.ks.systemString;(he||[$e]).forEach((Ye=>{const tt={...Me};tt.keySystemConfiguration={},Ye&&(tt.keySystemConfiguration.keySystem=Ye);let rt="";Ue.ks.systemString===o.default.WIDEVINE_KEYSTEM_STRING&&(rt=o.default.ROBUSTNESS_STRINGS.WIDEVINE.SW_SECURE_CRYPTO);const De=Ue.protData,We=De&&De.audioRobustness&&De.audioRobustness.length>0?De.audioRobustness:rt,ct=De&&De.videoRobustness&&De.videoRobustness.length>0?De.videoRobustness:rt;Se===r.default.AUDIO?tt.keySystemConfiguration[Se]={robustness:We}:Se===r.default.VIDEO&&(tt.keySystemConfiguration[Se]={robustness:ct}),He.push(tt)}))})),He})(be,F,H)}function C(F){return m.get().streaming.enhancement.codecs.some((H=>F.includes(H)))}function O(F){if(y&&y.length!==0&&F)return y.find((H=>{const be=z(F,H,r.default.AUDIO),Ae=z(F,H,r.default.VIDEO),Me=z(F,H,"keySystemConfiguration");return be&&Ae&&Me}))}function z(F,H,be){return!F[be]&&!H[be]||!(!F[be]||!H[be])&&M.areEqual(F[be],H[be])}function se(F,H){return(F=F.filter((be=>!(be.schemeIdUri&&H.some((Ae=>Ae.schemeIdUri===be.schemeIdUri)))))).push(...H),F}return g={areKeyIdsExpired:function(F){return!!(p&&F&&F.normalizedKeyIds&&F.normalizedKeyIds.size!==0)&&p.areKeyIdsExpired(F.normalizedKeyIds)},areKeyIdsUsable:function(F){return!(p&&F&&F.normalizedKeyIds&&F.normalizedKeyIds.size!==0)||p.areKeyIdsUsable(F.normalizedKeyIds)},isCodecSupportedBasedOnTestedConfigurations:function(F,H){if(!F||!F.codec||F.isSupported===!1)return!1;const be=x(F,H).map((Ae=>O(Ae))).filter((Ae=>Ae!=null));return!(be&&be.length>0)||(function(Ae){return Ae.some((Me=>Me&&Me.decodingInfo&&Me.decodingInfo.supported))})(be)},isProtectionCompatible:function(F,H){return!H||!(!F.isEncrypted&&H.isEncrypted)},runCodecSupportCheck:function(F,H){if(H!==r.default.AUDIO&&H!==r.default.VIDEO)return Promise.resolve();if(m.get().streaming.enhancement.enabled&&C(F.codec))return y=y.filter((Ae=>!C(Ae.mediaSourceCodecString))),Promise.resolve(!0);const be=x(F,H);return(function(Ae,Me){return m.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(Ae.codec&&Me===r.default.AUDIO||Me===r.default.VIDEO&&Ae.codec&&Ae.width&&Ae.height&&Ae.bitrate&&Ae.framerate)})(F,H)?(function(Ae){return new Promise((Me=>{if(!Ae||Ae.length===0)return void Me();const Ve=Ae.map((Se=>(function(He){return new Promise((Ue=>{O(He)?Ue():navigator.mediaCapabilities.decodingInfo(He).then((he=>{He.decodingInfo=he,y.push(He),Ue()})).catch((he=>{He.decodingInfo={supported:!1},y.push(He),A.error(he),Ue()}))}))})(Se)));Promise.allSettled(Ve).then((()=>{Me()})).catch((Se=>{A.error(Se),Me()}))}))})(be):((function(Ae){if(!Ae||!Ae.length)return;const Me=Ae[0];if(O(Me))return;let Ve={supported:!1};("ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(Me.mediaSourceCodecString)||"MediaSource"in window&&MediaSource.isTypeSupported(Me.mediaSourceCodecString)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(Me.mediaSourceCodecString))&&(Ve.supported=!0),Me.decodingInfo=Ve,y.push(Me)})(be),Promise.resolve())},setConfig:function(F){F&&(F.settings&&(m=F.settings),F.protectionController&&(p=F.protectionController))},setEncryptedMediaSupported:function(F){E=F},setProtectionController:function(F){p=F},supportsChangeType:function(){return!!window.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType},supportsEncryptedMedia:function(){return E},supportsEssentialProperty:function(F){let H=m.get().streaming.capabilities.supportedEssentialProperties;m.get().streaming.capabilities.useMediaCapabilitiesApi&&m.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&(H=se(H,[{schemeIdUri:r.default.COLOUR_PRIMARIES_SCHEME_ID_URI},{schemeIdUri:r.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI},{schemeIdUri:r.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI}])),m.get().streaming.capabilities.useMediaCapabilitiesApi&&m.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&(H=se(H,[{schemeIdUri:r.default.HDR_METADATA_FORMAT_SCHEME_ID_URI}]));try{return F.inArray(H)}catch{return!0}},supportsMediaSource:f},E=!1,y=[],A=(0,c.default)(w).getInstance().getLogger(g),g}h.__dashjs_factory_name="Capabilities",e.default=i.default.getSingletonFactory(h)},7377:function(n,e,t){t.r(e);var i=t(138),r=t(656);function o(){return{customTimeRangeArray:[],length:0,add:function(l,c){let f;for(f=0;f<this.customTimeRangeArray.length&&l>this.customTimeRangeArray[f].start;f++);for(this.customTimeRangeArray.splice(f,0,{start:l,end:c}),f=0;f<this.customTimeRangeArray.length-1;f++)this.mergeRanges(f,f+1)&&f--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(l,c){for(let f=0;f<this.customTimeRangeArray.length;f++)if(l<=this.customTimeRangeArray[f].start&&c>=this.customTimeRangeArray[f].end)this.customTimeRangeArray.splice(f,1),f--;else{if(l>this.customTimeRangeArray[f].start&&c<this.customTimeRangeArray[f].end){this.customTimeRangeArray.splice(f+1,0,{start:c,end:this.customTimeRangeArray[f].end}),this.customTimeRangeArray[f].end=l;break}l>this.customTimeRangeArray[f].start&&l<this.customTimeRangeArray[f].end?this.customTimeRangeArray[f].end=l:c>this.customTimeRangeArray[f].start&&c<this.customTimeRangeArray[f].end&&(this.customTimeRangeArray[f].start=c)}this.length=this.customTimeRangeArray.length},mergeRanges:function(l,c){let f=this.customTimeRangeArray[l],h=this.customTimeRangeArray[c];return f.start<=h.start&&h.start<=f.end&&f.end<=h.end?(f.end=h.end,this.customTimeRangeArray.splice(c,1),!0):h.start<=f.start&&f.start<=h.end&&h.end<=f.end?(f.start=h.start,this.customTimeRangeArray.splice(c,1),!0):h.start<=f.start&&f.start<=h.end&&f.end<=h.end?(this.customTimeRangeArray.splice(l,1),!0):f.start<=h.start&&h.start<=f.end&&h.end<=f.end&&(this.customTimeRangeArray.splice(c,1),!0)},start:function(l){return(0,r.checkInteger)(l),l>=this.customTimeRangeArray.length||l<0?NaN:this.customTimeRangeArray[l].start},end:function(l){return(0,r.checkInteger)(l),l>=this.customTimeRangeArray.length||l<0?NaN:this.customTimeRangeArray[l].end}}}o.__dashjs_factory_name="CustomTimeRanges",e.default=i.default.getClassFactory(o)},7393:function(n,e,t){t.r(e);var i=t(138),r=t(7316);function o(){let l;return l={areEqual:function(c,f){return r(c,f)}},l}o.__dashjs_factory_name="ObjectUtils",e.default=i.default.getSingletonFactory(o)},656:function(n,e,t){t.r(e),t.d(e,{checkInteger:function(){return o},checkIsVideoOrAudioType:function(){return c},checkParameterType:function(){return r},checkRange:function(){return l}});var i=t(5212);function r(f,h){if(typeof f!==h)throw i.default.BAD_ARGUMENT_ERROR}function o(f){if(f===null||isNaN(f)||f%1!=0)throw i.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function l(f,h,g){if(f<h||f>g)throw i.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function c(f){if(typeof f!="string"||f!==i.default.AUDIO&&f!==i.default.VIDEO)throw i.default.BAD_ARGUMENT_ERROR}},1944:function(n,e,t){t.r(e),e.default=class{constructor(i,r,o){this.code=i||null,this.message=r||null,this.data=o||null}}},5560:function(n,e,t){t.r(e);var i=t(8854);e.default=class{constructor(r){this.id=r.id,this.url=r.url,this.language=r.language,this.mimeType=r.mimeType,this.bandwidth=r.bandwidth,this.periodId=r.periodId||null}serializeToMpdParserFormat(){return{tagName:i.default.ADAPTATION_SET,mimeType:this.mimeType,lang:this.language,Representation:[{tagName:i.default.REPRESENTATION,id:this.id,bandwidth:this.bandwidth,BaseURL:[{tagName:i.default.BASE_URL,__text:this.url}],mimeType:this.mimeType}]}}}},7568:function(n,e,t){t.r(e),t.d(e,{HTTPRequest:function(){return i},HTTPRequestTrace:function(){return r}});class i{constructor(){this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null,this._resourceTimingValues=null}}class r{constructor(){this.s=null,this.d=null,this.b=[]}}i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",i.DVB_REPORTING_TYPE="DVBReporting",i.LICENSE="license",i.CONTENT_STEERING_TYPE="ContentSteering",i.OTHER_TYPE="other"}},oP={};function Nr(n){var e=oP[n];if(e!==void 0)return e.exports;var t=oP[n]={exports:{}};return Zae[n].call(t.exports,t,t.exports,Nr),t.exports}Nr.amdO={},Nr.d=function(n,e){for(var t in e)Nr.o(e,t)&&!Nr.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},Nr.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),Nr.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},Nr.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var Mo={};Nr.r(Mo),Nr.d(Mo,{Constants:function(){return r4.default},Debug:function(){return a4.default},ExternalSubtitle:function(){return o4.default},MediaPlayer:function(){return Jae.MediaPlayer},MediaPlayerFactory:function(){return i4},MetricsReporting:function(){return t4.default},Protection:function(){return n4.default},default:function(){return tre},supportsMediaSource:function(){return s4.supportsMediaSource}});var Jae=Nr(5393),t4=Nr(4469),n4=Nr(3888),ere=Nr(8200);let lP,wT=(function(){const n="application/dash+xml";let e;function t(r,o,l){if(!r||!/^VIDEO$/i.test(r.nodeName))return null;if(r._dashjs_player)return r._dashjs_player;let c,f=r.id||r.name||"video element";if(!(o=o||[].slice.call(r.querySelectorAll("source")).filter((function(h){return h.type==n}))[0])&&r.src)(o=document.createElement("source")).src=r.src;else if(!o&&!r.src)return null;return l=l||{},c=(0,ere.default)(l).create(),c.initialize(r,o.src,r.autoplay),e||(e=c.getDebug().getLogger()),e.debug("Converted "+f+" to dash.js player and added content: "+o.src),r._dashjs_player=c,c}function i(r){return/^VIDEO$/i.test(r.nodeName)?r:i(r.parentNode)}return{create:t,createAll:function(r,o){let l=[];r=r||"[data-dashjs-player]";let c=(o=o||document).querySelectorAll(r);for(let h=0;h<c.length;h++){let g=t(c[h],null);l.push(g)}let f=o.querySelectorAll('source[type="'+n+'"]');for(let h=0;h<f.length;h++){let g=t(i(f[h]),null);l.push(g)}return l}}})();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?wT.createAll():lP=window.setInterval((function(){window.dashjs&&(window.clearInterval(lP),wT.createAll())}),500):window.addEventListener("load",(function n(){window.removeEventListener("load",n),wT.createAll()})));var i4=wT,a4=Nr(649),r4=Nr(5212),s4=Nr(559),o4=Nr(5560);dashjs.Protection=n4.default,dashjs.MetricsReporting=t4.default,dashjs.MediaPlayerFactory=i4,dashjs.Debug=a4.default,dashjs.supportsMediaSource=s4.supportsMediaSource,dashjs.Constants=r4.default,dashjs.ExternalSubtitle=o4.default;var tre=dashjs,nre=(Mo=Mo.default).Constants,ire=Mo.Debug,are=Mo.ExternalSubtitle,rre=Mo.MediaPlayer,sre=Mo.MediaPlayerFactory,ore=Mo.MetricsReporting,lre=Mo.Protection,ure=Mo.default,cre=Mo.supportsMediaSource;const dre=Object.freeze(Object.defineProperty({__proto__:null,Constants:nre,Debug:ire,ExternalSubtitle:are,MediaPlayer:rre,MediaPlayerFactory:sre,MetricsReporting:ore,Protection:lre,default:ure,supportsMediaSource:cre},Symbol.toStringTag,{value:"Module"}));export{Jre as $,Dre as A,vre as B,ese as C,Nre as D,Zre as E,jre as F,Gre as G,Bre as H,Hre as I,Ure as J,Pre as K,xP as L,Lre as M,Ore as N,gre as O,tse as P,mre as Q,Gi as R,nse as S,ise as T,Fre as U,Qre as V,Yre as W,Wre as X,qre as Y,ase as Z,zD as _,bre as a,Vre as a0,zre as a1,Xre as a2,Kre as a3,$re as a4,Mre as a5,ok as b,_re as c,H1 as d,At as e,ol as f,yre as g,pre as h,o5 as i,fre as j,hre as k,l6 as l,Sre as m,H8 as n,kre as o,wre as p,Ire as q,Are as r,Tre as s,og as t,Rre as u,US as v,Qr as w,i9 as x,Dg as y,Cre as z};
